import{a as K}from"./chunk-S56P64VE.js";import{a as Q,b as W,d as Z,e as ee}from"./chunk-H7QUWUHI.js";import{a as ae}from"./chunk-JQMGPHBY.js";import{a as ne,b as oe}from"./chunk-4XAQKHBT.js";import{a as te,b as ie}from"./chunk-XGKWNVXQ.js";import"./chunk-V7Y3WCPR.js";import{a as X,b as Y}from"./chunk-ZBZZW7VB.js";import{e as A,f as G,h as J}from"./chunk-SVIQ355C.js";import"./chunk-T6OZZVFY.js";import{f as O,g as U}from"./chunk-FG3J44WC.js";import{t as z}from"./chunk-3X3NSYU4.js";import"./chunk-JHQN5X7A.js";import{$ as R,Ba as v,Ea as m,Ga as V,Gc as q,Ia as T,Ib as g,Ja as u,Ka as L,Kc as H,La as y,Ma as S,Na as b,Oa as o,Pa as a,Qa as C,T as w,Tc as F,Ua as B,Va as I,Wa as r,_ as E,ba as M,db as $,eb as _,fb as s,gb as P,ic as D,mb as N,qa as i,wb as p,xb as c,yb as k,za as j}from"./chunk-QT4DWHGN.js";import"./chunk-TWZW5B45.js";var le=(t,l)=>l.id;function de(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"a",10),C(6,"button",11),p(7,"iconSmClass"),a()()()),t&2){let e=r(),n=r();i(2),s(c(3,4,"data.category")),i(3),m("routerLink",n.dataRoute()+"categories/"+e.category),i(),m("label",l.name)("icon",k(7,6,e.category,"category"))}}function re(t,l){if(t&1&&(o(0,"div")(1,"a",10),C(2,"button",11),p(3,"iconSmClass"),a(),o(4,"span",12),_(5),a()()),t&2){let e=l.$implicit,n=r(2),d=r();i(),m("routerLink",d.dataRoute()+"items/"+e),i(),m("label",d.data().itemEntities[e].name)("icon",c(3,4,e)),i(3),s(n.in[e])}}function pe(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,re,6,6,"div",null,y),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.ingredients")),i(3),b(e.info().ingredientIds)}}function ce(t,l){if(t&1&&(o(0,"div")(1,"a",10),C(2,"button",11),p(3,"iconSmClass"),a(),o(4,"span",12),_(5),a()()),t&2){let e=l.$implicit,n=r(2),d=r();i(),m("routerLink",d.dataRoute()+"items/"+e),i(),m("label",d.data().itemEntities[e].name)("icon",c(3,4,e)),i(3),s(n.catalyst==null?null:n.catalyst[e])}}function me(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,ce,6,6,"div",null,y),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.catalysts")),i(3),b(e.info().catalystIds)}}function _e(t,l){if(t&1&&(o(0,"div")(1,"a",10),C(2,"button",11),p(3,"iconSmClass"),a(),o(4,"span",12),_(5),p(6,"round"),a()()),t&2){let e=l.$implicit,n=r(2),d=r();i(),m("routerLink",d.dataRoute()+"items/"+e),i(),m("label",d.data().itemEntities[e].name)("icon",c(3,4,e)),i(3),s(c(6,6,n.out[e]))}}function se(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,_e,7,8,"div",null,y),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.products")),i(3),b(e.info().productIds)}}function ue(t,l){if(t&1&&(o(0,"div")(1,"a",10),C(2,"button",11),p(3,"iconSmClass"),a()()),t&2){let e=l.$implicit,n=r(3);i(),m("routerLink",n.dataRoute()+"machines/"+e),i(),m("label",n.data().itemEntities[e].name)("icon",c(3,3,e))}}function Ce(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,ue,4,5,"div",null,y),a()()),t&2){let e=r();i(2),s(c(3,1,"data.producers")),i(3),b(e.producers)}}function xe(t,l){if(t&1&&(o(0,"div")(1,"a",10),C(2,"button",11),p(3,"iconSmClass"),a()()),t&2){let e=l.$implicit,n=r(3);i(),m("routerLink",n.dataRoute()+"locations/"+e),i(),m("label",n.data().locationEntities[e].name)("icon",k(3,3,e,"location"))}}function fe(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,xe,4,6,"div",null,y),a()()),t&2){let e=r();i(2),s(c(3,1,"data.locations")),i(3),b(e.locations)}}function ve(t,l){if(t&1&&(o(0,"div")(1,"a",10),C(2,"button",11),p(3,"iconSmClass"),a()()),t&2){let e=l.$implicit,n=r(3);i(),m("routerLink",n.dataRoute()+"technologies/"+e),i(),m("label",n.data().itemEntities[e].name)("icon",k(3,3,e,"item"))}}function he(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,ve,4,6,"div",null,y),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.unlockedBy")),i(3),b(e.unlockedBy())}}function Se(t,l){t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),C(5,"p-checkbox",13),a()()),t&2&&(i(2),s(c(3,4,"data.mining")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function be(t,l){t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),C(5,"p-checkbox",13),a()()),t&2&&(i(2),s(c(3,4,"data.technology")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function ye(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"a",10),C(6,"button",11),p(7,"iconSmClass"),a()()()),t&2){let e=r(),n=r();i(2),s(c(3,4,"data.rocketPart")),i(3),m("routerLink",n.dataRoute()+"items/"+e.part),i(),m("label",n.data().itemEntities[e.part].name)("icon",c(7,6,e.part))}}function ge(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),_(5),p(6,"usage"),a()()),t&2){let e=r();i(2),s(c(3,2,"data.energyConsumption")),i(3),s(c(6,4,e.usage))}}function Ee(t,l){if(t&1&&(o(0,"a",10),C(1,"button",11),p(2,"iconSmClass"),a()),t&2){let e=l,n=r(3);m("routerLink",n.dataRoute()+"machines/"+e),i(),m("label",n.data().itemEntities[e].name)("icon",c(2,3,e))}}function Re(t,l){if(t&1&&(C(0,"i"),p(1,"iconSmClass")),t&2){let e=r();T(c(1,2,e))}}function Ie(t,l){if(t&1&&(o(0,"a",10),C(1,"button",11),p(2,"iconSmClass"),a()),t&2){let e=r(),n=r(5);m("routerLink",n.dataRoute()+"modules/"+e),i(),m("label",n.data().itemEntities[e].name)("icon",c(2,3,e))}}function Be(t,l){t&1&&(o(0,"div"),v(1,Re,2,4,"i",15)(2,Ie,3,5,"a",10),a()),t&2&&(i(),u(l==="module"?1:2))}function ke(t,l){if(t&1&&v(0,Be,3,1,"div"),t&2){let e,n=l.$implicit;u((e=n.id)?0:-1,e)}}function Te(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,ke,1,1,null,null,le),a()()),t&2){let e=r();i(2),s(c(3,1,"data.modules")),i(3),b(e.modules)}}function Fe(t,l){if(t&1&&(o(0,"a",10),C(1,"button",11),p(2,"iconSmClass"),a()),t&2){let e=r().$implicit,n=r(4);m("routerLink",n.dataRoute()+"beacons/"+e.id),i(),m("label",n.data().itemEntities[e.id].name)("icon",c(2,3,e.id))}}function we(t,l){if(t&1&&(C(0,"i"),p(1,"iconSmClass")),t&2){let e=r();T(c(1,2,e))}}function Me(t,l){if(t&1&&(o(0,"a",10),C(1,"button",11),p(2,"iconSmClass"),a()),t&2){let e=r(),n=r(6);m("routerLink",n.dataRoute()+"/modules/"+e),i(),m("label",n.data().itemEntities[e].name)("icon",c(2,3,e))}}function je(t,l){t&1&&(o(0,"div"),v(1,we,2,4,"i",15)(2,Me,3,5,"a",10),a()),t&2&&(i(),u(l==="module"?1:2))}function Ve(t,l){if(t&1&&v(0,je,3,1,"div"),t&2){let e,n=l.$implicit;u((e=n.id)?0:-1,e)}}function Le(t,l){if(t&1&&(o(0,"div"),v(1,Fe,3,5,"a",10),o(2,"span",12),_(3),a()(),S(4,Ve,1,1,null,null,le)),t&2){let e=l.$implicit;i(),u(e.id?1:-1),i(2),s(e.count),i(),b(e.modules)}}function $e(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),S(5,Le,6,2,null,null,L),a()()),t&2){let e=r();i(2),s(c(3,1,"data.beacons")),i(3),b(e.beacons)}}function Pe(t,l){if(t&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),_(5),a()()),t&2){let e=r();i(2),s(c(3,2,"data.overclock")),i(3),P("",e.overclock,"%")}}function Ne(t,l){if(t&1){let e=B();o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"p-checkbox",14),I("onChange",function(d){E(e);let x=r(2);return R(x.changeExcluded(d.checked))}),a()()(),o(6,"tr")(7,"th"),_(8),p(9,"translate"),a(),o(10,"td")(11,"p-checkbox",14),I("onChange",function(d){E(e);let x=r(2);return R(x.changeChecked(d.checked))}),a()()(),o(12,"tr")(13,"th"),_(14),p(15,"translate"),a(),o(16,"td"),v(17,Ee,3,5,"a",10),a()(),v(18,Te,7,3,"tr")(19,$e,7,3,"tr")(20,Pe,6,4,"tr")}if(t&2){let e,n=l,d=r(2);i(2),s(c(3,11,"data.excluded")),i(3),m("ngModel",d.settings().excludedRecipeIds.has(d.id()))("binary",!0),i(3),s(c(9,13,"data.checked")),i(3),m("ngModel",d.settings().checkedRecipeIds.has(d.id()))("binary",!0),i(3),s(c(15,15,"data.machine")),i(3),u((e=n.machineId)?17:-1,e),i(),u(n.modules!=null&&n.modules.length?18:-1),i(),u(d.data().flags.has("beacons")?19:-1),i(),u(d.data().flags.has("overclock")?20:-1)}}function De(t,l){if(t&1){let e=B();o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"p-inputNumber",16,0),I("onBlur",function(){let d;E(e);let x=$(6),f=r(2);return R(f.recipesSvc.updateEntityField(f.id(),"productivity",f.rational((d=x.value)!==null&&d!==void 0?d:0),f.rational(0)))}),a()()()}if(t&2){let e,n=r(2);i(2),s(c(3,5,"data.productivity")),i(3),m("min",0)("step",10)("showButtons",!0)("ngModel",(e=(e=n.recipeSettings())==null||e.productivity==null?null:e.productivity.toNumber())!==null&&e!==void 0?e:0)}}function Oe(t,l){if(t&1){let e=B();o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"lab-input-number",17),I("setValue",function(d){E(e);let x=r(2);return R(x.recipesSvc.updateEntityField(x.id(),"cost",d))}),a()()()}t&2&&(i(2),s(c(3,2,"data.cost")),i(3),m("value",l))}function Ue(t,l){if(t&1){let e=B();o(0,"table",2)(1,"tr")(2,"th",4)(3,"h3"),_(4),a()()(),o(5,"tr")(6,"td",4),C(7,"i",5),p(8,"iconClass"),a()(),v(9,de,8,9,"tr"),o(10,"tr")(11,"th"),_(12),p(13,"translate"),a(),o(14,"td"),_(15),a()(),v(16,pe,7,3,"tr")(17,me,7,3,"tr")(18,se,7,3,"tr")(19,Ce,7,3,"tr")(20,fe,7,3,"tr")(21,he,7,3,"tr")(22,Se,6,6,"tr")(23,be,6,6,"tr")(24,ye,8,8,"tr")(25,ge,7,6,"tr"),o(26,"tr")(27,"th",6)(28,"div",7),C(29,"button",8),o(30,"h3"),_(31),p(32,"translate"),a(),o(33,"button",9),I("click",function(){E(e);let d=r();return R(d.recipesSvc.resetId(d.id()))}),a()()()(),v(34,Ne,21,17)(35,De,7,7,"tr")(36,Oe,6,4,"tr"),a()}if(t&2){let e,n,d,x,f=l,h=r();i(4),s(f.name),i(3),T(k(8,22,h.id(),"recipe")),i(2),u((e=h.info().category)?9:-1,e),i(3),s(c(13,25,"data.time")),i(3),s(f.time),i(),u(h.info().ingredientIds.length?16:-1),i(),u(h.info().catalystIds.length?17:-1),i(),u(h.info().productIds.length?18:-1),i(),u(f.flags.has("hideProducer")?-1:19),i(),u(f.locations?20:-1),i(),u(f.flags.has("locked")?21:-1),i(),u(f.flags.has("mining")?22:-1),i(),u(f.flags.has("technology")?23:-1),i(),u(f.part?24:-1),i(),u(f.usage?25:-1),i(6),s(c(32,27,"data.recipeSettings")),i(2),V("invisible",!h.recipesStateRaw()[h.id()]),i(),u((n=h.recipeSettings())?34:-1,n),i(),u(!((d=h.recipeR())==null||d.flags==null)&&d.flags.has("canProdUpgrade")?35:-1),i(),u((x=(x=h.recipeR())==null?null:x.cost)?36:-1,x)}}function qe(t,l){t&1&&(o(0,"div",3),_(1),p(2,"translate"),a()),t&2&&(i(),s(c(2,1,"data.notFound")))}var _t=(()=>{class t extends ae{constructor(){super(...arguments),this.recipesStateRaw=this.recipesSvc.state,this.recipesState=this.recipesSvc.settings,this.settings=this.settingsSvc.settings,this.rational=q,this.obj=g(()=>this.data().recipeEntities[this.id()]),this.breadcrumb=g(()=>[this.parent()??{},{label:this.obj()?.name}]),this.info=g(()=>{let e=this.id(),n=this.data(),d=n.recipeEntities[e];return{category:n.categoryEntities[H(d?.category,"")],ingredientIds:Object.keys(d?.in??{}),catalystIds:Object.keys(d?.catalyst??{}),productIds:Object.keys(d?.out??{})}}),this.recipeSettings=g(()=>this.recipesState()[this.id()]),this.recipeR=g(()=>this.data().adjustedRecipe[this.id()]),this.unlockedBy=g(()=>{let e=this.id(),n=this.data();return n.technologyIds.filter(d=>n.technologyEntities[d].unlockedRecipes?.includes(e))})}changeExcluded(e){let n=F(this.id(),e,this.settings().excludedRecipeIds);this.settingsSvc.updateField("excludedRecipeIds",n,this.settings().defaultExcludedRecipeIds)}changeChecked(e){let n=F(this.id(),e,this.settings().checkedRecipeIds);this.settingsSvc.apply({checkedRecipeIds:n})}static{this.\u0275fac=(()=>{let e;return function(d){return(e||(e=M(t)))(d||t)}})()}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],standalone:!0,features:[j,N],decls:3,vars:3,consts:[["prodInput",""],[3,"home","model"],[1,"properties","mb-4"],[1,"my-5","p-error"],["colspan","2",1,"text-center"],[1,"lg"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled"],[3,"onChange","ngModel","binary"],[3,"class"],["prefix","+","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","ngModel"],[3,"setValue","value"]],template:function(n,d){if(n&1&&(C(0,"p-breadcrumb",1),v(1,Ue,37,29,"table",2)(2,qe,3,3,"div",3)),n&2){let x;m("home",d.home())("model",d.breadcrumb()),i(),u((x=d.obj())?1:2,x)}},dependencies:[J,A,G,oe,ne,D,U,O,W,Q,ie,te,X,Y,K,Z,z,ee],encapsulation:2,changeDetection:0})}}return t})();export{_t as RecipeComponent};
