import{d as ee}from"./chunk-KA2JWVQL.js";import{$ as F,$c as H,Bb as O,Be as Y,Da as u,Ge as Z,Ha as r,Ia as n,Ja as g,La as B,Ma as D,Na as m,Nc as q,Sc as V,Tc as A,Ua as v,Va as x,Vd as J,Wd as K,X as R,_ as f,aa as I,ba as L,bb as N,ce as y,de as Q,ea as j,ed as z,ee as U,fa as k,fd as G,ge as W,hb as d,ib as h,ja as C,jb as S,ke as X,pa as l,rb as P,xa as c,xc as $,za as s,zd as E}from"./chunk-FOEO2CGG.js";var M=(()=>{let t=class t{constructor(){this.translateSvc=f(V),this.pTable=f(y,{self:!0})}ngOnInit(){this.pTable.styleClass="p-datatable-sm",this.pTable.rows=10,this.pTable.rowsPerPageOptions=[10,25,50,100,250],this.pTable.showCurrentPageReport=!0,this.pTable.currentPageReportTemplate=this.translateSvc.instant("data.currentPageReportTemplate")}};t.\u0275fac=function(a){return new(a||t)},t.\u0275dir=L({type:t,selectors:[["","labPagedTable",""]]});let e=t;return e})();var ne=()=>["category.id"];function oe(e,t){e&1&&(r(0,"th",5)(1,"span"),v(2),d(3,"translate"),n(),g(4,"p-sortIcon",6),n()),e&2&&(l(2),x(h(3,1,"data.category")))}function ae(e,t){if(e&1){let i=B();r(0,"p-multiSelect",10),d(1,"translate"),d(2,"translate"),D("onChange",function(a){let p=j(i).filterCallback;return k(p(a.value))}),n()}if(e&2){let i=t.$implicit,o=m(4);s("ngModel",i)("options",o.options().categories)("maxSelectedLabels",1)("selectedItemsLabel",h(1,5,"data.selectedLabel"))("placeholder",h(2,7,"data.any"))}}function le(e,t){e&1&&(r(0,"th")(1,"p-columnFilter",8),c(2,ae,3,9,"ng-template",9),n()())}function re(e,t){if(e&1&&(r(0,"tr")(1,"th"),g(2,"p-columnFilter",7),n(),c(3,le,3,0,"th"),n()),e&2){let i=m(2);l(3),u(i.type()!=="category"?3:-1)}}function pe(e,t){if(e&1&&(r(0,"tr")(1,"th",3)(2,"span"),v(3),d(4,"translate"),n(),g(5,"p-sortIcon",4),n(),c(6,oe,5,3,"th",5),n(),c(7,re,4,1,"tr")),e&2){let i=m();l(3),x(h(4,3,"data.name")),l(3),u(i.type()!=="category"?6:-1),l(),u(i.value().length>10?7:-1)}}function ce(e,t){if(e&1&&(r(0,"a",11),g(1,"button",12),d(2,"iconSmClass"),n()),e&2){let i=m(2).$implicit;s("routerLink","/data/categories/"+i.category.id),l(),s("label",i.category.name)("icon",S(2,3,i.category.id,"category"))}}function se(e,t){if(e&1&&(r(0,"td"),c(1,ce,3,6,"a",11),n()),e&2){let i=m().$implicit;l(),u(i.category?1:-1)}}function me(e,t){if(e&1&&(r(0,"tr")(1,"td")(2,"a",11),g(3,"button",12),d(4,"iconSmClass"),n()(),c(5,se,2,1,"td"),n()),e&2){let i=t.$implicit,o=m();l(2),s("routerLink",o.route()+i.id),l(),s("label",i.name)("icon",S(4,4,i.id,o.type())),l(2),u(o.type()!=="category"?5:-1)}}var de=(()=>{let t=class t{constructor(){this.store=f(q),this.ids=C.required(),this.type=C.required(),this.useRelativePath=C(!1),this.options=this.store.selectSignal(E.getOptions),this.data=this.store.selectSignal(E.getDataset),this.route=P(()=>{let o=this.type();if(this.useRelativePath())return"";switch(o){case"category":return"/data/categories/";case"item":return"/data/items/";case"recipe":return"/data/recipes/"}}),this.value=P(()=>{let o=this.ids(),a=this.type(),p=this.data(),_;switch(a){case"category":_=p.categoryEntities;break;case"item":_=p.itemEntities;break;case"recipe":_=p.recipeEntities}return o.filter(b=>_[b]).map(b=>{let T=_[b],w={id:T.id,name:T.name};return a!=="category"&&(w.category=p.categoryEntities[T.category]),w})})}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=F({type:t,selectors:[["lab-collection-table"]],inputs:{ids:[1,"ids"],type:[1,"type"],useRelativePath:[1,"useRelativePath"]},decls:3,vars:4,consts:[["labPagedTable","",3,"value","paginator","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","category.name"],["field","category.name"],["type","text","field","name","matchMode","contains"],["field","category.id","matchMode","in"],["pTemplate","filter"],["appendTo","body",3,"onChange","ngModel","options","maxSelectedLabels","selectedItemsLabel","placeholder"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-link",3,"label","icon"]],template:function(a,p){a&1&&(r(0,"p-table",0),c(1,pe,8,5,"ng-template",1)(2,me,6,7,"ng-template",2),n()),a&2&&s("value",p.value())("paginator",p.value().length>10)("globalFilterFields",N(3,ne))},dependencies:[z,G,H,$,K,Y,J,y,Q,U,W,M,A,X],styles:["th[_ngcontent-%COMP%]{width:50%}"],changeDetection:0});let e=t;return e})();var He=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=I({type:t}),t.\u0275inj=R({imports:[O,Z,ee]});let e=t;return e})();export{de as a,He as b};
