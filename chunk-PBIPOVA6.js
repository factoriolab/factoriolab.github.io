import{a as gi,b as vi,c as yi}from"./chunk-4JHZ4AP3.js";import{Ad as dt,Cd as nt,E as ni,G as _r,Hc as pn,I as ii,Jc as ne,Jd as mi,K as ln,Kc as _n,Kd as jt,Lb as Se,Ld as hi,Nb as cn,Nc as fe,Nd as hr,O as We,Oc as ui,Qc as ci,S as we,Uc as Me,Vc as dr,Xc as fi,_c as pi,bc as ai,c as nn,ca as oi,cd as _i,d as zt,dd as di,g as on,hd as Lt,ic as si,jc as fn,l as pr,m as ti,q as an,td as mr,v as ri,vd as dn,wc as li,x as sn,xa as un}from"./chunk-YDUZY7N5.js";import{a as Jn,b as ei,f as Bt,h as qf}from"./chunk-TWZW5B45.js";var Sa=Bt(()=>{"use strict"});var Aa=Bt(()=>{"use strict"});var Ta=Bt(()=>{"use strict"});var Oa=Bt((Kr,Vn)=>{"use strict";var Cn=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e){e=e||{};var e=typeof e<"u"?e:{},i,l;e.ready=new Promise(function(r,o){i=r,l=o});var c=Object.assign({},e),f=[],s="./this.program",m=(r,o)=>{throw o},_=typeof window=="object",g=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",k="";function B(r){return e.locateFile?e.locateFile(r,k):k+r}var F,H,Q,V;function W(r){if(r instanceof Hn)return;G("exiting due to exception: "+r)}if(A){var Z=Sa(),N=Aa();g?k=N.dirname(k)+"/":k=__dirname+"/",F=(r,o)=>(r=lr(r)?new URL(r):N.normalize(r),Z.readFileSync(r,o?void 0:"utf8")),Q=r=>{var o=F(r,!0);return o.buffer||(o=new Uint8Array(o)),o},H=(r,o,u)=>{r=lr(r)?new URL(r):N.normalize(r),Z.readFile(r,function(d,h){d?u(d):o(h.buffer)})},process.argv.length>1&&(s=process.argv[1].replace(/\\/g,"/")),f=process.argv.slice(2),process.on("uncaughtException",function(r){if(!(r instanceof Hn))throw r}),process.on("unhandledRejection",function(r){throw r}),m=(r,o)=>{if(ut())throw process.exitCode=r,o;W(o),process.exit(r)},e.inspect=function(){return"[Emscripten Module object]"}}else(_||g)&&(g?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),t&&(k=t),k.indexOf("blob:")!==0?k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):k="",F=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},g&&(Q=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),H=(r,o,u)=>{var d=new XMLHttpRequest;d.open("GET",r,!0),d.responseType="arraybuffer",d.onload=()=>{if(d.status==200||d.status==0&&d.response){o(d.response);return}u()},d.onerror=u,d.send(null)},V=r=>document.title=r);var K=e.print||console.log.bind(console),G=e.printErr||console.warn.bind(console);Object.assign(e,c),c=null,e.arguments&&(f=e.arguments),e.thisProgram&&(s=e.thisProgram),e.quit&&(m=e.quit);var ie;e.wasmBinary&&(ie=e.wasmBinary);var ue=e.noExitRuntime||!0;typeof WebAssembly!="object"&&qe("no native wasm support detected");var ce,_e=!1,de;function Re(r,o){r||qe(o)}var De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function v(r,o,u){for(var d=o+u,h=o;r[h]&&!(h>=d);)++h;if(h-o>16&&r.buffer&&De)return De.decode(r.subarray(o,h));for(var w="";o<h;){var E=r[o++];if(!(E&128)){w+=String.fromCharCode(E);continue}var I=r[o++]&63;if((E&224)==192){w+=String.fromCharCode((E&31)<<6|I);continue}var j=r[o++]&63;if((E&240)==224?E=(E&15)<<12|I<<6|j:E=(E&7)<<18|I<<12|j<<6|r[o++]&63,E<65536)w+=String.fromCharCode(E);else{var Y=E-65536;w+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}}return w}function O(r,o){return r?v(x,r,o):""}function T(r,o,u,d){if(!(d>0))return 0;for(var h=u,w=u+d-1,E=0;E<r.length;++E){var I=r.charCodeAt(E);if(I>=55296&&I<=57343){var j=r.charCodeAt(++E);I=65536+((I&1023)<<10)|j&1023}if(I<=127){if(u>=w)break;o[u++]=I}else if(I<=2047){if(u+1>=w)break;o[u++]=192|I>>6,o[u++]=128|I&63}else if(I<=65535){if(u+2>=w)break;o[u++]=224|I>>12,o[u++]=128|I>>6&63,o[u++]=128|I&63}else{if(u+3>=w)break;o[u++]=240|I>>18,o[u++]=128|I>>12&63,o[u++]=128|I>>6&63,o[u++]=128|I&63}}return o[u]=0,u-h}function L(r,o,u){return T(r,x,o,u)}function b(r){for(var o=0,u=0;u<r.length;++u){var d=r.charCodeAt(u);d<=127?o++:d<=2047?o+=2:d>=55296&&d<=57343?(o+=4,++u):o+=3}return o}var a,y,x,D,U,P,M,R,S;function z(r){a=r,e.HEAP8=y=new Int8Array(r),e.HEAP16=D=new Int16Array(r),e.HEAP32=P=new Int32Array(r),e.HEAPU8=x=new Uint8Array(r),e.HEAPU16=U=new Uint16Array(r),e.HEAPU32=M=new Uint32Array(r),e.HEAPF32=R=new Float32Array(r),e.HEAPF64=S=new Float64Array(r)}var $=e.INITIAL_MEMORY||16777216,q,C=[],ee=[],ye=[],he=!1;function ut(){return ue}function Ye(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Rt(e.preRun.shift());en(C)}function ct(){he=!0,!e.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,tt.init(),en(ee)}function ft(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Fa(e.postRun.shift());en(ye)}function Rt(r){C.unshift(r)}function pt(r){ee.unshift(r)}function Fa(r){ye.unshift(r)}var _t=0,Zr=null,Dt=null;function bd(r){return r}function Jr(r){_t++,e.monitorRunDependencies&&e.monitorRunDependencies(_t)}function sr(r){if(_t--,e.monitorRunDependencies&&e.monitorRunDependencies(_t),_t==0&&(Zr!==null&&(clearInterval(Zr),Zr=null),Dt)){var o=Dt;Dt=null,o()}}function qe(r){e.onAbort&&e.onAbort(r),r="Aborted("+r+")",G(r),_e=!0,de=1,r+=". Build with -sASSERTIONS for more info.";var o=new WebAssembly.RuntimeError(r);throw l(o),o}var Ba="data:application/octet-stream;base64,";function Un(r){return r.startsWith(Ba)}function lr(r){return r.startsWith("file://")}var Pe;Pe="glpk.all.wasm",Un(Pe)||(Pe=B(Pe));function $n(r){try{if(r==Pe&&ie)return new Uint8Array(ie);if(Q)return Q(r);throw"both async and sync fetching of the wasm failed"}catch(o){qe(o)}}function za(){if(!ie&&(_||g)){if(typeof fetch=="function"&&!lr(Pe))return fetch(Pe,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+Pe+"'";return r.arrayBuffer()}).catch(function(){return $n(Pe)});if(H)return new Promise(function(r,o){H(Pe,function(u){r(new Uint8Array(u))},o)})}return Promise.resolve().then(function(){return $n(Pe)})}function La(){var r={a:vs};function o(E,I){var j=E.exports;e.asm=j,ce=e.asm.D,z(ce.buffer),q=e.asm.N,pt(e.asm.E),sr("wasm-instantiate")}Jr("wasm-instantiate");function u(E){o(E.instance)}function d(E){return za().then(function(I){return WebAssembly.instantiate(I,r)}).then(function(I){return I}).then(E,function(I){G("failed to asynchronously prepare wasm: "+I),qe(I)})}function h(){return!ie&&typeof WebAssembly.instantiateStreaming=="function"&&!Un(Pe)&&!lr(Pe)&&!A&&typeof fetch=="function"?fetch(Pe,{credentials:"same-origin"}).then(function(E){var I=WebAssembly.instantiateStreaming(E,r);return I.then(u,function(j){return G("wasm streaming compile failed: "+j),G("falling back to ArrayBuffer instantiation"),d(u)})}):d(u)}if(e.instantiateWasm)try{var w=e.instantiateWasm(r,o);return w}catch(E){G("Module.instantiateWasm callback failed with error: "+E),l(E)}return h().catch(l),{}}var te,ge;function Hn(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}function en(r){for(;r.length>0;)r.shift()(e)}function ja(r,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":return y[r>>0];case"i8":return y[r>>0];case"i16":return D[r>>1];case"i32":return P[r>>2];case"i64":return P[r>>2];case"float":return R[r>>2];case"double":return S[r>>3];case"*":return M[r>>2];default:qe("invalid type for getValue: "+o)}return null}function Ca(r,o,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":y[r>>0]=o;break;case"i8":y[r>>0]=o;break;case"i16":D[r>>1]=o;break;case"i32":P[r>>2]=o;break;case"i64":ge=[o>>>0,(te=o,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[r>>2]=ge[0],P[r+4>>2]=ge[1];break;case"float":R[r>>2]=o;break;case"double":S[r>>3]=o;break;case"*":M[r>>2]=o;break;default:qe("invalid type for setValue: "+u)}}function Va(r,o,u,d){qe("Assertion failed: "+O(r)+", at: "+[o?O(o):"unknown filename",u,d?O(d):"unknown function"])}function Ua(r){return P[Qn()>>2]=r,r}var le={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return o.exec(r).slice(1)},normalizeArray:(r,o)=>{for(var u=0,d=r.length-1;d>=0;d--){var h=r[d];h==="."?r.splice(d,1):h===".."?(r.splice(d,1),u++):u&&(r.splice(d,1),u--)}if(o)for(;u;u--)r.unshift("..");return r},normalize:r=>{var o=le.isAbs(r),u=r.substr(-1)==="/";return r=le.normalizeArray(r.split("/").filter(d=>!!d),!o).join("/"),!r&&!o&&(r="."),r&&u&&(r+="/"),(o?"/":"")+r},dirname:r=>{var o=le.splitPath(r),u=o[0],d=o[1];return!u&&!d?".":(d&&(d=d.substr(0,d.length-1)),u+d)},basename:r=>{if(r==="/")return"/";r=le.normalize(r),r=r.replace(/\/$/,"");var o=r.lastIndexOf("/");return o===-1?r:r.substr(o+1)},join:function(){var r=Array.prototype.slice.call(arguments);return le.normalize(r.join("/"))},join2:(r,o)=>le.normalize(r+"/"+o)};function $a(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return()=>(crypto.getRandomValues(r),r[0])}else if(A)try{var o=Ta();return()=>o.randomBytes(1)[0]}catch{}return()=>qe("randomDevice")}var Ke={resolve:function(){for(var r="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var d=u>=0?arguments[u]:p.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";r=d+"/"+r,o=le.isAbs(d)}return r=le.normalizeArray(r.split("/").filter(h=>!!h),!o).join("/"),(o?"/":"")+r||"."},relative:(r,o)=>{r=Ke.resolve(r).substr(1),o=Ke.resolve(o).substr(1);function u(Y){for(var oe=0;oe<Y.length&&Y[oe]==="";oe++);for(var se=Y.length-1;se>=0&&Y[se]==="";se--);return oe>se?[]:Y.slice(oe,se-oe+1)}for(var d=u(r.split("/")),h=u(o.split("/")),w=Math.min(d.length,h.length),E=w,I=0;I<w;I++)if(d[I]!==h[I]){E=I;break}for(var j=[],I=E;I<d.length;I++)j.push("..");return j=j.concat(h.slice(E)),j.join("/")}};function tn(r,o,u){var d=u>0?u:b(r)+1,h=new Array(d),w=T(r,h,0,h.length);return o&&(h.length=w),h}var tt={ttys:[],init:function(){},shutdown:function(){},register:function(r,o){tt.ttys[r]={input:[],output:[],ops:o},p.registerDevice(r,tt.stream_ops)},stream_ops:{open:function(r){var o=tt.ttys[r.node.rdev];if(!o)throw new p.ErrnoError(43);r.tty=o,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,o,u,d,h){if(!r.tty||!r.tty.ops.get_char)throw new p.ErrnoError(60);for(var w=0,E=0;E<d;E++){var I;try{I=r.tty.ops.get_char(r.tty)}catch{throw new p.ErrnoError(29)}if(I===void 0&&w===0)throw new p.ErrnoError(6);if(I==null)break;w++,o[u+E]=I}return w&&(r.node.timestamp=Date.now()),w},write:function(r,o,u,d,h){if(!r.tty||!r.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var w=0;w<d;w++)r.tty.ops.put_char(r.tty,o[u+w])}catch{throw new p.ErrnoError(29)}return d&&(r.node.timestamp=Date.now()),w}},default_tty_ops:{get_char:function(r){if(!r.input.length){var o=null;if(A){var u=256,d=Buffer.alloc(u),h=0;try{h=Z.readSync(process.stdin.fd,d,0,u,-1)}catch(w){if(w.toString().includes("EOF"))h=0;else throw w}h>0?o=d.slice(0,h).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;r.input=tn(o,!0)}return r.input.shift()},put_char:function(r,o){o===null||o===10?(K(v(r.output,0)),r.output=[]):o!=0&&r.output.push(o)},fsync:function(r){r.output&&r.output.length>0&&(K(v(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,o){o===null||o===10?(G(v(r.output,0)),r.output=[]):o!=0&&r.output.push(o)},fsync:function(r){r.output&&r.output.length>0&&(G(v(r.output,0)),r.output=[])}}};function qn(r){qe()}var re={ops_table:null,mount:function(r){return re.createNode(null,"/",16895,0)},createNode:function(r,o,u,d){if(p.isBlkdev(u)||p.isFIFO(u))throw new p.ErrnoError(63);re.ops_table||(re.ops_table={dir:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr,lookup:re.node_ops.lookup,mknod:re.node_ops.mknod,rename:re.node_ops.rename,unlink:re.node_ops.unlink,rmdir:re.node_ops.rmdir,readdir:re.node_ops.readdir,symlink:re.node_ops.symlink},stream:{llseek:re.stream_ops.llseek}},file:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr},stream:{llseek:re.stream_ops.llseek,read:re.stream_ops.read,write:re.stream_ops.write,allocate:re.stream_ops.allocate,mmap:re.stream_ops.mmap,msync:re.stream_ops.msync}},link:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr,readlink:re.node_ops.readlink},stream:{}},chrdev:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr},stream:p.chrdev_stream_ops}});var h=p.createNode(r,o,u,d);return p.isDir(h.mode)?(h.node_ops=re.ops_table.dir.node,h.stream_ops=re.ops_table.dir.stream,h.contents={}):p.isFile(h.mode)?(h.node_ops=re.ops_table.file.node,h.stream_ops=re.ops_table.file.stream,h.usedBytes=0,h.contents=null):p.isLink(h.mode)?(h.node_ops=re.ops_table.link.node,h.stream_ops=re.ops_table.link.stream):p.isChrdev(h.mode)&&(h.node_ops=re.ops_table.chrdev.node,h.stream_ops=re.ops_table.chrdev.stream),h.timestamp=Date.now(),r&&(r.contents[o]=h,r.timestamp=h.timestamp),h},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,o){var u=r.contents?r.contents.length:0;if(!(u>=o)){var d=1024*1024;o=Math.max(o,u*(u<d?2:1.125)>>>0),u!=0&&(o=Math.max(o,256));var h=r.contents;r.contents=new Uint8Array(o),r.usedBytes>0&&r.contents.set(h.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,o){if(r.usedBytes!=o)if(o==0)r.contents=null,r.usedBytes=0;else{var u=r.contents;r.contents=new Uint8Array(o),u&&r.contents.set(u.subarray(0,Math.min(o,r.usedBytes))),r.usedBytes=o}},node_ops:{getattr:function(r){var o={};return o.dev=p.isChrdev(r.mode)?r.id:1,o.ino=r.id,o.mode=r.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=r.rdev,p.isDir(r.mode)?o.size=4096:p.isFile(r.mode)?o.size=r.usedBytes:p.isLink(r.mode)?o.size=r.link.length:o.size=0,o.atime=new Date(r.timestamp),o.mtime=new Date(r.timestamp),o.ctime=new Date(r.timestamp),o.blksize=4096,o.blocks=Math.ceil(o.size/o.blksize),o},setattr:function(r,o){o.mode!==void 0&&(r.mode=o.mode),o.timestamp!==void 0&&(r.timestamp=o.timestamp),o.size!==void 0&&re.resizeFileStorage(r,o.size)},lookup:function(r,o){throw p.genericErrors[44]},mknod:function(r,o,u,d){return re.createNode(r,o,u,d)},rename:function(r,o,u){if(p.isDir(r.mode)){var d;try{d=p.lookupNode(o,u)}catch{}if(d)for(var h in d.contents)throw new p.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=u,o.contents[u]=r,o.timestamp=r.parent.timestamp,r.parent=o},unlink:function(r,o){delete r.contents[o],r.timestamp=Date.now()},rmdir:function(r,o){var u=p.lookupNode(r,o);for(var d in u.contents)throw new p.ErrnoError(55);delete r.contents[o],r.timestamp=Date.now()},readdir:function(r){var o=[".",".."];for(var u in r.contents)r.contents.hasOwnProperty(u)&&o.push(u);return o},symlink:function(r,o,u){var d=re.createNode(r,o,41471,0);return d.link=u,d},readlink:function(r){if(!p.isLink(r.mode))throw new p.ErrnoError(28);return r.link}},stream_ops:{read:function(r,o,u,d,h){var w=r.node.contents;if(h>=r.node.usedBytes)return 0;var E=Math.min(r.node.usedBytes-h,d);if(E>8&&w.subarray)o.set(w.subarray(h,h+E),u);else for(var I=0;I<E;I++)o[u+I]=w[h+I];return E},write:function(r,o,u,d,h,w){if(o.buffer===y.buffer&&(w=!1),!d)return 0;var E=r.node;if(E.timestamp=Date.now(),o.subarray&&(!E.contents||E.contents.subarray)){if(w)return E.contents=o.subarray(u,u+d),E.usedBytes=d,d;if(E.usedBytes===0&&h===0)return E.contents=o.slice(u,u+d),E.usedBytes=d,d;if(h+d<=E.usedBytes)return E.contents.set(o.subarray(u,u+d),h),d}if(re.expandFileStorage(E,h+d),E.contents.subarray&&o.subarray)E.contents.set(o.subarray(u,u+d),h);else for(var I=0;I<d;I++)E.contents[h+I]=o[u+I];return E.usedBytes=Math.max(E.usedBytes,h+d),d},llseek:function(r,o,u){var d=o;if(u===1?d+=r.position:u===2&&p.isFile(r.node.mode)&&(d+=r.node.usedBytes),d<0)throw new p.ErrnoError(28);return d},allocate:function(r,o,u){re.expandFileStorage(r.node,o+u),r.node.usedBytes=Math.max(r.node.usedBytes,o+u)},mmap:function(r,o,u,d,h){if(!p.isFile(r.node.mode))throw new p.ErrnoError(43);var w,E,I=r.node.contents;if(!(h&2)&&I.buffer===a)E=!1,w=I.byteOffset;else{if((u>0||u+o<I.length)&&(I.subarray?I=I.subarray(u,u+o):I=Array.prototype.slice.call(I,u,u+o)),E=!0,w=qn(o),!w)throw new p.ErrnoError(48);y.set(I,w)}return{ptr:w,allocated:E}},msync:function(r,o,u,d,h){return re.stream_ops.write(r,o,0,d,u,!1),0}}};function Ha(r,o,u,d){var h=d?"":"al "+r;H(r,w=>{Re(w,'Loading data file "'+r+'" failed (no arrayBuffer).'),o(new Uint8Array(w)),h&&sr(h)},w=>{if(u)u();else throw'Loading data file "'+r+'" failed.'}),h&&Jr(h)}var p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,o={})=>{if(r=Ke.resolve(r),!r)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(o=Object.assign(u,o),o.recurse_count>8)throw new p.ErrnoError(32);for(var d=r.split("/").filter(se=>!!se),h=p.root,w="/",E=0;E<d.length;E++){var I=E===d.length-1;if(I&&o.parent)break;if(h=p.lookupNode(h,d[E]),w=le.join2(w,d[E]),p.isMountpoint(h)&&(!I||I&&o.follow_mount)&&(h=h.mounted.root),!I||o.follow)for(var j=0;p.isLink(h.mode);){var Y=p.readlink(w);w=Ke.resolve(le.dirname(w),Y);var oe=p.lookupPath(w,{recurse_count:o.recurse_count+1});if(h=oe.node,j++>40)throw new p.ErrnoError(32)}}return{path:w,node:h}},getPath:r=>{for(var o;;){if(p.isRoot(r)){var u=r.mount.mountpoint;return o?u[u.length-1]!=="/"?u+"/"+o:u+o:u}o=o?r.name+"/"+o:r.name,r=r.parent}},hashName:(r,o)=>{for(var u=0,d=0;d<o.length;d++)u=(u<<5)-u+o.charCodeAt(d)|0;return(r+u>>>0)%p.nameTable.length},hashAddNode:r=>{var o=p.hashName(r.parent.id,r.name);r.name_next=p.nameTable[o],p.nameTable[o]=r},hashRemoveNode:r=>{var o=p.hashName(r.parent.id,r.name);if(p.nameTable[o]===r)p.nameTable[o]=r.name_next;else for(var u=p.nameTable[o];u;){if(u.name_next===r){u.name_next=r.name_next;break}u=u.name_next}},lookupNode:(r,o)=>{var u=p.mayLookup(r);if(u)throw new p.ErrnoError(u,r);for(var d=p.hashName(r.id,o),h=p.nameTable[d];h;h=h.name_next){var w=h.name;if(h.parent.id===r.id&&w===o)return h}return p.lookup(r,o)},createNode:(r,o,u,d)=>{var h=new p.FSNode(r,o,u,d);return p.hashAddNode(h),h},destroyNode:r=>{p.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var o=p.flagModes[r];if(typeof o>"u")throw new Error("Unknown file open mode: "+r);return o},flagsToPermissionString:r=>{var o=["r","w","rw"][r&3];return r&512&&(o+="w"),o},nodePermissions:(r,o)=>p.ignorePermissions?0:o.includes("r")&&!(r.mode&292)||o.includes("w")&&!(r.mode&146)||o.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var o=p.nodePermissions(r,"x");return o||(r.node_ops.lookup?0:2)},mayCreate:(r,o)=>{try{var u=p.lookupNode(r,o);return 20}catch{}return p.nodePermissions(r,"wx")},mayDelete:(r,o,u)=>{var d;try{d=p.lookupNode(r,o)}catch(w){return w.errno}var h=p.nodePermissions(r,"wx");if(h)return h;if(u){if(!p.isDir(d.mode))return 54;if(p.isRoot(d)||p.getPath(d)===p.cwd())return 10}else if(p.isDir(d.mode))return 31;return 0},mayOpen:(r,o)=>r?p.isLink(r.mode)?32:p.isDir(r.mode)&&(p.flagsToPermissionString(o)!=="r"||o&512)?31:p.nodePermissions(r,p.flagsToPermissionString(o)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,o=p.MAX_OPEN_FDS)=>{for(var u=r;u<=o;u++)if(!p.streams[u])return u;throw new p.ErrnoError(33)},getStream:r=>p.streams[r],createStream:(r,o,u)=>{p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={},Object.defineProperties(p.FSStream.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(h){this.shared.flags=h}},position:{get:function(){return this.shared.position},set:function(h){this.shared.position=h}}})),r=Object.assign(new p.FSStream,r);var d=p.nextfd(o,u);return r.fd=d,p.streams[d]=r,r},closeStream:r=>{p.streams[r]=null},chrdev_stream_ops:{open:r=>{var o=p.getDevice(r.node.rdev);r.stream_ops=o.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new p.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,o)=>r<<8|o,registerDevice:(r,o)=>{p.devices[r]={stream_ops:o}},getDevice:r=>p.devices[r],getMounts:r=>{for(var o=[],u=[r];u.length;){var d=u.pop();o.push(d),u.push.apply(u,d.mounts)}return o},syncfs:(r,o)=>{typeof r=="function"&&(o=r,r=!1),p.syncFSRequests++,p.syncFSRequests>1&&G("warning: "+p.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=p.getMounts(p.root.mount),d=0;function h(E){return p.syncFSRequests--,o(E)}function w(E){if(E)return w.errored?void 0:(w.errored=!0,h(E));++d>=u.length&&h(null)}u.forEach(E=>{if(!E.type.syncfs)return w(null);E.type.syncfs(E,r,w)})},mount:(r,o,u)=>{var d=u==="/",h=!u,w;if(d&&p.root)throw new p.ErrnoError(10);if(!d&&!h){var E=p.lookupPath(u,{follow_mount:!1});if(u=E.path,w=E.node,p.isMountpoint(w))throw new p.ErrnoError(10);if(!p.isDir(w.mode))throw new p.ErrnoError(54)}var I={type:r,opts:o,mountpoint:u,mounts:[]},j=r.mount(I);return j.mount=I,I.root=j,d?p.root=j:w&&(w.mounted=I,w.mount&&w.mount.mounts.push(I)),j},unmount:r=>{var o=p.lookupPath(r,{follow_mount:!1});if(!p.isMountpoint(o.node))throw new p.ErrnoError(28);var u=o.node,d=u.mounted,h=p.getMounts(d);Object.keys(p.nameTable).forEach(E=>{for(var I=p.nameTable[E];I;){var j=I.name_next;h.includes(I.mount)&&p.destroyNode(I),I=j}}),u.mounted=null;var w=u.mount.mounts.indexOf(d);u.mount.mounts.splice(w,1)},lookup:(r,o)=>r.node_ops.lookup(r,o),mknod:(r,o,u)=>{var d=p.lookupPath(r,{parent:!0}),h=d.node,w=le.basename(r);if(!w||w==="."||w==="..")throw new p.ErrnoError(28);var E=p.mayCreate(h,w);if(E)throw new p.ErrnoError(E);if(!h.node_ops.mknod)throw new p.ErrnoError(63);return h.node_ops.mknod(h,w,o,u)},create:(r,o)=>(o=o!==void 0?o:438,o&=4095,o|=32768,p.mknod(r,o,0)),mkdir:(r,o)=>(o=o!==void 0?o:511,o&=1023,o|=16384,p.mknod(r,o,0)),mkdirTree:(r,o)=>{for(var u=r.split("/"),d="",h=0;h<u.length;++h)if(u[h]){d+="/"+u[h];try{p.mkdir(d,o)}catch(w){if(w.errno!=20)throw w}}},mkdev:(r,o,u)=>(typeof u>"u"&&(u=o,o=438),o|=8192,p.mknod(r,o,u)),symlink:(r,o)=>{if(!Ke.resolve(r))throw new p.ErrnoError(44);var u=p.lookupPath(o,{parent:!0}),d=u.node;if(!d)throw new p.ErrnoError(44);var h=le.basename(o),w=p.mayCreate(d,h);if(w)throw new p.ErrnoError(w);if(!d.node_ops.symlink)throw new p.ErrnoError(63);return d.node_ops.symlink(d,h,r)},rename:(r,o)=>{var u=le.dirname(r),d=le.dirname(o),h=le.basename(r),w=le.basename(o),E,I,j;if(E=p.lookupPath(r,{parent:!0}),I=E.node,E=p.lookupPath(o,{parent:!0}),j=E.node,!I||!j)throw new p.ErrnoError(44);if(I.mount!==j.mount)throw new p.ErrnoError(75);var Y=p.lookupNode(I,h),oe=Ke.relative(r,d);if(oe.charAt(0)!==".")throw new p.ErrnoError(28);if(oe=Ke.relative(o,u),oe.charAt(0)!==".")throw new p.ErrnoError(55);var se;try{se=p.lookupNode(j,w)}catch{}if(Y!==se){var J=p.isDir(Y.mode),X=p.mayDelete(I,h,J);if(X)throw new p.ErrnoError(X);if(X=se?p.mayDelete(j,w,J):p.mayCreate(j,w),X)throw new p.ErrnoError(X);if(!I.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(Y)||se&&p.isMountpoint(se))throw new p.ErrnoError(10);if(j!==I&&(X=p.nodePermissions(I,"w"),X))throw new p.ErrnoError(X);p.hashRemoveNode(Y);try{I.node_ops.rename(Y,j,w)}catch(ae){throw ae}finally{p.hashAddNode(Y)}}},rmdir:r=>{var o=p.lookupPath(r,{parent:!0}),u=o.node,d=le.basename(r),h=p.lookupNode(u,d),w=p.mayDelete(u,d,!0);if(w)throw new p.ErrnoError(w);if(!u.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(h))throw new p.ErrnoError(10);u.node_ops.rmdir(u,d),p.destroyNode(h)},readdir:r=>{var o=p.lookupPath(r,{follow:!0}),u=o.node;if(!u.node_ops.readdir)throw new p.ErrnoError(54);return u.node_ops.readdir(u)},unlink:r=>{var o=p.lookupPath(r,{parent:!0}),u=o.node;if(!u)throw new p.ErrnoError(44);var d=le.basename(r),h=p.lookupNode(u,d),w=p.mayDelete(u,d,!1);if(w)throw new p.ErrnoError(w);if(!u.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(h))throw new p.ErrnoError(10);u.node_ops.unlink(u,d),p.destroyNode(h)},readlink:r=>{var o=p.lookupPath(r),u=o.node;if(!u)throw new p.ErrnoError(44);if(!u.node_ops.readlink)throw new p.ErrnoError(28);return Ke.resolve(p.getPath(u.parent),u.node_ops.readlink(u))},stat:(r,o)=>{var u=p.lookupPath(r,{follow:!o}),d=u.node;if(!d)throw new p.ErrnoError(44);if(!d.node_ops.getattr)throw new p.ErrnoError(63);return d.node_ops.getattr(d)},lstat:r=>p.stat(r,!0),chmod:(r,o,u)=>{var d;if(typeof r=="string"){var h=p.lookupPath(r,{follow:!u});d=h.node}else d=r;if(!d.node_ops.setattr)throw new p.ErrnoError(63);d.node_ops.setattr(d,{mode:o&4095|d.mode&-4096,timestamp:Date.now()})},lchmod:(r,o)=>{p.chmod(r,o,!0)},fchmod:(r,o)=>{var u=p.getStream(r);if(!u)throw new p.ErrnoError(8);p.chmod(u.node,o)},chown:(r,o,u,d)=>{var h;if(typeof r=="string"){var w=p.lookupPath(r,{follow:!d});h=w.node}else h=r;if(!h.node_ops.setattr)throw new p.ErrnoError(63);h.node_ops.setattr(h,{timestamp:Date.now()})},lchown:(r,o,u)=>{p.chown(r,o,u,!0)},fchown:(r,o,u)=>{var d=p.getStream(r);if(!d)throw new p.ErrnoError(8);p.chown(d.node,o,u)},truncate:(r,o)=>{if(o<0)throw new p.ErrnoError(28);var u;if(typeof r=="string"){var d=p.lookupPath(r,{follow:!0});u=d.node}else u=r;if(!u.node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(u.mode))throw new p.ErrnoError(31);if(!p.isFile(u.mode))throw new p.ErrnoError(28);var h=p.nodePermissions(u,"w");if(h)throw new p.ErrnoError(h);u.node_ops.setattr(u,{size:o,timestamp:Date.now()})},ftruncate:(r,o)=>{var u=p.getStream(r);if(!u)throw new p.ErrnoError(8);if(!(u.flags&2097155))throw new p.ErrnoError(28);p.truncate(u.node,o)},utime:(r,o,u)=>{var d=p.lookupPath(r,{follow:!0}),h=d.node;h.node_ops.setattr(h,{timestamp:Math.max(o,u)})},open:(r,o,u)=>{if(r==="")throw new p.ErrnoError(44);o=typeof o=="string"?p.modeStringToFlags(o):o,u=typeof u>"u"?438:u,o&64?u=u&4095|32768:u=0;var d;if(typeof r=="object")d=r;else{r=le.normalize(r);try{var h=p.lookupPath(r,{follow:!(o&131072)});d=h.node}catch{}}var w=!1;if(o&64)if(d){if(o&128)throw new p.ErrnoError(20)}else d=p.mknod(r,u,0),w=!0;if(!d)throw new p.ErrnoError(44);if(p.isChrdev(d.mode)&&(o&=-513),o&65536&&!p.isDir(d.mode))throw new p.ErrnoError(54);if(!w){var E=p.mayOpen(d,o);if(E)throw new p.ErrnoError(E)}o&512&&!w&&p.truncate(d,0),o&=-131713;var I=p.createStream({node:d,path:p.getPath(d),flags:o,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1});return I.stream_ops.open&&I.stream_ops.open(I),e.logReadFiles&&!(o&1)&&(p.readFiles||(p.readFiles={}),r in p.readFiles||(p.readFiles[r]=1)),I},close:r=>{if(p.isClosed(r))throw new p.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(o){throw o}finally{p.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,o,u)=>{if(p.isClosed(r))throw new p.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new p.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new p.ErrnoError(28);return r.position=r.stream_ops.llseek(r,o,u),r.ungotten=[],r.position},read:(r,o,u,d,h)=>{if(d<0||h<0)throw new p.ErrnoError(28);if(p.isClosed(r))throw new p.ErrnoError(8);if((r.flags&2097155)===1)throw new p.ErrnoError(8);if(p.isDir(r.node.mode))throw new p.ErrnoError(31);if(!r.stream_ops.read)throw new p.ErrnoError(28);var w=typeof h<"u";if(!w)h=r.position;else if(!r.seekable)throw new p.ErrnoError(70);var E=r.stream_ops.read(r,o,u,d,h);return w||(r.position+=E),E},write:(r,o,u,d,h,w)=>{if(d<0||h<0)throw new p.ErrnoError(28);if(p.isClosed(r))throw new p.ErrnoError(8);if(!(r.flags&2097155))throw new p.ErrnoError(8);if(p.isDir(r.node.mode))throw new p.ErrnoError(31);if(!r.stream_ops.write)throw new p.ErrnoError(28);r.seekable&&r.flags&1024&&p.llseek(r,0,2);var E=typeof h<"u";if(!E)h=r.position;else if(!r.seekable)throw new p.ErrnoError(70);var I=r.stream_ops.write(r,o,u,d,h,w);return E||(r.position+=I),I},allocate:(r,o,u)=>{if(p.isClosed(r))throw new p.ErrnoError(8);if(o<0||u<=0)throw new p.ErrnoError(28);if(!(r.flags&2097155))throw new p.ErrnoError(8);if(!p.isFile(r.node.mode)&&!p.isDir(r.node.mode))throw new p.ErrnoError(43);if(!r.stream_ops.allocate)throw new p.ErrnoError(138);r.stream_ops.allocate(r,o,u)},mmap:(r,o,u,d,h)=>{if(d&2&&!(h&2)&&(r.flags&2097155)!==2)throw new p.ErrnoError(2);if((r.flags&2097155)===1)throw new p.ErrnoError(2);if(!r.stream_ops.mmap)throw new p.ErrnoError(43);return r.stream_ops.mmap(r,o,u,d,h)},msync:(r,o,u,d,h)=>r.stream_ops.msync?r.stream_ops.msync(r,o,u,d,h):0,munmap:r=>0,ioctl:(r,o,u)=>{if(!r.stream_ops.ioctl)throw new p.ErrnoError(59);return r.stream_ops.ioctl(r,o,u)},readFile:(r,o={})=>{if(o.flags=o.flags||0,o.encoding=o.encoding||"binary",o.encoding!=="utf8"&&o.encoding!=="binary")throw new Error('Invalid encoding type "'+o.encoding+'"');var u,d=p.open(r,o.flags),h=p.stat(r),w=h.size,E=new Uint8Array(w);return p.read(d,E,0,w,0),o.encoding==="utf8"?u=v(E,0):o.encoding==="binary"&&(u=E),p.close(d),u},writeFile:(r,o,u={})=>{u.flags=u.flags||577;var d=p.open(r,u.flags,u.mode);if(typeof o=="string"){var h=new Uint8Array(b(o)+1),w=T(o,h,0,h.length);p.write(d,h,0,w,void 0,u.canOwn)}else if(ArrayBuffer.isView(o))p.write(d,o,0,o.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");p.close(d)},cwd:()=>p.currentPath,chdir:r=>{var o=p.lookupPath(r,{follow:!0});if(o.node===null)throw new p.ErrnoError(44);if(!p.isDir(o.node.mode))throw new p.ErrnoError(54);var u=p.nodePermissions(o.node,"x");if(u)throw new p.ErrnoError(u);p.currentPath=o.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(o,u,d,h,w)=>h}),p.mkdev("/dev/null",p.makedev(1,3)),tt.register(p.makedev(5,0),tt.default_tty_ops),tt.register(p.makedev(6,0),tt.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var r=$a();p.createDevice("/dev","random",r),p.createDevice("/dev","urandom",r),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var r=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var o=p.createNode(r,"fd",16895,73);return o.node_ops={lookup:(u,d)=>{var h=+d,w=p.getStream(h);if(!w)throw new p.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>w.path}};return E.parent=E,E}},o}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?p.createDevice("/dev","stdin",e.stdin):p.symlink("/dev/tty","/dev/stdin"),e.stdout?p.createDevice("/dev","stdout",null,e.stdout):p.symlink("/dev/tty","/dev/stdout"),e.stderr?p.createDevice("/dev","stderr",null,e.stderr):p.symlink("/dev/tty1","/dev/stderr");var r=p.open("/dev/stdin",0),o=p.open("/dev/stdout",1),u=p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(o,u){this.node=u,this.setErrno=function(d){this.errno=d},this.setErrno(o),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(r=>{p.genericErrors[r]=new p.ErrnoError(r),p.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(re,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:re}},init:(r,o,u)=>{p.init.initialized=!0,p.ensureErrnoError(),e.stdin=r||e.stdin,e.stdout=o||e.stdout,e.stderr=u||e.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1;for(var r=0;r<p.streams.length;r++){var o=p.streams[r];o&&p.close(o)}},getMode:(r,o)=>{var u=0;return r&&(u|=365),o&&(u|=146),u},findObject:(r,o)=>{var u=p.analyzePath(r,o);return u.exists?u.object:null},analyzePath:(r,o)=>{try{var u=p.lookupPath(r,{follow:!o});r=u.path}catch{}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=p.lookupPath(r,{parent:!0});d.parentExists=!0,d.parentPath=u.path,d.parentObject=u.node,d.name=le.basename(r),u=p.lookupPath(r,{follow:!o}),d.exists=!0,d.path=u.path,d.object=u.node,d.name=u.node.name,d.isRoot=u.path==="/"}catch(h){d.error=h.errno}return d},createPath:(r,o,u,d)=>{r=typeof r=="string"?r:p.getPath(r);for(var h=o.split("/").reverse();h.length;){var w=h.pop();if(w){var E=le.join2(r,w);try{p.mkdir(E)}catch{}r=E}}return E},createFile:(r,o,u,d,h)=>{var w=le.join2(typeof r=="string"?r:p.getPath(r),o),E=p.getMode(d,h);return p.create(w,E)},createDataFile:(r,o,u,d,h,w)=>{var E=o;r&&(r=typeof r=="string"?r:p.getPath(r),E=o?le.join2(r,o):r);var I=p.getMode(d,h),j=p.create(E,I);if(u){if(typeof u=="string"){for(var Y=new Array(u.length),oe=0,se=u.length;oe<se;++oe)Y[oe]=u.charCodeAt(oe);u=Y}p.chmod(j,I|146);var J=p.open(j,577);p.write(J,u,0,u.length,0,w),p.close(J),p.chmod(j,I)}return j},createDevice:(r,o,u,d)=>{var h=le.join2(typeof r=="string"?r:p.getPath(r),o),w=p.getMode(!!u,!!d);p.createDevice.major||(p.createDevice.major=64);var E=p.makedev(p.createDevice.major++,0);return p.registerDevice(E,{open:I=>{I.seekable=!1},close:I=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(I,j,Y,oe,se)=>{for(var J=0,X=0;X<oe;X++){var ae;try{ae=u()}catch{throw new p.ErrnoError(29)}if(ae===void 0&&J===0)throw new p.ErrnoError(6);if(ae==null)break;J++,j[Y+X]=ae}return J&&(I.node.timestamp=Date.now()),J},write:(I,j,Y,oe,se)=>{for(var J=0;J<oe;J++)try{d(j[Y+J])}catch{throw new p.ErrnoError(29)}return oe&&(I.node.timestamp=Date.now()),J}}),p.mkdev(h,w,E)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(F)try{r.contents=tn(F(r.url),!0),r.usedBytes=r.contents.length}catch{throw new p.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,o,u,d,h)=>{function w(){this.lengthKnown=!1,this.chunks=[]}if(w.prototype.get=function(X){if(!(X>this.length-1||X<0)){var ae=X%this.chunkSize,xe=X/this.chunkSize|0;return this.getter(xe)[ae]}},w.prototype.setDataGetter=function(X){this.getter=X},w.prototype.cacheLength=function(){var X=new XMLHttpRequest;if(X.open("HEAD",u,!1),X.send(null),!(X.status>=200&&X.status<300||X.status===304))throw new Error("Couldn't load "+u+". Status: "+X.status);var ae=Number(X.getResponseHeader("Content-length")),xe,Qe=(xe=X.getResponseHeader("Accept-Ranges"))&&xe==="bytes",je=(xe=X.getResponseHeader("Content-Encoding"))&&xe==="gzip",Ce=1024*1024;Qe||(Ce=ae);var Ve=(Xe,kt)=>{if(Xe>kt)throw new Error("invalid range ("+Xe+", "+kt+") or no bytes requested!");if(kt>ae-1)throw new Error("only "+ae+" bytes available! programmer error!");var Ee=new XMLHttpRequest;if(Ee.open("GET",u,!1),ae!==Ce&&Ee.setRequestHeader("Range","bytes="+Xe+"-"+kt),Ee.responseType="arraybuffer",Ee.overrideMimeType&&Ee.overrideMimeType("text/plain; charset=x-user-defined"),Ee.send(null),!(Ee.status>=200&&Ee.status<300||Ee.status===304))throw new Error("Couldn't load "+u+". Status: "+Ee.status);return Ee.response!==void 0?new Uint8Array(Ee.response||[]):tn(Ee.responseText||"",!0)},Ft=this;Ft.setDataGetter(Xe=>{var kt=Xe*Ce,Ee=(Xe+1)*Ce-1;if(Ee=Math.min(Ee,ae-1),typeof Ft.chunks[Xe]>"u"&&(Ft.chunks[Xe]=Ve(kt,Ee)),typeof Ft.chunks[Xe]>"u")throw new Error("doXHR failed!");return Ft.chunks[Xe]}),(je||!ae)&&(Ce=ae=1,ae=this.getter(0).length,Ce=ae,K("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ae,this._chunkSize=Ce,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!g)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new w;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var I={isDevice:!1,contents:E}}else var I={isDevice:!1,url:u};var j=p.createFile(r,o,I,d,h);I.contents?j.contents=I.contents:I.url&&(j.contents=null,j.url=I.url),Object.defineProperties(j,{usedBytes:{get:function(){return this.contents.length}}});var Y={},oe=Object.keys(j.stream_ops);oe.forEach(J=>{var X=j.stream_ops[J];Y[J]=function(){return p.forceLoadFile(j),X.apply(null,arguments)}});function se(J,X,ae,xe,Qe){var je=J.node.contents;if(Qe>=je.length)return 0;var Ce=Math.min(je.length-Qe,xe);if(je.slice)for(var Ve=0;Ve<Ce;Ve++)X[ae+Ve]=je[Qe+Ve];else for(var Ve=0;Ve<Ce;Ve++)X[ae+Ve]=je.get(Qe+Ve);return Ce}return Y.read=(J,X,ae,xe,Qe)=>(p.forceLoadFile(j),se(J,X,ae,xe,Qe)),Y.mmap=(J,X,ae,xe,Qe)=>{p.forceLoadFile(j);var je=qn(X);if(!je)throw new p.ErrnoError(48);return se(J,y,je,X,ae),{ptr:je,allocated:!0}},j.stream_ops=Y,j},createPreloadedFile:(r,o,u,d,h,w,E,I,j,Y)=>{var oe=o?Ke.resolve(le.join2(r,o)):r,se="cp "+oe;function J(X){function ae(xe){Y&&Y(),I||p.createDataFile(r,o,xe,d,h,j),w&&w(),sr(se)}Browser.handledByPreloadPlugin(X,oe,ae,()=>{E&&E(),sr(se)})||ae(X)}Jr(se),typeof u=="string"?Ha(u,X=>J(X),E):J(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var d=p.indexedDB();try{var h=d.open(p.DB_NAME(),p.DB_VERSION)}catch(w){return u(w)}h.onupgradeneeded=()=>{K("creating db");var w=h.result;w.createObjectStore(p.DB_STORE_NAME)},h.onsuccess=()=>{var w=h.result,E=w.transaction([p.DB_STORE_NAME],"readwrite"),I=E.objectStore(p.DB_STORE_NAME),j=0,Y=0,oe=r.length;function se(){Y==0?o():u()}r.forEach(J=>{var X=I.put(p.analyzePath(J).object.contents,J);X.onsuccess=()=>{j++,j+Y==oe&&se()},X.onerror=()=>{Y++,j+Y==oe&&se()}}),E.onerror=u},h.onerror=u},loadFilesFromDB:(r,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var d=p.indexedDB();try{var h=d.open(p.DB_NAME(),p.DB_VERSION)}catch(w){return u(w)}h.onupgradeneeded=u,h.onsuccess=()=>{var w=h.result;try{var E=w.transaction([p.DB_STORE_NAME],"readonly")}catch(J){u(J);return}var I=E.objectStore(p.DB_STORE_NAME),j=0,Y=0,oe=r.length;function se(){Y==0?o():u()}r.forEach(J=>{var X=I.get(J);X.onsuccess=()=>{p.analyzePath(J).exists&&p.unlink(J),p.createDataFile(le.dirname(J),le.basename(J),X.result,!0,!0,!0),j++,j+Y==oe&&se()},X.onerror=()=>{Y++,j+Y==oe&&se()}}),E.onerror=u},h.onerror=u}},ve={DEFAULT_POLLMASK:5,calculateAt:function(r,o,u){if(le.isAbs(o))return o;var d;if(r===-100)d=p.cwd();else{var h=ve.getStreamFromFD(r);d=h.path}if(o.length==0){if(!u)throw new p.ErrnoError(44);return d}return le.join2(d,o)},doStat:function(r,o,u){try{var d=r(o)}catch(I){if(I&&I.node&&le.normalize(o)!==le.normalize(p.getPath(I.node)))return-54;throw I}P[u>>2]=d.dev,P[u+8>>2]=d.ino,P[u+12>>2]=d.mode,M[u+16>>2]=d.nlink,P[u+20>>2]=d.uid,P[u+24>>2]=d.gid,P[u+28>>2]=d.rdev,ge=[d.size>>>0,(te=d.size,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[u+40>>2]=ge[0],P[u+44>>2]=ge[1],P[u+48>>2]=4096,P[u+52>>2]=d.blocks;var h=d.atime.getTime(),w=d.mtime.getTime(),E=d.ctime.getTime();return ge=[Math.floor(h/1e3)>>>0,(te=Math.floor(h/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[u+56>>2]=ge[0],P[u+60>>2]=ge[1],M[u+64>>2]=h%1e3*1e3,ge=[Math.floor(w/1e3)>>>0,(te=Math.floor(w/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[u+72>>2]=ge[0],P[u+76>>2]=ge[1],M[u+80>>2]=w%1e3*1e3,ge=[Math.floor(E/1e3)>>>0,(te=Math.floor(E/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[u+88>>2]=ge[0],P[u+92>>2]=ge[1],M[u+96>>2]=E%1e3*1e3,ge=[d.ino>>>0,(te=d.ino,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[u+104>>2]=ge[0],P[u+108>>2]=ge[1],0},doMsync:function(r,o,u,d,h){if(!p.isFile(o.node.mode))throw new p.ErrnoError(43);if(d&2)return 0;var w=x.slice(r,r+u);p.msync(o,w,h,u,d)},varargs:void 0,get:function(){ve.varargs+=4;var r=P[ve.varargs-4>>2];return r},getStr:function(r){var o=O(r);return o},getStreamFromFD:function(r){var o=p.getStream(r);if(!o)throw new p.ErrnoError(8);return o}};function qa(r,o,u){ve.varargs=u;try{var d=ve.getStreamFromFD(r);switch(o){case 0:{var h=ve.get();if(h<0)return-28;var w;return w=p.createStream(d,h),w.fd}case 1:case 2:return 0;case 3:return d.flags;case 4:{var h=ve.get();return d.flags|=h,0}case 5:{var h=ve.get(),E=0;return D[h+E>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ua(28),-1;default:return-28}}catch(I){if(typeof p>"u"||!(I instanceof p.ErrnoError))throw I;return-I.errno}}function Xa(r,o,u){ve.varargs=u;try{var d=ve.getStreamFromFD(r);switch(o){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:{if(!d.tty)return-59;var h=ve.get();return P[h>>2]=0,0}case 21520:return d.tty?-28:-59;case 21531:{var h=ve.get();return p.ioctl(d,o,h)}case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:return-28}}catch(w){if(typeof p>"u"||!(w instanceof p.ErrnoError))throw w;return-w.errno}}function Wa(r,o,u,d){ve.varargs=d;try{o=ve.getStr(o),o=ve.calculateAt(r,o);var h=d?ve.get():0;return p.open(o,u,h).fd}catch(w){if(typeof p>"u"||!(w instanceof p.ErrnoError))throw w;return-w.errno}}function Ga(){throw 1/0}function Ya(r){return M[r>>2]+P[r+4>>2]*4294967296}function Ka(r,o){var u=new Date(Ya(r)*1e3);P[o>>2]=u.getUTCSeconds(),P[o+4>>2]=u.getUTCMinutes(),P[o+8>>2]=u.getUTCHours(),P[o+12>>2]=u.getUTCDate(),P[o+16>>2]=u.getUTCMonth(),P[o+20>>2]=u.getUTCFullYear()-1900,P[o+24>>2]=u.getUTCDay();var d=Date.UTC(u.getUTCFullYear(),0,1,0,0,0,0),h=(u.getTime()-d)/(1e3*60*60*24)|0;P[o+28>>2]=h}function Xn(r){var o=b(r)+1,u=Kn(o);return u&&T(r,y,u,o),u}function Qa(r,o,u){var d=new Date().getFullYear(),h=new Date(d,0,1),w=new Date(d,6,1),E=h.getTimezoneOffset(),I=w.getTimezoneOffset(),j=Math.max(E,I);M[r>>2]=j*60,P[o>>2]=+(E!=I);function Y(ae){var xe=ae.toTimeString().match(/\(([A-Za-z ]+)\)$/);return xe?xe[1]:"GMT"}var oe=Y(h),se=Y(w),J=Xn(oe),X=Xn(se);I<E?(M[u>>2]=J,M[u+4>>2]=X):(M[u>>2]=X,M[u+4>>2]=J)}function Za(){qe("")}function Ja(){return Date.now()}function es(r,o,u){x.copyWithin(r,o,o+u)}function ts(){return 2147483648}function rs(r){try{return ce.grow(r-a.byteLength+65535>>>16),z(ce.buffer),1}catch{}}function ns(r){var o=x.length;r=r>>>0;var u=ts();if(r>u)return!1;let d=(j,Y)=>j+(Y-j%Y)%Y;for(var h=1;h<=4;h*=2){var w=o*(1+.2/h);w=Math.min(w,r+100663296);var E=Math.min(u,d(Math.max(r,w),65536)),I=rs(E);if(I)return!0}return!1}function is(r){try{var o=ve.getStreamFromFD(r);return p.close(o),0}catch(u){if(typeof p>"u"||!(u instanceof p.ErrnoError))throw u;return u.errno}}function os(r,o,u,d){for(var h=0,w=0;w<u;w++){var E=M[o>>2],I=M[o+4>>2];o+=8;var j=p.read(r,y,E,I,d);if(j<0)return-1;if(h+=j,j<I)break}return h}function as(r,o,u,d){try{var h=ve.getStreamFromFD(r),w=os(h,o,u);return M[d>>2]=w,0}catch(E){if(typeof p>"u"||!(E instanceof p.ErrnoError))throw E;return E.errno}}function ss(r,o){return o+2097152>>>0<4194305-!!r?(r>>>0)+o*4294967296:NaN}function ls(r,o,u,d,h){try{var w=ss(o,u);if(isNaN(w))return 61;var E=ve.getStreamFromFD(r);return p.llseek(E,w,d),ge=[E.position>>>0,(te=E.position,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],P[h>>2]=ge[0],P[h+4>>2]=ge[1],E.getdents&&w===0&&d===0&&(E.getdents=null),0}catch(I){if(typeof p>"u"||!(I instanceof p.ErrnoError))throw I;return I.errno}}function us(r,o,u,d){for(var h=0,w=0;w<u;w++){var E=M[o>>2],I=M[o+4>>2];o+=8;var j=p.write(r,y,E,I,d);if(j<0)return-1;h+=j}return h}function cs(r,o,u,d){try{var h=ve.getStreamFromFD(r),w=us(h,o,u);return M[d>>2]=w,0}catch(E){if(typeof p>"u"||!(E instanceof p.ErrnoError))throw E;return E.errno}}var Pt=[];function Ie(r){var o=Pt[r];return o||(r>=Pt.length&&(Pt.length=r+1),Pt[r]=o=q.get(r)),o}function Wn(r,o){r<128?o.push(r):o.push(r%128|128,r>>7)}function fs(r){for(var o={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},u={parameters:[],results:r[0]=="v"?[]:[o[r[0]]]},d=1;d<r.length;++d)u.parameters.push(o[r[d]]),r[d]==="j"&&u.parameters.push("i32");return u}function ps(r,o){var u=r.slice(0,1),d=r.slice(1),h={i:127,p:127,j:126,f:125,d:124};o.push(96),Wn(d.length,o);for(var w=0;w<d.length;++w)o.push(h[d[w]]);u=="v"?o.push(0):o.push(1,h[u])}function _s(r,o){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(fs(o),r);var u=[1];ps(o,u);var d=[0,97,115,109,1,0,0,0,1];Wn(u.length,d),d.push.apply(d,u),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var h=new WebAssembly.Module(new Uint8Array(d)),w=new WebAssembly.Instance(h,{e:{f:r}}),E=w.exports.f;return E}function ds(r,o){if(rt)for(var u=r;u<r+o;u++){var d=Ie(u);d&&rt.set(d,u)}}var rt=void 0,rn=[];function ms(){if(rn.length)return rn.pop();try{q.grow(1)}catch(r){throw r instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":r}return q.length-1}function Gn(r,o){q.set(r,o),Pt[r]=q.get(r)}function hs(r,o){if(rt||(rt=new WeakMap,ds(0,q.length)),rt.has(r))return rt.get(r);var u=ms();try{Gn(u,r)}catch(h){if(!(h instanceof TypeError))throw h;var d=_s(r,o);Gn(u,d)}return rt.set(r,u),u}function gs(r){rt.delete(Ie(r)),rn.push(r)}var Yn=function(r,o,u,d){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=p.nextInode++,this.name=o,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=d},ur=365,cr=146;Object.defineProperties(Yn.prototype,{read:{get:function(){return(this.mode&ur)===ur},set:function(r){r?this.mode|=ur:this.mode&=~ur}},write:{get:function(){return(this.mode&cr)===cr},set:function(r){r?this.mode|=cr:this.mode&=~cr}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=Yn,p.staticInit();var vs={i:Va,q:qa,x:Xa,y:Wa,u:Ga,z:Ka,A:Qa,j:Za,r:Ja,B:es,v:ns,o:is,w:as,t:ls,p:cs,n:Vf,s:Hf,g:Pf,e:Bf,c:Rf,f:Lf,C:$f,b:Df,l:Uf,d:Nf,k:zf,a:Ff,h:Cf,m:jf},xd=La(),ys=e.___wasm_call_ctors=function(){return(ys=e.___wasm_call_ctors=e.asm.E).apply(null,arguments)},ws=e._glp_printf=function(){return(ws=e._glp_printf=e.asm.F).apply(null,arguments)},bs=e._glp_alloc=function(){return(bs=e._glp_alloc=e.asm.G).apply(null,arguments)},xs=e._glp_free=function(){return(xs=e._glp_free=e.asm.H).apply(null,arguments)},Es=e._glp_adv_basis=function(){return(Es=e._glp_adv_basis=e.asm.I).apply(null,arguments)},ks=e._glp_std_basis=function(){return(ks=e._glp_std_basis=e.asm.J).apply(null,arguments)},Is=e._glp_set_row_stat=function(){return(Is=e._glp_set_row_stat=e.asm.K).apply(null,arguments)},Ss=e._glp_set_col_stat=function(){return(Ss=e._glp_set_col_stat=e.asm.L).apply(null,arguments)},As=e._glp_assert_=function(){return(As=e._glp_assert_=e.asm.M).apply(null,arguments)},Ts=e._glp_asnprob_hall=function(){return(Ts=e._glp_asnprob_hall=e.asm.O).apply(null,arguments)},Os=e._glp_check_asnprob=function(){return(Os=e._glp_check_asnprob=e.asm.P).apply(null,arguments)},Ms=e._glp_asnprob_lp=function(){return(Ms=e._glp_asnprob_lp=e.asm.Q).apply(null,arguments)},Ns=e._glp_erase_prob=function(){return(Ns=e._glp_erase_prob=e.asm.R).apply(null,arguments)},Rs=e._glp_set_prob_name=function(){return(Rs=e._glp_set_prob_name=e.asm.S).apply(null,arguments)},Ds=e._glp_set_obj_dir=function(){return(Ds=e._glp_set_obj_dir=e.asm.T).apply(null,arguments)},Ps=e._glp_add_rows=function(){return(Ps=e._glp_add_rows=e.asm.U).apply(null,arguments)},Fs=e._glp_set_row_name=function(){return(Fs=e._glp_set_row_name=e.asm.V).apply(null,arguments)},Bs=e._glp_set_row_bnds=function(){return(Bs=e._glp_set_row_bnds=e.asm.W).apply(null,arguments)},zs=e._glp_add_cols=function(){return(zs=e._glp_add_cols=e.asm.X).apply(null,arguments)},Ls=e._glp_set_col_name=function(){return(Ls=e._glp_set_col_name=e.asm.Y).apply(null,arguments)},js=e._glp_set_mat_col=function(){return(js=e._glp_set_mat_col=e.asm.Z).apply(null,arguments)},Cs=e._glp_set_col_bnds=function(){return(Cs=e._glp_set_col_bnds=e.asm._).apply(null,arguments)},Vs=e._glp_set_obj_coef=function(){return(Vs=e._glp_set_obj_coef=e.asm.$).apply(null,arguments)},Us=e._glp_asnprob_okalg=function(){return(Us=e._glp_asnprob_okalg=e.asm.aa).apply(null,arguments)},$s=e._glp_check_cnfsat=function(){return($s=e._glp_check_cnfsat=e.asm.ba).apply(null,arguments)},Hs=e._glp_init_cpxcp=function(){return(Hs=e._glp_init_cpxcp=e.asm.ca).apply(null,arguments)},qs=e._glp_read_lp=function(){return(qs=e._glp_read_lp=e.asm.da).apply(null,arguments)},Kn=e._malloc=function(){return(Kn=e._malloc=e.asm.ea).apply(null,arguments)},Xs=e._glp_create_index=function(){return(Xs=e._glp_create_index=e.asm.fa).apply(null,arguments)},Ws=e._glp_set_obj_name=function(){return(Ws=e._glp_set_obj_name=e.asm.ga).apply(null,arguments)},Gs=e._glp_find_row=function(){return(Gs=e._glp_find_row=e.asm.ha).apply(null,arguments)},Ys=e._glp_set_mat_row=function(){return(Ys=e._glp_set_mat_row=e.asm.ia).apply(null,arguments)},Ks=e._glp_get_col_name=function(){return(Ks=e._glp_get_col_name=e.asm.ja).apply(null,arguments)},Qs=e._glp_get_num_int=function(){return(Qs=e._glp_get_num_int=e.asm.ka).apply(null,arguments)},Zs=e._glp_get_num_bin=function(){return(Zs=e._glp_get_num_bin=e.asm.la).apply(null,arguments)},Js=e._glp_delete_index=function(){return(Js=e._glp_delete_index=e.asm.ma).apply(null,arguments)},el=e._glp_sort_matrix=function(){return(el=e._glp_sort_matrix=e.asm.na).apply(null,arguments)},tl=e._glp_set_col_kind=function(){return(tl=e._glp_set_col_kind=e.asm.oa).apply(null,arguments)},rl=e._free=function(){return(rl=e._free=e.asm.pa).apply(null,arguments)},nl=e._glp_write_lp=function(){return(nl=e._glp_write_lp=e.asm.qa).apply(null,arguments)},il=e._glp_get_obj_name=function(){return(il=e._glp_get_obj_name=e.asm.ra).apply(null,arguments)},ol=e._glp_get_row_name=function(){return(ol=e._glp_get_row_name=e.asm.sa).apply(null,arguments)},al=e._glp_find_col=function(){return(al=e._glp_find_col=e.asm.ta).apply(null,arguments)},sl=e._glp_cpp=function(){return(sl=e._glp_cpp=e.asm.ua).apply(null,arguments)},ll=e._glp_top_sort=function(){return(ll=e._glp_top_sort=e.asm.va).apply(null,arguments)},ul=e._glp_cpx_basis=function(){return(ul=e._glp_cpx_basis=e.asm.wa).apply(null,arguments)},cl=e._glp_get_num_rows=function(){return(cl=e._glp_get_num_rows=e.asm.xa).apply(null,arguments)},fl=e._glp_get_num_cols=function(){return(fl=e._glp_get_num_cols=e.asm.ya).apply(null,arguments)},pl=e._glp_get_row_type=function(){return(pl=e._glp_get_row_type=e.asm.za).apply(null,arguments)},_l=e._glp_get_row_lb=function(){return(_l=e._glp_get_row_lb=e.asm.Aa).apply(null,arguments)},dl=e._glp_get_row_ub=function(){return(dl=e._glp_get_row_ub=e.asm.Ba).apply(null,arguments)},ml=e._glp_get_col_type=function(){return(ml=e._glp_get_col_type=e.asm.Ca).apply(null,arguments)},hl=e._glp_get_col_lb=function(){return(hl=e._glp_get_col_lb=e.asm.Da).apply(null,arguments)},gl=e._glp_get_col_ub=function(){return(gl=e._glp_get_col_ub=e.asm.Ea).apply(null,arguments)},vl=e._glp_get_obj_coef=function(){return(vl=e._glp_get_obj_coef=e.asm.Fa).apply(null,arguments)},yl=e._glp_get_obj_dir=function(){return(yl=e._glp_get_obj_dir=e.asm.Ga).apply(null,arguments)},wl=e._glp_get_mat_col=function(){return(wl=e._glp_get_mat_col=e.asm.Ha).apply(null,arguments)},bl=e._glp_create_graph=function(){return(bl=e._glp_create_graph=e.asm.Ia).apply(null,arguments)},xl=e._glp_set_graph_name=function(){return(xl=e._glp_set_graph_name=e.asm.Ja).apply(null,arguments)},El=e._glp_add_vertices=function(){return(El=e._glp_add_vertices=e.asm.Ka).apply(null,arguments)},kl=e._glp_set_vertex_name=function(){return(kl=e._glp_set_vertex_name=e.asm.La).apply(null,arguments)},Il=e._glp_add_arc=function(){return(Il=e._glp_add_arc=e.asm.Ma).apply(null,arguments)},Sl=e._glp_del_vertices=function(){return(Sl=e._glp_del_vertices=e.asm.Na).apply(null,arguments)},Al=e._glp_del_arc=function(){return(Al=e._glp_del_arc=e.asm.Oa).apply(null,arguments)},Tl=e._glp_erase_graph=function(){return(Tl=e._glp_erase_graph=e.asm.Pa).apply(null,arguments)},Ol=e._glp_delete_graph=function(){return(Ol=e._glp_delete_graph=e.asm.Qa).apply(null,arguments)},Ml=e._glp_create_v_index=function(){return(Ml=e._glp_create_v_index=e.asm.Ra).apply(null,arguments)},Nl=e._glp_find_vertex=function(){return(Nl=e._glp_find_vertex=e.asm.Sa).apply(null,arguments)},Rl=e._glp_delete_v_index=function(){return(Rl=e._glp_delete_v_index=e.asm.Ta).apply(null,arguments)},Dl=e._glp_gridgen=function(){return(Dl=e._glp_gridgen=e.asm.Ua).apply(null,arguments)},Pl=e._glp_intfeas1=function(){return(Pl=e._glp_intfeas1=e.asm.Va).apply(null,arguments)},Fl=e._glp_create_prob=function(){return(Fl=e._glp_create_prob=e.asm.Wa).apply(null,arguments)},Bl=e._glp_minisat1=function(){return(Bl=e._glp_minisat1=e.asm.Xa).apply(null,arguments)},zl=e._glp_delete_prob=function(){return(zl=e._glp_delete_prob=e.asm.Ya).apply(null,arguments)},Ll=e._glp_del_rows=function(){return(Ll=e._glp_del_rows=e.asm.Za).apply(null,arguments)},jl=e._glp_maxflow_ffalg=function(){return(jl=e._glp_maxflow_ffalg=e.asm._a).apply(null,arguments)},Cl=e._glp_maxflow_lp=function(){return(Cl=e._glp_maxflow_lp=e.asm.$a).apply(null,arguments)},Vl=e._glp_mincost_lp=function(){return(Vl=e._glp_mincost_lp=e.asm.ab).apply(null,arguments)},Ul=e._glp_mincost_okalg=function(){return(Ul=e._glp_mincost_okalg=e.asm.bb).apply(null,arguments)},$l=e._glp_mincost_relax4=function(){return($l=e._glp_mincost_relax4=e.asm.cb).apply(null,arguments)},Hl=e._glp_mpl_alloc_wksp=function(){return(Hl=e._glp_mpl_alloc_wksp=e.asm.db).apply(null,arguments)},ql=e._glp_mpl_init_rand=function(){return(ql=e._glp_mpl_init_rand=e.asm.eb).apply(null,arguments)},Xl=e._glp_mpl_read_model=function(){return(Xl=e._glp_mpl_read_model=e.asm.fb).apply(null,arguments)},Wl=e._glp_mpl_read_data=function(){return(Wl=e._glp_mpl_read_data=e.asm.gb).apply(null,arguments)},Gl=e._glp_mpl_generate=function(){return(Gl=e._glp_mpl_generate=e.asm.hb).apply(null,arguments)},Yl=e._glp_mpl_build_prob=function(){return(Yl=e._glp_mpl_build_prob=e.asm.ib).apply(null,arguments)},Kl=e._glp_mpl_postsolve=function(){return(Kl=e._glp_mpl_postsolve=e.asm.jb).apply(null,arguments)},Ql=e._glp_get_row_stat=function(){return(Ql=e._glp_get_row_stat=e.asm.kb).apply(null,arguments)},Zl=e._glp_get_row_prim=function(){return(Zl=e._glp_get_row_prim=e.asm.lb).apply(null,arguments)},Jl=e._glp_get_row_dual=function(){return(Jl=e._glp_get_row_dual=e.asm.mb).apply(null,arguments)},eu=e._glp_ipt_row_prim=function(){return(eu=e._glp_ipt_row_prim=e.asm.nb).apply(null,arguments)},tu=e._glp_ipt_row_dual=function(){return(tu=e._glp_ipt_row_dual=e.asm.ob).apply(null,arguments)},ru=e._glp_mip_row_val=function(){return(ru=e._glp_mip_row_val=e.asm.pb).apply(null,arguments)},nu=e._glp_get_col_stat=function(){return(nu=e._glp_get_col_stat=e.asm.qb).apply(null,arguments)},iu=e._glp_get_col_prim=function(){return(iu=e._glp_get_col_prim=e.asm.rb).apply(null,arguments)},ou=e._glp_get_col_dual=function(){return(ou=e._glp_get_col_dual=e.asm.sb).apply(null,arguments)},au=e._glp_ipt_col_prim=function(){return(au=e._glp_ipt_col_prim=e.asm.tb).apply(null,arguments)},su=e._glp_ipt_col_dual=function(){return(su=e._glp_ipt_col_dual=e.asm.ub).apply(null,arguments)},lu=e._glp_mip_col_val=function(){return(lu=e._glp_mip_col_val=e.asm.vb).apply(null,arguments)},uu=e._glp_mpl_free_wksp=function(){return(uu=e._glp_mpl_free_wksp=e.asm.wb).apply(null,arguments)},cu=e._glp_init_mpscp=function(){return(cu=e._glp_init_mpscp=e.asm.xb).apply(null,arguments)},fu=e._glp_read_mps=function(){return(fu=e._glp_read_mps=e.asm.yb).apply(null,arguments)},pu=e._glp_write_mps=function(){return(pu=e._glp_write_mps=e.asm.zb).apply(null,arguments)},_u=e._glp_netgen=function(){return(_u=e._glp_netgen=e.asm.Ab).apply(null,arguments)},du=e._glp_npp_alloc_wksp=function(){return(du=e._glp_npp_alloc_wksp=e.asm.Bb).apply(null,arguments)},mu=e._glp_npp_load_prob=function(){return(mu=e._glp_npp_load_prob=e.asm.Cb).apply(null,arguments)},hu=e._glp_npp_preprocess1=function(){return(hu=e._glp_npp_preprocess1=e.asm.Db).apply(null,arguments)},gu=e._glp_npp_build_prob=function(){return(gu=e._glp_npp_build_prob=e.asm.Eb).apply(null,arguments)},vu=e._glp_npp_postprocess=function(){return(vu=e._glp_npp_postprocess=e.asm.Fb).apply(null,arguments)},yu=e._glp_get_status=function(){return(yu=e._glp_get_status=e.asm.Gb).apply(null,arguments)},wu=e._glp_ipt_status=function(){return(wu=e._glp_ipt_status=e.asm.Hb).apply(null,arguments)},bu=e._glp_mip_status=function(){return(bu=e._glp_mip_status=e.asm.Ib).apply(null,arguments)},xu=e._glp_npp_obtain_sol=function(){return(xu=e._glp_npp_obtain_sol=e.asm.Jb).apply(null,arguments)},Eu=e._glp_npp_free_wksp=function(){return(Eu=e._glp_npp_free_wksp=e.asm.Kb).apply(null,arguments)},ku=e._glp_print_ipt=function(){return(ku=e._glp_print_ipt=e.asm.Lb).apply(null,arguments)},Iu=e._glp_print_mip=function(){return(Iu=e._glp_print_mip=e.asm.Mb).apply(null,arguments)},Su=e._glp_load_matrix=function(){return(Su=e._glp_load_matrix=e.asm.Nb).apply(null,arguments)},Au=e._glp_check_dup=function(){return(Au=e._glp_check_dup=e.asm.Ob).apply(null,arguments)},Tu=e._glp_del_cols=function(){return(Tu=e._glp_del_cols=e.asm.Pb).apply(null,arguments)},Ou=e._glp_copy_prob=function(){return(Ou=e._glp_copy_prob=e.asm.Qb).apply(null,arguments)},Mu=e._glp_get_bfcp=function(){return(Mu=e._glp_get_bfcp=e.asm.Rb).apply(null,arguments)},Nu=e._glp_set_bfcp=function(){return(Nu=e._glp_set_bfcp=e.asm.Sb).apply(null,arguments)},Ru=e._glp_get_prob_name=function(){return(Ru=e._glp_get_prob_name=e.asm.Tb).apply(null,arguments)},Du=e._glp_get_num_nz=function(){return(Du=e._glp_get_num_nz=e.asm.Ub).apply(null,arguments)},Pu=e._glp_get_mat_row=function(){return(Pu=e._glp_get_mat_row=e.asm.Vb).apply(null,arguments)},Fu=e._glp_set_rii=function(){return(Fu=e._glp_set_rii=e.asm.Wb).apply(null,arguments)},Bu=e._glp_set_sjj=function(){return(Bu=e._glp_set_sjj=e.asm.Xb).apply(null,arguments)},zu=e._glp_get_rii=function(){return(zu=e._glp_get_rii=e.asm.Yb).apply(null,arguments)},Lu=e._glp_get_sjj=function(){return(Lu=e._glp_get_sjj=e.asm.Zb).apply(null,arguments)},ju=e._glp_unscale_prob=function(){return(ju=e._glp_unscale_prob=e.asm._b).apply(null,arguments)},Cu=e._glp_print_ranges=function(){return(Cu=e._glp_print_ranges=e.asm.$b).apply(null,arguments)},Vu=e._glp_bf_exists=function(){return(Vu=e._glp_bf_exists=e.asm.ac).apply(null,arguments)},Uu=e._glp_version=function(){return(Uu=e._glp_version=e.asm.bc).apply(null,arguments)},$u=e._glp_analyze_bound=function(){return($u=e._glp_analyze_bound=e.asm.cc).apply(null,arguments)},Hu=e._glp_analyze_coef=function(){return(Hu=e._glp_analyze_coef=e.asm.dc).apply(null,arguments)},qu=e._glp_print_sol=function(){return(qu=e._glp_print_sol=e.asm.ec).apply(null,arguments)},Xu=e._glp_read_asnprob=function(){return(Xu=e._glp_read_asnprob=e.asm.fc).apply(null,arguments)},Wu=e._glp_read_ccdata=function(){return(Wu=e._glp_read_ccdata=e.asm.gc).apply(null,arguments)},Gu=e._glp_read_graph=function(){return(Gu=e._glp_read_graph=e.asm.hc).apply(null,arguments)},Yu=e._glp_read_cnfsat=function(){return(Yu=e._glp_read_cnfsat=e.asm.ic).apply(null,arguments)},Ku=e._glp_read_ipt=function(){return(Ku=e._glp_read_ipt=e.asm.jc).apply(null,arguments)},Qu=e._glp_read_maxflow=function(){return(Qu=e._glp_read_maxflow=e.asm.kc).apply(null,arguments)},Zu=e._glp_read_mincost=function(){return(Zu=e._glp_read_mincost=e.asm.lc).apply(null,arguments)},Ju=e._glp_read_mip=function(){return(Ju=e._glp_read_mip=e.asm.mc).apply(null,arguments)},ec=e._glp_read_prob=function(){return(ec=e._glp_read_prob=e.asm.nc).apply(null,arguments)},tc=e._glp_read_sol=function(){return(tc=e._glp_read_sol=e.asm.oc).apply(null,arguments)},rc=e._glp_rmfgen=function(){return(rc=e._glp_rmfgen=e.asm.pc).apply(null,arguments)},nc=e._glp_strong_comp=function(){return(nc=e._glp_strong_comp=e.asm.qc).apply(null,arguments)},ic=e._glp_weak_comp=function(){return(ic=e._glp_weak_comp=e.asm.rc).apply(null,arguments)},oc=e._glp_wclique_exact=function(){return(oc=e._glp_wclique_exact=e.asm.sc).apply(null,arguments)},ac=e._glp_write_asnprob=function(){return(ac=e._glp_write_asnprob=e.asm.tc).apply(null,arguments)},sc=e._glp_write_ccdata=function(){return(sc=e._glp_write_ccdata=e.asm.uc).apply(null,arguments)},lc=e._glp_write_graph=function(){return(lc=e._glp_write_graph=e.asm.vc).apply(null,arguments)},uc=e._glp_write_cnfsat=function(){return(uc=e._glp_write_cnfsat=e.asm.wc).apply(null,arguments)},cc=e._glp_write_ipt=function(){return(cc=e._glp_write_ipt=e.asm.xc).apply(null,arguments)},fc=e._glp_write_maxflow=function(){return(fc=e._glp_write_maxflow=e.asm.yc).apply(null,arguments)},pc=e._glp_write_mincost=function(){return(pc=e._glp_write_mincost=e.asm.zc).apply(null,arguments)},_c=e._glp_write_mip=function(){return(_c=e._glp_write_mip=e.asm.Ac).apply(null,arguments)},dc=e._glp_write_prob=function(){return(dc=e._glp_write_prob=e.asm.Bc).apply(null,arguments)},mc=e._glp_write_sol=function(){return(mc=e._glp_write_sol=e.asm.Cc).apply(null,arguments)},hc=e._glp_realloc=function(){return(hc=e._glp_realloc=e.asm.Dc).apply(null,arguments)},gc=e._glp_simplex=function(){return(gc=e._glp_simplex=e.asm.Ec).apply(null,arguments)},vc=e._glp_scale_prob=function(){return(vc=e._glp_scale_prob=e.asm.Fc).apply(null,arguments)},yc=e._glp_init_smcp=function(){return(yc=e._glp_init_smcp=e.asm.Gc).apply(null,arguments)},wc=e._glp_factorize=function(){return(wc=e._glp_factorize=e.asm.Hc).apply(null,arguments)},bc=e._glp_get_prim_stat=function(){return(bc=e._glp_get_prim_stat=e.asm.Ic).apply(null,arguments)},xc=e._glp_get_dual_stat=function(){return(xc=e._glp_get_dual_stat=e.asm.Jc).apply(null,arguments)},Ec=e._glp_get_obj_val=function(){return(Ec=e._glp_get_obj_val=e.asm.Kc).apply(null,arguments)},kc=e._glp_get_unbnd_ray=function(){return(kc=e._glp_get_unbnd_ray=e.asm.Lc).apply(null,arguments)},Ic=e._glp_get_it_cnt=function(){return(Ic=e._glp_get_it_cnt=e.asm.Mc).apply(null,arguments)},Sc=e._glp_set_it_cnt=function(){return(Sc=e._glp_set_it_cnt=e.asm.Nc).apply(null,arguments)},Ac=e._glp_exact=function(){return(Ac=e._glp_exact=e.asm.Oc).apply(null,arguments)},Tc=e._glp_time=function(){return(Tc=e._glp_time=e.asm.Pc).apply(null,arguments)},Oc=e._glp_interior=function(){return(Oc=e._glp_interior=e.asm.Qc).apply(null,arguments)},Mc=e._glp_init_iptcp=function(){return(Mc=e._glp_init_iptcp=e.asm.Rc).apply(null,arguments)},Nc=e._glp_ipt_obj_val=function(){return(Nc=e._glp_ipt_obj_val=e.asm.Sc).apply(null,arguments)},Rc=e._glp_get_col_kind=function(){return(Rc=e._glp_get_col_kind=e.asm.Tc).apply(null,arguments)},Dc=e._glp_intopt=function(){return(Dc=e._glp_intopt=e.asm.Uc).apply(null,arguments)},Pc=e._glp_init_iocp=function(){return(Pc=e._glp_init_iocp=e.asm.Vc).apply(null,arguments)},Fc=e._glp_mip_obj_val=function(){return(Fc=e._glp_mip_obj_val=e.asm.Wc).apply(null,arguments)},Bc=e._glp_bf_updated=function(){return(Bc=e._glp_bf_updated=e.asm.Xc).apply(null,arguments)},zc=e._glp_get_bhead=function(){return(zc=e._glp_get_bhead=e.asm.Yc).apply(null,arguments)},Lc=e._glp_get_row_bind=function(){return(Lc=e._glp_get_row_bind=e.asm.Zc).apply(null,arguments)},jc=e._glp_get_col_bind=function(){return(jc=e._glp_get_col_bind=e.asm._c).apply(null,arguments)},Cc=e._glp_ftran=function(){return(Cc=e._glp_ftran=e.asm.$c).apply(null,arguments)},Vc=e._glp_btran=function(){return(Vc=e._glp_btran=e.asm.ad).apply(null,arguments)},Uc=e._glp_warm_up=function(){return(Uc=e._glp_warm_up=e.asm.bd).apply(null,arguments)},$c=e._glp_eval_tab_row=function(){return($c=e._glp_eval_tab_row=e.asm.cd).apply(null,arguments)},Hc=e._glp_eval_tab_col=function(){return(Hc=e._glp_eval_tab_col=e.asm.dd).apply(null,arguments)},qc=e._glp_transform_row=function(){return(qc=e._glp_transform_row=e.asm.ed).apply(null,arguments)},Xc=e._glp_transform_col=function(){return(Xc=e._glp_transform_col=e.asm.fd).apply(null,arguments)},Wc=e._glp_prim_rtest=function(){return(Wc=e._glp_prim_rtest=e.asm.gd).apply(null,arguments)},Gc=e._glp_dual_rtest=function(){return(Gc=e._glp_dual_rtest=e.asm.hd).apply(null,arguments)},Yc=e._glp_ios_reason=function(){return(Yc=e._glp_ios_reason=e.asm.id).apply(null,arguments)},Kc=e._glp_ios_get_prob=function(){return(Kc=e._glp_ios_get_prob=e.asm.jd).apply(null,arguments)},Qc=e._glp_ios_tree_size=function(){return(Qc=e._glp_ios_tree_size=e.asm.kd).apply(null,arguments)},Zc=e._glp_ios_curr_node=function(){return(Zc=e._glp_ios_curr_node=e.asm.ld).apply(null,arguments)},Jc=e._glp_ios_next_node=function(){return(Jc=e._glp_ios_next_node=e.asm.md).apply(null,arguments)},ef=e._glp_ios_prev_node=function(){return(ef=e._glp_ios_prev_node=e.asm.nd).apply(null,arguments)},tf=e._glp_ios_up_node=function(){return(tf=e._glp_ios_up_node=e.asm.od).apply(null,arguments)},rf=e._glp_ios_node_level=function(){return(rf=e._glp_ios_node_level=e.asm.pd).apply(null,arguments)},nf=e._glp_ios_node_bound=function(){return(nf=e._glp_ios_node_bound=e.asm.qd).apply(null,arguments)},of=e._glp_ios_best_node=function(){return(of=e._glp_ios_best_node=e.asm.rd).apply(null,arguments)},af=e._glp_ios_mip_gap=function(){return(af=e._glp_ios_mip_gap=e.asm.sd).apply(null,arguments)},sf=e._glp_ios_node_data=function(){return(sf=e._glp_ios_node_data=e.asm.td).apply(null,arguments)},lf=e._glp_ios_row_attr=function(){return(lf=e._glp_ios_row_attr=e.asm.ud).apply(null,arguments)},uf=e._glp_ios_pool_size=function(){return(uf=e._glp_ios_pool_size=e.asm.vd).apply(null,arguments)},cf=e._glp_ios_add_row=function(){return(cf=e._glp_ios_add_row=e.asm.wd).apply(null,arguments)},ff=e._glp_ios_del_row=function(){return(ff=e._glp_ios_del_row=e.asm.xd).apply(null,arguments)},pf=e._glp_ios_clear_pool=function(){return(pf=e._glp_ios_clear_pool=e.asm.yd).apply(null,arguments)},_f=e._glp_ios_can_branch=function(){return(_f=e._glp_ios_can_branch=e.asm.zd).apply(null,arguments)},df=e._glp_ios_branch_upon=function(){return(df=e._glp_ios_branch_upon=e.asm.Ad).apply(null,arguments)},mf=e._glp_ios_select_node=function(){return(mf=e._glp_ios_select_node=e.asm.Bd).apply(null,arguments)},hf=e._glp_ios_heur_sol=function(){return(hf=e._glp_ios_heur_sol=e.asm.Cd).apply(null,arguments)},gf=e._glp_ios_terminate=function(){return(gf=e._glp_ios_terminate=e.asm.Dd).apply(null,arguments)},vf=e._glp_difftime=function(){return(vf=e._glp_difftime=e.asm.Ed).apply(null,arguments)},yf=e._glp_mem_usage=function(){return(yf=e._glp_mem_usage=e.asm.Fd).apply(null,arguments)},wf=e._glp_mem_limit=function(){return(wf=e._glp_mem_limit=e.asm.Gd).apply(null,arguments)},bf=e._glp_init_env=function(){return(bf=e._glp_init_env=e.asm.Hd).apply(null,arguments)},xf=e._glp_config=function(){return(xf=e._glp_config=e.asm.Id).apply(null,arguments)},Ef=e._glp_free_env=function(){return(Ef=e._glp_free_env=e.asm.Jd).apply(null,arguments)},kf=e._glp_at_error=function(){return(kf=e._glp_at_error=e.asm.Kd).apply(null,arguments)},If=e._glp_error_hook=function(){return(If=e._glp_error_hook=e.asm.Ld).apply(null,arguments)},Sf=e._glp_puts=function(){return(Sf=e._glp_puts=e.asm.Md).apply(null,arguments)},Af=e._glp_term_out=function(){return(Af=e._glp_term_out=e.asm.Nd).apply(null,arguments)},Tf=e._glp_term_hook=function(){return(Tf=e._glp_term_hook=e.asm.Od).apply(null,arguments)},Of=e._glp_open_tee=function(){return(Of=e._glp_open_tee=e.asm.Pd).apply(null,arguments)},Mf=e._glp_close_tee=function(){return(Mf=e._glp_close_tee=e.asm.Qd).apply(null,arguments)},Qn=e.___errno_location=function(){return(Qn=e.___errno_location=e.asm.Rd).apply(null,arguments)},Ae=e._setThrew=function(){return(Ae=e._setThrew=e.asm.Sd).apply(null,arguments)},Te=e.stackSave=function(){return(Te=e.stackSave=e.asm.Td).apply(null,arguments)},Oe=e.stackRestore=function(){return(Oe=e.stackRestore=e.asm.Ud).apply(null,arguments)};function Nf(r,o,u){var d=Te();try{Ie(r)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function Rf(r,o,u){var d=Te();try{return Ie(r)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function Df(r,o){var u=Te();try{Ie(r)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function Pf(r){var o=Te();try{return Ie(r)()}catch(u){if(Oe(o),u!==u+0)throw u;Ae(1,0)}}function Ff(r,o,u,d){var h=Te();try{Ie(r)(o,u,d)}catch(w){if(Oe(h),w!==w+0)throw w;Ae(1,0)}}function Bf(r,o){var u=Te();try{return Ie(r)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function zf(r,o,u,d){var h=Te();try{Ie(r)(o,u,d)}catch(w){if(Oe(h),w!==w+0)throw w;Ae(1,0)}}function Lf(r,o,u,d){var h=Te();try{return Ie(r)(o,u,d)}catch(w){if(Oe(h),w!==w+0)throw w;Ae(1,0)}}function jf(r,o,u,d,h,w){var E=Te();try{Ie(r)(o,u,d,h,w)}catch(I){if(Oe(E),I!==I+0)throw I;Ae(1,0)}}function Cf(r,o,u,d,h,w){var E=Te();try{Ie(r)(o,u,d,h,w)}catch(I){if(Oe(E),I!==I+0)throw I;Ae(1,0)}}function Vf(r,o){var u=Te();try{return Ie(r)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function Uf(r,o,u){var d=Te();try{Ie(r)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function $f(r,o,u,d,h,w){var E=Te();try{return Ie(r)(o,u,d,h,w)}catch(I){if(Oe(E),I!==I+0)throw I;Ae(1,0)}}function Hf(r,o,u){var d=Te();try{return Ie(r)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}e.UTF8ToString=O,e.stringToUTF8=L,e.lengthBytesUTF8=b,e.addFunction=hs,e.removeFunction=gs,e.setValue=Ca,e.getValue=ja,e.FS=p;var fr;Dt=function r(){fr||Zn(),fr||(Dt=r)};function Zn(r){if(r=r||f,_t>0||(Ye(),_t>0))return;function o(){fr||(fr=!0,e.calledRun=!0,!_e&&(ct(),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ft()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),o()},1)):o()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Zn(),e.ready}})();typeof Kr=="object"&&typeof Vn=="object"?Vn.exports=Cn:typeof define=="function"&&define.amd?define([],function(){return Cn}):typeof Kr=="object"&&(Kr.Module=Cn)});var Na=Bt((Qr,Ma)=>{"use strict";(function(t,n){typeof Qr=="object"&&typeof Ma<"u"?n(Qr,Oa()):typeof define=="function"&&define.amd?define(["exports","glpk-wasm"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.GLPK={},t.glpkWasm))})(Qr,function(t,n){"use strict";function e(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var i=e(n);function l(b,a){var y={};for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&a.indexOf(x)<0&&(y[x]=b[x]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,x=Object.getOwnPropertySymbols(b);D<x.length;D++)a.indexOf(x[D])<0&&Object.prototype.propertyIsEnumerable.call(b,x[D])&&(y[x[D]]=b[x[D]]);return y}function c(b,a,y,x){function D(U){return U instanceof y?U:new y(function(P){P(U)})}return new(y||(y=Promise))(function(U,P){function M(z){try{S(x.next(z))}catch($){P($)}}function R(z){try{S(x.throw(z))}catch($){P($)}}function S(z){z.done?U(z.value):D(z.value).then(M,R)}S((x=x.apply(b,a||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;let f,s;function m(b){return c(this,void 0,void 0,function*(){return f===void 0&&(f=b===void 0?i.default():i.default({locateFile(){return b}})),s=yield f,s})}var _;(function(b){(function(a){a[a.MIN=1]="MIN",a[a.MAX=2]="MAX"})(b.ObjectiveDirection||(b.ObjectiveDirection={})),function(a){a[a.FREE=1]="FREE",a[a.LB=2]="LB",a[a.UB=3]="UB",a[a.BOUNDED=4]="BOUNDED",a[a.FIXED=5]="FIXED"}(b.BoundType||(b.BoundType={})),function(a){a[a.BASIC=1]="BASIC",a[a.LB=2]="LB",a[a.UB=3]="UB",a[a.FREE=4]="FREE",a[a.FIXED=5]="FIXED"}(b.VariableStatus||(b.VariableStatus={})),function(a){a[a.CONTINUOUS=1]="CONTINUOUS",a[a.INTEGER=2]="INTEGER",a[a.BINARY=3]="BINARY"}(b.VariableType||(b.VariableType={})),function(a){a[a.GEOMETRIC_MEAN=1]="GEOMETRIC_MEAN",a[a.EQUILIBRATION=16]="EQUILIBRATION",a[a.POWER_TWO=32]="POWER_TWO",a[a.SKIP=64]="SKIP",a[a.AUTO=128]="AUTO"}(b.Scaling||(b.Scaling={})),function(a){a[a.BASIC=1]="BASIC",a[a.INTERIOR_POINT=2]="INTERIOR_POINT",a[a.MIXED_INTEGER=3]="MIXED_INTEGER"}(b.SolutionIndicator||(b.SolutionIndicator={})),function(a){a[a.UNDEFINED=1]="UNDEFINED",a[a.FEASIBLE=2]="FEASIBLE",a[a.INFEASIBLE=3]="INFEASIBLE",a[a.NO_FEASIBLE=4]="NO_FEASIBLE",a[a.OPTIMAL=5]="OPTIMAL",a[a.UNBOUNDED=6]="UNBOUNDED"}(b.Status||(b.Status={})),function(a){a[a.OFF=0]="OFF",a[a.ERR=1]="ERR",a[a.ON=2]="ON",a[a.ALL=3]="ALL",a[a.DBG=4]="DBG"}(b.MessageLevel||(b.MessageLevel={})),function(a){a[a.PRIMAL=1]="PRIMAL",a[a.DUALP=2]="DUALP",a[a.DUAL=3]="DUAL"}(b.Method||(b.Method={})),function(a){a[a.STD=17]="STD",a[a.PSE=34]="PSE"}(b.Pricing||(b.Pricing={})),function(a){a[a.STD=17]="STD",a[a.HAR=34]="HAR",a[a.FLIP=51]="FLIP"}(b.RatioTest||(b.RatioTest={})),function(a){a[a.NONE=0]="NONE",a[a.QMD=1]="QMD",a[a.AMD=2]="AMD",a[a.SYMAMD=3]="SYMAMD"}(b.OrderingAlgorithm||(b.OrderingAlgorithm={})),function(a){a[a.OK=0]="OK",a[a.EBADB=1]="EBADB",a[a.ESING=2]="ESING",a[a.ECOND=3]="ECOND",a[a.EBOUND=4]="EBOUND",a[a.EFAIL=5]="EFAIL",a[a.EOBJLL=6]="EOBJLL",a[a.EOBJUL=7]="EOBJUL",a[a.EITLIM=8]="EITLIM",a[a.ETMLIM=9]="ETMLIM",a[a.ENOPFS=10]="ENOPFS",a[a.ENODFS=11]="ENODFS",a[a.EROOT=12]="EROOT",a[a.ESTOP=13]="ESTOP",a[a.EMIPGAP=14]="EMIPGAP",a[a.ENOFEAS=15]="ENOFEAS",a[a.ENOCVG=16]="ENOCVG",a[a.EINSTAB=17]="EINSTAB",a[a.EDATA=18]="EDATA",a[a.ERANGE=19]="ERANGE"}(b.ReturnCode||(b.ReturnCode={})),function(a){a[a.FFV=1]="FFV",a[a.LFV=2]="LFV",a[a.MFV=3]="MFV",a[a.DTH=4]="DTH",a[a.PCH=5]="PCH"}(b.BranchingTechnique||(b.BranchingTechnique={})),function(a){a[a.DFS=1]="DFS",a[a.BFS=2]="BFS",a[a.BLB=3]="BLB",a[a.BPH=4]="BPH"}(b.BacktrackingTechnique||(b.BacktrackingTechnique={})),function(a){a[a.NONE=0]="NONE",a[a.ROOT=1]="ROOT",a[a.ALL=2]="ALL"}(b.PreprocessingTechnique||(b.PreprocessingTechnique={})),function(a){a[a.PE=1]="PE",a[a.PB=2]="PB",a[a.DE=3]="DE",a[a.DB=4]="DB",a[a.CS=5]="CS"}(b.ConditionIndicator||(b.ConditionIndicator={})),function(a){a[a.ROWGEN=1]="ROWGEN",a[a.BINGO=2]="BINGO",a[a.HEUR=3]="HEUR",a[a.CUTGEN=4]="CUTGEN",a[a.BRANCH=5]="BRANCH",a[a.SELECT=6]="SELECT",a[a.PREPRO=7]="PREPRO"}(b.ReasonCode||(b.ReasonCode={})),function(a){a[a.NO_BRNCH=0]="NO_BRNCH",a[a.DN_BRNCH=1]="DN_BRNCH",a[a.UP_BRNCH=2]="UP_BRNCH"}(b.BranchSelection||(b.BranchSelection={})),function(a){a[a.REG=0]="REG",a[a.LAZY=1]="LAZY",a[a.CUT=2]="CUT"}(b.RowOrigin||(b.RowOrigin={})),function(a){a[a.GMI=1]="GMI",a[a.MIR=2]="MIR",a[a.COV=3]="COV",a[a.CLQ=4]="CLQ"}(b.RowClass||(b.RowClass={})),function(a){a[a.DECK=1]="DECK",a[a.FILE=2]="FILE"}(b.MPSFormat||(b.MPSFormat={}))})(_||(_={}));function g(b,a){return b===void 0?a===void 0?_.BoundType.FREE:_.BoundType.UB:a===void 0?_.BoundType.LB:b===a?_.BoundType.FIXED:_.BoundType.BOUNDED}function A(b){let a=b.model.numConstrs,y=b.model.numVars,x=s._malloc((y+1)*12),D=new Float64Array(s.HEAPU8.buffer,x,y+1),U=new Int32Array(s.HEAPU8.buffer,x+(y+1)*8,y+1);s._glp_eval_tab_row(b.model.ptr,b instanceof W?a+b.id:b.id,x+(y+1)*8,x);let P=Array.from(U.slice(1).filter(M=>M>0),(M,R)=>[M<=a?b.model.constrs[M-1]:b.model.vars[M-1-a],D[R+1]]);return s._free(x),P}function k(b){let a=b.model.numConstrs,y=s._malloc((a+1)*12),x=new Float64Array(s.HEAPU8.buffer,y,a+1),D=new Int32Array(s.HEAPU8.buffer,y+(a+1)*8,a+1);s._glp_eval_tab_col(b.model.ptr,b instanceof W?a+b.id:b.id,y+(a+1)*8,y);let U=Array.from(D.slice(1).filter(P=>P>0),(P,M)=>[P<=a?b.model.constrs[P-1]:b.model.vars[P-1-a],x[M+1]]);return s._free(y),U}let B=new Map([[void 0,_.VariableType.CONTINUOUS],["c",_.VariableType.CONTINUOUS],["cont",_.VariableType.CONTINUOUS],["continuous",_.VariableType.CONTINUOUS],["i",_.VariableType.INTEGER],["int",_.VariableType.INTEGER],["integer",_.VariableType.INTEGER],["b",_.VariableType.BINARY],["bin",_.VariableType.BINARY],["binary",_.VariableType.BINARY]]),F=new Map(Array.from(B.entries(),([b,a])=>[a,b]));function H(b){let a=B.get(b);if(a===void 0)throw new Error(`unknown variable type '${b}'`);return a}let Q=new Map([["basic",_.VariableStatus.BASIC],["lower-bound",_.VariableStatus.LB],["upper-bound",_.VariableStatus.UB],["free",_.VariableStatus.FREE],["fixed",_.VariableStatus.FIXED]]),V=new Map(Array.from(Q.entries(),([b,a])=>[a,b]));class W{get ptr(){return this.model.ptr}constructor(a,y,x){if(this._lb=0,this._ub=0,this.model=a,this._idx=y,x===void 0)return;let{obj:D,lb:U,ub:P,type:M,name:R}=x;D!==void 0&&(this.obj=D),this.setBounds(U,P),M!==void 0&&(this.type=M),R!==void 0&&(this.name=R)}get id(){return this._idx}setBounds(a,y){if(a===this._lb&&y===this._ub)return;this._lb=a,this._ub=y;let x=g(a,y);s._glp_set_col_bnds(this.ptr,this._idx,x,a||0,y||0)}set bounds([a,y]){this.setBounds(a,y)}set name(a){let y=s.lengthBytesUTF8(a)+1,x=s._malloc(y);s.stringToUTF8(a,x,y),s._glp_set_col_name(this.ptr,this._idx,x),s._free(x)}get name(){let a=s._glp_get_col_name(this.ptr,this._idx);return s.UTF8ToString(a)}set lb(a){this.setBounds(a,this.ub)}set ub(a){this.setBounds(this.lb,a)}get lb(){return this._lb}get ub(){return this._ub}get obj(){return s._glp_get_obj_coef(this.ptr,this._idx)}set obj(a){if(typeof a!="number")throw new Error("obj should be a number");s._glp_set_obj_coef(this.ptr,this._idx,a)}set type(a){s._glp_set_col_kind(this.ptr,this._idx,H(a))}get type(){return F.get(s._glp_get_col_kind(this.ptr,this._idx))}get value(){return s._glp_get_col_prim(this.ptr,this._idx)}get dual(){return s._glp_get_col_dual(this.ptr,this._idx)}get valueInt(){return s._glp_ipt_col_prim(this.ptr,this._idx)}get dualInt(){return s._glp_ipt_col_dual(this.ptr,this._idx)}get valueMIP(){return s._glp_mip_col_val(this.ptr,this._idx)}get status(){return V.get(s._glp_get_col_stat(this.ptr,this._idx))}get row(){return A(this)}get column(){return k(this)}}class Z{get ptr(){return this.model.ptr}constructor(a,y,x){if(this._needsUpdate=!1,this.model=a,this._idx=y,this._coeffs=new Map,!x)return;let{lb:D,ub:U,coeffs:P,name:M}=x;this.setBounds(D,U),P!==void 0&&this.addCollection(P),M!==void 0&&(this.name=M)}get id(){return this._idx}set name(a){let y=s.lengthBytesUTF8(a)+1,x=s._malloc(y);s.stringToUTF8(a,x,y),s._glp_set_row_name(this.ptr,this._idx,x),s._free(x)}get name(){let a=s._glp_get_row_name(this.ptr,this._idx);return s.UTF8ToString(a)}setBounds(a,y){if(a===this._lb&&y===this._ub)return;let x=g(a,y);this._lb=a,this._ub=y,s._glp_set_row_bnds(this.ptr,this._idx,x,a||0,y||0)}set bounds([a,y]){this.setBounds(a,y)}set lb(a){this.setBounds(a,this._ub)}set ub(a){this.setBounds(this.lb,a)}get lb(){return this._lb}get ub(){return this._ub}add(a,y){if(y===void 0)return this.addCollection(a);if(!(a instanceof W))throw new Error("variable should have type Variable");if(!y)return this;let x=(this._coeffs.get(a.id)||0)+y;return x?this._coeffs.set(a.id,x):this._coeffs.delete(a.id),this._needsUpdate=!0,this}addCollection(a){let y=a instanceof Array?a:a instanceof Map?a.entries():void 0;if(y===void 0)throw new Error("coeffs should have type Array or Map");for(let[x,D]of y){if(!(x instanceof W))throw new Error("variable should have type Variable");if(!D)continue;let U=(this._coeffs.get(x.id)||0)+D;U?this._coeffs.set(x.id,U):this._coeffs.delete(x.id),this._needsUpdate=!0}return this}update(){if(!this._needsUpdate)return this;let a=this._coeffs.size+1,y=s._malloc(a*4),x=s._malloc(a*8),D=new Int32Array(s.HEAPU8.buffer,y,a),U=new Float64Array(s.HEAPU8.buffer,x,a);D[0]=0,U[0]=0;let P=0;for(let[M,R]of this._coeffs.entries())P++,D[P]=M,U[P]=R;return s._glp_set_mat_row(this.ptr,this._idx,a-1,y,x),s._free(y),s._free(x),this._needsUpdate=!1,this}get value(){return s._glp_get_row_prim(this.ptr,this._idx)}get dual(){return s._glp_get_row_dual(this.ptr,this._idx)}get valueInt(){return s._glp_ipt_row_prim(this.ptr,this._idx)}get dualInt(){return s._glp_ipt_row_dual(this.ptr,this._idx)}get valueMIP(){return s._glp_mip_row_val(this.ptr,this._idx)}get status(){return V.get(s._glp_get_row_stat(this.ptr,this._idx))}get row(){return A(this)}get column(){return k(this)}}let N=new Map([["optimal",_.Status.OPTIMAL],["feasible",_.Status.FEASIBLE],["infeasible",_.Status.INFEASIBLE],["no_feasible",_.Status.NO_FEASIBLE],["unbounded",_.Status.UNBOUNDED],["undefined",_.Status.UNDEFINED]]),K=new Map(Array.from(N.entries(),([b,a])=>[a,b]));function G(b){return K.get(b)}function ie(b){let a={all:_.MessageLevel.ALL,on:_.MessageLevel.ON,off:_.MessageLevel.OFF,debug:_.MessageLevel.DBG,error:_.MessageLevel.ERR}[b];if(a===void 0)throw new Error(`unknown message level '${b}'`);return a}t.Interior=void 0,function(b){function a(x){let D={none:_.OrderingAlgorithm.NONE,qmd:_.OrderingAlgorithm.QMD,amd:_.OrderingAlgorithm.AMD,symamd:_.OrderingAlgorithm.SYMAMD}[x];if(D===void 0)throw new Error(`unknown ordering '${x}'`);return D}function y(x,D){let U=s._malloc(392);s._glp_init_iptcp(U),D.msgLevel!==void 0&&s.setValue(U,ie(D.msgLevel),"i32"),D.ordering!==void 0&&s.setValue(U+4,a(D.ordering),"i32");let P=s._glp_interior(x.ptr,U);switch(s._free(U),P){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EFAIL:return"no_data";case _.ReturnCode.ENOCVG:return"no_convergence";case _.ReturnCode.EITLIM:return"iteration_limit";case _.ReturnCode.EINSTAB:return"instability";default:throw new Error(`unknown return code from interior: ${P}`)}}b.solve=y}(t.Interior||(t.Interior={})),t.Simplex=void 0,function(b){function a(R){let S={primal:_.Method.PRIMAL,dual:_.Method.DUAL,dual_primal:_.Method.DUALP}[R];if(S===void 0)throw new Error(`unknown method '${R}'`);return S}function y(R){let S={std:_.Pricing.STD,pse:_.Pricing.PSE}[R];if(S===void 0)throw new Error(`unknown pricing '${R}'`);return S}function x(R){let S={std:_.RatioTest.STD,harris:_.RatioTest.HAR,flipflop:_.RatioTest.FLIP}[R];if(S===void 0)throw new Error(`unknown ratioTest '${R}'`);return S}function D(R){switch(R){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EBADB:return"basis_invalid";case _.ReturnCode.ESING:return"basis_singular";case _.ReturnCode.ECOND:return"basis_ill_conditioned";case _.ReturnCode.EBOUND:return"bounds_incorrect";case _.ReturnCode.EFAIL:return"failure";case _.ReturnCode.EOBJLL:return"objective_lower";case _.ReturnCode.EOBJUL:return"objective_upper";case _.ReturnCode.EITLIM:return"iteration_limit";case _.ReturnCode.ETMLIM:return"time_limit";case _.ReturnCode.ENOPFS:return"no_primal_feasible";case _.ReturnCode.ENODFS:return"no_dual_feasible";default:throw new Error(`unknown return code from simplex: ${R}`)}}function U(R){let S=s._malloc(352);return s._glp_init_smcp(S),R.msgLevel!==void 0&&s.setValue(S,ie(R.msgLevel),"i32"),R.method!==void 0&&s.setValue(S+4,a(R.method),"i32"),R.pricing!==void 0&&s.setValue(S+8,y(R.pricing),"i32"),R.ratioTest!==void 0&&s.setValue(S+12,x(R.ratioTest),"i32"),R.tolPrimal!==void 0&&s.setValue(S+16,R.tolPrimal,"double"),R.tolDual!==void 0&&s.setValue(S+24,R.tolDual,"double"),R.tolPivot!==void 0&&s.setValue(S+32,R.tolPivot,"double"),R.objLower!==void 0&&s.setValue(S+40,R.objLower,"double"),R.objUpper!==void 0&&s.setValue(S+48,R.objUpper,"double"),R.limitIter!==void 0&&s.setValue(S+56,R.limitIter,"i32"),R.limitTime!==void 0&&s.setValue(S+60,R.limitTime,"i32"),R.logFreq!==void 0&&s.setValue(S+64,R.logFreq,"i32"),R.logDelay!==void 0&&s.setValue(S+68,R.logDelay,"i32"),R.presolve!==void 0&&s.setValue(S+72,R.presolve?1:0,"i32"),S}function P(R,S){let z=U(S),$=s._glp_simplex(R.ptr,z);return s._free(z),D($)}b.solve=P;function M(R,S){let z=U(S),$=s._glp_exact(R.ptr,z);return s._free(z),D($)}b.solveExact=M}(t.Simplex||(t.Simplex={}));let ue={row:_.ReasonCode.ROWGEN,improved:_.ReasonCode.BINGO,heuristic:_.ReasonCode.HEUR,cut:_.ReasonCode.CUTGEN,branch:_.ReasonCode.BRANCH,select:_.ReasonCode.SELECT,preprocessing:_.ReasonCode.PREPRO},ce=new Map(Object.entries(ue).map(([b,a])=>[a,b])),_e={regular:_.RowOrigin.REG,lazy:_.RowOrigin.LAZY,cut:_.RowOrigin.CUT},de=new Map(Object.entries(_e).map(([b,a])=>[a,b])),Re={gomory:_.RowClass.GMI,mir:_.RowClass.MIR,cover:_.RowClass.COV,clique:_.RowClass.CLQ},De=new Map(Object.entries(Re).map(([b,a])=>[a,b])),v={down:_.BranchSelection.DN_BRNCH,up:_.BranchSelection.UP_BRNCH,general:_.BranchSelection.NO_BRNCH};class O{constructor(a,y){this.tree=a,this.idx=y}select(){s._glp_ios_select_node(this.tree.ptr,this.idx)}get next(){let a=s._glp_ios_next_node(this.tree.ptr,this.idx);if(a!==0)return new O(this.tree,a)}get previous(){let a=s._glp_ios_prev_node(this.tree.ptr,this.idx);if(a!==0)return new O(this.tree,a)}get parent(){let a=s._glp_ios_up_node(this.tree.ptr,this.idx);if(a!==0)return new O(this.tree,a)}get level(){return s._glp_ios_node_level(this.tree.ptr,this.idx)}get bound(){return s._glp_ios_node_bound(this.tree.ptr,this.idx)}}class T{constructor(a){this.ptr=a}static _alloc(){T._data===void 0&&(T._data=s._malloc(72))}get reason(){let a=s._glp_ios_reason(this.ptr),y=ce.get(a);if(y===void 0)throw new Error(`unknown reason code '${a}'`);return y}get model(){let a=s._glp_ios_get_prob(this.ptr);return L.fromPointer(a)}rowAttribute(a){return T._alloc(),s._glp_ios_row_attr(this.ptr,a,T._data),{level:s.getValue(T._data+0,"i32"),origin:de.get(s.getValue(T._data+4,"i32")),cls:De.get(s.getValue(T._data+8,"i32"))}}get gap(){return s._glp_ios_mip_gap(this.ptr)}setHeuristicSolution(a){let y=a.length,x=s._malloc(y*8),D=new Float64Array(s.HEAPU8.buffer,x,y);if(a instanceof Float64Array)a.set(D);else for(let[U,P]of a.entries())D[U]=P;s._glp_ios_heur_sol(this.ptr,x),s._free(x)}canBranch(a){return s._glp_ios_can_branch(this.ptr,a)}branchUpon(a,y){let x=v[y];if(x===void 0)throw new Error(`unknown branch selection '${y}'`);s._glp_ios_branch_upon(this.ptr,a,x)}terminate(){s._glp_ios_terminate(this.ptr)}get size(){T._alloc();let a=T._data;return s._glp_ios_tree_size(this.ptr,a,a+4,a+8),{active:s.getValue(a,"i32"),current:s.getValue(a+4,"i32"),total:s.getValue(a+8,"i32")}}get currentNode(){let a=s._glp_ios_curr_node(this.ptr);if(a!==0)return new O(this,a)}get bestNode(){let a=s._glp_ios_best_node(this.ptr);if(a!==0)return new O(this,a)}get firstNode(){let a=s._glp_ios_next_node(this.ptr,0);if(a!==0)return new O(this,a)}get lastNode(){let a=s._glp_ios_prev_node(this.ptr,0);if(a!==0)return new O(this,a)}get cutPoolSize(){return s._glp_ios_pool_size(this.ptr)}clearCutPool(){s._glp_ios_clear_pool(this.ptr)}}t.MIP=void 0,function(b){let a={ffv:_.BranchingTechnique.FFV,lfv:_.BranchingTechnique.LFV,mfv:_.BranchingTechnique.MFV,dth:_.BranchingTechnique.DTH,pch:_.BranchingTechnique.PCH,first_fractional:_.BranchingTechnique.FFV,last_fractional:_.BranchingTechnique.LFV,most_fractional:_.BranchingTechnique.MFV,driebeck_tomlin:_.BranchingTechnique.DTH,hybrid_pseudocost:_.BranchingTechnique.PCH},y={dfs:_.BacktrackingTechnique.DFS,bfs:_.BacktrackingTechnique.BFS,blb:_.BacktrackingTechnique.BLB,bph:_.BacktrackingTechnique.BPH,depth_first:_.BacktrackingTechnique.DFS,breadth_first:_.BacktrackingTechnique.BFS,best_bound:_.BacktrackingTechnique.BLB,best_projection:_.BacktrackingTechnique.BPH},x={none:_.PreprocessingTechnique.NONE,root:_.PreprocessingTechnique.ROOT,all:_.PreprocessingTechnique.ALL};function D(M){switch(M){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EBOUND:return"bounds_incorrect";case _.ReturnCode.EROOT:return"no_root_basis";case _.ReturnCode.ENOPFS:return"no_primal_feasible";case _.ReturnCode.ENODFS:return"no_dual_feasible";case _.ReturnCode.EFAIL:return"failure";case _.ReturnCode.EMIPGAP:return"mip_gap_tolerance";case _.ReturnCode.ETMLIM:return"time_limit";case _.ReturnCode.ESTOP:return"stopped";default:throw new Error(`unknown return code from intopt: ${M}`)}}function U(M){let R=s._malloc(328);s._glp_init_iocp(R);let S;if(M.msgLevel!==void 0&&s.setValue(R,ie(M.msgLevel),"i32"),M.branching!==void 0){if(S=a[M.branching],S===void 0)throw new Error(`unknown branching technique '${M.branching}'`);s.setValue(R+4,S,"i32")}if(M.backtracking!==void 0){if(S=y[M.backtracking],S===void 0)throw new Error(`unknown backtracking technique '${M.backtracking}'`);s.setValue(R+8,S,"i32")}if(M.tolInt!==void 0&&s.setValue(R+16,M.tolInt,"double"),M.tolObj!==void 0&&s.setValue(R+24,M.tolObj,"double"),M.limitTime!==void 0&&s.setValue(R+32,M.limitTime,"i32"),M.logFreq!==void 0&&s.setValue(R+36,M.logFreq,"i32"),M.logDelay!==void 0&&s.setValue(R+40,M.logDelay,"i32"),M.callbackPtr!==void 0&&s.setValue(R+44,M.callbackPtr,"*"),M.preprocessing!==void 0){if(S=x[M.preprocessing],S===void 0)throw new Error(`unknown preprocessing technique '${M.preprocessing}'`);s.setValue(R+56,S,"i32")}return M.gapMIP!==void 0&&s.setValue(R+64,M.gapMIP,"double"),M.cutsMIR!==void 0&&s.setValue(R+72,M.cutsMIR?1:0,"i32"),M.cutsGomory!==void 0&&s.setValue(R+76,M.cutsGomory?1:0,"i32"),M.cutsCover!==void 0&&s.setValue(R+80,M.cutsCover?1:0,"i32"),M.cutsClique!==void 0&&s.setValue(R+84,M.cutsClique?1:0,"i32"),M.presolve!==void 0&&s.setValue(R+88,M.presolve?1:0,"i32"),M.binarize!==void 0&&s.setValue(R+92,M.binarize?1:0,"i32"),M.heuristicFP!==void 0&&s.setValue(R+96,M.heuristicFP?1:0,"i32"),M.heuristicPS!==void 0&&s.setValue(R+100,M.heuristicPS?1:0,"i32"),M.limitProxy!==void 0&&s.setValue(R+104,M.limitProxy,"i32"),M.heuristicRound!==void 0&&s.setValue(R+108,M.heuristicRound?1:0,"i32"),R}function P(M,R){if(R.callback!==void 0){let $=R.callback;R.callbackPtr=s.addFunction(q=>$(new T(q)),"vii")}let S=U(R||{}),z=s._glp_intopt(M.ptr,S);return s._free(S),R.callback!==void 0&&(s.removeFunction(R.callbackPtr),R.callbackPtr=void 0),D(z)}b.solve=P}(t.MIP||(t.MIP={}));class L{get vars(){return this._vars}get constrs(){return this._constrs}constructor(a){if(this._vars=[],this._constrs=[],s===void 0)throw new Error("wasm module not loaded");if(this.ptr=s._glp_create_prob(),a===void 0)return;let{name:y,sense:x}=a;y!==void 0&&(this.name=y),x!==void 0&&(this.sense=x)}set name(a){let y=s.lengthBytesUTF8(a)+1,x=s._malloc(y);s.stringToUTF8(a,x,y),s._glp_set_prob_name(this.ptr,x),s._free(x)}get name(){let a=s._glp_get_prob_name(this.ptr);return s.UTF8ToString(a)}static fromPointer(a){let y=Object.create(L.prototype);return y.ptr=a,y}get value(){return s._glp_get_obj_val(this.ptr)}get valueInt(){return s._glp_ipt_obj_val(this.ptr)}get valueMIP(){return s._glp_mip_obj_val(this.ptr)}get numVars(){return s._glp_get_num_cols(this.ptr)}get numConstrs(){return s._glp_get_num_rows(this.ptr)}get numNZs(){return s._glp_get_num_nz(this.ptr)}get numBinary(){return s._glp_get_num_bin(this.ptr)}get numInteger(){return s._glp_get_num_int(this.ptr)}get status(){let a=s._glp_get_status(this.ptr);return G(a)}get statusPrimal(){let a=s._glp_get_prim_stat(this.ptr);return G(a)}get statusDual(){let a=s._glp_get_dual_stat(this.ptr);return G(a)}get statusInt(){let a=s._glp_ipt_status(this.ptr);return G(a)}get statusMIP(){let a=s._glp_mip_status(this.ptr);return G(a)}addVars(a,y){return Number.isInteger(a)?this.addVarsByCount(a,y):Array.isArray(a)?a.length===0||typeof a[0]=="string"?this.addVarsByKeys(a,y):this.addVarsByProperties(a):this.addVarsFromPropertiesArray(a)}addVar(a){let y=s._glp_add_cols(this.ptr,1),x=new W(this,y,a);return this._vars.push(x),x}addVarsByProperties(a){let y=s._glp_add_cols(this.ptr,a.length),x=a.map((D,U)=>new W(this,y+U,D));return this._vars=this._vars.concat(x),x}addVarsByCount(a,y){let x=s._glp_add_cols(this.ptr,a),D=Array.from(Array(a).keys(),U=>new W(this,x+U,y&&y.name?Object.assign(Object.assign({},y),{name:`${y.name}_${U}`}):y));return this._vars=this._vars.concat(D),D}addVarsByKeys(a,y){let x=y||{},{name:D}=x,U=l(x,["name"]);return this.addVarsFromPropertiesArray(Object.fromEntries(a.map(P=>[P,Object.assign(Object.assign({},U),{name:`${D}[${P}]`})])))}addVarsFromPropertiesArray(a){let y=[...Object.keys(a)];return Object.fromEntries(this.addVarsByProperties(Object.values(a)).map((x,D)=>[y[D],x]))}addConstrs(a,y){return Number.isInteger(a)?this.addConstrsByCount(a,y):this.addConstrsByProperties(a)}addConstr(a){let y=s._glp_add_rows(this.ptr,1),x=new Z(this,y,a);return this._constrs.push(x),x}addConstrsByProperties(a){let y=s._glp_add_rows(this.ptr,a.length),x=a.map((D,U)=>new Z(this,y+U,D));return this._constrs=this._constrs.concat(x),x}addConstrsByCount(a,y){let x=s._glp_add_rows(this.ptr,a),D=Array.from(Array(a).keys(),U=>new Z(this,x+U,y&&y.name?Object.assign(Object.assign({},y),{name:`${y.name}_${U}`}):y));return this._constrs=this._constrs.concat(D),D}update(){for(let a of this._constrs)a.update()}get sense(){return s._glp_get_obj_dir(this.ptr)===_.ObjectiveDirection.MIN?"min":"max"}set sense(a){if(a!=="min"&&a!=="max")throw new Error(`unknown sense '${a}'`);s._glp_set_obj_dir(this.ptr,a==="min"?_.ObjectiveDirection.MIN:_.ObjectiveDirection.MAX)}toModelLP(){this.update();let a="_tmp.lp",y=s._malloc(a.length+1);return s.stringToUTF8(a,y,a.length+1),s._glp_write_lp(this.ptr,0,y),s._free(y),s.FS.readFile(a,{encoding:"utf8"})}_refreshVariables(){let a=s._glp_get_num_cols(this.ptr);this._vars=Array.from(Array(a).keys(),y=>new W(this,y+1,{lb:s._glp_get_col_lb(this.ptr,y+1),ub:s._glp_get_col_ub(this.ptr,y+1)}))}_refreshConstraints(){let a=s._glp_get_num_rows(this.ptr);this._constrs=Array.from(Array(a).keys(),y=>new Z(this,y+1,{lb:s._glp_get_row_lb(this.ptr,y+1),ub:s._glp_get_row_ub(this.ptr,y+1)}))}static fromModelLP(a){let y=new L,x="_tmp.lp";s.FS.writeFile(x,a);let D=s._malloc(x.length+1);return s.stringToUTF8(x,D,x.length+1),s._glp_read_lp(y.ptr,0,D),s._free(D),y._refreshVariables(),y._refreshConstraints(),y}toMPS(){this.update();let a="_tmp.mps",y=s._malloc(a.length+1);return s.stringToUTF8(a,y,a.length+1),s._glp_write_mps(this.ptr,_.MPSFormat.FILE,0,y),s._free(y),s.FS.readFile(a,{encoding:"utf8"})}static fromMPS(a,y){let x=new L,D="_tmp.mps";s.FS.writeFile(D,a);let U=s._malloc(D.length+1);s.stringToUTF8(D,U,D.length+1);let P=y==="deck"?_.MPSFormat.DECK:_.MPSFormat.FILE,M=s._glp_read_mps(x.ptr,P,0,U);if(s._free(U),M!==0)throw new Error("mps reading failed");return x._refreshVariables(),x._refreshConstraints(),x}simplex(a){return this.update(),t.Simplex.solve(this,a||{})}exact(a){return this.update(),t.Simplex.solveExact(this,a||{})}interior(a){return this.update(),t.Interior.solve(this,a||{})}intopt(a){return this.update(),t.MIP.solve(this,a||{})}get solution(){switch(this.status){case"undefined":case"infeasible":throw new Error(`status is '${this.status}', run simplex first`);case"feasible":case"optimal":return[`status = ${this.status}`,...this._vars.map(a=>`${a.name} = ${a.value}`),`value = ${this.value}`].join(`
`);case"unbounded":return"problem is unbounded";case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionInt(){switch(this.statusInt){case"undefined":case"infeasible":throw new Error(`status is '${this.statusInt}', run interior first`);case"optimal":return[`status = ${this.statusInt}`,...this._vars.map(a=>`${a.name} = ${Number(a.valueInt.toFixed(6))}`),`value = ${Number(this.valueInt.toFixed(6))}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionMIP(){switch(this.statusMIP){case"undefined":throw new Error(`status is '${this.statusMIP}', run intopt first`);case"feasible":case"optimal":return[`status = ${this.statusMIP}`,...this._vars.map(a=>`${a.name} = ${a.valueMIP}`),`value = ${this.valueMIP}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get ray(){let a=s._glp_get_unbnd_ray(this.ptr);if(a===0)throw new Error("no unbounded ray");return a<=this.numConstrs?this._constrs[a-1]:this._vars[a-1-this.numConstrs]}getTableau(a){let y=a===void 0?a=x=>x.toString():a;return[...[...this.vars,...this.constrs].filter(x=>x.status==="basic").map(x=>x.name+" = "+[...x.row.map(([D,U])=>`${y(D instanceof W?U:-U)} ${D.name}`),y(x.value)].join(" + ")),"z = "+[...[...this.vars,...this.constrs].filter(x=>x.status!=="basic").map(x=>`${y(x instanceof W?x.dual:-x.dual)} ${x.name}`),y(this.value)].join(" + ")].join(`
`)}}t.Constraint=Z,t.Model=L,t.Node=O,t.Tree=T,t.Variable=W,t.loadModule=m,Object.defineProperty(t,"__esModule",{value:!0})})});var wi=(()=>{class t{constructor(){this.http=we(ai),this.datasetsSvc=we(di),this.preferencesSvc=we(mr),this.settingsSvc=we(hr),this.cacheData={},this.cacheI18n={},this.error$=new zt(void 0),this.config$=this.http.get("assets/release.json").pipe(_r(1)),cn(()=>{let e=this.settingsSvc.modId();e!=null&&this.requestData(e).subscribe()}),cn(()=>{let e=this.settingsSvc.modId(),i=this.preferencesSvc.language();e==null||i===pi.English||this.requestI18n(e,i).subscribe()})}requestData(e){return this.cacheData[e]||(this.cacheData[e]=ti([this.http.get(`data/${e}/data.json`),this.http.get(`data/${e}/hash.json`)]).pipe(ln(([i,l])=>{this.datasetsSvc.loadData(e,i,l)}),sn(i=>(this.error$.next(i.message),on)),_r())),this.cacheData[e]}requestI18n(e,i){return this.cacheI18n[e]||(this.cacheI18n[e]={}),this.cacheI18n[e][i]||(this.cacheI18n[e][i]=this.http.get(`data/${e}/i18n/${i}.json`).pipe(sn(()=>on),ln(l=>{this.datasetsSvc.loadI18n(e,i,l)}),_r())),this.cacheI18n[e][i]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=We({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xf=576,Ld=(()=>{class t{constructor(){this.dataSvc=we(wi),this.windowScrollY=()=>window.scrollY,this.windowInnerWidth=()=>window.innerWidth,this.scrollTop=fn(an(window,"scroll").pipe(pr(this.windowScrollY)),{initialValue:window.scrollY}),this.width=fn(an(window,"resize").pipe(pr(this.windowInnerWidth)),{initialValue:window.innerWidth}),this.isMobile=Se(()=>this.width()<Xf),this.showToast$=new nn,this.showConfirm$=new nn,this.translateSelectedItem$=new zt(void 0),this.translateItem$=new zt(void 0),this.settingsActive=un(!1),this.settingsXlHidden=un(!1),this.version$=this.dataSvc.config$.pipe(pr(e=>fi(e.version)))}confirm(e){this.showConfirm$.next(e)}toggleSettings(){this.settingsActive.set(!this.settingsActive())}toggleSettingsXl(){this.settingsXlHidden.set(!this.settingsXlHidden())}reload(){location.reload()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=We({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pe=function(t){return t[t.Output=0]="Output",t[t.Input=1]="Input",t[t.Maximize=2]="Maximize",t[t.Limit=3]="Limit",t}(pe||{}),Cd=[{value:pe.Output,label:"options.objectiveType.output"},{value:pe.Input,label:"options.objectiveType.input"},{value:pe.Maximize,label:"options.objectiveType.maximize"},{value:pe.Limit,label:"options.objectiveType.limit"}];function Wf(){}function mt(t){return t==null?Wf:function(){return this.querySelector(t)}}function bi(t){typeof t!="function"&&(t=mt(t));for(var n=this._groups,e=n.length,i=new Array(e),l=0;l<e;++l)for(var c=n[l],f=c.length,s=i[l]=new Array(f),m,_,g=0;g<f;++g)(m=c[g])&&(_=t.call(m,m.__data__,g,c))&&("__data__"in m&&(_.__data__=m.__data__),s[g]=_);return new me(i,this._parents)}function mn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Gf(){return[]}function Ct(t){return t==null?Gf:function(){return this.querySelectorAll(t)}}function Yf(t){return function(){return mn(t.apply(this,arguments))}}function xi(t){typeof t=="function"?t=Yf(t):t=Ct(t);for(var n=this._groups,e=n.length,i=[],l=[],c=0;c<e;++c)for(var f=n[c],s=f.length,m,_=0;_<s;++_)(m=f[_])&&(i.push(t.call(m,m.__data__,_,f)),l.push(m));return new me(i,l)}function Vt(t){return function(){return this.matches(t)}}function vr(t){return function(n){return n.matches(t)}}var Kf=Array.prototype.find;function Qf(t){return function(){return Kf.call(this.children,t)}}function Zf(){return this.firstElementChild}function Ei(t){return this.select(t==null?Zf:Qf(typeof t=="function"?t:vr(t)))}var Jf=Array.prototype.filter;function ep(){return Array.from(this.children)}function tp(t){return function(){return Jf.call(this.children,t)}}function ki(t){return this.selectAll(t==null?ep:tp(typeof t=="function"?t:vr(t)))}function Ii(t){typeof t!="function"&&(t=Vt(t));for(var n=this._groups,e=n.length,i=new Array(e),l=0;l<e;++l)for(var c=n[l],f=c.length,s=i[l]=[],m,_=0;_<f;++_)(m=c[_])&&t.call(m,m.__data__,_,c)&&s.push(m);return new me(i,this._parents)}function yr(t){return new Array(t.length)}function Si(){return new me(this._enter||this._groups.map(yr),this._parents)}function Ut(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ut.prototype={constructor:Ut,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ai(t){return function(){return t}}function rp(t,n,e,i,l,c){for(var f=0,s,m=n.length,_=c.length;f<_;++f)(s=n[f])?(s.__data__=c[f],i[f]=s):e[f]=new Ut(t,c[f]);for(;f<m;++f)(s=n[f])&&(l[f]=s)}function np(t,n,e,i,l,c,f){var s,m,_=new Map,g=n.length,A=c.length,k=new Array(g),B;for(s=0;s<g;++s)(m=n[s])&&(k[s]=B=f.call(m,m.__data__,s,n)+"",_.has(B)?l[s]=m:_.set(B,m));for(s=0;s<A;++s)B=f.call(t,c[s],s,c)+"",(m=_.get(B))?(i[s]=m,m.__data__=c[s],_.delete(B)):e[s]=new Ut(t,c[s]);for(s=0;s<g;++s)(m=n[s])&&_.get(k[s])===m&&(l[s]=m)}function ip(t){return t.__data__}function Ti(t,n){if(!arguments.length)return Array.from(this,ip);var e=n?np:rp,i=this._parents,l=this._groups;typeof t!="function"&&(t=Ai(t));for(var c=l.length,f=new Array(c),s=new Array(c),m=new Array(c),_=0;_<c;++_){var g=i[_],A=l[_],k=A.length,B=op(t.call(g,g&&g.__data__,_,i)),F=B.length,H=s[_]=new Array(F),Q=f[_]=new Array(F),V=m[_]=new Array(k);e(g,A,H,Q,V,B,n);for(var W=0,Z=0,N,K;W<F;++W)if(N=H[W]){for(W>=Z&&(Z=W+1);!(K=Q[Z])&&++Z<F;);N._next=K||null}}return f=new me(f,i),f._enter=s,f._exit=m,f}function op(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Oi(){return new me(this._exit||this._groups.map(yr),this._parents)}function Mi(t,n,e){var i=this.enter(),l=this,c=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(l=n(l),l&&(l=l.selection())),e==null?c.remove():e(c),i&&l?i.merge(l).order():l}function Ni(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,l=e.length,c=i.length,f=Math.min(l,c),s=new Array(l),m=0;m<f;++m)for(var _=e[m],g=i[m],A=_.length,k=s[m]=new Array(A),B,F=0;F<A;++F)(B=_[F]||g[F])&&(k[F]=B);for(;m<l;++m)s[m]=e[m];return new me(s,this._parents)}function Ri(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],l=i.length-1,c=i[l],f;--l>=0;)(f=i[l])&&(c&&f.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(f,c),c=f);return this}function Di(t){t||(t=ap);function n(A,k){return A&&k?t(A.__data__,k.__data__):!A-!k}for(var e=this._groups,i=e.length,l=new Array(i),c=0;c<i;++c){for(var f=e[c],s=f.length,m=l[c]=new Array(s),_,g=0;g<s;++g)(_=f[g])&&(m[g]=_);m.sort(n)}return new me(l,this._parents).order()}function ap(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Pi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fi(){return Array.from(this)}function Bi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],l=0,c=i.length;l<c;++l){var f=i[l];if(f)return f}return null}function zi(){let t=0;for(let n of this)++t;return t}function Li(){return!this.node()}function ji(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var l=n[e],c=0,f=l.length,s;c<f;++c)(s=l[c])&&t.call(s,s.__data__,c,l);return this}var wr="http://www.w3.org/1999/xhtml",hn={svg:"http://www.w3.org/2000/svg",xhtml:wr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ze(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),hn.hasOwnProperty(n)?{space:hn[n],local:t}:t}function sp(t){return function(){this.removeAttribute(t)}}function lp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function up(t,n){return function(){this.setAttribute(t,n)}}function cp(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function fp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function pp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ci(t,n){var e=Ze(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?lp:sp:typeof n=="function"?e.local?pp:fp:e.local?cp:up)(e,n))}function br(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _p(t){return function(){this.style.removeProperty(t)}}function dp(t,n,e){return function(){this.style.setProperty(t,n,e)}}function mp(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Vi(t,n,e){return arguments.length>1?this.each((n==null?_p:typeof n=="function"?mp:dp)(t,n,e??"")):it(this.node(),t)}function it(t,n){return t.style.getPropertyValue(n)||br(t).getComputedStyle(t,null).getPropertyValue(n)}function hp(t){return function(){delete this[t]}}function gp(t,n){return function(){this[t]=n}}function vp(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ui(t,n){return arguments.length>1?this.each((n==null?hp:typeof n=="function"?vp:gp)(t,n)):this.node()[t]}function $i(t){return t.trim().split(/^|\s+/)}function gn(t){return t.classList||new Hi(t)}function Hi(t){this._node=t,this._names=$i(t.getAttribute("class")||"")}Hi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qi(t,n){for(var e=gn(t),i=-1,l=n.length;++i<l;)e.add(n[i])}function Xi(t,n){for(var e=gn(t),i=-1,l=n.length;++i<l;)e.remove(n[i])}function yp(t){return function(){qi(this,t)}}function wp(t){return function(){Xi(this,t)}}function bp(t,n){return function(){(n.apply(this,arguments)?qi:Xi)(this,t)}}function Wi(t,n){var e=$i(t+"");if(arguments.length<2){for(var i=gn(this.node()),l=-1,c=e.length;++l<c;)if(!i.contains(e[l]))return!1;return!0}return this.each((typeof n=="function"?bp:n?yp:wp)(e,n))}function xp(){this.textContent=""}function Ep(t){return function(){this.textContent=t}}function kp(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Gi(t){return arguments.length?this.each(t==null?xp:(typeof t=="function"?kp:Ep)(t)):this.node().textContent}function Ip(){this.innerHTML=""}function Sp(t){return function(){this.innerHTML=t}}function Ap(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Yi(t){return arguments.length?this.each(t==null?Ip:(typeof t=="function"?Ap:Sp)(t)):this.node().innerHTML}function Tp(){this.nextSibling&&this.parentNode.appendChild(this)}function Ki(){return this.each(Tp)}function Op(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qi(){return this.each(Op)}function Mp(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===wr&&n.documentElement.namespaceURI===wr?n.createElement(t):n.createElementNS(e,t)}}function Np(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function xr(t){var n=Ze(t);return(n.local?Np:Mp)(n)}function Zi(t){var n=typeof t=="function"?t:xr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Rp(){return null}function Ji(t,n){var e=typeof t=="function"?t:xr(t),i=n==null?Rp:typeof n=="function"?n:mt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function Dp(){var t=this.parentNode;t&&t.removeChild(this)}function eo(){return this.each(Dp)}function Pp(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Fp(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function to(t){return this.select(t?Fp:Pp)}function ro(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Bp(t){return function(n){t.call(this,n,this.__data__)}}function zp(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function Lp(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,l=n.length,c;e<l;++e)c=n[e],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):n[++i]=c;++i?n.length=i:delete this.__on}}}function jp(t,n,e){return function(){var i=this.__on,l,c=Bp(n);if(i){for(var f=0,s=i.length;f<s;++f)if((l=i[f]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=e),l.value=n;return}}this.addEventListener(t.type,c,e),l={type:t.type,name:t.name,value:n,listener:c,options:e},i?i.push(l):this.__on=[l]}}function no(t,n,e){var i=zp(t+""),l,c=i.length,f;if(arguments.length<2){var s=this.node().__on;if(s){for(var m=0,_=s.length,g;m<_;++m)for(l=0,g=s[m];l<c;++l)if((f=i[l]).type===g.type&&f.name===g.name)return g.value}return}for(s=n?jp:Lp,l=0;l<c;++l)this.each(s(i[l],n,e));return this}function io(t,n,e){var i=br(t),l=i.CustomEvent;typeof l=="function"?l=new l(n,e):(l=i.document.createEvent("Event"),e?(l.initEvent(n,e.bubbles,e.cancelable),l.detail=e.detail):l.initEvent(n,!1,!1)),t.dispatchEvent(l)}function Cp(t,n){return function(){return io(this,t,n)}}function Vp(t,n){return function(){return io(this,t,n.apply(this,arguments))}}function oo(t,n){return this.each((typeof n=="function"?Vp:Cp)(t,n))}function*ao(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],l=0,c=i.length,f;l<c;++l)(f=i[l])&&(yield f)}var vn=[null];function me(t,n){this._groups=t,this._parents=n}function so(){return new me([[document.documentElement]],vn)}function Up(){return this}me.prototype=so.prototype={constructor:me,select:bi,selectAll:xi,selectChild:Ei,selectChildren:ki,filter:Ii,data:Ti,enter:Si,exit:Oi,join:Mi,merge:Ni,selection:Up,order:Ri,sort:Di,call:Pi,nodes:Fi,node:Bi,size:zi,empty:Li,each:ji,attr:Ci,style:Vi,property:Ui,classed:Wi,text:Gi,html:Yi,raise:Ki,lower:Qi,append:Zi,insert:Ji,remove:eo,clone:to,datum:ro,on:no,dispatch:oo,[Symbol.iterator]:ao};var Je=so;function Be(t){return typeof t=="string"?new me([[document.querySelector(t)]],[document.documentElement]):new me([[t]],vn)}function lo(t){let n;for(;n=t.sourceEvent;)t=n;return t}function ze(t,n){if(t=lo(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop]}}return[t.pageX,t.pageY]}var $p={value:()=>{}};function co(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Er(e)}function Er(t){this._=t}function Hp(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",l=e.indexOf(".");if(l>=0&&(i=e.slice(l+1),e=e.slice(0,l)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Er.prototype=co.prototype={constructor:Er,on:function(t,n){var e=this._,i=Hp(t+"",e),l,c=-1,f=i.length;if(arguments.length<2){for(;++c<f;)if((l=(t=i[c]).type)&&(l=qp(e[l],t.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<f;)if(l=(t=i[c]).type)e[l]=uo(e[l],t.name,n);else if(n==null)for(l in e)e[l]=uo(e[l],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Er(t)},call:function(t,n){if((l=arguments.length-2)>0)for(var e=new Array(l),i=0,l,c;i<l;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],i=0,l=c.length;i<l;++i)c[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],l=0,c=i.length;l<c;++l)i[l].value.apply(n,e)}};function qp(t,n){for(var e=0,i=t.length,l;e<i;++e)if((l=t[e]).name===n)return l.value}function uo(t,n,e){for(var i=0,l=t.length;i<l;++i)if(t[i].name===n){t[i]=$p,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var ht=co;var fo={passive:!1},gt={capture:!0,passive:!1};function kr(t){t.stopImmediatePropagation()}function ot(t){t.preventDefault(),t.stopImmediatePropagation()}function $t(t){var n=t.document.documentElement,e=Be(t).on("dragstart.drag",ot,gt);"onselectstart"in n?e.on("selectstart.drag",ot,gt):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ht(t,n){var e=t.document.documentElement,i=Be(t).on("dragstart.drag",null);n&&(i.on("click.drag",ot,gt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var qt=t=>()=>t;function Xt(t,{sourceEvent:n,subject:e,target:i,identifier:l,active:c,x:f,y:s,dx:m,dy:_,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:g}})}Xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Xp(t){return!t.ctrlKey&&!t.button}function Wp(){return this.parentNode}function Gp(t,n){return n??{x:t.x,y:t.y}}function Yp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kp(){var t=Xp,n=Wp,e=Gp,i=Yp,l={},c=ht("start","drag","end"),f=0,s,m,_,g,A=0;function k(N){N.on("mousedown.drag",B).filter(i).on("touchstart.drag",Q).on("touchmove.drag",V,fo).on("touchend.drag touchcancel.drag",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function B(N,K){if(!(g||!t.call(this,N,K))){var G=Z(this,n.call(this,N,K),N,K,"mouse");G&&(Be(N.view).on("mousemove.drag",F,gt).on("mouseup.drag",H,gt),$t(N.view),kr(N),_=!1,s=N.clientX,m=N.clientY,G("start",N))}}function F(N){if(ot(N),!_){var K=N.clientX-s,G=N.clientY-m;_=K*K+G*G>A}l.mouse("drag",N)}function H(N){Be(N.view).on("mousemove.drag mouseup.drag",null),Ht(N.view,_),ot(N),l.mouse("end",N)}function Q(N,K){if(t.call(this,N,K)){var G=N.changedTouches,ie=n.call(this,N,K),ue=G.length,ce,_e;for(ce=0;ce<ue;++ce)(_e=Z(this,ie,N,K,G[ce].identifier,G[ce]))&&(kr(N),_e("start",N,G[ce]))}}function V(N){var K=N.changedTouches,G=K.length,ie,ue;for(ie=0;ie<G;++ie)(ue=l[K[ie].identifier])&&(ot(N),ue("drag",N,K[ie]))}function W(N){var K=N.changedTouches,G=K.length,ie,ue;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),ie=0;ie<G;++ie)(ue=l[K[ie].identifier])&&(kr(N),ue("end",N,K[ie]))}function Z(N,K,G,ie,ue,ce){var _e=c.copy(),de=ze(ce||G,K),Re,De,v;if((v=e.call(N,new Xt("beforestart",{sourceEvent:G,target:k,identifier:ue,active:f,x:de[0],y:de[1],dx:0,dy:0,dispatch:_e}),ie))!=null)return Re=v.x-de[0]||0,De=v.y-de[1]||0,function O(T,L,b){var a=de,y;switch(T){case"start":l[ue]=O,y=f++;break;case"end":delete l[ue],--f;case"drag":de=ze(b||L,K),y=f;break}_e.call(T,N,new Xt(T,{sourceEvent:L,subject:v,target:k,identifier:ue,active:y,x:de[0]+Re,y:de[1]+De,dx:de[0]-a[0],dy:de[1]-a[1],dispatch:_e}),ie)}}return k.filter=function(N){return arguments.length?(t=typeof N=="function"?N:qt(!!N),k):t},k.container=function(N){return arguments.length?(n=typeof N=="function"?N:qt(N),k):n},k.subject=function(N){return arguments.length?(e=typeof N=="function"?N:qt(N),k):e},k.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:qt(!!N),k):i},k.on=function(){var N=c.on.apply(c,arguments);return N===c?k:N},k.clickDistance=function(N){return arguments.length?(A=(N=+N)*N,k):Math.sqrt(A)},k}function Ir(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function yn(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Yt(){}var Wt=.7,Tr=1/Wt,It="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qp=/^#([0-9a-f]{3,8})$/,Zp=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),Jp=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),e_=new RegExp(`^rgba\\(${It},${It},${It},${Gt}\\)$`),t_=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${Gt}\\)$`),r_=new RegExp(`^hsl\\(${Gt},${Ge},${Ge}\\)$`),n_=new RegExp(`^hsla\\(${Gt},${Ge},${Ge},${Gt}\\)$`),po={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ir(Yt,at,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_o,formatHex:_o,formatHex8:i_,formatHsl:o_,formatRgb:mo,toString:mo});function _o(){return this.rgb().formatHex()}function i_(){return this.rgb().formatHex8()}function o_(){return bo(this).formatHsl()}function mo(){return this.rgb().formatRgb()}function at(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Qp.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ho(n):e===3?new Fe(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Sr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Sr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Zp.exec(t))?new Fe(n[1],n[2],n[3],1):(n=Jp.exec(t))?new Fe(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=e_.exec(t))?Sr(n[1],n[2],n[3],n[4]):(n=t_.exec(t))?Sr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=r_.exec(t))?yo(n[1],n[2]/100,n[3]/100,1):(n=n_.exec(t))?yo(n[1],n[2]/100,n[3]/100,n[4]):po.hasOwnProperty(t)?ho(po[t]):t==="transparent"?new Fe(NaN,NaN,NaN,0):null}function ho(t){return new Fe(t>>16&255,t>>8&255,t&255,1)}function Sr(t,n,e,i){return i<=0&&(t=n=e=NaN),new Fe(t,n,e,i)}function a_(t){return t instanceof Yt||(t=at(t)),t?(t=t.rgb(),new Fe(t.r,t.g,t.b,t.opacity)):new Fe}function St(t,n,e,i){return arguments.length===1?a_(t):new Fe(t,n,e,i??1)}function Fe(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}Ir(Fe,St,yn(Yt,{brighter(t){return t=t==null?Tr:Math.pow(Tr,t),new Fe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new Fe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fe(yt(this.r),yt(this.g),yt(this.b),Or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:go,formatHex:go,formatHex8:s_,formatRgb:vo,toString:vo}));function go(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}`}function s_(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}${vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function vo(){let t=Or(this.opacity);return`${t===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${t===1?")":`, ${t})`}`}function Or(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vt(t){return t=yt(t),(t<16?"0":"")+t.toString(16)}function yo(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ue(t,n,e,i)}function bo(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=at(t)),!t)return new Ue;if(t instanceof Ue)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,l=Math.min(n,e,i),c=Math.max(n,e,i),f=NaN,s=c-l,m=(c+l)/2;return s?(n===c?f=(e-i)/s+(e<i)*6:e===c?f=(i-n)/s+2:f=(n-e)/s+4,s/=m<.5?c+l:2-c-l,f*=60):s=m>0&&m<1?0:f,new Ue(f,s,m,t.opacity)}function xo(t,n,e,i){return arguments.length===1?bo(t):new Ue(t,n,e,i??1)}function Ue(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}Ir(Ue,xo,yn(Yt,{brighter(t){return t=t==null?Tr:Math.pow(Tr,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,l=2*e-i;return new Fe(wn(t>=240?t-240:t+120,l,i),wn(t,l,i),wn(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new Ue(wo(this.h),Ar(this.s),Ar(this.l),Or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Or(this.opacity);return`${t===1?"hsl(":"hsla("}${wo(this.h)}, ${Ar(this.s)*100}%, ${Ar(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wo(t){return t=(t||0)%360,t<0?t+360:t}function Ar(t){return Math.max(0,Math.min(1,t||0))}function wn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function bn(t,n,e,i,l){var c=t*t,f=c*t;return((1-3*t+3*c-f)*n+(4-6*c+3*f)*e+(1+3*t+3*c-3*f)*i+f*l)/6}function Eo(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),l=t[i],c=t[i+1],f=i>0?t[i-1]:2*l-c,s=i<n-1?t[i+2]:2*c-l;return bn((e-i/n)*n,f,l,c,s)}}function ko(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n),l=t[(i+n-1)%n],c=t[i%n],f=t[(i+1)%n],s=t[(i+2)%n];return bn((e-i/n)*n,l,c,f,s)}}var xn=t=>()=>t;function l_(t,n){return function(e){return t+e*n}}function u_(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function Io(t){return(t=+t)==1?Mr:function(n,e){return e-n?u_(n,e,t):xn(isNaN(n)?e:n)}}function Mr(t,n){var e=n-t;return e?l_(t,e):xn(isNaN(t)?n:t)}var Nr=function t(n){var e=Io(n);function i(l,c){var f=e((l=St(l)).r,(c=St(c)).r),s=e(l.g,c.g),m=e(l.b,c.b),_=Mr(l.opacity,c.opacity);return function(g){return l.r=f(g),l.g=s(g),l.b=m(g),l.opacity=_(g),l+""}}return i.gamma=t,i}(1);function So(t){return function(n){var e=n.length,i=new Array(e),l=new Array(e),c=new Array(e),f,s;for(f=0;f<e;++f)s=St(n[f]),i[f]=s.r||0,l[f]=s.g||0,c[f]=s.b||0;return i=t(i),l=t(l),c=t(c),s.opacity=1,function(m){return s.r=i(m),s.g=l(m),s.b=c(m),s+""}}}var c_=So(Eo),f_=So(ko);function Le(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,En=new RegExp(kn.source,"g");function p_(t){return function(){return t}}function __(t){return function(n){return t(n)+""}}function In(t,n){var e=kn.lastIndex=En.lastIndex=0,i,l,c,f=-1,s=[],m=[];for(t=t+"",n=n+"";(i=kn.exec(t))&&(l=En.exec(n));)(c=l.index)>e&&(c=n.slice(e,c),s[f]?s[f]+=c:s[++f]=c),(i=i[0])===(l=l[0])?s[f]?s[f]+=l:s[++f]=l:(s[++f]=null,m.push({i:f,x:Le(i,l)})),e=En.lastIndex;return e<n.length&&(c=n.slice(e),s[f]?s[f]+=c:s[++f]=c),s.length<2?m[0]?__(m[0].x):p_(n):(n=m.length,function(_){for(var g=0,A;g<n;++g)s[(A=m[g]).i]=A.x(_);return s.join("")})}var Ao=180/Math.PI,Rr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sn(t,n,e,i,l,c){var f,s,m;return(f=Math.sqrt(t*t+n*n))&&(t/=f,n/=f),(m=t*e+n*i)&&(e-=t*m,i-=n*m),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,m/=s),t*i<n*e&&(t=-t,n=-n,m=-m,f=-f),{translateX:l,translateY:c,rotate:Math.atan2(n,t)*Ao,skewX:Math.atan(m)*Ao,scaleX:f,scaleY:s}}var Dr;function To(t){let n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Rr:Sn(n.a,n.b,n.c,n.d,n.e,n.f)}function Oo(t){return t==null?Rr:(Dr||(Dr=document.createElementNS("http://www.w3.org/2000/svg","g")),Dr.setAttribute("transform",t),(t=Dr.transform.baseVal.consolidate())?(t=t.matrix,Sn(t.a,t.b,t.c,t.d,t.e,t.f)):Rr)}function Mo(t,n,e,i){function l(_){return _.length?_.pop()+" ":""}function c(_,g,A,k,B,F){if(_!==A||g!==k){var H=B.push("translate(",null,n,null,e);F.push({i:H-4,x:Le(_,A)},{i:H-2,x:Le(g,k)})}else(A||k)&&B.push("translate("+A+n+k+e)}function f(_,g,A,k){_!==g?(_-g>180?g+=360:g-_>180&&(_+=360),k.push({i:A.push(l(A)+"rotate(",null,i)-2,x:Le(_,g)})):g&&A.push(l(A)+"rotate("+g+i)}function s(_,g,A,k){_!==g?k.push({i:A.push(l(A)+"skewX(",null,i)-2,x:Le(_,g)}):g&&A.push(l(A)+"skewX("+g+i)}function m(_,g,A,k,B,F){if(_!==A||g!==k){var H=B.push(l(B)+"scale(",null,",",null,")");F.push({i:H-4,x:Le(_,A)},{i:H-2,x:Le(g,k)})}else(A!==1||k!==1)&&B.push(l(B)+"scale("+A+","+k+")")}return function(_,g){var A=[],k=[];return _=t(_),g=t(g),c(_.translateX,_.translateY,g.translateX,g.translateY,A,k),f(_.rotate,g.rotate,A,k),s(_.skewX,g.skewX,A,k),m(_.scaleX,_.scaleY,g.scaleX,g.scaleY,A,k),_=g=null,function(B){for(var F=-1,H=k.length,Q;++F<H;)A[(Q=k[F]).i]=Q.x(B);return A.join("")}}}var An=Mo(To,"px, ","px)","deg)"),Tn=Mo(Oo,", ",")",")");var d_=1e-12;function No(t){return((t=Math.exp(t))+1/t)/2}function m_(t){return((t=Math.exp(t))-1/t)/2}function h_(t){return((t=Math.exp(2*t))-1)/(t+1)}var On=function t(n,e,i){function l(c,f){var s=c[0],m=c[1],_=c[2],g=f[0],A=f[1],k=f[2],B=g-s,F=A-m,H=B*B+F*F,Q,V;if(H<d_)V=Math.log(k/_)/n,Q=function(ie){return[s+ie*B,m+ie*F,_*Math.exp(n*ie*V)]};else{var W=Math.sqrt(H),Z=(k*k-_*_+i*H)/(2*_*e*W),N=(k*k-_*_-i*H)/(2*k*e*W),K=Math.log(Math.sqrt(Z*Z+1)-Z),G=Math.log(Math.sqrt(N*N+1)-N);V=(G-K)/n,Q=function(ie){var ue=ie*V,ce=No(K),_e=_/(e*W)*(ce*h_(n*ue+K)-m_(K));return[s+_e*B,m+_e*F,_*ce/No(n*ue+K)]}}return Q.duration=V*1e3*n/Math.SQRT2,Q}return l.rho=function(c){var f=Math.max(.001,+c),s=f*f,m=s*s;return t(f,s,m)},l}(Math.SQRT2,2,4);var At=0,Qt=0,Kt=0,Do=1e3,Pr,Zt,Fr=0,wt=0,Br=0,Jt=typeof performance=="object"&&performance.now?performance:Date,Po=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tr(){return wt||(Po(g_),wt=Jt.now()+Br)}function g_(){wt=0}function er(){this._call=this._time=this._next=null}er.prototype=zr.prototype={constructor:er,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?tr():+e)+(n==null?0:+n),!this._next&&Zt!==this&&(Zt?Zt._next=this:Pr=this,Zt=this),this._call=t,this._time=e,Mn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mn())}};function zr(t,n,e){var i=new er;return i.restart(t,n,e),i}function Fo(){tr(),++At;for(var t=Pr,n;t;)(n=wt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--At}function Ro(){wt=(Fr=Jt.now())+Br,At=Qt=0;try{Fo()}finally{At=0,y_(),wt=0}}function v_(){var t=Jt.now(),n=t-Fr;n>Do&&(Br-=n,Fr=t)}function y_(){for(var t,n=Pr,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Pr=e);Zt=t,Mn(i)}function Mn(t){if(!At){Qt&&(Qt=clearTimeout(Qt));var n=t-wt;n>24?(t<1/0&&(Qt=setTimeout(Ro,t-Jt.now()-Br)),Kt&&(Kt=clearInterval(Kt))):(Kt||(Fr=Jt.now(),Kt=setInterval(v_,Do)),At=1,Po(Ro))}}function Lr(t,n,e){var i=new er;return n=n==null?0:+n,i.restart(l=>{i.stop(),t(l+n)},n,e),i}var w_=ht("start","end","cancel","interrupt"),b_=[],Lo=0,Bo=1,Cr=2,jr=3,zo=4,Vr=5,rr=6;function st(t,n,e,i,l,c){var f=t.__transition;if(!f)t.__transition={};else if(e in f)return;x_(t,e,{name:n,index:i,group:l,on:w_,tween:b_,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Lo})}function nr(t,n){var e=be(t,n);if(e.state>Lo)throw new Error("too late; already scheduled");return e}function ke(t,n){var e=be(t,n);if(e.state>jr)throw new Error("too late; already running");return e}function be(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function x_(t,n,e){var i=t.__transition,l;i[n]=e,e.timer=zr(c,0,e.time);function c(_){e.state=Bo,e.timer.restart(f,e.delay,e.time),e.delay<=_&&f(_-e.delay)}function f(_){var g,A,k,B;if(e.state!==Bo)return m();for(g in i)if(B=i[g],B.name===e.name){if(B.state===jr)return Lr(f);B.state===zo?(B.state=rr,B.timer.stop(),B.on.call("interrupt",t,t.__data__,B.index,B.group),delete i[g]):+g<n&&(B.state=rr,B.timer.stop(),B.on.call("cancel",t,t.__data__,B.index,B.group),delete i[g])}if(Lr(function(){e.state===jr&&(e.state=zo,e.timer.restart(s,e.delay,e.time),s(_))}),e.state=Cr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Cr){for(e.state=jr,l=new Array(k=e.tween.length),g=0,A=-1;g<k;++g)(B=e.tween[g].value.call(t,t.__data__,e.index,e.group))&&(l[++A]=B);l.length=A+1}}function s(_){for(var g=_<e.duration?e.ease.call(null,_/e.duration):(e.timer.restart(m),e.state=Vr,1),A=-1,k=l.length;++A<k;)l[A].call(t,g);e.state===Vr&&(e.on.call("end",t,t.__data__,e.index,e.group),m())}function m(){e.state=rr,e.timer.stop(),delete i[n];for(var _ in i)return;delete t.__transition}}function lt(t,n){var e=t.__transition,i,l,c=!0,f;if(e){n=n==null?null:n+"";for(f in e){if((i=e[f]).name!==n){c=!1;continue}l=i.state>Cr&&i.state<Vr,i.state=rr,i.timer.stop(),i.on.call(l?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[f]}c&&delete t.__transition}}function jo(t){return this.each(function(){lt(this,t)})}function E_(t,n){var e,i;return function(){var l=ke(this,t),c=l.tween;if(c!==e){i=e=c;for(var f=0,s=i.length;f<s;++f)if(i[f].name===n){i=i.slice(),i.splice(f,1);break}}l.tween=i}}function k_(t,n,e){var i,l;if(typeof e!="function")throw new Error;return function(){var c=ke(this,t),f=c.tween;if(f!==i){l=(i=f).slice();for(var s={name:n,value:e},m=0,_=l.length;m<_;++m)if(l[m].name===n){l[m]=s;break}m===_&&l.push(s)}c.tween=l}}function Co(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=be(this.node(),e).tween,l=0,c=i.length,f;l<c;++l)if((f=i[l]).name===t)return f.value;return null}return this.each((n==null?E_:k_)(e,t,n))}function Tt(t,n,e){var i=t._id;return t.each(function(){var l=ke(this,i);(l.value||(l.value={}))[n]=e.apply(this,arguments)}),function(l){return be(l,i).value[n]}}function Ur(t,n){var e;return(typeof n=="number"?Le:n instanceof at?Nr:(e=at(n))?(n=e,Nr):In)(t,n)}function I_(t){return function(){this.removeAttribute(t)}}function S_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function A_(t,n,e){var i,l=e+"",c;return function(){var f=this.getAttribute(t);return f===l?null:f===i?c:c=n(i=f,e)}}function T_(t,n,e){var i,l=e+"",c;return function(){var f=this.getAttributeNS(t.space,t.local);return f===l?null:f===i?c:c=n(i=f,e)}}function O_(t,n,e){var i,l,c;return function(){var f,s=e(this),m;return s==null?void this.removeAttribute(t):(f=this.getAttribute(t),m=s+"",f===m?null:f===i&&m===l?c:(l=m,c=n(i=f,s)))}}function M_(t,n,e){var i,l,c;return function(){var f,s=e(this),m;return s==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),m=s+"",f===m?null:f===i&&m===l?c:(l=m,c=n(i=f,s)))}}function Vo(t,n){var e=Ze(t),i=e==="transform"?Tn:Ur;return this.attrTween(t,typeof n=="function"?(e.local?M_:O_)(e,i,Tt(this,"attr."+t,n)):n==null?(e.local?S_:I_)(e):(e.local?T_:A_)(e,i,n))}function N_(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function R_(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function D_(t,n){var e,i;function l(){var c=n.apply(this,arguments);return c!==i&&(e=(i=c)&&R_(t,c)),e}return l._value=n,l}function P_(t,n){var e,i;function l(){var c=n.apply(this,arguments);return c!==i&&(e=(i=c)&&N_(t,c)),e}return l._value=n,l}function Uo(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=Ze(t);return this.tween(e,(i.local?D_:P_)(i,n))}function F_(t,n){return function(){nr(this,t).delay=+n.apply(this,arguments)}}function B_(t,n){return n=+n,function(){nr(this,t).delay=n}}function $o(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?F_:B_)(n,t)):be(this.node(),n).delay}function z_(t,n){return function(){ke(this,t).duration=+n.apply(this,arguments)}}function L_(t,n){return n=+n,function(){ke(this,t).duration=n}}function Ho(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?z_:L_)(n,t)):be(this.node(),n).duration}function j_(t,n){if(typeof n!="function")throw new Error;return function(){ke(this,t).ease=n}}function qo(t){var n=this._id;return arguments.length?this.each(j_(n,t)):be(this.node(),n).ease}function C_(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ke(this,t).ease=e}}function Xo(t){if(typeof t!="function")throw new Error;return this.each(C_(this._id,t))}function Wo(t){typeof t!="function"&&(t=Vt(t));for(var n=this._groups,e=n.length,i=new Array(e),l=0;l<e;++l)for(var c=n[l],f=c.length,s=i[l]=[],m,_=0;_<f;++_)(m=c[_])&&t.call(m,m.__data__,_,c)&&s.push(m);return new Ne(i,this._parents,this._name,this._id)}function Go(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,l=e.length,c=Math.min(i,l),f=new Array(i),s=0;s<c;++s)for(var m=n[s],_=e[s],g=m.length,A=f[s]=new Array(g),k,B=0;B<g;++B)(k=m[B]||_[B])&&(A[B]=k);for(;s<i;++s)f[s]=n[s];return new Ne(f,this._parents,this._name,this._id)}function V_(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function U_(t,n,e){var i,l,c=V_(n)?nr:ke;return function(){var f=c(this,t),s=f.on;s!==i&&(l=(i=s).copy()).on(n,e),f.on=l}}function Yo(t,n){var e=this._id;return arguments.length<2?be(this.node(),e).on.on(t):this.each(U_(e,t,n))}function $_(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Ko(){return this.on("end.remove",$_(this._id))}function Qo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=mt(t));for(var i=this._groups,l=i.length,c=new Array(l),f=0;f<l;++f)for(var s=i[f],m=s.length,_=c[f]=new Array(m),g,A,k=0;k<m;++k)(g=s[k])&&(A=t.call(g,g.__data__,k,s))&&("__data__"in g&&(A.__data__=g.__data__),_[k]=A,st(_[k],n,e,k,_,be(g,e)));return new Ne(c,this._parents,n,e)}function Zo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ct(t));for(var i=this._groups,l=i.length,c=[],f=[],s=0;s<l;++s)for(var m=i[s],_=m.length,g,A=0;A<_;++A)if(g=m[A]){for(var k=t.call(g,g.__data__,A,m),B,F=be(g,e),H=0,Q=k.length;H<Q;++H)(B=k[H])&&st(B,n,e,H,k,F);c.push(k),f.push(g)}return new Ne(c,f,n,e)}var H_=Je.prototype.constructor;function Jo(){return new H_(this._groups,this._parents)}function q_(t,n){var e,i,l;return function(){var c=it(this,t),f=(this.style.removeProperty(t),it(this,t));return c===f?null:c===e&&f===i?l:l=n(e=c,i=f)}}function ea(t){return function(){this.style.removeProperty(t)}}function X_(t,n,e){var i,l=e+"",c;return function(){var f=it(this,t);return f===l?null:f===i?c:c=n(i=f,e)}}function W_(t,n,e){var i,l,c;return function(){var f=it(this,t),s=e(this),m=s+"";return s==null&&(m=s=(this.style.removeProperty(t),it(this,t))),f===m?null:f===i&&m===l?c:(l=m,c=n(i=f,s))}}function G_(t,n){var e,i,l,c="style."+n,f="end."+c,s;return function(){var m=ke(this,t),_=m.on,g=m.value[c]==null?s||(s=ea(n)):void 0;(_!==e||l!==g)&&(i=(e=_).copy()).on(f,l=g),m.on=i}}function ta(t,n,e){var i=(t+="")=="transform"?An:Ur;return n==null?this.styleTween(t,q_(t,i)).on("end.style."+t,ea(t)):typeof n=="function"?this.styleTween(t,W_(t,i,Tt(this,"style."+t,n))).each(G_(this._id,t)):this.styleTween(t,X_(t,i,n),e).on("end.style."+t,null)}function Y_(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function K_(t,n,e){var i,l;function c(){var f=n.apply(this,arguments);return f!==l&&(i=(l=f)&&Y_(t,f,e)),i}return c._value=n,c}function ra(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,K_(t,n,e??""))}function Q_(t){return function(){this.textContent=t}}function Z_(t){return function(){var n=t(this);this.textContent=n??""}}function na(t){return this.tween("text",typeof t=="function"?Z_(Tt(this,"text",t)):Q_(t==null?"":t+""))}function J_(t){return function(n){this.textContent=t.call(this,n)}}function ed(t){var n,e;function i(){var l=t.apply(this,arguments);return l!==e&&(n=(e=l)&&J_(l)),n}return i._value=t,i}function ia(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ed(t))}function oa(){for(var t=this._name,n=this._id,e=$r(),i=this._groups,l=i.length,c=0;c<l;++c)for(var f=i[c],s=f.length,m,_=0;_<s;++_)if(m=f[_]){var g=be(m,n);st(m,t,e,_,f,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Ne(i,this._parents,t,e)}function aa(){var t,n,e=this,i=e._id,l=e.size();return new Promise(function(c,f){var s={value:f},m={value:function(){--l===0&&c()}};e.each(function(){var _=ke(this,i),g=_.on;g!==t&&(n=(t=g).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(m)),_.on=n}),l===0&&c()})}var td=0;function Ne(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function sa(t){return Je().transition(t)}function $r(){return++td}var et=Je.prototype;Ne.prototype=sa.prototype={constructor:Ne,select:Qo,selectAll:Zo,selectChild:et.selectChild,selectChildren:et.selectChildren,filter:Wo,merge:Go,selection:Jo,transition:oa,call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:Yo,attr:Vo,attrTween:Uo,style:ta,styleTween:ra,text:na,textTween:ia,remove:Ko,tween:Co,delay:$o,duration:Ho,ease:qo,easeVarying:Xo,end:aa,[Symbol.iterator]:et[Symbol.iterator]};function Hr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rd={time:null,delay:0,duration:250,ease:Hr};function nd(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function la(t){var n,e;t instanceof Ne?(n=t._id,t=t._name):(n=$r(),(e=rd).time=tr(),t=t==null?null:t+"");for(var i=this._groups,l=i.length,c=0;c<l;++c)for(var f=i[c],s=f.length,m,_=0;_<s;++_)(m=f[_])&&st(m,t,n,_,f,e||nd(m,n));return new Ne(i,this._parents,t,n)}Je.prototype.interrupt=jo;Je.prototype.transition=la;var ir=t=>()=>t;function Nn(t,{sourceEvent:n,target:e,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function $e(t,n,e){this.k=t,this.x=n,this.y=e}$e.prototype={constructor:$e,scale:function(t){return t===1?this:new $e(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new $e(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var or=new $e(1,0,0);Rn.prototype=$e.prototype;function Rn(t){for(;!t.__zoom;)if(!(t=t.parentNode))return or;return t.__zoom}function qr(t){t.stopImmediatePropagation()}function Ot(t){t.preventDefault(),t.stopImmediatePropagation()}function id(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function od(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ua(){return this.__zoom||or}function ad(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function sd(){return navigator.maxTouchPoints||"ontouchstart"in this}function ld(t,n,e){var i=t.invertX(n[0][0])-e[0][0],l=t.invertX(n[1][0])-e[1][0],c=t.invertY(n[0][1])-e[0][1],f=t.invertY(n[1][1])-e[1][1];return t.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),f>c?(c+f)/2:Math.min(0,c)||Math.max(0,f))}function ud(){var t=id,n=od,e=ld,i=ad,l=sd,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],s=250,m=On,_=ht("start","zoom","end"),g,A,k,B=500,F=150,H=0,Q=10;function V(v){v.property("__zoom",ua).on("wheel.zoom",ue,{passive:!1}).on("mousedown.zoom",ce).on("dblclick.zoom",_e).filter(l).on("touchstart.zoom",de).on("touchmove.zoom",Re).on("touchend.zoom touchcancel.zoom",De).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}V.transform=function(v,O,T,L){var b=v.selection?v.selection():v;b.property("__zoom",ua),v!==b?K(v,O,T,L):b.interrupt().each(function(){G(this,arguments).event(L).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},V.scaleBy=function(v,O,T,L){V.scaleTo(v,function(){var b=this.__zoom.k,a=typeof O=="function"?O.apply(this,arguments):O;return b*a},T,L)},V.scaleTo=function(v,O,T,L){V.transform(v,function(){var b=n.apply(this,arguments),a=this.__zoom,y=T==null?N(b):typeof T=="function"?T.apply(this,arguments):T,x=a.invert(y),D=typeof O=="function"?O.apply(this,arguments):O;return e(Z(W(a,D),y,x),b,f)},T,L)},V.translateBy=function(v,O,T,L){V.transform(v,function(){return e(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof T=="function"?T.apply(this,arguments):T),n.apply(this,arguments),f)},null,L)},V.translateTo=function(v,O,T,L,b){V.transform(v,function(){var a=n.apply(this,arguments),y=this.__zoom,x=L==null?N(a):typeof L=="function"?L.apply(this,arguments):L;return e(or.translate(x[0],x[1]).scale(y.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof T=="function"?-T.apply(this,arguments):-T),a,f)},L,b)};function W(v,O){return O=Math.max(c[0],Math.min(c[1],O)),O===v.k?v:new $e(O,v.x,v.y)}function Z(v,O,T){var L=O[0]-T[0]*v.k,b=O[1]-T[1]*v.k;return L===v.x&&b===v.y?v:new $e(v.k,L,b)}function N(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function K(v,O,T,L){v.on("start.zoom",function(){G(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(L).end()}).tween("zoom",function(){var b=this,a=arguments,y=G(b,a).event(L),x=n.apply(b,a),D=T==null?N(x):typeof T=="function"?T.apply(b,a):T,U=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),P=b.__zoom,M=typeof O=="function"?O.apply(b,a):O,R=m(P.invert(D).concat(U/P.k),M.invert(D).concat(U/M.k));return function(S){if(S===1)S=M;else{var z=R(S),$=U/z[2];S=new $e($,D[0]-z[0]*$,D[1]-z[1]*$)}y.zoom(null,S)}})}function G(v,O,T){return!T&&v.__zooming||new ie(v,O)}function ie(v,O){this.that=v,this.args=O,this.active=0,this.sourceEvent=null,this.extent=n.apply(v,O),this.taps=0}ie.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,O){return this.mouse&&v!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var O=Be(this.that).datum();_.call(v,this.that,new Nn(v,{sourceEvent:this.sourceEvent,target:V,type:v,transform:this.that.__zoom,dispatch:_}),O)}};function ue(v,...O){if(!t.apply(this,arguments))return;var T=G(this,O).event(v),L=this.__zoom,b=Math.max(c[0],Math.min(c[1],L.k*Math.pow(2,i.apply(this,arguments)))),a=ze(v);if(T.wheel)(T.mouse[0][0]!==a[0]||T.mouse[0][1]!==a[1])&&(T.mouse[1]=L.invert(T.mouse[0]=a)),clearTimeout(T.wheel);else{if(L.k===b)return;T.mouse=[a,L.invert(a)],lt(this),T.start()}Ot(v),T.wheel=setTimeout(y,F),T.zoom("mouse",e(Z(W(L,b),T.mouse[0],T.mouse[1]),T.extent,f));function y(){T.wheel=null,T.end()}}function ce(v,...O){if(k||!t.apply(this,arguments))return;var T=v.currentTarget,L=G(this,O,!0).event(v),b=Be(v.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",U,!0),a=ze(v,T),y=v.clientX,x=v.clientY;$t(v.view),qr(v),L.mouse=[a,this.__zoom.invert(a)],lt(this),L.start();function D(P){if(Ot(P),!L.moved){var M=P.clientX-y,R=P.clientY-x;L.moved=M*M+R*R>H}L.event(P).zoom("mouse",e(Z(L.that.__zoom,L.mouse[0]=ze(P,T),L.mouse[1]),L.extent,f))}function U(P){b.on("mousemove.zoom mouseup.zoom",null),Ht(P.view,L.moved),Ot(P),L.event(P).end()}}function _e(v,...O){if(t.apply(this,arguments)){var T=this.__zoom,L=ze(v.changedTouches?v.changedTouches[0]:v,this),b=T.invert(L),a=T.k*(v.shiftKey?.5:2),y=e(Z(W(T,a),L,b),n.apply(this,O),f);Ot(v),s>0?Be(this).transition().duration(s).call(K,y,L,v):Be(this).call(V.transform,y,L,v)}}function de(v,...O){if(t.apply(this,arguments)){var T=v.touches,L=T.length,b=G(this,O,v.changedTouches.length===L).event(v),a,y,x,D;for(qr(v),y=0;y<L;++y)x=T[y],D=ze(x,this),D=[D,this.__zoom.invert(D),x.identifier],b.touch0?!b.touch1&&b.touch0[2]!==D[2]&&(b.touch1=D,b.taps=0):(b.touch0=D,a=!0,b.taps=1+!!g);g&&(g=clearTimeout(g)),a&&(b.taps<2&&(A=D[0],g=setTimeout(function(){g=null},B)),lt(this),b.start())}}function Re(v,...O){if(this.__zooming){var T=G(this,O).event(v),L=v.changedTouches,b=L.length,a,y,x,D;for(Ot(v),a=0;a<b;++a)y=L[a],x=ze(y,this),T.touch0&&T.touch0[2]===y.identifier?T.touch0[0]=x:T.touch1&&T.touch1[2]===y.identifier&&(T.touch1[0]=x);if(y=T.that.__zoom,T.touch1){var U=T.touch0[0],P=T.touch0[1],M=T.touch1[0],R=T.touch1[1],S=(S=M[0]-U[0])*S+(S=M[1]-U[1])*S,z=(z=R[0]-P[0])*z+(z=R[1]-P[1])*z;y=W(y,Math.sqrt(S/z)),x=[(U[0]+M[0])/2,(U[1]+M[1])/2],D=[(P[0]+R[0])/2,(P[1]+R[1])/2]}else if(T.touch0)x=T.touch0[0],D=T.touch0[1];else return;T.zoom("touch",e(Z(y,x,D),T.extent,f))}}function De(v,...O){if(this.__zooming){var T=G(this,O).event(v),L=v.changedTouches,b=L.length,a,y;for(qr(v),k&&clearTimeout(k),k=setTimeout(function(){k=null},B),a=0;a<b;++a)y=L[a],T.touch0&&T.touch0[2]===y.identifier?delete T.touch0:T.touch1&&T.touch1[2]===y.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(y=ze(y,this),Math.hypot(A[0]-y[0],A[1]-y[1])<Q)){var x=Be(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}return V.wheelDelta=function(v){return arguments.length?(i=typeof v=="function"?v:ir(+v),V):i},V.filter=function(v){return arguments.length?(t=typeof v=="function"?v:ir(!!v),V):t},V.touchable=function(v){return arguments.length?(l=typeof v=="function"?v:ir(!!v),V):l},V.extent=function(v){return arguments.length?(n=typeof v=="function"?v:ir([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),V):n},V.scaleExtent=function(v){return arguments.length?(c[0]=+v[0],c[1]=+v[1],V):[c[0],c[1]]},V.translateExtent=function(v){return arguments.length?(f[0][0]=+v[0][0],f[1][0]=+v[1][0],f[0][1]=+v[0][1],f[1][1]=+v[1][1],V):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},V.constrain=function(v){return arguments.length?(e=v,V):e},V.duration=function(v){return arguments.length?(s=+v,V):s},V.interpolate=function(v){return arguments.length?(m=v,V):m},V.on=function(){var v=_.on.apply(_,arguments);return v===_?V:v},V.clickDistance=function(v){return arguments.length?(H=(v=+v)*v,V):Math.sqrt(H)},V.tapDistance=function(v){return arguments.length?(Q=+v,V):Q},V}function Xr(t,n){let e;if(n===void 0)for(let i of t)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let l of t)(l=n(l,++i,t))!=null&&(e<l||e===void 0&&l>=l)&&(e=l)}return e}function Mt(t,n){let e;if(n===void 0)for(let i of t)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let l of t)(l=n(l,++i,t))!=null&&(e>l||e===void 0&&l>=l)&&(e=l)}return e}function Nt(t,n){let e=0;if(n===void 0)for(let i of t)(i=+i)&&(e+=i);else{let i=-1;for(let l of t)(l=+n(l,++i,t))&&(e+=l)}return e}var{abs:Ty,max:Oy,min:My}=Math;function ca(t){return[+t[0],+t[1]]}function cd(t){return[ca(t[0]),ca(t[1])]}var Ny={name:"x",handles:["w","e"].map(Dn),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ry={name:"y",handles:["n","s"].map(Dn),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Dy={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Dn),input:function(t){return t==null?null:cd(t)},output:function(t){return t}};function Dn(t){return{type:t}}var Pn=Math.PI,Fn=2*Pn,bt=1e-6,fd=Fn-bt;function fa(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function pd(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return fa;let e=10**n;return function(i){this._+=i[0];for(let l=1,c=i.length;l<c;++l)this._+=Math.round(arguments[l]*e)/e+i[l]}}var xt=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?fa:pd(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,l){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+l}`}bezierCurveTo(n,e,i,l,c,f){this._append`C${+n},${+e},${+i},${+l},${this._x1=+c},${this._y1=+f}`}arcTo(n,e,i,l,c){if(n=+n,e=+e,i=+i,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,s=this._y1,m=i-n,_=l-e,g=f-n,A=s-e,k=g*g+A*A;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(k>bt)if(!(Math.abs(A*m-_*g)>bt)||!c)this._append`L${this._x1=n},${this._y1=e}`;else{let B=i-f,F=l-s,H=m*m+_*_,Q=B*B+F*F,V=Math.sqrt(H),W=Math.sqrt(k),Z=c*Math.tan((Pn-Math.acos((H+k-Q)/(2*V*W)))/2),N=Z/W,K=Z/V;Math.abs(N-1)>bt&&this._append`L${n+N*g},${e+N*A}`,this._append`A${c},${c},0,0,${+(A*B>g*F)},${this._x1=n+K*m},${this._y1=e+K*_}`}}arc(n,e,i,l,c,f){if(n=+n,e=+e,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(l),m=i*Math.sin(l),_=n+s,g=e+m,A=1^f,k=f?l-c:c-l;this._x1===null?this._append`M${_},${g}`:(Math.abs(this._x1-_)>bt||Math.abs(this._y1-g)>bt)&&this._append`L${_},${g}`,i&&(k<0&&(k=k%Fn+Fn),k>fd?this._append`A${i},${i},0,1,${A},${n-s},${e-m}A${i},${i},0,1,${A},${this._x1=_},${this._y1=g}`:k>bt&&this._append`A${i},${i},0,${+(k>=Pn)},${A},${this._x1=n+i*Math.cos(c)},${this._y1=e+i*Math.sin(c)}`)}rect(n,e,i,l){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+l}h${-i}Z`}toString(){return this._}};function pa(){return new xt}pa.prototype=xt.prototype;function Bn(t){return function(){return t}}function _a(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new xt(n)}var da=Array.prototype.slice;function ma(t){return t[0]}function ha(t){return t[1]}var zn=class{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}};function ga(t){return new zn(t,!0)}function _d(t){return t.source}function dd(t){return t.target}function va(t){let n=_d,e=dd,i=ma,l=ha,c=null,f=null,s=_a(m);function m(){let _,g=da.call(arguments),A=n.apply(this,g),k=e.apply(this,g);if(c==null&&(f=t(_=s())),f.lineStart(),g[0]=A,f.point(+i.apply(this,g),+l.apply(this,g)),g[0]=k,f.point(+i.apply(this,g),+l.apply(this,g)),f.lineEnd(),_)return f=null,_+""||null}return m.source=function(_){return arguments.length?(n=_,m):n},m.target=function(_){return arguments.length?(e=_,m):e},m.x=function(_){return arguments.length?(i=typeof _=="function"?_:Bn(+_),m):i},m.y=function(_){return arguments.length?(l=typeof _=="function"?_:Bn(+_),m):l},m.context=function(_){return arguments.length?(_==null?c=f=null:f=t(c=_),m):c},m}function md(){return va(ga)}function hd(t){return t.target.depth}function Uw(t){return fe(t.depth,0)}function $w(t,n){return n-1-fe(t.height,0)}function ya(t,n){return t.sourceLinks?.length?fe(t.depth,0):n-1}function Hw(t){return t.targetLinks?.length?fe(t.depth,0):t.sourceLinks?.length?fe(Mt(t.sourceLinks,hd),0)-1:0}function Ln(t){return()=>t}function wa(t){let n=new Set,e=new Map,i=new Map;for(let _ of t.nodes){n.add(_);let g=0,A=0;for(let k of fe(_.targetLinks,[]))k.source!==_&&g++;for(let k of fe(_.sourceLinks,[]))k.target!==_&&A++;e.set(_,g),i.set(_,A)}function l(_){n.delete(_);for(let g of fe(_.targetLinks,[])){let A=g.source;if(n.has(A)){let k=fe(i.get(A),0);i.set(A,k-1)}}for(let g of fe(_.sourceLinks,[])){let A=g.target;if(n.has(A)){let k=fe(e.get(A),0);e.set(A,k-1)}}}let c=[],f=[];for(;n.size>0;){for(;;){let A=!1;for(let k of n)i.get(k)===0&&(A=!0,f.push(k),l(k));if(!A)break}for(;;){let A=!1;for(let k of n)e.get(k)===0&&(A=!0,c.push(k),l(k));if(!A)break}if(n.size===0)break;let _=null,g=null;for(let A of n){let k=fe(i.get(A),0)-fe(e.get(A),0);(_===null||k>_)&&(_=k,g=A)}g!=null&&(c.push(g),l(g))}f.reverse();let s=c.concat(f),m=new Map;for(let[_,g]of s.entries())m.set(g,_);for(let _ of t.links){let g=fe(m.get(_.source),0),A=fe(m.get(_.target),0);g===A?_.direction="self":g<A?_.direction="forward":_.direction="backward"}}function ba(t,n){return Wr(t.source,n.source)||t.index-n.index}function xa(t,n){return Wr(t.target,n.target)||t.index-n.index}function Wr(t,n){return t.y0-n.y0}function jn(t){return t.value}function gd(t){return t.index}function vd(t){return t.nodes}function yd(t){return t.links}function Ea(t,n){let e=t.get(n);if(!e)throw new Error("missing: "+n.toString());return e}function ka({nodes:t}){for(let n of t){let e=n.y0,i=e;for(let l of n.sourceLinks)l.y0=e+l.width/2,e+=l.width;for(let l of n.targetLinks)l.y1=i+l.width/2,i+=l.width}}function ar(t){return fe(t,0)}function Ia(){let t=0,n=0,e=1,i=1,l=24,c=8,f=gd,s=ya,m,_,g=vd,A=yd,k=6;function B(S){let z={nodes:[...S.nodes],links:[...S.links]};return _e(z),de(z),Re(z),De(z),v(z),L(z),ka(z),z}let F=B;F.update=function(S){return ka(S),S};function H(S){return S==null?f:(f=S,F)}F.nodeId=H;function Q(S){return S==null?s:(s=S,F)}F.nodeAlign=Q;function V(S){return S==null?m:(m=S,F)}F.nodeSort=V;function W(S){return S==null?l:(l=S,F)}F.nodeWidth=W;function Z(S){return S==null?c:(c=S,F)}F.nodePadding=Z;function N(S){return S==null?g:(g=typeof S=="function"?S:Ln(S),F)}F.nodes=N;function K(S){return S==null?A:(A=typeof S=="function"?S:Ln(S),F)}F.links=K;function G(S){return S==null?_:(_=S,F)}F.linkSort=G;function ie(S){return S==null?[e-t,i-n]:(t=n=0,[e,i]=S,F)}F.size=ie;function ue(S){return S==null?[[t,n],[e,i]]:([[t,n],[e,i]]=S,F)}F.extent=ue;function ce(S){return S==null?k:(k=S,F)}F.iterations=ce;function _e({nodes:S,links:z}){for(let[q,C]of S.entries())C.index=q,C.sourceLinks=[],C.targetLinks=[];let $=new Map(S.map(q=>[f(q),q]));for(let[q,C]of z.entries()){C.index=q;let{source:ee,target:ye}=C;typeof ee!="object"&&(ee=C.source=Ea($,ee)),typeof ye!="object"&&(ye=C.target=Ea($,ye)),ee.sourceLinks.push(C),ye.targetLinks.push(C)}}function de({nodes:S}){for(let z of S)z.value=Math.max(Nt(z.sourceLinks,jn),Nt(z.targetLinks,jn))}function Re(S){wa(S)}function De({nodes:S}){let z=S.length,$=new Set(S),q=new Set,C=0;for(;$.size;){for(let ee of $){ee.depth=C;for(let{target:ye,direction:he}of ee.sourceLinks)he==="forward"&&q.add(ye)}if(++C>z)throw new Error("circular link");$=q,q=new Set}}function v({nodes:S}){let z=S.length,$=new Set(S),q=new Set,C=0;for(;$.size;){for(let ee of $){ee.height=C;for(let{source:ye,direction:he}of ee.targetLinks)he==="forward"&&q.add(ye)}if(++C>z)throw new Error("circular link");$=q,q=new Set}}function O({nodes:S}){let z=ar(Xr(S,C=>C.depth))+1,$=(e-t-l)/(z-1),q=new Array(z);for(let C of S){let ee=Math.max(0,Math.min(z-1,Math.floor(s.call(null,C,z))));C.layer=ee,C.x0=t+ee*$,C.x1=C.x0+l,q[ee]?q[ee].push(C):q[ee]=[C]}if(m)for(let C of q)C.sort(m);return q}function T(S){let z=Mt(S,$=>(i-n-($.length-1)*c)/Nt($,jn));z=fe(z,0);for(let $ of S){let q=n;for(let C of $){C.y0=q,C.y1=q+C.value*z,q=C.y1+c;for(let ee of C.sourceLinks)ee.width=ee.value*z}q=(i-q+c)/($.length+1);for(let C=0;C<$.length;++C){let ee=$[C];ee.y0+=q*(C+1),ee.y1+=q*(C+1)}P($)}return i}function L(S){let z=O(S),$=T(z);for(let q=0;q<k;++q){let C=Math.pow(.99,q),ee=Math.max(1-C,(q+1)/k);a(z,C,ee,$),b(z,C,ee,$)}}function b(S,z,$,q){for(let C=1,ee=S.length;C<ee;++C){let ye=S[C];for(let he of ye){let ut=0,Ye=0;for(let{source:ft,value:Rt}of he.targetLinks){let pt=Rt*(ar(he.layer)-ar(ft.layer));ut+=M(ft,he)*pt,Ye+=pt}if(!(Ye>0))continue;let ct=(ut/Ye-he.y0)*z;he.y0+=ct,he.y1+=ct,U(he)}m===void 0&&ye.sort(Wr),y(ye,$,q)}}function a(S,z,$,q){for(let C=S.length,ee=C-2;ee>=0;--ee){let ye=S[ee];for(let he of ye){let ut=0,Ye=0;for(let{target:ft,value:Rt}of he.sourceLinks){let pt=Rt*(ar(ft.layer)-ar(he.layer));ut+=R(he,ft)*pt,Ye+=pt}if(!(Ye>0))continue;let ct=(ut/Ye-he.y0)*z;he.y0+=ct,he.y1+=ct,U(he)}m===void 0&&ye.sort(Wr),y(ye,$,q)}}function y(S,z,$){let q=S.length>>1,C=S[q];D(S,C.y0-c,q-1,z),x(S,C.y1+c,q+1,z),D(S,$,S.length-1,z),x(S,n,0,z)}function x(S,z,$,q){for(;$<S.length;++$){let C=S[$],ee=(z-C.y0)*q;ee>1e-6&&(C.y0+=ee,C.y1+=ee),z=C.y1+c}}function D(S,z,$,q){for(;$>=0;--$){let C=S[$],ee=(C.y1-z)*q;ee>1e-6&&(C.y0-=ee,C.y1-=ee),z=C.y0-c}}function U({sourceLinks:S,targetLinks:z}){if(_===void 0){for(let $ of z)$.source.sourceLinks.sort(xa);for(let $ of S)$.target.targetLinks.sort(ba)}}function P(S){if(_===void 0)for(let{sourceLinks:z,targetLinks:$}of S)z.sort(xa),$.sort(ba)}function M(S,z){let $=S.y0-(S.sourceLinks.length-1)*c/2;for(let{target:q,width:C}of S.sourceLinks){if(q===z)break;$+=C+c}for(let{source:q,width:C}of z.targetLinks){if(q===S)break;$-=C}return $}function R(S,z){let $=z.y0-(z.targetLinks.length-1)*c/2;for(let{source:q,width:C}of z.targetLinks){if(q===S)break;$+=C+c}for(let{target:q,width:C}of S.sourceLinks){if(q===z)break;$-=C}return $}return F}var He=function(t){return t.None="none",t.Item="item",t.Recipe="recipe",t.Machine="machine",t.Recipes="recipes",t}(He||{}),tb={[He.None]:"",[He.Item]:"fa-solid fa-box",[He.Recipe]:"fa-solid fa-flask",[He.Machine]:"fa-solid fa-industry",[He.Recipes]:"fa-solid fa-flask-vial"};var Gr="",Yr=(()=>{class t{objectiveNormalizedRate(e,i,l,c,f){if(e.unit===nt.Machines||e.type===pe.Maximize)return e.value;let s=e.value,m=ne.one;switch(e.unit){case nt.Items:{m=c.value.reciprocal();break}case nt.Belts:{let g=i[e.targetId];g.beltId&&(m=l[g.beltId].mul(fe(g.stack,ne.one)));break}case nt.Wagons:{let g=i[e.targetId].wagonId;if(g){let A=f.itemEntities[e.targetId],k=f.itemEntities[g];A.stack&&k.cargoWagon?m=A.stack.mul(k.cargoWagon.size).div(c.value):k.fluidWagon&&(m=k.fluidWagon.capacity.div(c.value))}break}}let _=f.adjustedRecipe[f.itemRecipeIds[e.targetId][0]];return _?.flags.has("technology")&&(m=m.mul(_.effects.productivity)),s.mul(m)}addEntityValue(e,i,l,c){let f=e[i];f?f[l]?f[l]=f[l].add(c):f[l]=c:e[i]={[l]:c}}adjustPowerPollution(e,i,l){if(e.machines?.nonzero()&&!i.part){if(i.drain?.nonzero()||i.consumption?.nonzero()){if(e.power=ne.zero,i.drain?.nonzero()){let c=e.machines.ceil();l.flags.has("inactiveDrain")&&(c=c.sub(e.machines)),e.power=e.power.add(c.mul(i.drain))}i.consumption?.nonzero()&&(e.power=e.power.add(e.machines.mul(i.consumption)))}i.pollution?.nonzero()&&(e.pollution=e.machines.mul(i.pollution))}}normalizeSteps(e,i,l,c,f,s,m,_){let g=this.copy(e);for(let k of g)this.calculateParentsOutputs(k,g);let A=dr(i);for(let k of g)this.calculateSettings(k,A,c),this.calculateBelts(k,l,f,_),this.calculateBeacons(k,m.beaconReceivers,_),this.calculateDisplayRate(k,s),this.calculateChecked(k,m);return this.sortBySankey(g),this.calculateHierarchy(g)}calculateParentsOutputs(e,i){if(e.recipe&&e.machines?.nonzero()){let l=e.recipe,c=e.machines.div(l.time);for(let f of Object.keys(l.in))if(l.in[f].nonzero()){let s=l.in[f].mul(c),m=i.find(_=>_.itemId===f);m!=null&&this.addEntityValue(m,"parents",e.id,s.simplify())}for(let f of Object.keys(l.out))if(l.out[f].nonzero()){let s=l.out[f].mul(c),m=i.find(_=>_.itemId===f);m?.items?.nonzero()&&this.addEntityValue(e,"outputs",f,s.div(m.items).simplify())}}}calculateSettings(e,i,l){e.recipeId&&(e.recipeObjectiveId?e.recipeSettings=i[e.recipeObjectiveId]:e.recipeSettings=l[e.recipeId])}calculateBelts(e,i,l,c){let f=!1;if(e.recipeId!=null&&e.recipeSettings!=null){let s=e.recipeSettings.machineId;if(s!=null){let m=c.machineEntities[s],_=c.recipeEntities[e.recipeId];f=!!(_.flags.has("technology")||m.silo&&!_.part)}}if(f)delete e.belts,delete e.wagons;else if(e.itemId!=null){let s=i[e.itemId],m=s.beltId;e.items!=null&&m!=null&&(e.belts=e.items.div(l[m]),s.stack?.nonzero()&&(e.belts=e.belts.div(s.stack)));let _=s.wagonId;if(e.items!=null&&_!=null){let g=c.itemEntities[e.itemId];g.stack?e.wagons=e.items.div(c.cargoWagonEntities[_].size.mul(g.stack)):e.wagons=e.items.div(c.fluidWagonEntities[_].capacity)}}}calculateBeacons(e,i,l){if(!i?.nonzero()||e.recipeId==null||!e.machines?.nonzero()||l.recipeEntities[e.recipeId].part||e.recipeSettings==null)return;let c=e.machines,f=e.recipeSettings;f.beacons!=null&&(e.recipeSettings=Me(e.recipeSettings,{beacons:f.beacons.map(s=>{let m=s.total;if(s.id!=null){s.count!=null&&m==null&&(m=c.ceil().mul(s.count).div(i),m.lt(s.count)&&(m=s.count));let _=l.beaconEntities[s.id];_.type===mi.Electric&&_.usage!=null&&m!=null&&(e.power=(e.power??ne.zero).add(m.mul(_.usage)))}return ei(Jn({},s),{total:m})})}))}calculateDisplayRate(e,i){if(e.items){if(e.parents&&e.items.nonzero())for(let l of Object.keys(e.parents))e.parents[l]=e.parents[l].div(e.items);e.items=e.items.mul(i.value)}e.surplus&&(e.surplus=e.surplus.mul(i.value)),e.wagons&&(e.wagons=e.wagons.mul(i.value)),e.pollution&&(e.pollution=e.pollution.mul(i.value)),e.output&&(e.output=e.output.mul(i.value))}calculateChecked(e,i){e.itemId!=null?e.checked=i.checkedItemIds.has(e.itemId):e.recipeObjectiveId!=null?e.checked=i.checkedObjectiveIds.has(e.recipeObjectiveId):e.recipeId!=null&&(e.checked=i.checkedRecipeIds.has(e.recipeId))}sortBySankey(e){let i=e.reduce((m,_)=>(m[_.id]=_,m),{}),l=[],c=[];for(let m of e){if(m.itemId){let _=`i|${m.itemId}`;if(l.push({id:_,stepId:m.id}),m.parents)for(let g of Object.keys(m.parents)){if(g==="")continue;let A=i[g].recipeId;A!=null&&c.push({source:_,target:`r|${A}`,value:1})}}if(m.recipeId){let _=`r|${m.recipeId}`;if(l.push({id:_,stepId:m.id}),m.outputs)for(let g of Object.keys(m.outputs))c.push({source:_,target:`i|${g}`,value:1})}}if(!l.length||!c.length)return;let f=Ia().nodeId(m=>m.id)({nodes:l,links:c});for(let m of e)m.depth=f.nodes.find(_=>_.stepId===m.id)?.depth;function s(m){return m.output?1e5:fe(m.depth,0)}e.sort((m,_)=>s(_)-s(m))}calculateHierarchy(e){let i={};for(let f of e)if(f.parents==null||f.parents[Gr]||Object.keys(f.parents).length>1)i[f.id]=Gr;else{let s=Object.keys(f.parents)[0],m=e.find(_=>_.id===s);m&&(f.id===m.id?i[f.id]=Gr:i[f.id]=m.id)}let l={};for(let f of e){let s=i[f.id];l[s]||(l[s]=[]),l[s].push(f)}let c=new Set;for(this.sortRecursive(l,Gr,c);c.size<e.length;){let f=e.find(s=>!c.has(s));if(f==null)break;c.add(f),this.sortRecursive(l,f.id,c)}return Array.from(c)}sortRecursive(e,i,l){if(!e[i])return;let c=e[i];delete e[i];for(let f of c)l.add(f),this.sortRecursive(e,f.id,l)}copy(e){return e.map(i=>i.parents?Me(i,{parents:Me(i.parents)}):Me(i))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=We({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Da=qf(Na());var Et=function(t){return t.Failed="failed",t.Paused="paused",t.Skipped="skipped",t.Solved="solved",t}(Et||{});var Ra=ne(1n,10n);var wd=li.debug?{}:{msgLevel:"off"},Pa=(()=>{class t{constructor(){this.rateSvc=we(Yr)}addItemValue(e,i,l=ne.zero,c="out"){if(e[i]){let f=e[i][c];f?e[i][c]=f.add(l):e[i][c]=l}else e[i]={out:ne.zero,[c]:l}}solve(e,i,l,c){if(c)return{steps:[],resultType:Et.Paused};if(e.length===0)return{steps:[],resultType:Et.Skipped};let f=this.getState(e,i,l),s=this.getSolution(f);return s.resultType===Et.Solved&&this.updateSteps(s,f),{steps:f.steps,resultType:s.resultType,returnCode:s.returnCode,simplexStatus:s.simplexStatus,unboundedRecipeId:s.unboundedRecipeId,time:s.time,cost:s.cost}}getState(e,i,l){let c={objectives:e,recipeObjectives:e.filter(f=>jt(f)&&[pe.Output,pe.Maximize].includes(f.type)),steps:[],recipes:{},itemValues:{},recipeLimits:{},unproduceableIds:new Set,excludedIds:i.excludedItemIds,itemIds:l.itemIds.filter(f=>!i.excludedItemIds.has(f)),maximizeType:i.maximizeType,requireMachinesOutput:i.requireMachinesOutput,costs:i.costs,data:l,hasSurplusCost:i.costs.surplus.gt(ne.zero)};for(let f of e)if(jt(f))switch(f.type){case pe.Output:case pe.Maximize:{for(let s of Object.keys(f.recipe.out))this.addItemValue(c.itemValues,s),this.parseItemRecursively(s,c);this.parseRecipeRecursively(f.recipe,c);break}case pe.Input:{for(let s of Object.keys(f.recipe.out).filter(m=>f.recipe.produces.has(m))){let m=f.value.mul(f.recipe.output[s]);this.addItemValue(c.itemValues,s,m,"in")}break}case pe.Limit:{let s=c.recipeLimits[f.targetId];(s==null||s.gt(f.value))&&(c.recipeLimits[f.targetId]=f.value);break}}else switch(f.type){case pe.Output:{this.addItemValue(c.itemValues,f.targetId,f.value),this.parseItemRecursively(f.targetId,c);break}case pe.Input:{this.addItemValue(c.itemValues,f.targetId,f.value,"in");break}case pe.Maximize:{this.addItemValue(c.itemValues,f.targetId,f.value,"max"),this.addItemValue(c.itemValues,f.targetId),this.parseItemRecursively(f.targetId,c);break}case pe.Limit:{this.addItemValue(c.itemValues,f.targetId),this.parseItemRecursively(f.targetId,c);let s=c.itemValues[f.targetId].lim;(s==null||s.gt(f.value))&&(c.itemValues[f.targetId].lim=f.value);break}}return this.simplifyMaximizeValues(c),this.addSurplusVariables(c),this.parseUnproduceable(c),c}recipeMatches(e,i){let c=(i.hasSurplusCost?i.data.itemAvailableIoRecipeIds:i.data.itemAvailableRecipeIds)[e].filter(f=>!i.recipes[f]).map(f=>i.data.adjustedRecipe[f]);return c.forEach(f=>i.recipes[f.id]=f),c}itemMatches(e,i){let l=new Set;Object.keys(e.in).filter(c=>i.itemValues[c]?.out==null).forEach(c=>l.add(c)),i.hasSurplusCost&&Object.keys(e.out).filter(c=>i.itemValues[c]?.out==null).forEach(c=>l.add(c));for(let c of l)this.addItemValue(i.itemValues,c);return Array.from(l)}parseRecipeRecursively(e,i){let l=this.itemMatches(e,i);for(let c of l.filter(f=>i.itemIds.includes(f)))this.parseItemRecursively(c,i)}parseItemRecursively(e,i){let l=this.recipeMatches(e,i);for(let c of l)this.parseRecipeRecursively(c,i)}simplifyMaximizeValues(e){let i=Object.keys(e.itemValues).map(c=>e.itemValues[c]),l=i.reduce((c,f)=>f.max?c.add(f.max):c,ne.zero);i.forEach(c=>{c.max&&(c.max=c.max.div(l))})}addSurplusVariables(e){let i=Object.keys(e.recipes).map(l=>e.recipes[l]);for(let l of i)for(let c of Object.keys(l.out).filter(f=>e.itemValues[f]?.out==null))this.addItemValue(e.itemValues,c)}parseUnproduceable(e){let i=Object.keys(e.itemValues),l=new Set(Object.keys(e.recipes));e.unproduceableIds=new Set(i.filter(c=>e.data.itemAvailableRecipeIds[c].every(f=>!l.has(f))))}getSolution(e){let i=this.glpk(e);if(i.error)return{resultType:Et.Failed,returnCode:i.returnCode,simplexStatus:i.status,unboundedRecipeId:i.unboundedRecipeId,surplus:{},unproduceable:{},excluded:{},recipes:{},time:0,cost:ne.zero,itemIds:[],recipeIds:[],unproduceableIds:new Set,excludedIds:new Set};let l=Object.keys(e.itemValues),c=Object.keys(e.recipes),{unproduceableIds:f,excludedIds:s}=e,{surplus:m,unproduceable:_,excluded:g,recipes:A}=i;return{resultType:Et.Solved,surplus:m,recipes:A,unproduceable:_,excluded:g,time:i.time,itemIds:l,recipeIds:c,unproduceableIds:f,excludedIds:s,cost:i.cost}}itemCost(e,i,l){let c=l.data.itemEntities[e]?.stack==null&&l.data.flags.has("fluidCostRatio")?Ra:ne.one,f=l.costs[i];return c.mul(f).toNumber()}glpk(e){let i=Object.keys(e.itemValues),l=Object.keys(e.recipes),c=new Da.Model({sense:"min"}),f={},s={},m={},_={},g={},A={},k={},B={},F={},H={},Q={},V={obj:e.costs.maximize.toNumber(),lb:0,name:"maximize"},W=c.addVar(V),Z=ne.zero;for(let v of l){let O={obj:(e.recipes[v].cost??ne.zero).toNumber(),lb:0,name:v};e.recipeLimits[v]&&(O.ub=e.recipeLimits[v].toNumber()),f[v]=c.addVar(O)}for(let v of e.recipeObjectives){let O={lb:0,name:v.id};if(v.type===pe.Output&&(O.ub=v.value.toNumber(),O.lb=v.value.toNumber()),s[v.id]=c.addVar(O),v.type===pe.Maximize)switch(e.maximizeType){case dt.Weight:{let T={obj:v.value.mul(e.costs.maximize).toNumber(),lb:0,name:v.id};B[v.id]=c.addVar(T);let b={coeffs:[[s[v.id],1],[B[v.id],-1]],lb:0,name:v.id};Q[v.id]=c.addConstr(b);break}case dt.Ratio:{Z=Z.add(v.value);let L={coeffs:[[s[v.id],1],[W,v.value.inverse().toNumber()]],lb:0,name:v.id};Q[v.id]=c.addConstr(L);break}}}for(let v of e.unproduceableIds){let T={obj:this.itemCost(v,"unproduceable",e),lb:0,name:v};_[v]=c.addVar(T)}for(let v of e.excludedIds){let T={obj:this.itemCost(v,"excluded",e),lb:0,name:v};g[v]=c.addVar(T)}for(let v of i){let T={obj:this.itemCost(v,"surplus",e),lb:0,name:v};A[v]=c.addVar(T);let L=e.itemValues[v];if(L.in){let b={lb:0,ub:L.in.toNumber(),name:v};m[v]=c.addVar(b)}}let N={};for(let v of i){let O=e.itemValues[v],T=[],L=[];e.data.itemAvailableIoRecipeIds[v].forEach(a=>{let y=e.recipes[a];if(y==null)return;let x=y.output[v];x?.nonzero()&&T.push([f[a],x.toNumber()]),y.in[v]&&L.push([f[a],y.in[v].div(y.time).toNumber()])});for(let a of e.recipeObjectives){let y=a.recipe,x=y.output[v];x?.nonzero()&&(x.gt(ne.zero)&&e.requireMachinesOutput?(N[v]==null&&(N[v]={}),N[v][a.id]=x):T.push([s[a.id],x.toNumber()])),y.in[v]&&L.push([s[a.id],y.in[v].div(y.time).toNumber()])}if(e.unproduceableIds.has(v)&&T.push([_[v],1]),e.excludedIds.has(v)&&T.push([g[v],1]),O.in&&T.push([m[v],1]),T.push([A[v],-1]),O.max!=null)switch(e.maximizeType){case dt.Weight:{let a={obj:O.max.mul(e.costs.maximize).toNumber(),lb:0,name:v};k[v]=c.addVar(a),T.push([k[v],-1]);break}case dt.Ratio:{Z=Z.add(O.max),T.push([W,O.max.inverse().toNumber()]);break}}let b={coeffs:T,lb:O.out.toNumber(),ub:O.out.toNumber(),name:v};if(F[v]=c.addConstr(b),O.lim){let a={coeffs:L,ub:O.lim.toNumber(),name:v};H[v]=c.addConstr(a)}}W.obj=W.obj*Z.toNumber();let K=Date.now(),[G,ie]=this.glpkSimplex(c),ue=Date.now()-K,ce={},_e={},de={},Re={},De=ne(c.value);if(G!=="ok"||ie!=="optimal"){let v;try{v=c.ray}catch{}let O;return v&&ui(f,v)&&(O=v.name),{returnCode:G,status:ie,unboundedRecipeId:O,time:ue,surplus:ce,unproduceable:_e,excluded:de,recipes:Re,cost:De,error:!0}}for(let v of i){let O=e.itemValues[v],T=ne(A[v].value);if(T.nonzero()&&(ce[v]=T),N[v])for(let L of Object.keys(N[v])){let b=N[v][L],a=s[L].value,x=ne(a).mul(b);O.out=O.out.add(x)}if(O.max!=null)switch(e.maximizeType){case dt.Ratio:{let L=W.value,a=ne(L).mul(O.max);O.out=O.out.add(a);break}case dt.Weight:{let L=k[v].value,b=ne(L);O.out=O.out.add(b);break}}}for(let v of l){let O=ne(f[v].value);O.nonzero()&&(Re[v]=O)}for(let v of e.unproduceableIds){let O=ne(_[v].value);O.nonzero()&&(_e[v]=O)}for(let v of e.excludedIds){let O=ne(g[v].value);O.nonzero()&&(de[v]=O)}return e.recipeObjectives=e.recipeObjectives.map(v=>Me(v,{value:ne(s[v.id].value)})),{returnCode:G,status:ie,time:ue,surplus:ce,unproduceable:_e,excluded:de,recipes:Re,cost:De,error:!1}}glpkSimplex(e){return[e.simplex(wd),e.status]}updateSteps(e,i){for(let l of Object.keys(i.itemValues))this.addItemStep(l,e,i);this.assignRecipes(e,i);for(let l of Object.keys(e.recipes).map(c=>i.recipes[c]))this.addRecipeStep(l,e,i);for(let l of i.recipeObjectives)this.addRecipeStep(l.recipe,e,i,l);i.steps.sort((l,c)=>(l.output!=null?0:1)-(c.output!=null?0:1))}addItemStep(e,i,l){let c=l.itemValues[e],f=l.steps,s=ne.zero;l.data.itemAvailableIoRecipeIds[e].forEach(_=>{if(i.recipes[_]==null)return;let A=l.recipes[_];if(A?.out[e]==null)return;let k=A.out[e].mul(i.recipes[A.id]).div(A.time);s=s.add(k)});let m=l.itemValues[e].in;m&&(s=s.add(m));for(let _ of l.recipeObjectives){let g=_.recipe;g.out[e]&&(s=s.add(g.out[e].mul(_.value).div(g.time)))}if(i.unproduceable[e]&&(s=s.add(i.unproduceable[e])),i.excluded[e]&&(s=s.add(i.excluded[e])),s.nonzero()){s=s.simplify();let _={id:f.length.toString(),itemId:e,items:s};if(c.out.gt(ne.zero)&&(_.output=c.out,_.parents={"":_.output}),f.push(_),i.surplus[e]?.nonzero()){let g=s.sub(i.surplus[e]).simplify();_.surplus=g.isZero()?_.items:i.surplus[e]}}}assignRecipes(e,i){let l=i.steps,c=Object.keys(e.recipes).map(m=>i.recipes[m]);c.push(...i.recipeObjectives.map(m=>m.recipe));for(let m of l.filter(_=>_.recipeId==null)){let _=c.findIndex(g=>g.id===m.itemId&&g.produces.has(m.itemId));_!==-1&&(m.recipeId=c[_].id,c.splice(_,1))}let f={};for(let m of l.filter(_=>_.recipeId==null))if(m.itemId){let _=m.itemId;f[_]=c.filter(g=>g.output[_]?.gt(ne.zero)).sort((g,A)=>A.output[_].sub(g.output[_]).toNumber()).map(g=>g.id)}let s=Object.keys(f).sort((m,_)=>f[m].length-f[_].length);for(let m of s)for(let _ of f[m])if(!l.some(g=>g.recipeId===_)){let g=l.find(A=>A.itemId===m);if(g){g.recipeId=_;break}}}addRecipeStep(e,i,l,c){let f=l.steps,s=f.filter(_=>_.machines==null),m=s.find(_=>_.recipeId===e.id);if(m||(m=s.find(_=>_.recipeId==null&&_.itemId!=null&&e.produces.has(_.itemId))),!m){let _=f.findIndex(g=>g.itemId&&e.produces.has(g.itemId));m={id:f.length.toString()},_!==-1&&_<f.length-1?f.splice(_+1,0,m):f.push(m)}m.recipeId=e.id,m.recipe=e,c?(m.machines=c.value,m.recipeObjectiveId=c.id):m.machines=i.recipes[e.id].add(m.machines??ne.zero),this.rateSvc.adjustPowerPollution(m,e,l.data)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=We({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ex=(()=>{class t extends _i{constructor(){super(),this.itemsSvc=we(gi),this.machinesSvc=we(vi),this.preferencesSvc=we(mr),this.rateSvc=we(Yr),this.recipeSvc=we(hi),this.recipesSvc=we(yi),this.settingsSvc=we(hr),this.simplexSvc=we(Pa),this.baseObjectives=Se(()=>{let i=this.state(),l=this.settingsSvc.dataset();return Object.keys(i).map(c=>i[c]).filter(c=>jt(c)?l.recipeEntities[c.targetId]!=null:l.itemEntities[c.targetId]!=null)}),this.objectives=Se(()=>{let i=this.baseObjectives(),l=this.itemsSvc.settings(),c=this.recipesSvc.settings(),f=this.machinesSvc.settings(),s=this.settingsSvc.settings(),m=this.recipesSvc.adjustedDataset();return i.map(_=>this.recipeSvc.adjustObjective(_,l,c,f,s,m))}),this.normalizedObjectives=Se(()=>{let i=this.objectives(),l=this.itemsSvc.settings(),c=this.settingsSvc.beltSpeed(),f=this.settingsSvc.displayRateInfo(),s=this.recipesSvc.adjustedDataset();return i.map(m=>Me(m,{value:this.rateSvc.objectiveNormalizedRate(m,l,c,f,s)}))}),this.matrixResult=Se(()=>{let i=this.normalizedObjectives(),l=this.settingsSvc.settings(),c=this.recipesSvc.adjustedDataset(),f=this.preferencesSvc.paused();return this.simplexSvc.solve(i,l,c,f)}),this.steps=Se(()=>{let i=this.matrixResult(),l=this.objectives(),c=this.itemsSvc.settings(),f=this.recipesSvc.settings(),s=this.settingsSvc.beltSpeed(),m=this.settingsSvc.displayRateInfo(),_=this.settingsSvc.settings(),g=this.recipesSvc.adjustedDataset();return this.rateSvc.normalizeSteps(i.steps,l,c,f,s,m,_,g)}),this.stepsModified=Se(()=>{let i=this.steps(),l=this.baseObjectives(),c=this.itemsSvc.state(),f=this.recipesSvc.state();return{objectives:l.reduce((s,m)=>(s[m.id]=m.machineId!=null||m.modules!=null||m.beacons!=null||m.overclock!=null,s),{}),items:i.reduce((s,m)=>(m.itemId&&(s[m.itemId]=c[m.itemId]!=null),s),{}),recipes:i.reduce((s,m)=>(m.recipeId&&(s[m.recipeId]=f[m.recipeId]!=null),s),{})}}),this.totals=Se(()=>{let i=this.steps(),l=this.itemsSvc.settings(),c=this.recipesSvc.adjustedDataset(),f={},s={},m={},_={},g={},A={},k=ne.zero,B=ne.zero;for(let F of i){if(F.itemId!=null){if(F.belts?.nonzero()){let H=l[F.itemId].beltId;H!=null&&(f[H]||(f[H]=ne.zero),f[H]=f[H].add(F.belts.ceil()))}if(F.wagons?.nonzero()){let H=l[F.itemId].wagonId;H!=null&&(s[H]||(s[H]=ne.zero),s[H]=s[H].add(F.wagons.ceil()))}}if(F.recipeId!=null&&F.recipe!=null&&F.recipeSettings!=null){if(F.machines?.nonzero()){let Q=F.recipe;if(!Q.part&&!Q.flags.has("hideProducer")){let V=F.recipeSettings,W=V.machineId;if(W&&c.machineEntities[W].totalRecipe&&(W=F.recipeId),W!=null){m[W]||(m[W]=ne.zero);let Z=F.machines.ceil();m[W]=m[W].add(Z),V.modules!=null&&V.modules.forEach(N=>{N.id==null||N.count==null||N.id===pn.Module||_n(_,[N.id],Z.mul(N.count))})}}}let H=F.recipeSettings?.beacons;if(H!=null)for(let Q of H){let V=Q.id,W=Q.total;if(V==null||!W?.nonzero())continue;g[V]||(g[V]=ne.zero);let Z=W.ceil();g[V]=g[V].add(Z),Q.modules!=null&&Q.modules.forEach(N=>{N.id==null||N.count==null||N.id===pn.Module||_n(A,[N.id],Z.mul(N.count))})}}F.power!=null&&(k=k.add(F.power)),F.pollution!=null&&(B=B.add(F.pollution))}return{belts:f,wagons:s,machines:m,modules:_,beacons:g,beaconModules:A,power:k,pollution:B}}),this.stepDetails=Se(()=>{let i=this.steps(),l=this.settingsSvc.settings(),c=this.recipesSvc.adjustedDataset();return i.reduce((f,s)=>{let m=[],_=[],g=[],A=[],k=[];if(s.itemId!=null&&s.items!=null){let B=s.itemId;m.push(He.Item),_.push(...i.filter(ci("outputs","recipeId","machines")).filter(H=>H.outputs[B]!=null).map(H=>({step:H,value:H.outputs[B]})));let F=_.reduce((H,Q)=>H.sub(Q.value),ne.one);F.nonzero()&&_.push({inputs:!0,value:F}),_.sort((H,Q)=>Q.value.sub(H.value).toNumber())}return s.recipeId!=null&&m.push(He.Recipe),s.machines?.nonzero()&&m.push(He.Machine),s.itemId!=null?(g=c.itemRecipeIds[s.itemId],g.length&&m.push(He.Recipes),A=g.filter(B=>!l.excludedRecipeIds.has(B)),k=g.map(B=>({value:B,label:c.recipeEntities[B].name}))):s.recipeId!=null&&(g=[s.recipeId],A=[s.recipeId],k=[{label:c.recipeEntities[s.recipeId].name,value:s.recipeId}]),f[s.id]={tabs:m.map(B=>{let F=`step_${s.id}_${B}_tab`;return{id:F,label:B,command:()=>{history.replaceState({},"",`${window.location.href.replace(/#(.*)$/,"")}#${F}`)}}}),outputs:_,recipeIds:g,recipesEnabled:A,recipeOptions:k},f},{})}),this.stepById=Se(()=>{let i=this.steps();return dr(i)}),this.stepByItemEntities=Se(()=>this.steps().reduce((l,c)=>(c.itemId!=null&&(l[c.itemId]=c),l),{})),this.stepTree=Se(()=>{let i=this.steps(),l={},c={};for(let f of i){let s=[];if(f.parents){let m=Object.keys(f.parents);m.length===1&&c[m[0]]!=null&&(s=new Array(c[m[0]]+1).fill(!1))}c[f.id]=s.length,l[f.id]=s}for(let f=0;f<i.length;f++){let s=i[f];if(l[s.id].length)for(let m=f+1;m<i.length;m++){let _=i[m];if(l[_.id]){if(l[_.id].length===l[s.id].length){for(let g=f;g<m;g++){let A=i[g];l[A.id]&&(l[A.id][l[s.id].length-1]=!0)}break}else if(l[_.id].length<l[s.id].length)break}}}return l}),this.effectivePowerUnit=Se(()=>{let i=this.preferencesSvc.powerUnit();if(i!==Lt.Auto)return i;let l=this.steps(),c;for(let f of l)f.power!=null&&(c==null||f.power.lt(c))&&(c=f.power);return c=c??ne.zero,c.lt(ne(1000n))?Lt.kW:c.lt(ne(1000000n))?Lt.MW:Lt.GW}),this.recipesModified=Se(()=>{let i=this.recipesSvc.state(),l=this.baseObjectives();return{machines:Object.keys(i).some(c=>i[c].fuelId!=null||i[c].machineId!=null||i[c].modules!=null||i[c].overclock!=null)||l.some(c=>c.fuelId!=null||c.machineId!=null||c.modules!=null||c.overclock!=null),beacons:Object.keys(i).some(c=>i[c].beacons!=null)||l.some(c=>c.beacons!=null),cost:Object.keys(i).some(c=>i[c].cost)}});let e=we(oi);this.settingsSvc.load$.pipe(ii(()=>si(this.settingsSvc.displayRate,{injector:e}).pipe(ni(),ri(([i,l])=>i!==l)))).subscribe(([i,l])=>{let c=dn[l].value.div(dn[i].value);this.adjustDisplayRate(c)})}add(e){this.reduce(i=>{let l=ne.one,f=Object.keys(i).at(-1);f&&(l=i[f].value);let s=1;for(;i[s.toString()]!=null;)s++;let m=s.toString(),_={id:m,value:l,type:pe.Output};return Me(i,{[m]:Me(_,e)})})}create(e){let i="1";this.set({[i]:Me(e,{id:i})})}remove(e){this.reduce(i=>{i=this._removeEntry(i,e);let l=Object.keys(i).map(c=>i[c]);return this.reduceObjectives(l)})}setOrder(e){this.set(this.reduceObjectives(e))}adjustDisplayRate(e){this.reduce(i=>{let l=Me(i),c=Object.keys(l);for(let f of c.map(s=>i[s]).filter(s=>s.type!==pe.Maximize&&(s.unit===nt.Items||s.unit===nt.Wagons))){let s=f.value.mul(e);l[f.id]=Me(f,{value:s})}return l})}reduceObjectives(e){return e.reduce((i,l,c)=>{let f=(c+1).toString();return i[f]=Me(l,{id:f}),i},{})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=We({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{wi as a,Ld as b,Na as c,pe as d,Cd as e,He as f,tb as g,Be as h,Kp as i,va as j,md as k,ud as l,Uw as m,$w as n,ya as o,Hw as p,Ia as q,Yr as r,Et as s,ex as t};
