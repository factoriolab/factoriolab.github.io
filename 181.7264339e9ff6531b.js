"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[181],{1181:(s_,Y,l)=>{l.r(Y),l.d(Y,{ListComponent:()=>S});var U=l(7582),x=l(6814),M=l(8791),A=l(2572),P=l(9397),G=l(5619),B=l(1374),W=l(2181),$=l(9360),D=l(8251),H=l(1254),u=l(790),t=l(5879);let Q=(()=>{var e;class _{static transform(o){return o.itemId??o.recipeObjectiveId??o.recipeId??o.id}transform(o){return _.transform(o)}}return(e=_).\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"stepId",type:e,pure:!0}),_})();var p=l(8528),Z=l(7346),q=l(4190),C=l(8345),K=l(4221),F=l(6223),z=l(5219),X=l(3259),tt=l(707),nt=l(8057),et=l(3965),ot=l(5167),_t=l(4480),b=l(1764),it=l(5779),ct=l(6160),at=l(860),st=l(9515);let pt=(()=>{var e;class _{transform(o){return o}}return(e=_).\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"asStep",type:e,pure:!0}),_})();var lt=l(6881),rt=l(2852),gt=l(207),mt=l(9249),dt=l(912),E=l(3689),ut=l(5383);let ft=(()=>{var e;class _{transform(o){return null==o?"":" ".repeat(4-o.length)+o}}return(e=_).\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"leftPad",type:e,pure:!0}),_})();var T,xt=l(2087),It=l(9168),Tt=l(2142),wt=l(1134),vt=l(8393),ht=l(6675),Zt=l(3541);const Ct=["stepsTable"];function bt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.resetChecked())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.checkedUndoTooltip"))}function Lt(e,_){if(1&e&&(t.TgZ(0,"th")(1,"div",24),t._UZ(2,"i",25),t.YNc(3,bt,2,3,"button",15),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Q6J("ngIf",n.itemsModified.checked||n.recipesModified.checked)}}function At(e,_){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"options.column.tree")," "))}function Qt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){return t.CHM(n),t.oxw(3).resetExcluded(),t.KtG(i.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.itemsUndoTooltip"))}function Jt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){return t.CHM(n),t.oxw(4).resetBelts(),t.KtG(i.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.beltsUndoTooltip"))}function Nt(e,_){if(1&e&&(t.TgZ(0,"th",27)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"p-sortIcon",28),t.YNc(6,Jt,2,3,"button",15),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"options.column.belts")),t.xp6(3),t.Q6J("ngIf",n.itemsModified.belts)}}function St(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){return t.CHM(n),t.oxw(4).resetWagons(),t.KtG(i.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.wagonsUndoTooltip"))}function Ot(e,_){if(1&e&&(t.TgZ(0,"th",29)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"p-sortIcon",30),t.YNc(6,St,2,3,"button",15),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,n.dispRateInfo.wagonsLabel)),t.xp6(3),t.Q6J("ngIf",n.itemsModified.wagons)}}function kt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){return t.CHM(n),t.oxw(3).resetMachines(),t.KtG(i.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.machinesUndoTooltip"))}function yt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.resetBeacons())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.beaconsUndoTooltip"))}function Yt(e,_){if(1&e&&(t.TgZ(0,"th",31)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,yt,2,3,"button",15),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"options.column.beacons")),t.xp6(2),t.Q6J("ngIf",n.recipesModified.beacons)}}function Mt(e,_){1&e&&(t.TgZ(0,"th",32)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"p-sortIcon",33),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"options.column.power")))}function Bt(e,_){if(1&e&&(t.TgZ(0,"th",34)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"p-sortIcon",35),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,1,n.dispRateInfo.pollutionLabel))}}function qt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"th",10)(1,"button",36),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw();return t.KtG(c.export(i.steps,i.itemsState,i.recipesState,i.columnsState,i.data))}),t.ALo(2,"translate"),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("pTooltip",t.lcZ(2,1,"list.downloadTooltip")))}function Ft(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"th",10)(2,"button",11),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.contentSvc.showColumns$.next())}),t.ALo(3,"translate"),t.qZA()(),t.YNc(4,Lt,4,1,"th",0),t.YNc(5,At,3,3,"th",0),t.TgZ(6,"th",12)(7,"div",13)(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"p-sortIcon",14),t.YNc(12,Qt,2,3,"button",15),t.qZA()(),t.YNc(13,Nt,7,4,"th",16),t.YNc(14,Ot,7,4,"th",17),t.TgZ(15,"th",18)(16,"div",13)(17,"span"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"p-sortIcon",19),t.YNc(21,kt,2,3,"button",15),t.qZA()(),t.YNc(22,Yt,6,4,"th",20),t.YNc(23,Mt,6,3,"th",21),t.YNc(24,Bt,6,3,"th",22),t.YNc(25,qt,3,3,"th",23),t.qZA()}if(2&e){const n=t.oxw().ngIf;t.xp6(2),t.Q6J("pTooltip",t.lcZ(3,13,"list.openColumnSettings")),t.xp6(2),t.Q6J("ngIf",n.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.tree.show),t.xp6(4),t.Oqu(t.lcZ(10,15,n.dispRateInfo.itemsLabel)),t.xp6(3),t.Q6J("ngIf",n.itemsModified.excluded),t.xp6(1),t.Q6J("ngIf",n.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.wagons.show),t.xp6(4),t.Oqu(t.lcZ(19,17,"options.column.machines")),t.xp6(3),t.Q6J("ngIf",n.recipesModified.machines),t.xp6(1),t.Q6J("ngIf",n.columnsState.beacons.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.link.show)}}function Et(e,_){if(1&e&&t._UZ(0,"div",38),2&e){const n=_.$implicit,o=t.oxw().ngIf;t.Q6J("id","step_"+o.id+"_"+n.label)}}function Rt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"td")(1,"div",45)(2,"p-checkbox",46),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw().ngIf,a=t.oxw(3);return t.KtG(a.changeStepChecked(c,i.checked))}),t.qZA()()()}if(2&e){const n=t.oxw().ngIf;t.xp6(2),t.Q6J("binary",!0)("ngModel",n.checked)}}function jt(e,_){if(1&e&&t._UZ(0,"div",54),2&e){const o=_.last;t.ekj("trail",_.$implicit)("last",o)}}function Ut(e,_){if(1&e&&(t.ynx(0),t.YNc(1,jt,1,4,"div",52),t._UZ(2,"div",53),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",o.stepTree[n.id])}}function Pt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw(2).ngIf,a=t.oxw();return t.KtG(a.setItemExcluded(i.itemId,!c.itemsState[i.itemId].excluded))}),t.ALo(1,"iconSmClass"),t.ALo(2,"itemTooltip"),t._UZ(3,"i",56),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.ekj("hover-active",o.itemsState[n.itemId].excluded),t.Q6J("icon",t.lcZ(1,5,n.itemId))("pTooltip",t.xi3(2,7,n.itemId,o.data))("escape",!1)}}function Gt(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(3).ngIf;t.xp6(1),t.hij("#",n.recipeObjectiveId,"")}}function Wt(e,_){if(1&e&&(t.TgZ(0,"i",57),t.ALo(1,"iconSmClass"),t.ALo(2,"recipeTooltip"),t.YNc(3,Gt,2,1,"span",0),t.qZA()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.Tol(t.xi3(1,5,n.recipeId,"recipe")),t.Q6J("pTooltip",t.xi3(2,8,n.recipeId,o.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",null!=n.recipeObjectiveId)}}function $t(e,_){if(1&e&&(t.TgZ(0,"td",47)(1,"div",48),t.YNc(2,Ut,3,1,"ng-container",0),t.TgZ(3,"div",49),t.YNc(4,Pt,4,10,"button",50),t.YNc(5,Wt,4,11,"ng-template",null,51,t.W1O),t.qZA()()()),2&e){const n=t.MAs(6),o=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.MAs(2);t.xp6(2),t.Q6J("ngIf",!c.sortField&&(null==i.stepTree[o.id]?null:i.stepTree[o.id].length)),t.xp6(2),t.Q6J("ngIf",o.itemId&&null==o.recipeObjectiveId)("ngIfElse",n)}}function Dt(e,_){if(1&e&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.hij("(+",t.xi3(2,1,n.surplus,o.columnsState.items.precision),") ")}}function Vt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw(2).ngIf,a=t.oxw();return t.KtG(a.setItemExcluded(i.itemId,!c.itemsState[i.itemId].excluded))}),t.ALo(1,"iconSmClass"),t.ALo(2,"itemTooltip"),t._UZ(3,"i",56),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.ekj("hover-active",o.itemsState[n.itemId].excluded),t.Q6J("icon",t.lcZ(1,5,n.itemId))("pTooltip",t.xi3(2,7,n.itemId,o.data))("escape",!1)}}function Ht(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",58),t.YNc(2,Dt,3,4,"span",59),t.TgZ(3,"span",60),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",61)(7,"div",13)(8,"span",62),t._uU(9),t.qZA(),t.YNc(10,Vt,4,10,"button",63),t.qZA()(),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngIf",n.surplus&&n.surplus.nonzero()),t.xp6(2),t.Oqu(t.xi3(5,4,n.items.sub(n.surplus||i.Rational.zero),o.columnsState.items.precision)),t.xp6(5),t.Oqu(o.data.itemEntities[n.itemId].name),t.xp6(1),t.Q6J("ngIf",!o.preferences.hideDuplicateIcons||!o.columnsState.tree.show)}}function Kt(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}const w=function(e,_,n){return{name:e,speed:_,suffix:n}};function zt(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"i"),t.ALo(4,"iconSmClass"),t.qZA(),t.TgZ(5,"div",71),t._uU(6),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.belt",t.kEZ(12,w,o.data.itemEntities[n.value].name,o.beltSpeedTxt[n.value],t.lcZ(2,8,o.dispRateInfo.suffix))))("escape",!1),t.xp6(3),t.Tol(t.lcZ(4,10,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Xt(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",67),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.setBelt(c.itemId,i.value,a.settings.beltId))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.YNc(3,Kt,3,4,"ng-template",68),t.YNc(4,zt,7,16,"ng-template",69),t.qZA()}if(2&e){const n=t.oxw().ngIf,o=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.belt",t.kEZ(9,w,o.data.itemEntities[n].name,o.beltSpeedTxt[n],t.lcZ(2,7,o.dispRateInfo.suffix))))("escape",!1)("ngModel",n)("options",o.options.belts)}}function tn(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function nn(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"i"),t.ALo(4,"iconSmClass"),t.qZA(),t.TgZ(5,"div",71),t._uU(6),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(8).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.pipe",t.kEZ(12,w,o.data.itemEntities[n.value].name,o.beltSpeedTxt[n.value],t.lcZ(2,8,o.dispRateInfo.suffix))))("escape",!1),t.xp6(3),t.Tol(t.lcZ(4,10,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function en(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",67),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(5).ngIf,a=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.setBelt(c.itemId,i.value,a.settings.pipeId))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.YNc(3,tn,3,4,"ng-template",68),t.YNc(4,nn,7,16,"ng-template",69),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,o=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.pipe",t.kEZ(9,w,o.data.itemEntities[n].name,o.beltSpeedTxt[n],t.lcZ(2,7,o.dispRateInfo.suffix))))("escape",!1)("ngModel",n)("options",o.options.pipes)}}function on(e,_){if(1&e&&t.YNc(0,en,5,13,"p-dropdown",64),2&e){const n=t.oxw().ngIf,o=t.MAs(11),i=t.oxw(5).ngIf;t.Q6J("ngIf",-1!==i.data.pipeIds.indexOf(n)&&i.settings.pipeId)("ngIfElse",o)}}function _n(e,_){if(1&e&&(t.TgZ(0,"i",57),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.oxw().ngIf,o=t.oxw(5).ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"tooltip.pipe",t.kEZ(11,w,o.data.itemEntities[n].name,o.beltSpeedTxt[n],t.lcZ(3,9,o.dispRateInfo.suffix))))("escape",!1)}}function cn(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",58)(2,"span",60),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",61)(6,"div",13),t.YNc(7,Xt,5,13,"p-dropdown",64),t.YNc(8,on,1,2,"ng-template",null,65,t.W1O),t.YNc(10,_n,4,15,"ng-template",null,66,t.W1O),t.qZA()(),t.BQk()),2&e){const n=_.ngIf,o=t.MAs(9),i=t.oxw(3).ngIf,c=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,i.belts,c.columnsState.belts.precision)),t.xp6(4),t.Q6J("ngIf",-1!==c.data.beltIds.indexOf(n)&&c.settings.beltId)("ngIfElse",o)}}function an(e,_){if(1&e&&(t.ynx(0),t.YNc(1,cn,12,6,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.itemsState[n.itemId].beltId)}}function sn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,an,2,1,"ng-container",43),t.BQk()),2&e){const n=t.oxw().ngIf;t.oxw(2);const o=t.MAs(7);t.xp6(1),t.Q6J("ngIf",n.itemId&&n.belts)("ngIfElse",o)}}function pn(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}const v=function(e,_){return{name:e,size:_}};function ln(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"translate"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(6).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.cargoWagon",t.WLB(10,v,o.data.itemEntities[n.value].name,o.data.cargoWagonEntities[n.value].size)))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function rn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",67),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(3).ngIf,a=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.setWagon(c.itemId,i.value,a.settings.cargoWagonId))}),t.ALo(1,"translate"),t.YNc(2,pn,3,4,"ng-template",68),t.YNc(3,ln,6,13,"ng-template",69),t.qZA()}if(2&e){const n=t.oxw().ngIf,o=t.oxw(4).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.cargoWagon",t.WLB(7,v,o.data.itemEntities[n].name,o.data.cargoWagonEntities[n].size)))("escape",!1)("ngModel",n)("options",o.options.cargoWagons)}}function gn(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function mn(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"translate"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.fluidWagon",t.WLB(10,v,o.data.itemEntities[n.value].name,o.data.fluidWagonEntities[n.value].capacity)))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function dn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",67),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.setWagon(c.itemId,i.value,a.settings.fluidWagonId))}),t.ALo(1,"translate"),t.YNc(2,gn,3,4,"ng-template",68),t.YNc(3,mn,6,13,"ng-template",69),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,o=t.oxw(4).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.fluidWagon",t.WLB(7,v,o.data.itemEntities[n].name,o.data.fluidWagonEntities[n].capacity)))("escape",!1)("ngModel",n)("options",o.options.fluidWagons)}}function un(e,_){if(1&e&&t.YNc(0,dn,4,10,"p-dropdown",73),2&e){const n=t.oxw().ngIf,o=t.oxw(4).ngIf;t.Q6J("ngIf",-1!==o.data.fluidWagonIds.indexOf(n)&&o.settings.fluidWagonId)}}function fn(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",58)(2,"span",60),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",61)(6,"div",13),t.YNc(7,rn,4,10,"p-dropdown",64),t.YNc(8,un,1,1,"ng-template",null,72,t.W1O),t.qZA()(),t.BQk()),2&e){const n=_.ngIf,o=t.MAs(9),i=t.oxw(2).ngIf,c=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,i.wagons,c.columnsState.wagons.precision)),t.xp6(4),t.Q6J("ngIf",-1!==c.data.cargoWagonIds.indexOf(n)&&c.settings.cargoWagonId)("ngIfElse",o)}}function xn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,fn,10,6,"ng-container",43),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw(2).ngIf,i=t.MAs(7);t.xp6(1),t.Q6J("ngIf",n.itemId&&n.wagons&&o.itemsState[n.itemId].wagonId)("ngIfElse",i)}}function In(e,_){if(1&e&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"machineRate"),t.qZA()),2&e){const n=t.oxw().ngIf,o=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,o.machines,i.columnsState.machines.precision,n))}}function Tn(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(5).ngIf;t.xp6(1),t.hij("#",n.recipeObjectiveId,"")}}function wn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4).ngIf,c=t.oxw(3);return t.KtG(c.addObjective({targetId:i.recipeId,unit:c.ObjectiveUnit.Machines}))}),t.ALo(1,"recipeTooltip"),t.TgZ(2,"span",79),t.ALo(3,"iconSmClass"),t.YNc(4,Tn,2,1,"span",0),t.qZA(),t._UZ(5,"i",80),t.qZA()}if(2&e){const n=t.oxw(4).ngIf,o=t.oxw(2).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.recipeId,o.data))("escape",!1),t.xp6(2),t.Tol(t.xi3(3,8,n.recipeId,"recipe")),t.xp6(2),t.Q6J("ngIf",n.recipeObjectiveId)}}function vn(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function hn(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"machineTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(6).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,o.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Zn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-inputNumber",81,82),t.NdJ("onBlur",function(){t.CHM(n);const i=t.MAs(1),c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,s=t.oxw();let r;return t.KtG(s.changeRecipeField(c,null!==(r=i.value)&&void 0!==r?r:0,a.machinesState,a.data,s.RecipeField.Overclock))}),t.ALo(2,"translate"),t.qZA()}if(2&e){const n=t.oxw(4).ngIf;t.Q6J("min",1)("max",250)("step",10)("maxFractionDigits",2)("size",3)("pTooltip",t.lcZ(2,7,"list.overclockTooltip"))("ngModel",n.recipeSettings.overclock)}}const J=function(e,_,n){return{name:e,category:_,value:n}};function Cn(e,_){if(1&e&&(t.TgZ(0,"div",13)(1,"i",85),t.ALo(2,"iconSmClass"),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw().ngIf,o=t.oxw(6).ngIf;t.xp6(1),t.Tol(t.lcZ(2,4,n)),t.Q6J("pTooltip",t.xi3(3,6,"tooltip.fuel",t.kEZ(9,J,o.data.itemEntities[n].name,o.data.fuelEntities[n].category,o.data.fuelEntities[n].value)))("escape",!1)}}function bn(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function Ln(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"translate"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(8).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.fuel",t.kEZ(10,J,o.data.itemEntities[n.value].name,o.data.fuelEntities[n.value].category,o.data.fuelEntities[n.value].value)))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}const N=function(){return[]};function An(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",67),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(5).ngIf,a=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.changeRecipeField(c,i.value,a.machinesState,a.data,s.RecipeField.Fuel))}),t.ALo(1,"translate"),t.YNc(2,bn,3,4,"ng-template",68),t.YNc(3,Ln,6,14,"ng-template",69),t.qZA()}if(2&e){const n=t.oxw().ngIf,o=t.oxw(4).ngIf,i=t.oxw(2).ngIf;let c;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.fuel",t.kEZ(7,J,i.data.itemEntities[n].name,i.data.fuelEntities[n].category,i.data.fuelEntities[n].value)))("escape",!1)("ngModel",n)("options",null!==(c=o.recipeSettings.fuelOptions)&&void 0!==c?c:t.DdM(11,N))}}function Qn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Cn,4,13,"div",83),t.YNc(2,An,4,12,"ng-template",null,84,t.W1O),t.BQk()),2&e){const n=t.MAs(3),o=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",o.recipe.isBurn)("ngIfElse",n)}}function Jn(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function Nn(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"moduleTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(8).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,o.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Sn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",87),t.NdJ("onChange",function(i){const a=t.CHM(n).index,s=t.oxw(5).ngIf,r=t.oxw(2).ngIf,m=t.oxw();return t.KtG(m.changeRecipeField(s,i.value,r.machinesState,r.data,m.RecipeField.MachineModules,a))}),t.ALo(1,"moduleTooltip"),t.YNc(2,Jn,3,4,"ng-template",68),t.YNc(3,Nn,6,10,"ng-template",69),t.qZA()}if(2&e){const n=_.$implicit,o=_.last,i=t.oxw(5).ngIf,c=t.oxw(2).ngIf;let a;t.ekj("last",o),t.Q6J("pTooltip",t.xi3(1,6,n,c.data))("escape",!1)("options",null!==(a=i.recipeSettings.machineModuleOptions)&&void 0!==a?a:t.DdM(9,N))("ngModel",n)}}function On(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Sn,4,10,"p-dropdown",86),t.BQk()),2&e){const n=_.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}function kn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"div",13)(1,"span",62),t._uU(2),t.qZA(),t.YNc(3,wn,6,11,"button",75),t.TgZ(4,"p-dropdown",76),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(3).ngIf,a=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.changeRecipeField(c,i.value,a.machinesState,a.data,s.RecipeField.Machine))}),t.ALo(5,"machineTooltip"),t.ALo(6,"options"),t.YNc(7,vn,3,4,"ng-template",68),t.YNc(8,hn,6,10,"ng-template",69),t.qZA(),t.YNc(9,Zn,3,9,"p-inputNumber",77),t.YNc(10,Qn,4,2,"ng-container",0),t.YNc(11,On,2,1,"ng-container",0),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,o=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.oxw();t.xp6(2),t.Oqu(o.recipe.name),t.xp6(1),t.Q6J("ngIf",!i.preferences.hideDuplicateIcons||null!=o.itemId&&o.itemId!==o.recipeId),t.xp6(1),t.Q6J("pTooltip",t.xi3(5,9,n,i.data))("escape",!1)("options",t.xi3(6,12,o.recipe.producers,i.data.itemEntities))("ngModel",n),t.xp6(5),t.Q6J("ngIf",i.data.game===c.Game.Satisfactory),t.xp6(1),t.Q6J("ngIf",null==o.recipeSettings?null:o.recipeSettings.fuelId),t.xp6(1),t.Q6J("ngIf",null==o.recipeSettings?null:o.recipeSettings.machineModuleIds)}}function yn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,kn,12,15,"div",74),t.BQk()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.recipeId&&n.recipe&&n.recipeSettings)}}function Yn(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",58),t.YNc(2,In,3,5,"span",59),t.ALo(3,"machineShowRate"),t.qZA(),t.TgZ(4,"td",61),t.YNc(5,yn,2,1,"ng-container",0),t.ALo(6,"machineShow"),t.qZA(),t.BQk()),2&e){const n=_.ngIf,o=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",o.machines&&o.machines.nonzero()&&t.xi3(3,2,n,i.data.game)),t.xp6(3),t.Q6J("ngIf",t.xi3(6,5,n,i.data.game))}}function Mn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",94),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4).ngIf,c=t.oxw(3);let a;return t.KtG(c.addBeacon(null!==(a=i.recipeObjectiveId)&&void 0!==a?a:i.recipeId,null!=i.recipeObjectiveId))}),t.qZA()}}function Bn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",95),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index,c=t.oxw(3).ngIf,a=t.oxw(3);let s;return t.KtG(a.removeBeacon(null!==(s=c.recipeObjectiveId)&&void 0!==s?s:c.recipeId,i,null!=c.recipeObjectiveId))}),t.qZA()}}function qn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"lab-input-number",96),t.NdJ("setValue",function(i){t.CHM(n);const c=t.oxw().index,a=t.oxw(3).ngIf,s=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.changeRecipeField(a,i,s.machinesState,s.data,r.RecipeField.BeaconCount,c))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("pTooltip",t.lcZ(1,3,"list.beaconEachTooltip"))("value",n.count.toString())("textButtons",!0)}}function Fn(e,_){if(1&e&&(t.TgZ(0,"div",40),t.YNc(1,Mn,1,0,"button",91),t.YNc(2,Bn,1,0,"ng-template",null,92,t.W1O),t.YNc(4,qn,2,5,"lab-input-number",93),t.qZA()),2&e){const n=_.$implicit,o=_.index,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0===o)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",n.count)}}function En(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function Rn(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"beaconTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,o.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function jn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",76),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw().index,a=t.oxw(3).ngIf,s=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.changeRecipeField(a,i.value,s.machinesState,s.data,r.RecipeField.Beacon,c))}),t.ALo(1,"beaconTooltip"),t.YNc(2,En,3,4,"ng-template",68),t.YNc(3,Rn,6,10,"ng-template",69),t.qZA()}if(2&e){const n=t.oxw().$implicit,o=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,n.id,o.data))("escape",!1)("options",o.options.beacons)("ngModel",n.id)}}function Un(e,_){if(1&e&&(t.TgZ(0,"div",40)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function Pn(e,_){if(1&e&&(t.TgZ(0,"div",70),t.ALo(1,"moduleTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,o.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Gn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",87),t.NdJ("onChange",function(i){const a=t.CHM(n).index,s=t.oxw().index,r=t.oxw(3).ngIf,m=t.oxw(2).ngIf,g=t.oxw();return t.KtG(g.changeRecipeField(r,i.value,m.machinesState,m.data,g.RecipeField.BeaconModules,s,a))}),t.ALo(1,"moduleTooltip"),t.YNc(2,Un,3,4,"ng-template",68),t.YNc(3,Pn,6,10,"ng-template",69),t.qZA()}if(2&e){const n=_.$implicit,o=_.last,i=t.oxw().$implicit,c=t.oxw(5).ngIf;let a;t.ekj("last",o),t.Q6J("pTooltip",t.xi3(1,6,n,c.data))("escape",!1)("options",null!==(a=i.moduleOptions)&&void 0!==a?a:t.DdM(9,N))("ngModel",n)}}function Wn(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"lab-input-number",99),t.NdJ("setValue",function(i){t.CHM(n);const c=t.oxw().index,a=t.oxw(3).ngIf,s=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.changeRecipeField(a,i,s.machinesState,s.data,r.RecipeField.BeaconTotal,c))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("pTooltip",t.lcZ(1,3,"list.beaconTotalTooltip"))("value",n.total.toString())("textButtons",!0)}}function $n(e,_){if(1&e&&(t.TgZ(0,"div",40),t.YNc(1,jn,4,7,"p-dropdown",97),t.YNc(2,Gn,4,10,"p-dropdown",86),t.YNc(3,Wn,2,5,"lab-input-number",98),t.qZA()),2&e){const n=_.$implicit;t.xp6(1),t.Q6J("ngIf",n.id),t.xp6(1),t.Q6J("ngForOf",n.moduleIds),t.xp6(1),t.Q6J("ngIf",n.total)}}function Dn(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",88),t.YNc(2,Fn,5,3,"div",89),t.qZA(),t.TgZ(3,"td",61),t.YNc(4,$n,4,3,"div",90),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",n.recipeSettings.beacons)("ngForTrackBy",o.trackSvc.trackByIndex),t.xp6(2),t.Q6J("ngForOf",n.recipeSettings.beacons)}}function Vn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Dn,5,3,"ng-container",43),t.BQk()),2&e){const n=t.oxw().ngIf;t.oxw(2);const o=t.MAs(7);t.xp6(1),t.Q6J("ngIf",n.recipeId&&n.recipeSettings)("ngIfElse",o)}}function Hn(e,_){if(1&e&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"power"),t.qZA()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,n.power,o.columnsState.power.precision,o.effectivePowerUnit))}}function Kn(e,_){if(1&e&&(t.TgZ(0,"td",100),t.YNc(1,Hn,3,5,"span",59),t.qZA()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.power&&n.power.nonzero())}}function zn(e,_){if(1&e&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.xi3(2,1,n.pollution,o.columnsState.pollution.precision))}}function Xn(e,_){if(1&e&&(t.TgZ(0,"td",100),t.YNc(1,zn,3,4,"span",59),t.qZA()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.pollution&&n.pollution.nonzero())}}function te(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",104),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw(3);return t.KtG(c.resetStep(i))}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.stepUndoTooltip"))}function ne(e,_){if(1&e&&(t.TgZ(0,"td",10)(1,"div",40)(2,"a",101),t.ALo(3,"stepHref"),t._UZ(4,"button",102),t.ALo(5,"translate"),t.qZA(),t.YNc(6,te,2,3,"button",103),t.qZA()()),2&e){const n=t.oxw().ngIf,o=t.oxw(2).ngIf;t.xp6(2),t.Q6J("href",t.Dn7(3,3,n,o.zipPartial,o.data),t.LSH),t.xp6(2),t.Q6J("pTooltip",t.lcZ(5,7,"list.openNewTabTooltip")),t.xp6(2),t.Q6J("ngIf",n.recipeId&&o.stepsModified.recipes[n.recipeId]||n.itemId&&o.stepsModified.items[n.itemId]||n.recipeObjectiveId&&o.stepsModified.objectives[n.recipeObjectiveId])}}function ee(e,_){if(1&e&&(t.TgZ(0,"tr")(1,"td",37),t._UZ(2,"div",38),t.YNc(3,Et,1,1,"div",39),t.TgZ(4,"div",40),t._UZ(5,"button",41),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,Rt,3,2,"td",0),t.YNc(8,$t,7,3,"td",42),t.YNc(9,Ht,11,7,"ng-container",43),t.YNc(10,sn,2,2,"ng-container",0),t.YNc(11,xn,2,2,"ng-container",0),t.YNc(12,Yn,7,8,"ng-container",43),t.YNc(13,Vn,2,2,"ng-container",0),t.YNc(14,Kn,2,1,"td",44),t.YNc(15,Xn,2,1,"td",44),t.YNc(16,ne,7,9,"td",23),t.qZA()),2&e){const n=_.ngIf,o=t.oxw().expanded,i=t.oxw().ngIf,c=t.MAs(7);t.xp6(2),t.Q6J("id","step_"+n.id),t.xp6(1),t.Q6J("ngForOf",i.stepDetails[n.id].tabs),t.xp6(2),t.ekj("fa-rotate-90",o),t.Q6J("pTooltip",t.lcZ(6,18,o?"list.hideDetails":"list.showDetails"))("pRowToggler",n),t.xp6(2),t.Q6J("ngIf",i.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.tree.show),t.xp6(1),t.Q6J("ngIf",n.itemId&&n.items)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",i.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.wagons.show),t.xp6(1),t.Q6J("ngIf",null==n.recipeSettings?null:n.recipeSettings.machineId)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",i.columnsState.beacons.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.link.show)}}function oe(e,_){1&e&&(t.YNc(0,ee,17,20,"tr",0),t.ALo(1,"asStep")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,_.$implicit))}function _e(e,_){if(1&e&&(t._UZ(0,"span",114),t.TgZ(1,"span",115),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=_.$implicit,o=t.oxw(4);t.Tol(o.stepDetailIcon[n.label]),t.xp6(2),t.Oqu(t.lcZ(3,3,"options.stepDetailTab."+n.label))}}function ie(e,_){1&e&&t.GkF(0)}function ce(e,_){if(1&e&&(t.TgZ(0,"tr",105),t.YNc(1,ie,1,0,"ng-container",118),t.TgZ(2,"td",119),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(4);const n=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.hij(" ",t.lcZ(4,2,"list.sources")," ")}}function ae(e,_){1&e&&t.GkF(0)}const se=function(e,_,n,o,i,c,a,s,r,m,g,f,d){return{items:e,itemId:_,belts:n,beltId:o,wagons:i,wagonId:c,machines:a,machineId:s,recipeId:r,recipeObjectiveId:m,percent:g,percentOnDest:!0,destId:f,inputs:d}};function pe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ae,1,0,"ng-container",120),t.BQk()),2&e){const n=t.oxw().$implicit,o=t.oxw(2).ngIf,i=t.oxw(2).ngIf,c=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,se,[null==o.items?null:o.items.mul(n.value),o.itemId,null==o.belts?null:o.belts.mul(n.value),i.itemsState[o.itemId].beltId,null==o.wagons?null:o.wagons.mul(n.value),i.itemsState[o.itemId].wagonId,n.machines,n.recipeId&&i.recipesState[n.recipeId].machineId,n.recipeId,n.recipeObjectiveId,n.value,o.itemId,n.inputs]))}}function le(e,_){if(1&e&&(t.ynx(0),t.YNc(1,pe,2,16,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId)}}function re(e,_){1&e&&t.GkF(0)}function ge(e,_){if(1&e&&(t.TgZ(0,"tr",105),t.YNc(1,re,1,0,"ng-container",118),t.TgZ(2,"td",119),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(4);const n=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.hij(" ",t.lcZ(4,2,"list.destinations")," ")}}function me(e,_){1&e&&t.GkF(0)}const de=function(e,_,n,o,i,c,a,s,r,m,g,f,d,I){return{items:e,itemId:_,belts:n,beltId:o,wagons:i,wagonId:c,machines:a,machineId:s,recipeId:r,recipeObjectiveId:m,percent:g,destId:f,destRecipeObjectiveId:d,destIsRecipe:!0,outputs:I}};function ue(e,_){if(1&e&&(t.ynx(0),t.YNc(1,me,1,0,"ng-container",120),t.BQk()),2&e){const n=t.oxw().$implicit,o=t.oxw(2).ngIf,i=t.oxw(2).ngIf,c=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,de,[null==o.items?null:o.items.mul(n.value),o.itemId,null==o.belts?null:o.belts.mul(n.value),i.itemsState[o.itemId].beltId,null==o.wagons?null:o.wagons.mul(n.value),i.itemsState[o.itemId].wagonId,1===i.stepDetails[o.id].outputs.length?null==o.machines?null:o.machines.mul(n.value):null,1===i.stepDetails[o.id].outputs.length?null==o.recipeSettings?null:o.recipeSettings.machineId:null,o.recipeId,o.recipeObjectiveId,n.value,null==i.stepById[n.key]?null:i.stepById[n.key].recipeId,null==i.stepById[n.key]?null:i.stepById[n.key].recipeObjectiveId,""===n.key]))}}function fe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ue,2,17,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId)}}function xe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ce,5,4,"tr",116),t.YNc(2,le,2,1,"ng-container",117),t.YNc(3,ge,5,4,"tr",116),t.YNc(4,fe,2,1,"ng-container",117),t.ALo(5,"keyvalue"),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw(2).ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngIf",o.stepDetails[n.id].outputs.length),t.xp6(1),t.Q6J("ngForOf",o.stepDetails[n.id].outputs),t.xp6(1),t.Q6J("ngIf",n.parents),t.xp6(1),t.Q6J("ngForOf",t.xi3(5,4,n.parents,i.trackSvc.sortByValue))}}function Ie(e,_){1&e&&t.GkF(0)}function Te(e,_){1&e&&t.GkF(0)}const we=function(e,_){return{items:e,itemId:_}};function ve(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Te,1,0,"ng-container",120),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw().$implicit,i=t.oxw(4).ngIf;t.oxw(2);const c=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(2,we,n.step.items.mul(n.percent).div(i.recipe.productivity),o.key))}}function he(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ve,2,5,"ng-container",0),t.BQk()),2&e){const n=_.ngIf;t.xp6(1),t.Q6J("ngIf",n.step&&n.percent&&n.step.items)}}const L=function(e,_){return{step:e,percent:_}};function Ze(e,_){if(1&e&&(t.ynx(0),t.YNc(1,he,2,1,"ng-container",0),t.BQk()),2&e){const n=_.$implicit,o=t.oxw(4).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,L,i.stepByItemEntities[n.key],null==o.outputs?null:o.outputs[n.key]))}}function Ce(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",105),t.YNc(2,Ie,1,0,"ng-container",118),t.TgZ(3,"td",119),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Ze,2,4,"ng-container",117),t.ALo(7,"keyvalue"),t.BQk()),2&e){const n=t.oxw(3).ngIf;t.oxw(2);const o=t.MAs(9),i=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.hij(" ",t.lcZ(5,3,"list.depletion")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,n.outputs,i.trackSvc.sortByValue))}}function be(e,_){1&e&&t.GkF(0)}function Le(e,_){1&e&&t.GkF(0)}const Ae=function(e,_,n,o,i,c,a,s,r,m,g,f,d){return{items:e,itemId:_,belts:n,beltId:o,wagons:i,wagonId:c,machines:a,machineId:s,recipeId:r,recipeObjectiveId:m,percent:g,destId:f,destRecipeObjectiveId:d,destIsRecipe:!0}};function Qe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Le,1,0,"ng-container",120),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw().$implicit,i=t.oxw(4).ngIf,c=t.oxw(2).ngIf,a=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.rFY(2,Ae,[null==n.step.items?null:n.step.items.mul(n.percent),o.key,null==n.step.belts?null:n.step.belts.mul(n.percent),c.itemsState[n.step.itemId].beltId,null==n.step.wagons?null:n.step.wagons.mul(n.percent),c.itemsState[n.step.itemId].wagonId,null==n.step.machines?null:n.step.machines.mul(n.percent),null==n.step.recipeSettings?null:n.step.recipeSettings.machineId,n.step.recipeId,n.step.recipeObjectiveId,n.percent,i.recipeId,i.recipeObjectiveId]))}}function Je(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Qe,2,16,"ng-container",0),t.BQk()),2&e){const n=_.ngIf;t.xp6(1),t.Q6J("ngIf",n.step.itemId&&n.percent)}}function Ne(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Je,2,1,"ng-container",0),t.BQk()),2&e){const n=_.$implicit,o=t.oxw(4).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,L,i.stepByItemEntities[n.key],null==i.stepByItemEntities[n.key].parents?null:i.stepByItemEntities[n.key].parents[o.id]))}}function Se(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",105),t.YNc(2,be,1,0,"ng-container",118),t.TgZ(3,"td",119),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Ne,2,4,"ng-container",117),t.ALo(7,"keyvalue"),t.BQk()),2&e){const n=t.oxw(3).ngIf;t.oxw(2);const o=t.MAs(9),i=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.hij(" ",t.lcZ(5,3,"list.inputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,n.recipe.in,i.trackSvc.sortByValue))}}function Oe(e,_){1&e&&t.GkF(0)}function ke(e,_){1&e&&t.GkF(0)}function ye(e,_){1&e&&t.GkF(0)}function Ye(e,_){1&e&&t.GkF(0)}const Me=function(e,_,n,o,i,c,a,s,r,m,g,f,d){return{items:e,itemId:_,belts:n,beltId:o,wagons:i,wagonId:c,machines:a,machineId:s,recipeId:r,recipeObjectiveId:m,percent:g,percentOnDest:!0,destId:f,destRecipeObjectiveId:d,destIsRecipe:!0}};function Be(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ye,1,0,"ng-container",120),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw().$implicit,i=t.oxw(3).ngIf,c=t.oxw(2).ngIf,a=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.rFY(2,Me,[null==n.step.items?null:n.step.items.mul(n.percent),o.key,null==n.step.belts?null:n.step.belts.mul(n.percent),c.itemsState[n.step.itemId].beltId,null==n.step.wagons?null:n.step.wagons.mul(n.percent),c.itemsState[n.step.itemId].wagonId,null==n.step.machines?null:n.step.machines.mul(n.percent),null==n.step.recipeSettings?null:n.step.recipeSettings.machineId,n.step.recipeId,n.step.recipeObjectiveId,n.percent,i.recipeId,i.recipeObjectiveId]))}}function qe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Be,2,16,"ng-container",0),t.BQk()),2&e){const n=_.ngIf;t.xp6(1),t.Q6J("ngIf",n.step.itemId&&n.percent)}}function Fe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,qe,2,1,"ng-container",0),t.BQk()),2&e){const n=_.$implicit,o=t.oxw(3).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,L,i.stepByItemEntities[n.key],null==o.outputs?null:o.outputs[n.key]))}}function Ee(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ce,8,8,"ng-container",0),t.YNc(2,Se,8,8,"ng-container",0),t.ALo(3,"keyvalue"),t.TgZ(4,"tr",105),t.YNc(5,Oe,1,0,"ng-container",118),t.TgZ(6,"td",119),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"tr",105),t.YNc(10,ke,1,0,"ng-container",118),t.TgZ(11,"td",58)(12,"span",60),t._uU(13),t.ALo(14,"rate"),t.qZA()(),t.TgZ(15,"td",61)(16,"div",40),t._UZ(17,"i",121),t.qZA()(),t._UZ(18,"td",108),t.qZA(),t.TgZ(19,"tr",105),t.YNc(20,ye,1,0,"ng-container",118),t.TgZ(21,"td",119),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.YNc(24,Fe,2,4,"ng-container",117),t.ALo(25,"keyvalue"),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf,i=t.MAs(9),c=t.oxw();t.xp6(1),t.Q6J("ngIf",o.data.game===c.Game.Factorio&&n.recipe.isMining),t.xp6(1),t.Q6J("ngIf",n.recipe&&t.lcZ(3,9,n.recipe.in).length),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.hij(" ",t.lcZ(8,11,"list.time")," "),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(3),t.Oqu(t.xi3(14,13,n.recipe.time,o.columnsState.items.precision)),t.xp6(7),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.hij(" ",t.lcZ(23,16,"list.outputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(25,18,n.recipe.out,c.trackSvc.sortByValue))}}function Re(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ee,26,21,"ng-container",0),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.recipe)}}function je(e,_){1&e&&t.GkF(0)}const h=function(e,_){return{value:e,itemId:_}};function Ue(e,_){if(1&e&&(t.ynx(0),t.YNc(1,je,1,0,"ng-container",120),t.ALo(2,"rate"),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw().$implicit;t.oxw();const i=t.MAs(25),c=t.oxw(2).ngIf,a=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,n.step.items.mul(n.percent).div(c.machines),a.columnsState.items.precision),o.key))}}function Pe(e,_){1&e&&t.GkF(0)}function Ge(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Pe,1,0,"ng-container",120),t.ALo(2,"rate"),t.BQk()),2&e){const n=_.ngIf,o=t.oxw(4).ngIf;t.oxw(2);const i=t.MAs(25),c=t.oxw(2).ngIf,a=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,o.step.belts.mul(o.percent).div(c.machines),a.columnsState.belts.precision),n))}}function We(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ge,3,8,"ng-container",0),t.BQk()),2&e){const n=t.oxw(4).$implicit,o=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",o.itemsState[n.key].beltId)}}function $e(e,_){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,We,2,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.step.belts)}}function De(e,_){1&e&&t.GkF(0)}function Ve(e,_){if(1&e&&(t.ynx(0),t.YNc(1,De,1,0,"ng-container",120),t.ALo(2,"rate"),t.BQk()),2&e){const n=_.ngIf;t.oxw(6);const o=t.MAs(25);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,n.value,1),n.id))}}function He(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ve,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const n=t.oxw(3).ngIf,o=t.oxw(4).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,n.step.items.mul(n.percent).div(o.machines).div(i.dispRateInfo.value),i.settings))}}function Ke(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,He,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw().$implicit,i=t.oxw(5).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngIf",i.itemsState[o.key].beltId!==c.ItemId.Pipe&&n.step.items)}}function ze(e,_){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,Ue,3,8,"ng-container",0),t.qZA(),t.YNc(3,$e,2,1,"td",0),t.YNc(4,Ke,3,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw().ngIf,o=t.oxw(6).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngIf",n.step.items),t.xp6(1),t.Q6J("ngIf",o.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",o.data.game===i.Game.Factorio)}}function Xe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ze,5,3,"tr",0),t.BQk()),2&e){const n=_.ngIf;t.xp6(1),t.Q6J("ngIf",n.percent)}}function to(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Xe,2,1,"ng-container",0),t.BQk()),2&e){const n=_.$implicit,o=t.oxw(3).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,L,i.stepByItemEntities[n.key],null==i.stepByItemEntities[n.key].parents?null:i.stepByItemEntities[n.key].parents[o.id]))}}function no(e,_){if(1&e&&(t.TgZ(0,"div",13)(1,"i",57),t.ALo(2,"iconClass"),t.ALo(3,"recipeTooltip"),t.qZA(),t.TgZ(4,"i",57),t.ALo(5,"iconClass"),t.ALo(6,"machineTooltip"),t.qZA()()),2&e){const n=_.ngIf,o=t.oxw(3).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Tol(t.xi3(2,8,o.recipeId,"recipe")),t.Q6J("pTooltip",t.xi3(3,11,o.recipeId,i.data))("escape",!1),t.xp6(3),t.Tol(t.lcZ(5,14,n)),t.Q6J("pTooltip",t.xi3(6,16,n,i.data))("escape",!1)}}function eo(e,_){1&e&&t.GkF(0)}function oo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,eo,1,0,"ng-container",120),t.ALo(2,"rate"),t.BQk()),2&e){const n=_.ngIf;t.oxw(5);const o=t.MAs(25);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,n.value,1),n.id))}}function _o(e,_){if(1&e&&(t.ynx(0),t.YNc(1,oo,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,n,o.settings))}}function io(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,_o,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).$implicit,o=t.oxw(5).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngIf",o.itemsState[n.key].beltId!==i.ItemId.Pipe)}}function co(e,_){1&e&&t.GkF(0)}function ao(e,_){if(1&e&&(t.ynx(0),t.YNc(1,co,1,0,"ng-container",120),t.ALo(2,"rate"),t.BQk()),2&e){const n=_.ngIf,o=t.oxw(2).ngIf;t.oxw(2);const i=t.MAs(25),c=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,o.div(c.beltSpeed[n]),c.columnsState.belts.precision),n))}}function so(e,_){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,ao,3,8,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).$implicit,o=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",o.itemsState[n.key].beltId)}}function po(e,_){1&e&&t.GkF(0)}function lo(e,_){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,io,3,1,"ng-container",0),t.YNc(2,so,2,1,"td",0),t.TgZ(3,"td"),t.YNc(4,po,1,0,"ng-container",120),t.ALo(5,"rate"),t.qZA()()),2&e){const n=_.ngIf,o=t.oxw().$implicit;t.oxw();const i=t.MAs(25),c=t.oxw(4).ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngIf",c.data.game===a.Game.Factorio),t.xp6(1),t.Q6J("ngIf",c.columnsState.belts.show),t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(7,h,t.xi3(5,4,n.mul(c.dispRateInfo.value),c.columnsState.items.precision),o.key))}}function ro(e,_){if(1&e&&(t.ynx(0),t.YNc(1,lo,6,10,"tr",0),t.BQk()),2&e){const n=_.$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",n.value.div(o.recipe.time))}}function go(e,_){if(1&e&&(t.TgZ(0,"div",125)(1,"span",60),t._uU(2),t.qZA(),t.TgZ(3,"i",57),t.ALo(4,"iconClass"),t.ALo(5,"itemTooltip"),t.qZA()()),2&e){const n=_.value,o=_.itemId,i=t.oxw(5).ngIf;t.xp6(2),t.Oqu(n),t.xp6(1),t.Tol(t.lcZ(4,5,o)),t.Q6J("pTooltip",t.xi3(5,7,o,i.data))("escape",!1)}}function mo(e,_){if(1&e&&(t.TgZ(0,"div",13)(1,"table",122),t.YNc(2,to,2,4,"ng-container",117),t.ALo(3,"keyvalue"),t.qZA(),t._UZ(4,"i",123),t.TgZ(5,"table",122)(6,"tr")(7,"td",58)(8,"span",60),t._uU(9),t.ALo(10,"rate"),t.qZA()(),t.TgZ(11,"td"),t.YNc(12,no,7,19,"div",74),t.qZA()(),t.TgZ(13,"tr")(14,"td",58)(15,"span",60),t._uU(16),t.ALo(17,"rate"),t.qZA()(),t.TgZ(18,"td"),t._UZ(19,"i",121),t.qZA()()(),t._UZ(20,"i",123),t.TgZ(21,"table",122),t.YNc(22,ro,2,1,"ng-container",117),t.ALo(23,"keyvalue"),t.qZA(),t.YNc(24,go,6,10,"ng-template",null,124,t.W1O),t.qZA()),2&e){const n=t.oxw(2).ngIf,o=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,5,n.recipe.in,i.trackSvc.sortByValue)),t.xp6(7),t.Oqu(t.xi3(10,8,i.Rational.one,o.columnsState.machines.precision)),t.xp6(3),t.Q6J("ngIf",null==n.recipeSettings?null:n.recipeSettings.machineId),t.xp6(4),t.Oqu(t.xi3(17,11,o.dispRateInfo.value,o.columnsState.machines.precision)),t.xp6(6),t.Q6J("ngForOf",t.xi3(23,14,n.recipe.out,i.trackSvc.sortByValue))}}function uo(e,_){1&e&&(t.TgZ(0,"div"),t._UZ(1,"small",126),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"list.inserterCountInfo"),t.oJD))}function fo(e,_){if(1&e&&(t.TgZ(0,"tr",105),t._UZ(1,"td"),t.TgZ(2,"td",108),t.YNc(3,mo,26,17,"div",74),t.YNc(4,uo,3,3,"div",0),t.qZA()()),2&e){const n=t.oxw().ngIf,o=t.oxw(2).ngIf,i=t.oxw();t.xp6(3),t.Q6J("ngIf",n.recipeId&&n.recipe&&n.machines),t.xp6(1),t.Q6J("ngIf",o.data.game===i.Game.Factorio)}}function xo(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"button",132),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw(5).ngIf,s=t.oxw();return t.KtG(s.toggleRecipe(c,a.recipesState,a.data))}),t.ALo(1,"iconSmClass"),t.ALo(2,"recipeTooltip"),t._UZ(3,"i",56),t.qZA()}if(2&e){const n=_.$implicit,o=t.oxw(5).ngIf;t.ekj("hover-active",o.recipesState[n].excluded),t.Q6J("icon",t.xi3(1,5,n,"recipe"))("pTooltip",t.xi3(2,8,n,o.data))("escape",!1)}}function Io(e,_){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",105),t._UZ(2,"td"),t.TgZ(3,"td",108)(4,"div")(5,"div",127),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",128)(9,"small"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"p-checkbox",129),t.NdJ("onChange",function(){const c=t.CHM(n).ngIf,a=t.oxw(4).ngIf,s=t.oxw();return t.KtG(s.toggleRecipes(c.recipeIds,c.allRecipesIncluded,a.data))}),t.ALo(13,"translate"),t.qZA()()()(),t.TgZ(14,"tr",105),t._UZ(15,"td"),t.TgZ(16,"td",108)(17,"div",130),t.YNc(18,xo,4,11,"button",131),t.qZA()()(),t.BQk()}if(2&e){const n=_.ngIf;t.xp6(6),t.hij(" ",t.lcZ(7,6,"list.includedRecipes")," "),t.xp6(4),t.Oqu(t.lcZ(11,8,"list.includedRecipesInfo")),t.xp6(2),t.Q6J("ngModel",n.allRecipesIncluded)("binary",!0)("label",t.lcZ(13,10,"picker.includeAll")),t.xp6(6),t.Q6J("ngForOf",n.recipeIds)}}function To(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Io,19,12,"ng-container",0),t.BQk()),2&e){const n=t.oxw().ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId&&o.stepDetails[n.id])}}function wo(e,_){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",105)(2,"td")(3,"a",106),t._UZ(4,"button",107),t.qZA()(),t.TgZ(5,"td",108)(6,"p-tabMenu",109,110),t.NdJ("activeItemChange",function(i){const a=t.CHM(n).ngIf,s=t.oxw(3);return t.KtG(s.setActiveItem(a,i))}),t.ALo(8,"stepId"),t.YNc(9,_e,4,5,"ng-template",69),t.qZA()()(),t.ynx(10,111),t.YNc(11,xe,6,7,"ng-container",112),t.YNc(12,Re,2,1,"ng-container",112),t.YNc(13,fo,5,2,"tr",113),t.YNc(14,To,2,1,"ng-container",112),t.BQk()()}if(2&e){const n=_.ngIf,o=t.MAs(7),i=t.oxw(2).ngIf,c=t.oxw();t.xp6(3),t.Q6J("relativeTo",c.route)("fragment",n.id),t.xp6(3),t.Q6J("model",i.stepDetails[n.id].tabs)("activeItem",c.activeItem[t.lcZ(8,9,n)]),t.xp6(4),t.Q6J("ngSwitch",null==o.activeItem?null:o.activeItem.label),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Item),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Recipe),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Machine),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Recipes)}}function vo(e,_){1&e&&(t.YNc(0,wo,15,11,"ng-container",0),t.ALo(1,"asStep")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,_.$implicit))}function ho(e,_){1&e&&t._UZ(0,"td",31)}function Zo(e,_){1&e&&t._UZ(0,"td")}function Co(e,_){if(1&e&&(t._UZ(0,"td"),t.YNc(1,Zo,1,0,"td",0)),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.columnsState.tree.show)}}function bo(e,_){1&e&&t.GkF(0)}function Lo(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",58)(2,"span",60),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",61)(6,"div",40)(7,"i",57),t.ALo(8,"iconClass"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.qZA()()(),t.BQk()),2&e){const n=t.oxw(3),o=n.belts,i=n.beltId,c=t.oxw().ngIf;t.xp6(3),t.Oqu(t.xi3(4,5,o,c.columnsState.belts.precision)),t.xp6(4),t.Tol(t.lcZ(8,8,i)),t.Q6J("pTooltip",t.xi3(9,10,"tooltip.belt",t.kEZ(15,w,c.data.itemEntities[i].name,c.beltSpeedTxt[i],t.lcZ(10,13,c.dispRateInfo.suffix))))("escape",!1)}}function Ao(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Lo,11,19,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2),o=n.belts,i=n.beltId;t.xp6(1),t.Q6J("ngIf",o&&i)}}function Qo(e,_){if(1&e&&(t.TgZ(0,"i",57),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(4).wagonId,o=t.oxw().ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"tooltip.cargoWagon",t.WLB(9,v,o.data.itemEntities[n].name,o.data.cargoWagonEntities[n].size)))("escape",!1)}}function Jo(e,_){if(1&e&&(t.TgZ(0,"i",57),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(4).wagonId,o=t.oxw().ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"tooltip.fluidWagon",t.WLB(9,v,o.data.itemEntities[n].name,o.data.fluidWagonEntities[n].capacity)))("escape",!1)}}function No(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",58)(2,"span",60),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",61)(6,"div",40),t.YNc(7,Qo,3,12,"i",136),t.YNc(8,Jo,3,12,"ng-template",null,137,t.W1O),t.qZA()(),t.BQk()),2&e){const n=t.MAs(9),o=t.oxw(3),i=o.wagons,c=o.wagonId,a=t.oxw().ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,i,a.columnsState.wagons.precision)),t.xp6(4),t.Q6J("ngIf",-1!==a.data.cargoWagonIds.indexOf(c))("ngIfElse",n)}}function So(e,_){if(1&e&&(t.ynx(0),t.YNc(1,No,10,6,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2),o=n.wagons,i=n.wagonId;t.xp6(1),t.Q6J("ngIf",o&&i)}}function Oo(e,_){if(1&e&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"machineRate"),t.qZA()),2&e){const n=t.oxw(2),o=n.machines,i=n.machineId,c=t.oxw().ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,o,c.columnsState.machines.precision,i))}}function ko(e,_){1&e&&(t.TgZ(0,"div",138),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"list.inputs")," "))}function yo(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(3).recipeObjectiveId;t.xp6(1),t.hij("#",n,"")}}function Yo(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"i",57),t.ALo(2,"iconClass"),t.ALo(3,"recipeTooltip"),t.YNc(4,yo,2,1,"span",0),t.qZA(),t.TgZ(5,"i",57),t.ALo(6,"iconClass"),t.ALo(7,"machineTooltip"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2),o=n.recipeId,i=n.recipeObjectiveId,c=n.machineId,a=t.oxw().ngIf;t.xp6(1),t.Tol(t.xi3(2,9,o,"recipe")),t.Q6J("pTooltip",t.xi3(3,12,o,a.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",i),t.xp6(1),t.Tol(t.lcZ(6,15,c)),t.Q6J("pTooltip",t.xi3(7,17,c,a.data))("escape",!1)}}function Mo(e,_){1&e&&(t.TgZ(0,"div",139),t._UZ(1,"i",140),t.qZA(),t.TgZ(2,"div",139),t._UZ(3,"i",140),t.qZA())}function Bo(e,_){1&e&&t._UZ(0,"i",143)}function qo(e,_){1&e&&t._UZ(0,"i",143)}function Fo(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(4).destRecipeObjectiveId;t.xp6(1),t.hij("#",n,"")}}function Eo(e,_){if(1&e&&(t.TgZ(0,"i",57),t.ALo(1,"iconClass"),t.ALo(2,"recipeTooltip"),t.ALo(3,"itemTooltip"),t.YNc(4,Fo,2,1,"span",0),t.qZA()),2&e){const n=t.oxw(3),o=n.destId,i=n.destIsRecipe,c=n.destRecipeObjectiveId,a=t.oxw().ngIf;t.Tol(t.xi3(1,5,o,i?"recipe":"item")),t.Q6J("pTooltip",i?t.xi3(2,8,o,a.data):t.xi3(3,11,o,a.data))("escape",!1),t.xp6(4),t.Q6J("ngIf",c)}}function Ro(e,_){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"list.outputs")," "))}function jo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Bo,1,0,"i",141),t.TgZ(2,"span",60),t._uU(3),t.ALo(4,"leftPad"),t.ALo(5,"rate"),t.qZA(),t.YNc(6,qo,1,0,"i",141),t.YNc(7,Eo,5,14,"i",142),t.YNc(8,Ro,3,3,"span",0),t.BQk()),2&e){const n=t.oxw(2),o=n.percentOnDest,i=n.percent,c=n.destId,a=n.outputs;t.xp6(1),t.Q6J("ngIf",o),t.xp6(2),t.hij("",t.lcZ(4,5,t.xi3(5,7,i,-2)),"%"),t.xp6(3),t.Q6J("ngIf",!o),t.xp6(1),t.Q6J("ngIf",c),t.xp6(1),t.Q6J("ngIf",a)}}function Uo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,bo,1,0,"ng-container",118),t.TgZ(2,"td",58)(3,"span",60),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",61)(7,"div",40)(8,"i",57),t.ALo(9,"iconClass"),t.ALo(10,"itemTooltip"),t.qZA()()(),t.YNc(11,Ao,2,1,"ng-container",0),t.YNc(12,So,2,1,"ng-container",0),t.TgZ(13,"td",58),t.YNc(14,Oo,3,5,"span",59),t.ALo(15,"machineShowRate"),t.qZA(),t.TgZ(16,"td",133)(17,"div",13),t.YNc(18,ko,3,3,"div",134),t.YNc(19,Yo,8,20,"ng-container",43),t.ALo(20,"machineShow"),t.YNc(21,Mo,4,0,"ng-template",null,135,t.W1O),t.YNc(23,jo,9,10,"ng-container",0),t.qZA()(),t.BQk()),2&e){const n=t.MAs(22),o=t.oxw(),i=o.items,c=o.itemId,a=o.machines,s=o.machineId,r=o.inputs,m=o.percent,g=t.oxw().ngIf,f=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",f),t.xp6(3),t.Oqu(t.xi3(5,13,i,g.columnsState.items.precision)),t.xp6(4),t.Tol(t.lcZ(9,16,c)),t.Q6J("pTooltip",t.xi3(10,18,c,g.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",g.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",g.columnsState.wagons.show),t.xp6(2),t.Q6J("ngIf",a&&a.nonzero()&&t.xi3(15,21,s,g.data.game)),t.xp6(4),t.Q6J("ngIf",r),t.xp6(1),t.Q6J("ngIf",t.xi3(20,24,s,g.data.game))("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",m)}}function Po(e,_){if(1&e&&(t.TgZ(0,"tr",105),t.YNc(1,Uo,24,27,"ng-container",0),t.qZA()),2&e){const n=_.itemId;t.xp6(1),t.Q6J("ngIf",n)}}function Go(e,_){1&e&&t._UZ(0,"td")}function Wo(e,_){1&e&&t.GkF(0)}function $o(e,_){1&e&&t.GkF(0)}function Do(e,_){1&e&&t.GkF(0)}function Vo(e,_){1&e&&t.GkF(0)}function Ho(e,_){if(1&e&&(t.TgZ(0,"td",146)(1,"span",60),t._uU(2),t.ALo(3,"power"),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(2),t.Oqu(t.Dn7(3,1,n.totals.power,n.columnsState.power.precision,n.effectivePowerUnit))}}function Ko(e,_){if(1&e&&(t.TgZ(0,"td",146)(1,"span",60),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(2),t.Oqu(t.xi3(3,1,n.totals.pollution,n.columnsState.pollution.precision))}}function zo(e,_){1&e&&t._UZ(0,"td")}function Xo(e,_){if(1&e&&(t.TgZ(0,"div",153)(1,"span",60),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const n=_.$implicit,o=t.oxw(2).columnSettings;t.xp6(2),t.Oqu(t.xi3(3,1,n.value,o.precision))}}function t_(e,_){if(1&e&&(t.TgZ(0,"i",154),t.ALo(1,"iconClass"),t.qZA()),2&e){const n=_.$implicit,o=t.oxw(4).ngIf;t.Tol(t.xi3(1,3,n.key,"item")),t.Q6J("pTooltip",(null==o.data.itemEntities[n.key]?null:o.data.itemEntities[n.key].name)||o.data.recipeEntities[n.key].name)}}function n_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"div",153)(2,"span",60),t._uU(3),t.qZA()(),t.TgZ(4,"i",155),t.ALo(5,"iconClass"),t.ALo(6,"moduleTooltip"),t.qZA(),t.BQk()),2&e){const n=_.$implicit,o=t.oxw(4).ngIf;t.xp6(3),t.Oqu(n.value),t.xp6(1),t.Tol(t.xi3(5,5,n.key,"item")),t.Q6J("escape",!1)("pTooltip",t.xi3(6,8,n.key,o.data))}}function e_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",147),t.YNc(2,Xo,4,4,"div",148),t.ALo(3,"keyvalue"),t.qZA(),t.TgZ(4,"td",149)(5,"div",40)(6,"div",150),t.YNc(7,t_,2,6,"i",151),t.ALo(8,"keyvalue"),t.qZA(),t.TgZ(9,"div",152),t.YNc(10,n_,7,11,"ng-container",117),t.ALo(11,"keyvalue"),t.qZA()()(),t.BQk()),2&e){const n=t.oxw(),o=n.totals,i=n.modulesTotals,c=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,3,o,c.trackSvc.sortByValue)),t.xp6(5),t.Q6J("ngForOf",t.xi3(8,6,o,c.trackSvc.sortByValue)),t.xp6(3),t.Q6J("ngForOf",t.xi3(11,9,i,c.trackSvc.sortByValue))}}function o_(e,_){1&e&&t.YNc(0,e_,12,12,"ng-container",0),2&e&&t.Q6J("ngIf",_.columnSettings.show)}const R=function(e,_){return{columnSettings:e,totals:_}},j=function(e,_,n){return{columnSettings:e,totals:_,modulesTotals:n}};function __(e,_){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.YNc(2,Go,1,0,"td",0),t.TgZ(3,"td",31),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Wo,1,0,"ng-container",120),t.YNc(7,$o,1,0,"ng-container",120),t.YNc(8,Do,1,0,"ng-container",120),t.YNc(9,Vo,1,0,"ng-container",120),t.YNc(10,Ho,4,5,"td",144),t.YNc(11,Ko,4,4,"td",144),t.YNc(12,zo,1,0,"td",0),t.qZA(),t.YNc(13,o_,1,1,"ng-template",null,145,t.W1O)),2&e){const n=t.MAs(14),o=t.oxw().ngIf;t.xp6(2),t.Q6J("ngIf",o.columnsState.tree.show),t.xp6(2),t.hij(" ",t.lcZ(5,13,"list.total")," "),t.xp6(2),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(15,R,o.columnsState.belts,o.totals.belts)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(18,R,o.columnsState.wagons,o.totals.wagons)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.kEZ(21,j,o.columnsState.machines,o.totals.machines,o.totals.machineModules)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.kEZ(25,j,o.columnsState.beacons,o.totals.beacons,o.totals.beaconModules)),t.xp6(1),t.Q6J("ngIf",o.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",o.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",o.columnsState.link.show)}}const i_=function(){return[25,50,100,1e3]};function c_(e,_){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"p-table",1,2),t.NdJ("rowsChange",function(i){t.CHM(n);const c=t.oxw();return t.KtG(c.setRows(i))})("sortFunction",function(i){t.CHM(n);const c=t.oxw();return t.KtG(c.sortSteps$.next(i))}),t.YNc(3,Ft,26,19,"ng-template",3),t.YNc(4,oe,2,3,"ng-template",4),t.YNc(5,vo,2,3,"ng-template",5),t.YNc(6,ho,1,0,"ng-template",null,6,t.W1O),t.YNc(8,Co,2,1,"ng-template",null,7,t.W1O),t.YNc(10,Po,2,1,"ng-template",null,8,t.W1O),t.YNc(12,__,15,29,"ng-template",9),t.qZA(),t.BQk()}if(2&e){const n=_.ngIf,o=t.oxw();t.xp6(1),t.Q6J("rowTrackBy",o.trackSvc.trackStep)("value",n.steps)("customSort",!0)("defaultSortOrder",-1)("paginator",!n.preferences.disablePaginator)("rows",n.preferences.rows)("rowsPerPageOptions",t.DdM(8,i_))("showCurrentPageReport",!0)}}let S=((T=class{constructor(_,n,o,i,c,a,s){this.route=_,this.contentSvc=n,this.trackSvc=o,this.document=i,this.store=c,this.exportSvc=a,this.routerSvc=s,this.vm$=(0,A.a)({machinesState:this.store.select(p._S.s$),itemsState:this.store.select(p.ob.TT),itemsModified:this.store.select(p.ob.n9),stepsModified:this.store.select(p.VJ.YA),totals:this.store.select(p.VJ.j_),steps:this.store.select(p.VJ.It),stepDetails:this.store.select(p.VJ.fs),stepById:this.store.select(p.VJ.Zb),stepByItemEntities:this.store.select(p.VJ.n_),stepTree:this.store.select(p.VJ._H),effectivePowerUnit:this.store.select(p.VJ.Um),recipesState:this.store.select(p.lx.lW),recipesModified:this.store.select(p.VJ.Ue),data:this.store.select(p.lx.O8),columnsState:this.store.select(p.Zr.dK),settings:this.store.select(p.Zr.Gw),dispRateInfo:this.store.select(p.Zr.Jm),options:this.store.select(p.Zr.FW),beltSpeed:this.store.select(p.Zr.oQ),beltSpeedTxt:this.store.select(p.Zr.dc),preferences:this.store.select(p.uP.eD),zipPartial:this.routerSvc.zipConfig$}).pipe((0,P.b)(r=>{r.steps=[...r.steps],this.setActiveItems(r.steps,r.stepDetails)})),this.sortSteps$=new G.X(null),this.activeItem={},this.stepDetailIcon=u.gN,this.ItemId=u.bN,this.StepDetailTab=u.Ar,this.Game=u.lA,this.RecipeField=u.jw,this.EnergyType=u.pV,this.ObjectiveUnit=u.iK,this.Rational=u.uG}ngOnInit(){this.route.fragment.pipe((0,B.P)(),(0,W.h)(_=>null!=_)).subscribe(_=>{this.fragmentId=_}),(0,A.a)([this.sortSteps$.pipe((0,$.e)((e,_)=>{let n,o=!1;e.subscribe((0,D.x)(_,i=>{const c=n;n=i,o&&_.next([c,i]),o=!0}))})),this.store.select(p.VJ.It)]).pipe((0,M.t)(this)).subscribe(([[_,n],o])=>{this.sortSteps(_,n,o)})}ngAfterViewInit(){try{if(this.fragmentId){const[_,n,o]=this.fragmentId.split("_");(0,A.a)([this.store.select(p.VJ.It),this.store.select(p.VJ.fs)]).pipe((0,B.P)()).subscribe(([i,c])=>{const a=i.find(s=>s.id===n);a&&c[a.id].tabs.length&&this.stepsTable&&(this.stepsTable.toggleRow(a),setTimeout(()=>{if(o){const r=this.document.querySelector("#"+this.fragmentId);r&&r.click()}else this.document.querySelector("#"+this.fragmentId)?.scrollIntoView()},10))})}}catch{}}sortSteps(_,n,o){if(null==n||null==n.order||null==n.field)return;const i=n.order,c=n.field;if(null!=_&&_.field===c&&_.order!==i&&-1===i&&null!=this.stepsTable)return n.data?.sort((a,s)=>o.indexOf(a)-o.indexOf(s)),this.stepsTable.sortOrder=0,this.stepsTable.sortField="",this.stepsTable.reset(),this.sortSteps$.next(null);n.data?.sort((a,s)=>(a[c]??u.uG.zero).sub(s[c]??u.uG.zero).toNumber()*i)}setActiveItems(_,n){_.forEach(o=>{const i=Q.transform(o),c=this.activeItem[i],a=n[o.id];if(null!=a)if(null==c)this.activeItem[i]=a.tabs[0];else{const s=a.tabs.find(r=>r.label===c.label);this.activeItem[i]=null==s?a.tabs[0]:s}})}setActiveItem(_,n){const o=Q.transform(_);this.activeItem[o]=n}resetStep(_){_.itemId&&this.resetItem(_.itemId),_.recipeObjectiveId?this.resetRecipeObjective(_.recipeObjectiveId):_.recipeId&&this.resetRecipe(_.recipeId)}export(_,n,o,i,c){this.exportSvc.stepsToCsv(_,i,n,o,c)}toggleRecipes(_,n,o){const i=_.map(c=>({id:c,value:n,def:(o.defaults?.excludedRecipeIds??[]).includes(c)}));this.setRecipeExcludedBatch(i)}toggleRecipe(_,n,o){const i=!n[_].excluded,c=(o.defaults?.excludedRecipeIds??[]).some(a=>a===_);this.setRecipeExcluded(_,i,c)}changeRecipeField(_,n,o,i,c,a,s){if(null==_.recipeId)return;const r=_.recipeObjectiveId??_.recipeId,m=null!=_.recipeObjectiveId,g=_.recipeSettings;if(g?.machineId){const f=o.entities[g.machineId];switch(c){case u.jw.Machine:"string"==typeof n&&null!=o.ids&&this.setMachine(_.recipeObjectiveId??_.recipeId,n,Z.M6.bestMatch(i.recipeEntities[_.recipeId].producers,o.ids),null!=_.recipeObjectiveId);break;case u.jw.Fuel:"string"==typeof n&&this.setFuel(_.recipeObjectiveId??_.recipeId,n,f.fuelId,null!=_.recipeObjectiveId);break;case u.jw.MachineModules:if(null!=f.moduleRankIds&&null!=i&&"string"==typeof n&&null!=a&&null!=g.machineModuleIds){const I=g.machineModuleIds.length,O=Z.M6.moduleOptions(i.machineEntities[g.machineId],_.recipeId,i),k=Z.M6.defaultModules(O,f.moduleRankIds,I),y=this.generateModules(a,n,g.machineModuleIds);this.setMachineModules(r,y,k,m)}break;case u.jw.BeaconCount:"string"==typeof n&&null!=a&&this.setBeaconCount(r,a,n,f.beaconCount,m);break;case u.jw.Beacon:"string"==typeof n&&null!=a&&this.setBeacon(r,a,n,f.beaconId,m);break;case u.jw.BeaconModules:if(null!=f.beaconModuleRankIds&&"string"==typeof n&&null!=a&&null!=s){const d=g.beacons?.[a];if(null!=d?.id&&null!=d?.moduleIds){const O=d.moduleIds.length,k=Z.M6.moduleOptions(i.beaconEntities[d.id],_.recipeId,i),y=Z.M6.defaultModules(k,f.beaconModuleRankIds,O),a_=this.generateModules(s,n,d.moduleIds);this.setBeaconModules(r,a,a_,y,m)}}break;case u.jw.BeaconTotal:"string"==typeof n&&null!=a&&this.setBeaconTotal(r,a,n,m);break;case u.jw.Overclock:if("number"==typeof n){const d=f.overclock,I=Math.max(1,Math.min(250,n));this.setOverclock(r,I,d,m)}}}}generateModules(_,n,o){const i=[...o];for(let c=_;c<i.length;c++)i[c]=n;return i}changeStepChecked(_,n){null!=_.itemId?this.setItemChecked(_.itemId,n):null!=_.recipeObjectiveId?this.setRecipeChecked(_.recipeObjectiveId,n,!0):null!=_.recipeId&&this.setRecipeChecked(_.recipeId,n)}setRows(_){this.store.dispatch(new p.uP.PS(_))}setItemExcluded(_,n){this.store.dispatch(new p.ob.aF({id:_,value:n}))}setItemChecked(_,n){this.store.dispatch(new p.ob.dR({id:_,value:n}))}setBelt(_,n,o){this.store.dispatch(new p.ob.IC({id:_,value:n,def:o}))}setWagon(_,n,o){this.store.dispatch(new p.ob.tb({id:_,value:n,def:o}))}setRecipeExcluded(_,n,o){this.store.dispatch(new p.lx.aF({id:_,value:n,def:o}))}setRecipeExcludedBatch(_){this.store.dispatch(new p.lx.Z(_))}addObjective(_){this.store.dispatch(new p.VJ.OV(_))}setMachine(_,n,o,i=!1){this.store.dispatch(new(i?p.VJ.CQ:p.lx.CQ)({id:_,value:n,def:o}))}setFuel(_,n,o,i=!1){this.store.dispatch(new(i?p.VJ.iA:p.lx.iA)({id:_,value:n,def:o}))}setMachineModules(_,n,o,i=!1){this.store.dispatch(new(i?p.VJ.m1:p.lx.m1)({id:_,value:n,def:o}))}addBeacon(_,n=!1){this.store.dispatch(new(n?p.VJ.o4:p.lx.o4)(_))}removeBeacon(_,n,o=!1){this.store.dispatch(new(o?p.VJ.U7:p.lx.U7)({id:_,value:n}))}setBeaconCount(_,n,o,i,c=!1){this.store.dispatch(new(c?p.VJ.OE:p.lx.OE)({id:_,index:n,value:o,def:i}))}setBeacon(_,n,o,i,c=!1){this.store.dispatch(new(c?p.VJ.nO:p.lx.nO)({id:_,index:n,value:o,def:i}))}setBeaconModules(_,n,o,i,c=!1){this.store.dispatch(new(c?p.VJ.Hg:p.lx.Hg)({id:_,index:n,value:o,def:i}))}setBeaconTotal(_,n,o,i=!1){this.store.dispatch(new(i?p.VJ.K7:p.lx.K7)({id:_,index:n,value:o}))}setOverclock(_,n,o,i=!1){this.store.dispatch(new(i?p.VJ.Eb:p.lx.Eb)({id:_,value:n,def:o}))}setRecipeChecked(_,n,o=!1){this.store.dispatch(new(o?p.VJ.dR:p.lx.dR)({id:_,value:n}))}resetItem(_){this.store.dispatch(new p.ob.bj(_))}resetRecipe(_){this.store.dispatch(new p.lx.in(_))}resetRecipeObjective(_){this.store.dispatch(new p.VJ.Hv(_))}resetChecked(){this.store.dispatch(new p.ob.JH)}resetExcluded(){this.store.dispatch(new p.ob.y9)}resetBelts(){this.store.dispatch(new p.ob.t_)}resetWagons(){this.store.dispatch(new p.ob.Cw)}resetMachines(){this.store.dispatch(new p.lx.B_)}resetBeacons(){this.store.dispatch(new p.lx.t8)}}).\u0275fac=function(_){return new(_||T)(t.Y36(q.gz),t.Y36(C._s),t.Y36(C.Ql),t.Y36(x.K0),t.Y36(K.yh),t.Y36(C.Ty),t.Y36(C.cw))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],viewQuery:function(_,n){if(1&_&&t.Gf(Ct,5),2&_){let o;t.iGM(o=t.CRH())&&(n.stepsTable=o.first)}},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["dataKey","id","styleClass","p-datatable-sm",3,"rowTrackBy","value","customSort","defaultSortOrder","paginator","rows","rowsPerPageOptions","showCurrentPageReport","rowsChange","sortFunction"],["stepsTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["emptyCol2",""],["leftPad",""],["detailRow",""],["pTemplate","footer"],[1,"w-0","px-1"],["pButton","","pRipple","","type","button","icon","fa-solid fa-table-columns",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],["colspan","2","pSortableColumn","items"],[1,"d-flex","align-items-center"],["field","items"],["pButton","","pRipple","","type","button","class","ms-2 p-button-text p-button-rounded","icon","fa-solid fa-rotate-left",3,"pTooltip","click",4,"ngIf"],["colspan","2","pSortableColumn","belts",4,"ngIf"],["colspan","2","pSortableColumn","wagons",4,"ngIf"],["colspan","2","pSortableColumn","machines"],["field","machines"],["colspan","2",4,"ngIf"],["pSortableColumn","power",4,"ngIf"],["pSortableColumn","pollution",4,"ngIf"],["class","w-0 px-1",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fa-solid","fa-square-check"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"ms-2","p-button-text","p-button-rounded",3,"pTooltip","click"],["colspan","2","pSortableColumn","belts"],["field","belts"],["colspan","2","pSortableColumn","wagons"],["field","wagons"],["colspan","2"],["pSortableColumn","power"],["field","power"],["pSortableColumn","pollution"],["field","pollution"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-arrow-down","data-test","lab-list-export","tooltipPosition","left",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],[1,"w-0","px-1","position-relative"],[1,"fragment",3,"id"],["class","fragment",3,"id",4,"ngFor","ngForOf"],[1,"d-flex"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-right",1,"p-button-text","p-button-rounded","transition-ease",3,"pTooltip","pRowToggler"],["class","overflow-hidden px-1 py-0",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","text-end",4,"ngIf"],[1,"d-flex","justify-content-center"],[3,"binary","ngModel","onChange"],[1,"overflow-hidden","px-1","py-0"],[1,"d-flex","align-items-center","links"],[1,"icon"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"hover-active","icon","pTooltip","escape","click",4,"ngIf","ngIfElse"],["recipeIcon",""],["class","connect",3,"trail","last",4,"ngFor","ngForOf"],[1,"indent"],[1,"connect"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"icon","pTooltip","escape","click"],[1,"hover-icon","fa-solid","fa-eye-slash"],[3,"pTooltip","escape"],[1,"w-0","text-end"],["class","monospace",4,"ngIf"],[1,"monospace"],[1,"ps-0"],[1,"find-text"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"hover-active","icon","pTooltip","escape","click",4,"ngIf"],["labDropdownBase","icon",3,"pTooltip","escape","ngModel","options","onChange",4,"ngIf","ngIfElse"],["pipesDropdown",""],["pipeIcon",""],["labDropdownBase","icon",3,"pTooltip","escape","ngModel","options","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip","escape"],[1,"ms-3","text-truncate"],["fluidWagonsDropdown",""],["labDropdownBase","icon",3,"pTooltip","escape","ngModel","options","onChange",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"pTooltip","escape","click",4,"ngIf"],["labDropdownBase","icon",3,"pTooltip","escape","options","ngModel","onChange"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel","onBlur",4,"ngIf"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"pTooltip","escape","click"],[1,"p-button-icon"],[1,"hover-icon","fa-solid","fa-circle-plus"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel","onBlur"],["overclockInput",""],["class","d-flex align-items-center",4,"ngIf","ngIfElse"],["fuelSelect",""],[1,"padded",3,"pTooltip","escape"],["labDropdownBase","icon","class","module-dropdown","tooltipPosition","top",3,"last","pTooltip","escape","options","ngModel","onChange",4,"ngFor","ngForOf"],["labDropdownBase","icon","tooltipPosition","top",1,"module-dropdown",3,"pTooltip","escape","options","ngModel","onChange"],[1,"w-0","pe-0"],["class","d-flex",4,"ngFor","ngForOf","ngForTrackBy"],["class","d-flex",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded","icon","fa-solid fa-plus",3,"click",4,"ngIf","ngIfElse"],["deleteBeaconBtn",""],["tooltipPosition","left","class","text-end","width","2.5rem",3,"pTooltip","value","textButtons","setValue",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-text","p-button-rounded",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-text","p-button-rounded",3,"click"],["tooltipPosition","left","width","2.5rem",1,"text-end",3,"pTooltip","value","textButtons","setValue"],["labDropdownBase","icon",3,"pTooltip","escape","options","ngModel","onChange",4,"ngIf"],["class","text-end","width","3rem",3,"pTooltip","value","textButtons","setValue",4,"ngIf"],["width","3rem",1,"text-end",3,"pTooltip","value","textButtons","setValue"],[1,"text-end"],["target","_blank",1,"text-decoration-none",3,"href"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded","icon","fa-solid fa-rotate-left","tooltipPosition","left",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip","click"],[1,"detail"],["routerLink",".","queryParamsHandling","preserve",1,"text-decoration-none",3,"relativeTo","fragment"],["pButton","","pRipple","","type","button","icon","fa-solid fa-link",1,"p-button-text","p-button-rounded"],["colspan","100"],[3,"model","activeItem","activeItemChange"],["expandTabMenu",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","detail",4,"ngSwitchCase"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],["class","detail",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],["colspan","100",1,"fw-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"lab-icon","time"],[1,"mw-0"],[1,"fa-solid","fa-arrow-right","mx-3"],["machineValueCell",""],[1,"d-flex","align-items-center","justify-content-end"],[3,"innerHTML"],[1,"fw-bold"],[1,"mb-2"],[3,"ngModel","binary","label","onChange"],[1,"d-flex","flex-wrap"],["pButton","","pRipple","","type","button","class","p-button-text hover-action me-2",3,"hover-active","icon","pTooltip","escape","click",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button",1,"p-button-text","hover-action","me-2",3,"icon","pTooltip","escape","click"],["colspan","100",1,"p-0"],["class","position-absolute",4,"ngIf"],["machineFill",""],[3,"class","pTooltip","escape",4,"ngIf","ngIfElse"],["fluidWagonIcon",""],[1,"position-absolute"],[1,"d-flex","invisible"],[1,"lab-icon"],["class","m-1 p-2 fa-solid fa-arrow-right",4,"ngIf"],[3,"class","pTooltip","escape",4,"ngIf"],[1,"m-1","p-2","fa-solid","fa-arrow-right"],["class","text-end inherit",4,"ngIf"],["totalCell",""],[1,"text-end","inherit"],[1,"w-0","text-end","inherit"],["class","py-2 icon-height",4,"ngFor","ngForOf"],[1,"ps-0","inherit"],[1,"d-flex","flex-column","justify-content-center"],["class","d-block",3,"class","pTooltip",4,"ngFor","ngForOf"],[1,"modules-column"],[1,"py-2","icon-height"],[1,"d-block",3,"pTooltip"],[1,"d-block",3,"escape","pTooltip"]],template:function(_,n){1&_&&(t.YNc(0,c_,13,9,"ng-container",0),t.ALo(1,"async")),2&_&&t.Q6J("ngIf",t.lcZ(1,1,n.vm$))},dependencies:[x.ez,x.sg,x.O5,x.tP,x.RF,x.n9,x.Ov,x.Nd,H.o,F.JJ,F.On,z.jx,q.rH,X.u,tt.Hq,nt.XZ,et.Lt,ot.Rn,_t.H,b.iA,b.lQ,b.jB,b.fz,it.d,ct.l,at.W,st.X$,pt,lt.J,rt.g,gt.N,mt.Z,dt.E,E.Y,E.y,ut.Z,ft,xt.f,It.d,Tt.N,wt.o,vt.N,ht.d,Zt.i,Q],styles:[".links[_ngcontent-%COMP%]{height:50px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{position:relative;height:100vh;margin-left:16px}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%], .links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-left:2px dotted var(--text-color-secondary)}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){margin-bottom:50vh;height:50vh}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:24px}@media (max-width: 1199.98px){.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{margin-left:8px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:16px}}.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;border-top:2px dotted var(--text-color-secondary);width:8px}.links[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px}[_nghost-%COMP%]     .p-dropdown:not(:hover):not(:focus):not(.ng-invalid), [_nghost-%COMP%]     .p-inputtext:not(:hover):not(:focus):not(.ng-invalid){border-color:transparent;background-color:transparent}[_nghost-%COMP%]     .module-dropdown:not(.last){margin-right:-.5rem}[_nghost-%COMP%]     .module-dropdown:not(.last) .p-dropdown{border-right-color:transparent;border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown .lab-icon.sm{opacity:.3}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown:not(.last) .p-dropdown{border-top-color:var(--primary-color);border-bottom-color:var(--primary-color)}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown.last .p-dropdown{border-color:var(--primary-color);border-left-color:transparent}tr.detail[_ngcontent-%COMP%]{background-color:var(--surface-ground)}[_nghost-%COMP%]     tr.detail .p-tabmenu .p-tabmenu-nav .p-tabmenuitem:not(.p-highlight) .p-menuitem-link{background-color:transparent}.icon-height[_ngcontent-%COMP%]{height:32px;margin-top:1px;margin-bottom:1px}.modules-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;margin:auto}.fragment[_ngcontent-%COMP%]{position:absolute;top:-10rem;visibility:hidden}"],changeDetection:0}),T);S=(0,U.gn)([(0,M.c)()],S)}}]);