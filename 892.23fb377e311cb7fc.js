"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[892],{9892:(sn,u,_)=>{_.r(u),_.d(u,{RecipeComponent:()=>l});var g=_(6895),f=_(9841),A=_(4004),T=_(2518),h=_(4996),s=_(3087),v=_(8909),n=_(4650),m=_(4258),d=_(6188),C=_(2997),I=_(4489),O=_(3300),x=_(4006),E=_(8676),b=_(5593),R=_(1989),q=_(1795),L=_(5439),Z=_(1969);function U(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.category")),n.xp6(3),n.Q6J("routerLink","/data/categories/"+t.obj.category),n.xp6(1),n.Q6J("label",t.category.name)("icon",n.xi3(7,6,t.obj.category,"category"))}}function J(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(i.obj.in[t])}}function Q(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,J,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.ingredients")),n.xp6(3),n.Q6J("ngForOf",t.ingredientIds)}}function M(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(null==i.obj.catalyst?null:i.obj.catalyst[t])}}function y(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,M,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.catalysts")),n.xp6(3),n.Q6J("ngForOf",t.catalystIds)}}function P(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(i.obj.out[t])}}function D(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,P,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.products")),n.xp6(3),n.Q6J("ngForOf",t.productIds)}}function j(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(2).ngIf;n.xp6(1),n.Q6J("routerLink","/data/machines/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(3,3,t))}}function B(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.unlockedBy")),n.xp6(3),n.Q6J("routerLink","/data/technologies/"+t.obj.unlockedBy),n.xp6(1),n.Q6J("label",t.data.recipeEntities[t.obj.unlockedBy].name)("icon",n.xi3(7,6,t.obj.unlockedBy,"recipe"))}}function Y(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"p-checkbox",17),n.NdJ("ngModelChange",function(a){n.CHM(t);const r=n.oxw(3);return n.KtG(r.trueValue=a)}),n.qZA()()()}if(2&e){const t=n.oxw(3);n.xp6(2),n.Oqu(n.lcZ(3,4,"data.mining")),n.xp6(3),n.Q6J("ngModel",t.trueValue)("binary",!0)("disabled",!0)}}function N(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.rocketPart")),n.xp6(3),n.Q6J("routerLink","/data/items/"+t.obj.part),n.xp6(1),n.Q6J("label",t.data.itemEntities[t.obj.part].name)("icon",n.lcZ(7,6,t.obj.part))}}function S(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA()()),2&e){const t=n.oxw(2).ngIf,i=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"data.energyConsumption")),n.xp6(3),n.Oqu(i.displaySvc.power(t.obj.usage))}}function k(e,o){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"none")," "))}function K(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/technologies/"+t),n.xp6(1),n.Q6J("label",i.data.recipeEntities[t].name)("icon",n.xi3(3,3,t,"recipe"))}}function w(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"tr")(2,"th",5)(3,"h3"),n._uU(4),n.ALo(5,"translate"),n.qZA()()(),n.TgZ(6,"tr")(7,"th"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"td"),n.YNc(11,k,3,3,"div",0),n.YNc(12,K,4,6,"div",7),n.qZA()(),n.BQk()),2&e){const t=o.ngIf;n.xp6(4),n.Oqu(n.lcZ(5,4,"data.technology")),n.xp6(4),n.Oqu(n.lcZ(9,6,"data.prerequisites")),n.xp6(3),n.Q6J("ngIf",!(null!=t.prerequisites&&t.prerequisites.length)),n.xp6(1),n.Q6J("ngForOf",t.prerequisites)}}function W(e,o){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=o.ngIf,i=n.oxw(2).ngIf;n.Q6J("routerLink","/data/machines/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function F(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","module"===t?null:"/data/modules/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(3,3,t))}}function $(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,F,4,5,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.modules")),n.xp6(3),n.Q6J("ngForOf",t.recipeSettings.machineModuleIds)}}function H(e,o){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,i=n.oxw(4).ngIf;n.Q6J("routerLink","/data/beacons/"+t.id),n.xp6(1),n.Q6J("label",i.data.itemEntities[t.id].name)("icon",n.lcZ(2,3,t.id))}}function G(e,o){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA()()),2&e){const t=o.$implicit,i=n.oxw(5).ngIf;n.xp6(1),n.Q6J("routerLink","module"===t?null:"/data/modules/"+t),n.xp6(1),n.Q6J("label",i.data.itemEntities[t].name)("icon",n.lcZ(3,3,t))}}function V(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"div"),n.YNc(2,H,3,5,"a",13),n.TgZ(3,"span",16),n._uU(4),n.qZA()(),n.YNc(5,G,4,5,"div",7),n.BQk()),2&e){const t=o.$implicit;n.xp6(2),n.Q6J("ngIf",t.id),n.xp6(2),n.Oqu(t.count),n.xp6(1),n.Q6J("ngForOf",t.moduleIds)}}function z(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,V,6,3,"ng-container",7),n.qZA()()),2&e){const t=n.oxw(3).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.beacons")),n.xp6(3),n.Q6J("ngForOf",t.recipeSettings.beacons)}}function X(e,o){if(1&e&&(n.ynx(0),n.YNc(1,z,6,4,"tr",7),n.BQk()),2&e){const t=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngForOf",t.recipeSettings.beacons)}}function nn(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n._UZ(6,"td"),n.qZA()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.overclock")),n.xp6(3),n.hij("",t.recipeSettings.overclock,"%")}}function tn(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"lab-input-number",18),n.NdJ("setValue",function(a){n.CHM(t);const r=n.oxw(2).ngIf,c=n.oxw();return n.KtG(c.setRecipeCost(r.id,a))}),n.qZA()()()}if(2&e){const t=o.ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.cost")),n.xp6(3),n.Q6J("value",t.toString())}}function en(e,o){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"table",4)(2,"tr")(3,"th",5)(4,"h3"),n._uU(5),n.qZA()()(),n.TgZ(6,"tr")(7,"td",5)(8,"i",6),n.ALo(9,"iconClass"),n.qZA()()(),n.YNc(10,U,8,9,"tr",0),n.TgZ(11,"tr")(12,"th"),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA()(),n.YNc(17,Q,6,4,"tr",0),n.YNc(18,y,6,4,"tr",0),n.YNc(19,D,6,4,"tr",0),n.TgZ(20,"tr")(21,"th"),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.TgZ(24,"td"),n.YNc(25,j,4,5,"div",7),n.qZA()(),n.YNc(26,B,8,9,"tr",0),n.YNc(27,Y,6,6,"tr",0),n.YNc(28,N,8,8,"tr",0),n.YNc(29,S,6,4,"tr",0),n.YNc(30,w,13,8,"ng-container",0),n.TgZ(31,"tr")(32,"th",8)(33,"div",9),n._UZ(34,"button",10),n.TgZ(35,"h3"),n._uU(36),n.ALo(37,"translate"),n.qZA(),n.TgZ(38,"button",11),n.NdJ("click",function(){n.CHM(t);const a=n.oxw().ngIf,r=n.oxw();return n.KtG(r.resetRecipe(a.id))}),n.qZA()()()(),n.TgZ(39,"tr")(40,"th"),n._uU(41),n.ALo(42,"translate"),n.qZA(),n.TgZ(43,"td")(44,"p-checkbox",12),n.NdJ("onChange",function(){n.CHM(t);const a=n.oxw().ngIf,r=n.oxw();return n.KtG(r.toggleRecipe(a.id,a.recipeSettings,a.data))}),n.qZA()()(),n.TgZ(45,"tr")(46,"th"),n._uU(47),n.ALo(48,"translate"),n.qZA(),n.TgZ(49,"td")(50,"p-checkbox",12),n.NdJ("onChange",function(a){n.CHM(t);const r=n.oxw().ngIf,c=n.oxw();return n.KtG(c.setRecipeChecked(r.id,a.checked))}),n.qZA()()(),n.TgZ(51,"tr")(52,"th"),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"td"),n.YNc(56,W,3,5,"a",13),n.qZA()(),n.YNc(57,$,6,4,"tr",0),n.YNc(58,X,2,1,"ng-container",0),n.YNc(59,nn,7,4,"tr",0),n.YNc(60,tn,6,4,"tr",0),n.qZA(),n.BQk()}if(2&e){const t=n.oxw().ngIf,i=n.oxw();n.xp6(5),n.Oqu(t.obj.name),n.xp6(3),n.Tol(n.xi3(9,31,t.id,"recipe")),n.xp6(2),n.Q6J("ngIf",t.category),n.xp6(3),n.Oqu(n.lcZ(14,34,"data.time")),n.xp6(3),n.Oqu(t.obj.time),n.xp6(1),n.Q6J("ngIf",t.ingredientIds.length),n.xp6(1),n.Q6J("ngIf",t.catalystIds.length),n.xp6(1),n.Q6J("ngIf",t.productIds.length),n.xp6(3),n.Oqu(n.lcZ(23,36,"data.producers")),n.xp6(3),n.Q6J("ngForOf",t.obj.producers),n.xp6(1),n.Q6J("ngIf",t.obj.unlockedBy),n.xp6(1),n.Q6J("ngIf",t.obj.mining),n.xp6(1),n.Q6J("ngIf",t.obj.part),n.xp6(1),n.Q6J("ngIf",t.obj.usage),n.xp6(1),n.Q6J("ngIf",t.obj.technology),n.xp6(6),n.Oqu(n.lcZ(37,38,"data.recipeSettings")),n.xp6(2),n.ekj("invisible",!t.recipeSettingsRaw),n.xp6(3),n.Oqu(n.lcZ(42,40,"data.excluded")),n.xp6(3),n.Q6J("ngModel",t.recipeSettings.excluded)("binary",!0),n.xp6(3),n.Oqu(n.lcZ(48,42,"data.checked")),n.xp6(3),n.Q6J("ngModel",t.recipeSettings.checked)("binary",!0),n.xp6(3),n.Oqu(n.lcZ(54,44,"data.machine")),n.xp6(3),n.Q6J("ngIf",t.recipeSettings.machineId),n.xp6(1),n.Q6J("ngIf",null==t.recipeSettings.machineModuleIds?null:t.recipeSettings.machineModuleIds.length),n.xp6(1),n.Q6J("ngIf",t.data.game===i.Game.Factorio),n.xp6(1),n.Q6J("ngIf",t.data.game===i.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",null==t.recipeR?null:t.recipeR.cost)}}function on(e,o){1&e&&(n.TgZ(0,"div",19),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"data.notFound")))}function _n(e,o){if(1&e&&(n.ynx(0),n._UZ(1,"p-breadcrumb",1),n.YNc(2,en,61,46,"ng-container",2),n.YNc(3,on,3,3,"ng-template",null,3,n.W1O),n.BQk()),2&e){const t=o.ngIf,i=n.MAs(4);n.xp6(1),n.Q6J("home",t.home)("model",t.breadcrumb),n.xp6(1),n.Q6J("ngIf",t.obj)("ngIfElse",i)}}class l extends v.J{constructor(o,t,i,a,r){super(o,t),this.store=i,this.dataRouteSvc=a,this.displaySvc=r,this.vm$=(0,f.a)([this.id$,this.parent$,this.dataRouteSvc.home$,this.store.select(s.lx.IB),this.store.select(s.lx.lW),this.store.select(s.lx.O8)]).pipe((0,A.U)(([c,cn,an,rn,pn,p])=>({id:c,obj:p.recipeEntities[c],recipeR:p.recipeR[c],category:p.categoryEntities[p.recipeEntities[c]?.category??""],breadcrumb:[cn,{label:p.recipeEntities[c]?.name}],ingredientIds:Object.keys(p.recipeEntities[c]?.in??{}),catalystIds:Object.keys(p.recipeEntities[c]?.catalyst??{}),productIds:Object.keys(p.recipeEntities[c]?.out??{}),recipeSettingsRaw:rn[c],recipeSettings:pn[c],home:an,data:p}))),this.trueValue=!0,this.Game=h.lA}toggleRecipe(o,t,i){const a=!t.excluded,r=(i.defaults?.excludedRecipeIds??[]).some(c=>c===o);this.setRecipeExcluded(o,a,r)}setRecipeExcluded(o,t,i){this.store.dispatch(new s.lx.aF({id:o,value:t,def:i}))}setRecipeChecked(o,t){this.store.dispatch(new s.lx.dR({id:o,value:t}))}setRecipeCost(o,t){this.store.dispatch(new s.lx.aq({id:o,value:t}))}resetRecipe(o){this.store.dispatch(new s.lx.in(o))}}l.\u0275fac=function(o){return new(o||l)(n.Y36(m.gz),n.Y36(d.sK),n.Y36(C.yh),n.Y36(I.s),n.Y36(O.G9))},l.\u0275cmp=n.Xpm({type:l,selectors:[["ng-component"]],standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"home","model"],[4,"ngIf","ngIfElse"],["notFound",""],[1,"properties","mb-4"],["colspan","2",1,"text-center"],[1,"lg"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],[3,"ngModel","binary","onChange"],["queryParamsHandling","preserve",3,"routerLink",4,"ngIf"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled","ngModelChange"],[3,"value","setValue"],[1,"my-5","p-error"]],template:function(o,t){1&o&&(n.YNc(0,_n,5,4,"ng-container",0),n.ALo(1,"async")),2&o&&n.Q6J("ngIf",n.lcZ(1,1,t.vm$))},dependencies:[g.ez,g.sg,g.O5,g.Ov,T.o,x.JJ,x.On,E.a,m.rH,b.Hq,R.XZ,q.H,L.l,d.X$,Z.Y,Z.y],changeDetection:0})}}]);