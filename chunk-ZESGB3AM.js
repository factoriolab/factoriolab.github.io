import{d as te}from"./chunk-J7T7ZUIY.js";import{$ as C,$d as b,Aa as c,De as ee,Ea as u,Ia as r,Ja as n,Jc as V,Ka as g,Ma as D,Na as N,Oa as m,Oc as A,Pc as H,Rd as K,Sd as Q,Va as x,Wa as S,X as w,Xc as z,_ as f,aa as R,ad as G,ae as U,ba as B,bd as J,be as W,ca as L,cb as O,de as X,fa as j,ga as k,hb as d,he as Y,ib as h,jb as P,ka as y,pb as E,qa as l,tc as q,wd as F,ya as s,ye as Z,zb as $}from"./chunk-ZC4ATHKD.js";var I=(()=>{let t=class t{constructor(){this.translateSvc=f(A),this.pTable=f(b,{self:!0})}ngOnInit(){this.pTable.styleClass="p-datatable-sm",this.pTable.rows=10,this.pTable.rowsPerPageOptions=[10,25,50,100,250],this.pTable.showCurrentPageReport=!0,this.pTable.currentPageReportTemplate=this.translateSvc.instant("data.currentPageReportTemplate")}};t.\u0275fac=function(a){return new(a||t)},t.\u0275dir=L({type:t,selectors:[["","labPagedTable",""]]});let e=t;return e})();var oe=()=>["category.id"];function ae(e,t){e&1&&(r(0,"th",5)(1,"span"),x(2),d(3,"translate"),n(),g(4,"p-sortIcon",6),n()),e&2&&(l(2),S(h(3,1,"data.category")))}function le(e,t){if(e&1){let i=D();r(0,"p-multiSelect",10),d(1,"translate"),d(2,"translate"),N("onChange",function(a){let p=j(i).filterCallback;return k(p(a.value))}),n()}if(e&2){let i=t.$implicit,o=m(4);c("ngModel",i)("options",o.options().categories)("maxSelectedLabels",1)("selectedItemsLabel",h(1,5,"data.selectedLabel"))("placeholder",h(2,7,"data.any"))}}function re(e,t){e&1&&(r(0,"th")(1,"p-columnFilter",8),s(2,le,3,9,"ng-template",9),n()())}function pe(e,t){if(e&1&&(r(0,"tr")(1,"th"),g(2,"p-columnFilter",7),n(),s(3,re,3,0,"th"),n()),e&2){let i=m(2);l(3),u(3,i.type()!=="category"?3:-1)}}function se(e,t){if(e&1&&(r(0,"tr")(1,"th",3)(2,"span"),x(3),d(4,"translate"),n(),g(5,"p-sortIcon",4),n(),s(6,ae,5,3,"th",5),n(),s(7,pe,4,1,"tr")),e&2){let i=m();l(3),S(h(4,3,"data.name")),l(3),u(6,i.type()!=="category"?6:-1),l(),u(7,i.value().length>10?7:-1)}}function ce(e,t){if(e&1&&(r(0,"a",11),g(1,"button",12),d(2,"iconSmClass"),n()),e&2){let i=m(2).$implicit;c("routerLink","/data/categories/"+i.category.id),l(),c("label",i.category.name)("icon",P(2,3,i.category.id,"category"))}}function me(e,t){if(e&1&&(r(0,"td"),s(1,ce,3,6,"a",11),n()),e&2){let i=m().$implicit;l(),u(1,i.category?1:-1)}}function de(e,t){if(e&1&&(r(0,"tr")(1,"td")(2,"a",11),g(3,"button",12),d(4,"iconSmClass"),n()(),s(5,me,2,1,"td"),n()),e&2){let i=t.$implicit,o=m();l(2),c("routerLink",o.route()+i.id),l(),c("label",i.name)("icon",P(4,4,i.id,o.type())),l(2),u(5,o.type()!=="category"?5:-1)}}var ue=(()=>{let t=class t{constructor(){this.store=f(V),this.ids=y.required(),this.type=y.required(),this.useRelativePath=y(!1),this.options=this.store.selectSignal(F.getOptions),this.data=this.store.selectSignal(F.getDataset),this.route=E(()=>{let o=this.type();if(this.useRelativePath())return"";switch(o){case"category":return"/data/categories/";case"item":return"/data/items/";case"recipe":return"/data/recipes/"}}),this.value=E(()=>{let o=this.ids(),a=this.type(),p=this.data(),_;switch(a){case"category":_=p.categoryEntities;break;case"item":_=p.itemEntities;break;case"recipe":_=p.recipeEntities}return o.filter(T=>_[T]).map(T=>{let v=_[T],M={id:v.id,name:v.name};return a!=="category"&&(M.category=p.categoryEntities[v.category]),M})})}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=R({type:t,selectors:[["lab-collection-table"]],inputs:{ids:[C.SignalBased,"ids"],type:[C.SignalBased,"type"],useRelativePath:[C.SignalBased,"useRelativePath"]},decls:3,vars:4,consts:[["labPagedTable","",3,"value","paginator","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","category.name"],["field","category.name"],["type","text","field","name","matchMode","contains"],["field","category.id","matchMode","in"],["pTemplate","filter"],["appendTo","body",3,"onChange","ngModel","options","maxSelectedLabels","selectedItemsLabel","placeholder"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-link",3,"label","icon"]],template:function(a,p){a&1&&(r(0,"p-table",0),s(1,se,8,5,"ng-template",1)(2,de,6,7,"ng-template",2),n()),a&2&&c("value",p.value())("paginator",p.value().length>10)("globalFilterFields",O(3,oe))},dependencies:[G,J,z,q,Q,Z,K,b,U,W,X,I,H,Y],styles:["th[_ngcontent-%COMP%]{width:50%}"],changeDetection:0});let e=t;return e})();var ze=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=B({type:t}),t.\u0275inj=w({imports:[$,ee,te]});let e=t;return e})();export{ue as a,ze as b};
