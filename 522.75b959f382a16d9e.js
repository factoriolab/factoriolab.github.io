"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[522],{7522:(q,f,e)=>{e.r(f),e.d(f,{MainModule:()=>l});var p=e(6895),v=e(2518),m=e(4258),x=e(9841),h=e(4004),r=e(6173),g=e(4624),t=e(4650),u=e(3300),Z=e(2997),T=e(805),M=e(5593),y=e(4247),C=e(1493),_=e(7932),A=e(1795),I=e(6163),O=e(3646),U=e(958),L=e(6577),S=e(6188);function Y(n,i){if(1&n&&(t._UZ(0,"span",13),t.TgZ(1,"span",14),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n){const o=i.$implicit;t.Tol(o.icon),t.xp6(2),t.Oqu(t.lcZ(3,3,o.label))}}const b=function(n,i,o){return{resultType:n,time:i,cost:o}};function J(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const o=t.oxw(4).ngIf;t.xp6(1),t.hij(" ",t.xi3(2,1,"app.simplexSolved",t.kEZ(4,b,o.result.resultType.toLowerCase(),o.result.time,null==o.result.cost?null:o.result.cost.toPrecision(2)))," ")}}const N=function(n){return{resultType:n}};function H(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const o=t.oxw(4).ngIf;t.xp6(1),t.hij(" ",t.xi3(2,1,"app.simplexUnsolved",t.VKq(4,N,o.result.resultType.toLowerCase()))," ")}}function Q(n,i){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,J,3,8,"div",2),t.YNc(2,H,3,6,"ng-template",null,16,t.W1O),t.TgZ(4,"span"),t._uU(5),t.qZA()()),2&n){const o=t.MAs(3),a=t.oxw(3).ngIf,s=t.oxw();t.xp6(1),t.Q6J("ngIf",a.result.resultType===s.MatrixResultType.Solved)("ngIfElse",o),t.xp6(4),t.Oqu(s.contentSvc.version)}}function j(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"lab-objectives"),t.TgZ(2,"p-card",9),t.ALo(3,"translate"),t.TgZ(4,"p-tabMenu",10),t.YNc(5,Y,4,5,"ng-template",11),t.qZA(),t._UZ(6,"router-outlet"),t.YNc(7,Q,6,3,"ng-template",12),t.qZA(),t.BQk()),2&n){const o=t.oxw(3);t.xp6(2),t.Q6J("header",t.lcZ(3,2,"app.factory")),t.xp6(2),t.Q6J("model",o.tabItems)}}function P(n,i){1&n&&(t.TgZ(0,"div",17),t._UZ(1,"p-progressSpinner"),t.qZA())}function $(n,i){if(1&n){const o=t.EpF();t.ynx(0),t._UZ(1,"lab-settings",4),t.TgZ(2,"div",5),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.contentSvc.toggleSettings())}),t.qZA(),t.TgZ(3,"div",6)(4,"main",7),t.YNc(5,j,8,4,"ng-container",2),t.YNc(6,P,2,0,"ng-template",null,8,t.W1O),t.qZA()(),t.BQk()}if(2&n){const o=t.MAs(7),a=t.oxw().ngIf;t.xp6(1),t.Q6J("active",a.settingsActive)("hidden",a.settingsXlHidden),t.xp6(1),t.ekj("active",a.settingsActive),t.xp6(1),t.ekj("settings-xl-hidden",a.settingsXlHidden),t.xp6(2),t.Q6J("ngIf",null!=a.mod)("ngIfElse",o)}}function E(n,i){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"i",25),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"app.error")))}function R(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"p-dialog",18),t.YNc(1,E,5,3,"ng-template",19),t.TgZ(2,"div",20)(3,"div"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",21),t._uU(7),t.qZA(),t.TgZ(8,"div",22)(9,"button",23),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().ngIf,d=t.oxw();return t.KtG(d.reset(s.game))}),t.ALo(10,"translate"),t.qZA()()()()}if(2&n){const o=t.oxw().ngIf,a=t.oxw();t.Q6J("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),t.xp6(4),t.Oqu(t.lcZ(5,10,"app.errorDetail")),t.xp6(3),t.Oqu(o.errorMsg),t.xp6(2),t.Q6J("label",t.lcZ(10,12,"reset"))("loading",a.isResetting)}}function B(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"lab-header",1),t.YNc(2,$,8,8,"ng-container",2),t.YNc(3,R,11,14,"ng-template",null,3,t.W1O),t.BQk()),2&n){const o=i.ngIf,a=t.MAs(4);t.xp6(1),t.Q6J("sticky",o.scrollTop>16)("settingsXlHidden",o.settingsXlHidden),t.xp6(1),t.Q6J("ngIf",null==o.errorMsg)("ngIfElse",a)}}class c{constructor(i,o,a,s,d,z){this.contentSvc=i,this.ngZone=o,this.ref=a,this.router=s,this.store=d,this.errorSvc=z,this.vm$=(0,x.a)([this.store.select(g.Zr.cF),this.store.select(g.Zr.IK),this.store.select(g.VJ.p5),this.contentSvc.settingsActive$,this.contentSvc.settingsXlHidden$,this.contentSvc.scrollTop$,this.errorSvc.message$]).pipe((0,h.U)(([G,V,D,K,W,w,k])=>({game:G,mod:V,result:D,settingsActive:K,settingsXlHidden:W,scrollTop:w,errorMsg:k}))),this.isResetting=!1,this.tabItems=[{label:"app.list",icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:"app.flow",icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:"app.data",icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}],this.Game=r.lA,this.ItemId=r.bN,this.MatrixResultType=r.xN}ngAfterViewInit(){this.errorSvc.message$.subscribe(()=>this.ref.detectChanges())}reset(i){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message$.next(null),this.router.navigateByUrl(r.dL[i].route),this.store.dispatch(new g.gV.rc),this.isResetting=!1})},10)}}c.\u0275fac=function(i){return new(i||c)(t.Y36(u._s),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(m.F0),t.Y36(Z.yh),t.Y36(u.T_))},c.\u0275cmp=t.Xpm({type:c,selectors:[["lab-main"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"sticky","settingsXlHidden"],[4,"ngIf","ngIfElse"],["errorDialog",""],[3,"active","hidden"],[1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-1","px-sm-4","py-4"],["loading",""],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","item"],["pTemplate","footer"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],[1,"d-flex","align-items-center","justify-content-between"],["notSolved",""],[1,"d-flex","flex-column","align-items-center","mt-5"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",3,"label","loading","click"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(i,o){1&i&&(t.YNc(0,B,5,4,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,o.vm$))},dependencies:[p.O5,T.jx,m.lC,M.Hq,y.Z,C.V,_.G,A.H,I.d,O.G,U.P,L.f,p.Ov,S.X$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;z-index:3;top:0;left:0;width:100%;height:100%;background-color:var(--maskbg)}}"],changeDetection:0});const F=m.Bz.forChild([{path:"",component:c,children:[{path:"list",loadComponent:()=>e.e(913).then(e.bind(e,5913)).then(n=>n.ListComponent)},{path:"flow",loadComponent:()=>e.e(453).then(e.bind(e,3453)).then(n=>n.FlowComponent)},{path:"data",loadChildren:()=>e.e(411).then(e.bind(e,411)).then(n=>n.DataModule)}]}]);class l{}l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[p.ez,v.o,F]})}}]);