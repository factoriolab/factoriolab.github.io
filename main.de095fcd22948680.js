var cB=Object.defineProperty,lB=Object.defineProperties,uB=Object.getOwnPropertyDescriptors,SO=Object.getOwnPropertySymbols,dB=Object.prototype.hasOwnProperty,fB=Object.prototype.propertyIsEnumerable,DO=(j,N,E)=>N in j?cB(j,N,{enumerable:!0,configurable:!0,writable:!0,value:E}):j[N]=E,qe=(j,N)=>{for(var E in N||(N={}))dB.call(N,E)&&DO(j,E,N[E]);if(SO)for(var E of SO(N))fB.call(N,E)&&DO(j,E,N[E]);return j},qt=(j,N)=>lB(j,uB(N));(self.webpackChunkfactorio_lab=self.webpackChunkfactorio_lab||[]).push([[179],{4921:j=>{j.exports=function N(E){Object.freeze(E);var n="function"==typeof E,q=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(E).forEach(function(H){q.call(E,H)&&(!n||"caller"!==H&&"callee"!==H&&"arguments"!==H)&&null!==E[H]&&("object"==typeof E[H]||"function"==typeof E[H])&&!Object.isFrozen(E[H])&&N(E[H])}),E}},4007:(j,N,E)=>{var n=E(4515);j.exports=function(H,ee){var L,V=[],J=[],k=[],F={},Z=[];function U(ye){k[ye]=!1,F.hasOwnProperty(ye)&&Object.keys(F[ye]).forEach(function(Oe){delete F[ye][Oe],k[Oe]&&U(Oe)})}function z(ye){var Be,Pe,Oe=!1;for(J.push(ye),k[ye]=!0,Be=0;Be<Z[ye].length;Be++)(Pe=Z[ye][Be])===L?(pe(L,J),Oe=!0):k[Pe]||(Oe=z(Pe));if(Oe)U(ye);else for(Be=0;Be<Z[ye].length;Be++){var Qe=F[Pe=Z[ye][Be]];Qe||(F[Pe]=Qe={}),Qe[Pe]=!0}return J.pop(),Oe}function pe(ye,Oe){var Be=[].concat(Oe).concat(ye);ee?ee(Be):V.push(Be)}function ke(ye){!function(ye){for(var Oe=0;Oe<H.length;Oe++)(Oe<ye||!H[Oe])&&(H[Oe]=[]),H[Oe]=H[Oe].filter(function(Be){return Be>=ye})}(ye);for(var rt,Pe=n(H).components.filter(function(Re){return Re.length>1}),Qe=1/0,te=0;te<Pe.length;te++)for(var de=0;de<Pe[te].length;de++)Pe[te][de]<Qe&&(Qe=Pe[te][de],rt=te);var me=Pe[rt];return!!me&&{leastVertex:Qe,adjList:H.map(function(Re,fe){return-1===me.indexOf(fe)?[]:Re.filter(function(ht){return-1!==me.indexOf(ht)})})}}L=0;for(var we=H.length;L<we;){var Ve=ke(L);if(L=Ve.leastVertex,Z=Ve.adjList){for(var le=0;le<Z.length;le++)for(var ve=0;ve<Z[le].length;ve++){var Te=Z[le][ve];k[+Te]=!1,F[Te]={}}z(L),L+=1}else L=we}if(!ee)return V}},2473:function(j,N){var q;void 0!==(q=function(){"use strict";function ee(L,U,z){var pe=new XMLHttpRequest;pe.open("GET",L),pe.responseType="blob",pe.onload=function(){Z(pe.response,U,z)},pe.onerror=function(){console.error("could not download file")},pe.send()}function V(L){var U=new XMLHttpRequest;U.open("HEAD",L,!1);try{U.send()}catch(z){}return 200<=U.status&&299>=U.status}function J(L){try{L.dispatchEvent(new MouseEvent("click"))}catch(z){var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(U)}}var k="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=k.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Z=k.saveAs||("object"!=typeof window||window!==k?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(L,U,z){var pe=k.URL||k.webkitURL,ge=document.createElement("a");ge.download=U=U||L.name||"download",ge.rel="noopener","string"==typeof L?(ge.href=L,ge.origin===location.origin?J(ge):V(ge.href)?ee(L,U,z):J(ge,ge.target="_blank")):(ge.href=pe.createObjectURL(L),setTimeout(function(){pe.revokeObjectURL(ge.href)},4e4),setTimeout(function(){J(ge)},0))}:"msSaveOrOpenBlob"in navigator?function(L,U,z){if(U=U||L.name||"download","string"!=typeof L)navigator.msSaveOrOpenBlob(function(L,U){return void 0===U?U={autoBom:!1}:"object"!=typeof U&&(console.warn("Deprecated: Expected third argument to be a object"),U={autoBom:!U}),U.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob(["\ufeff",L],{type:L.type}):L}(L,z),U);else if(V(L))ee(L,U,z);else{var pe=document.createElement("a");pe.href=L,pe.target="_blank",setTimeout(function(){J(pe)})}}:function(L,U,z,pe){if((pe=pe||open("","_blank"))&&(pe.document.title=pe.document.body.innerText="downloading..."),"string"==typeof L)return ee(L,U,z);var ge="application/octet-stream"===L.type,ke=/constructor/i.test(k.HTMLElement)||k.safari,we=/CriOS\/[\d]+/.test(navigator.userAgent);if((we||ge&&ke||F)&&"undefined"!=typeof FileReader){var Ve=new FileReader;Ve.onloadend=function(){var Te=Ve.result;Te=we?Te:Te.replace(/^data:[^;]*;/,"data:attachment/file;"),pe?pe.location.href=Te:location=Te,pe=null},Ve.readAsDataURL(L)}else{var le=k.URL||k.webkitURL,ve=le.createObjectURL(L);pe?pe.location=ve:location.href=ve,pe=null,setTimeout(function(){le.revokeObjectURL(ve)},4e4)}});k.saveAs=Z.saveAs=Z,j.exports=Z}.apply(N,[]))&&(j.exports=q)},4499:(j,N,E)=>{"use strict";E.d(N,{X:()=>q});var n=E(273);class q extends n.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const V=super._subscribe(ee);return!V.closed&&ee.next(this._value),V}getValue(){const{hasError:ee,thrownError:V,_value:J}=this;if(ee)throw V;return this._throwIfClosed(),J}next(ee){super.next(this._value=ee)}}},8305:(j,N,E)=>{"use strict";E.d(N,{y:()=>L});var n=E(584),q=E(7908),H=E(4816),ee=E(4623);var k=E(5367),F=E(5044),Z=E(8706);let L=(()=>{class ge{constructor(we){we&&(this._subscribe=we)}lift(we){const Ve=new ge;return Ve.source=this,Ve.operator=we,Ve}subscribe(we,Ve,le){const ve=function(ge){return ge&&ge instanceof n.Lv||function(ge){return ge&&(0,F.m)(ge.next)&&(0,F.m)(ge.error)&&(0,F.m)(ge.complete)}(ge)&&(0,q.Nn)(ge)}(we)?we:new n.Hp(we,Ve,le);return(0,Z.x)(()=>{const{operator:Te,source:ye}=this;ve.add(Te?Te.call(ve,ye):ye?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(we){try{return this._subscribe(we)}catch(Ve){we.error(Ve)}}forEach(we,Ve){return new(Ve=U(Ve))((le,ve)=>{let Te;Te=this.subscribe(ye=>{try{we(ye)}catch(Oe){ve(Oe),null==Te||Te.unsubscribe()}},ve,le)})}_subscribe(we){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(we)}[H.L](){return this}pipe(...we){return function(ge){return 0===ge.length?ee.y:1===ge.length?ge[0]:function(we){return ge.reduce((Ve,le)=>le(Ve),we)}}(we)(this)}toPromise(we){return new(we=U(we))((Ve,le)=>{let ve;this.subscribe(Te=>ve=Te,Te=>le(Te),()=>Ve(ve))})}}return ge.create=ke=>new ge(ke),ge})();function U(ge){var ke;return null!==(ke=null!=ge?ge:k.v.Promise)&&void 0!==ke?ke:Promise}},559:(j,N,E)=>{"use strict";E.d(N,{t:()=>H});var n=E(273),q=E(1733);class H extends n.x{constructor(V=1/0,J=1/0,k=q.l){super(),this._bufferSize=V,this._windowTime=J,this._timestampProvider=k,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,V),this._windowTime=Math.max(1,J)}next(V){const{isStopped:J,_buffer:k,_infiniteTimeWindow:F,_timestampProvider:Z,_windowTime:L}=this;J||(k.push(V),!F&&k.push(Z.now()+L)),this._trimBuffer(),super.next(V)}_subscribe(V){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(V),{_infiniteTimeWindow:k,_buffer:F}=this,Z=F.slice();for(let L=0;L<Z.length&&!V.closed;L+=k?1:2)V.next(Z[L]);return this._checkFinalizedStatuses(V),J}_trimBuffer(){const{_bufferSize:V,_timestampProvider:J,_buffer:k,_infiniteTimeWindow:F}=this,Z=(F?1:2)*V;if(V<1/0&&Z<k.length&&k.splice(0,k.length-Z),!F){const L=J.now();let U=0;for(let z=1;z<k.length&&k[z]<=L;z+=2)U=z;U&&k.splice(0,U+1)}}}},273:(j,N,E)=>{"use strict";E.d(N,{x:()=>k});var n=E(8305),q=E(7908);const ee=(0,E(4893).d)(Z=>function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=E(3980),J=E(8706);let k=(()=>{class Z extends n.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const z=new F(this,this);return z.operator=U,z}_throwIfClosed(){if(this.closed)throw new ee}next(U){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const z=this.observers.slice();for(const pe of z)pe.next(U)}})}error(U){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:z}=this;for(;z.length;)z.shift().error(U)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:z,isStopped:pe,observers:ge}=this;return z||pe?q.Lc:(ge.push(U),new q.w0(()=>(0,V.P)(ge,U)))}_checkFinalizedStatuses(U){const{hasError:z,thrownError:pe,isStopped:ge}=this;z?U.error(pe):ge&&U.complete()}asObservable(){const U=new n.y;return U.source=this,U}}return Z.create=(L,U)=>new F(L,U),Z})();class F extends k{constructor(L,U){super(),this.destination=L,this.source=U}next(L){var U,z;null===(z=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===z||z.call(U,L)}error(L){var U,z;null===(z=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===z||z.call(U,L)}complete(){var L,U;null===(U=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===U||U.call(L)}_subscribe(L){var U,z;return null!==(z=null===(U=this.source)||void 0===U?void 0:U.subscribe(L))&&void 0!==z?z:q.Lc}}},584:(j,N,E)=>{"use strict";E.d(N,{Hp:()=>pe,Lv:()=>z});var n=E(5044),q=E(7908),H=E(5367),ee=E(5160),V=E(6921);const J=Z("C",void 0,void 0);function Z(le,ve,Te){return{kind:le,value:ve,error:Te}}var L=E(2496),U=E(8706);class z extends q.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,q.Nn)(ve)&&ve.add(this)):this.destination=Ve}static create(ve,Te,ye){return new pe(ve,Te,ye)}next(ve){this.isStopped?we(Z("N",ve,void 0),this):this._next(ve)}error(ve){this.isStopped?we(Z("E",void 0,ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?we(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class pe extends z{constructor(ve,Te,ye){let Oe;if(super(),(0,n.m)(ve))Oe=ve;else if(ve){let Be;({next:Oe,error:Te,complete:ye}=ve),this&&H.v.useDeprecatedNextContext?(Be=Object.create(ve),Be.unsubscribe=()=>this.unsubscribe()):Be=ve,Oe=null==Oe?void 0:Oe.bind(Be),Te=null==Te?void 0:Te.bind(Be),ye=null==ye?void 0:ye.bind(Be)}this.destination={next:Oe?ge(Oe):V.Z,error:ge(null!=Te?Te:ke),complete:ye?ge(ye):V.Z}}}function ge(le,ve){return(...Te)=>{try{le(...Te)}catch(ye){H.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(ye):(0,ee.h)(ye)}}}function ke(le){throw le}function we(le,ve){const{onStoppedNotification:Te}=H.v;Te&&L.z.setTimeout(()=>Te(le,ve))}const Ve={closed:!0,next:V.Z,error:ke,complete:V.Z}},7908:(j,N,E)=>{"use strict";E.d(N,{Lc:()=>J,w0:()=>V,Nn:()=>k});var n=E(5044);const H=(0,E(4893).d)(Z=>function(U){Z(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((z,pe)=>`${pe+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ee=E(3980);class V{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const ge of U)ge.remove(this);else U.remove(this);const{initialTeardown:z}=this;if((0,n.m)(z))try{z()}catch(ge){L=ge instanceof H?ge.errors:[ge]}const{_teardowns:pe}=this;if(pe){this._teardowns=null;for(const ge of pe)try{F(ge)}catch(ke){L=null!=L?L:[],ke instanceof H?L=[...L,...ke.errors]:L.push(ke)}}if(L)throw new H(L)}}add(L){var U;if(L&&L!==this)if(this.closed)F(L);else{if(L instanceof V){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(L)}}_hasParent(L){const{_parentage:U}=this;return U===L||Array.isArray(U)&&U.includes(L)}_addParent(L){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(L),U):U?[U,L]:L}_removeParent(L){const{_parentage:U}=this;U===L?this._parentage=null:Array.isArray(U)&&(0,ee.P)(U,L)}remove(L){const{_teardowns:U}=this;U&&(0,ee.P)(U,L),L instanceof V&&L._removeParent(this)}}V.EMPTY=(()=>{const Z=new V;return Z.closed=!0,Z})();const J=V.EMPTY;function k(Z){return Z instanceof V||Z&&"closed"in Z&&(0,n.m)(Z.remove)&&(0,n.m)(Z.add)&&(0,n.m)(Z.unsubscribe)}function F(Z){(0,n.m)(Z)?Z():Z.unsubscribe()}},5367:(j,N,E)=>{"use strict";E.d(N,{v:()=>n});const n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(j,N,E)=>{"use strict";E.d(N,{E:()=>q});const q=new(E(8305).y)(V=>V.complete())},2583:(j,N,E)=>{"use strict";E.d(N,{D:()=>Be});var n=E(9985),q=E(4763),H=E(9947);function ee(Pe,Qe=0){return(0,H.e)((rt,te)=>{te.add(Pe.schedule(()=>rt.subscribe(te),Qe))})}var k=E(8305),Z=E(5497),L=E(5044),U=E(8395);function pe(Pe,Qe){if(!Pe)throw new Error("Iterable cannot be null");return new k.y(rt=>{(0,U.f)(rt,Qe,()=>{const te=Pe[Symbol.asyncIterator]();(0,U.f)(rt,Qe,()=>{te.next().then(de=>{de.done?rt.complete():rt.next(de.value)})},0,!0)})})}var ge=E(1073),ke=E(2442),we=E(1537),Ve=E(2317),le=E(9908),ve=E(3754),Te=E(7751);function Be(Pe,Qe){return Qe?function(Pe,Qe){if(null!=Pe){if((0,ge.c)(Pe))return function(Pe,Qe){return(0,n.Xf)(Pe).pipe(ee(Qe),(0,q.Q)(Qe))}(Pe,Qe);if((0,we.z)(Pe))return function(Pe,Qe){return new k.y(rt=>{let te=0;return Qe.schedule(function(){te===Pe.length?rt.complete():(rt.next(Pe[te++]),rt.closed||this.schedule())})})}(Pe,Qe);if((0,ke.t)(Pe))return function(Pe,Qe){return(0,n.Xf)(Pe).pipe(ee(Qe),(0,q.Q)(Qe))}(Pe,Qe);if((0,le.D)(Pe))return pe(Pe,Qe);if((0,Ve.T)(Pe))return function(Pe,Qe){return new k.y(rt=>{let te;return(0,U.f)(rt,Qe,()=>{te=Pe[Z.h](),(0,U.f)(rt,Qe,()=>{let de,me;try{({value:de,done:me}=te.next())}catch(be){return void rt.error(be)}me?rt.complete():rt.next(de)},0,!0)}),()=>(0,L.m)(null==te?void 0:te.return)&&te.return()})}(Pe,Qe);if((0,Te.L)(Pe))return function(Pe,Qe){return pe((0,Te.Q)(Pe),Qe)}(Pe,Qe)}throw(0,ve.z)(Pe)}(Pe,Qe):(0,n.Xf)(Pe)}},9985:(j,N,E)=>{"use strict";E.d(N,{Xf:()=>pe});var n=E(9162),q=E(1537),H=E(2442),ee=E(8305),V=E(1073),J=E(9908),k=E(3754),F=E(2317),Z=E(7751),L=E(5044),U=E(5160),z=E(4816);function pe(ye){if(ye instanceof ee.y)return ye;if(null!=ye){if((0,V.c)(ye))return function(ye){return new ee.y(Oe=>{const Be=ye[z.L]();if((0,L.m)(Be.subscribe))return Be.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,q.z)(ye))return function(ye){return new ee.y(Oe=>{for(let Be=0;Be<ye.length&&!Oe.closed;Be++)Oe.next(ye[Be]);Oe.complete()})}(ye);if((0,H.t)(ye))return function(ye){return new ee.y(Oe=>{ye.then(Be=>{Oe.closed||(Oe.next(Be),Oe.complete())},Be=>Oe.error(Be)).then(null,U.h)})}(ye);if((0,J.D)(ye))return le(ye);if((0,F.T)(ye))return function(ye){return new ee.y(Oe=>{for(const Be of ye)if(Oe.next(Be),Oe.closed)return;Oe.complete()})}(ye);if((0,Z.L)(ye))return function(ye){return le((0,Z.Q)(ye))}(ye)}throw(0,k.z)(ye)}function le(ye){return new ee.y(Oe=>{(function(ye,Oe){var Be,Pe,Qe,rt;return(0,n.mG)(this,void 0,void 0,function*(){try{for(Be=(0,n.KL)(ye);!(Pe=yield Be.next()).done;)if(Oe.next(Pe.value),Oe.closed)return}catch(te){Qe={error:te}}finally{try{Pe&&!Pe.done&&(rt=Be.return)&&(yield rt.call(Be))}finally{if(Qe)throw Qe.error}}Oe.complete()})})(ye,Oe).catch(Be=>Oe.error(Be))})}},3719:(j,N,E)=>{"use strict";E.d(N,{T:()=>J});var n=E(5373),q=E(9985),H=E(5583),ee=E(8830),V=E(2583);function J(...k){const F=(0,ee.yG)(k),Z=(0,ee._6)(k,1/0),L=k;return L.length?1===L.length?(0,q.Xf)(L[0]):(0,n.J)(Z)((0,V.D)(L,F)):H.E}},2997:(j,N,E)=>{"use strict";E.d(N,{of:()=>H});var n=E(8830),q=E(2583);function H(...ee){const V=(0,n.yG)(ee);return(0,q.D)(ee,V)}},8889:(j,N,E)=>{"use strict";E.d(N,{Q:()=>q});var n=E(584);class q extends n.Lv{constructor(ee,V,J,k,F){super(ee),this.onFinalize=F,this._next=V?function(Z){try{V(Z)}catch(L){ee.error(L)}}:super._next,this._error=k?function(Z){try{k(Z)}catch(L){ee.error(L)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(Z){ee.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;const{closed:V}=this;super.unsubscribe(),!V&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}},2835:(j,N,E)=>{"use strict";E.d(N,{K:()=>ee});var n=E(9985),q=E(8889),H=E(9947);function ee(V){return(0,H.e)((J,k)=>{let L,F=null,Z=!1;F=J.subscribe(new q.Q(k,void 0,void 0,U=>{L=(0,n.Xf)(V(U,ee(V)(J))),F?(F.unsubscribe(),F=null,L.subscribe(k)):Z=!0})),Z&&(F.unsubscribe(),F=null,L.subscribe(k))})}},4799:(j,N,E)=>{"use strict";E.d(N,{b:()=>H});var n=E(5724),q=E(5044);function H(ee,V){return(0,q.m)(V)?(0,n.z)(ee,V,1):(0,n.z)(ee,1)}},9463:(j,N,E)=>{"use strict";E.d(N,{b:()=>ee});var n=E(2210),q=E(9947),H=E(8889);function ee(V,J=n.z){return(0,q.e)((k,F)=>{let Z=null,L=null,U=null;const z=()=>{if(Z){Z.unsubscribe(),Z=null;const ge=L;L=null,F.next(ge)}};function pe(){const ge=U+V,ke=J.now();if(ke<ge)return Z=this.schedule(void 0,ge-ke),void F.add(Z);z()}k.subscribe(new H.Q(F,ge=>{L=ge,U=J.now(),Z||(Z=J.schedule(pe,V),F.add(Z))},()=>{z(),F.complete()},void 0,()=>{L=Z=null}))})}},461:(j,N,E)=>{"use strict";E.d(N,{h:()=>H});var n=E(9947),q=E(8889);function H(ee,V){return(0,n.e)((J,k)=>{let F=0;J.subscribe(new q.Q(k,Z=>ee.call(V,Z,F++)&&k.next(Z)))})}},4753:(j,N,E)=>{"use strict";E.d(N,{U:()=>H});var n=E(9947),q=E(8889);function H(ee,V){return(0,n.e)((J,k)=>{let F=0;J.subscribe(new q.Q(k,Z=>{k.next(ee.call(V,Z,F++))}))})}},5373:(j,N,E)=>{"use strict";E.d(N,{J:()=>H});var n=E(5724),q=E(4623);function H(ee=1/0){return(0,n.z)(q.y,ee)}},5724:(j,N,E)=>{"use strict";E.d(N,{z:()=>F});var n=E(4753),q=E(9985),H=E(9947),V=(E(8395),E(8889)),k=E(5044);function F(Z,L,U=1/0){return(0,k.m)(L)?F((z,pe)=>(0,n.U)((ge,ke)=>L(z,ge,pe,ke))((0,q.Xf)(Z(z,pe))),U):("number"==typeof L&&(U=L),(0,H.e)((z,pe)=>function(Z,L,U,z,pe,ge,ke,we){const Ve=[];let le=0,ve=0,Te=!1;const ye=()=>{Te&&!Ve.length&&!le&&L.complete()},Oe=Pe=>le<z?Be(Pe):Ve.push(Pe),Be=Pe=>{le++;let Qe=!1;(0,q.Xf)(U(Pe,ve++)).subscribe(new V.Q(L,rt=>{L.next(rt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(le--;Ve.length&&le<z;){const rt=Ve.shift();Be(rt)}ye()}catch(rt){L.error(rt)}}))};return Z.subscribe(new V.Q(L,Oe,()=>{Te=!0,ye()})),()=>{}}(z,pe,Z,U)))}},4763:(j,N,E)=>{"use strict";E.d(N,{Q:()=>ee});var n=E(8395),q=E(9947),H=E(8889);function ee(V,J=0){return(0,q.e)((k,F)=>{k.subscribe(new H.Q(F,Z=>(0,n.f)(F,V,()=>F.next(Z),J),()=>(0,n.f)(F,V,()=>F.complete(),J),Z=>(0,n.f)(F,V,()=>F.error(Z),J)))})}},9495:(j,N,E)=>{"use strict";E.d(N,{R:()=>ee});var n=E(9947),q=E(8889);function H(V,J,k,F,Z){return(L,U)=>{let z=k,pe=J,ge=0;L.subscribe(new q.Q(U,ke=>{const we=ge++;pe=z?V(pe,ke,we):(z=!0,ke),F&&U.next(pe)},Z&&(()=>{z&&U.next(pe),U.complete()})))}}function ee(V,J){return(0,n.e)(H(V,J,arguments.length>=2,!0))}},3174:(j,N,E)=>{"use strict";E.d(N,{B:()=>J});var n=E(2583),q=E(9468),H=E(273),ee=E(584),V=E(9947);function J(F={}){const{connector:Z=(()=>new H.x),resetOnError:L=!0,resetOnComplete:U=!0,resetOnRefCountZero:z=!0}=F;return pe=>{let ge=null,ke=null,we=null,Ve=0,le=!1,ve=!1;const Te=()=>{null==ke||ke.unsubscribe(),ke=null},ye=()=>{Te(),ge=we=null,le=ve=!1},Oe=()=>{const Be=ge;ye(),null==Be||Be.unsubscribe()};return(0,V.e)((Be,Pe)=>{Ve++,!ve&&!le&&Te();const Qe=we=null!=we?we:Z();Pe.add(()=>{Ve--,0===Ve&&!ve&&!le&&(ke=k(Oe,z))}),Qe.subscribe(Pe),ge||(ge=new ee.Hp({next:rt=>Qe.next(rt),error:rt=>{ve=!0,Te(),ke=k(ye,L,rt),Qe.error(rt)},complete:()=>{le=!0,Te(),ke=k(ye,U),Qe.complete()}}),(0,n.D)(Be).subscribe(ge))})(pe)}}function k(F,Z,...L){return!0===Z?(F(),null):!1===Z?null:Z(...L).pipe((0,q.q)(1)).subscribe(()=>F())}},9661:(j,N,E)=>{"use strict";E.d(N,{T:()=>q});var n=E(461);function q(H){return(0,n.h)((ee,V)=>H<=V)}},3067:(j,N,E)=>{"use strict";E.d(N,{w:()=>ee});var n=E(9985),q=E(9947),H=E(8889);function ee(V,J){return(0,q.e)((k,F)=>{let Z=null,L=0,U=!1;const z=()=>U&&!Z&&F.complete();k.subscribe(new H.Q(F,pe=>{null==Z||Z.unsubscribe();let ge=0;const ke=L++;(0,n.Xf)(V(pe,ke)).subscribe(Z=new H.Q(F,we=>F.next(J?J(pe,we,ke,ge++):we),()=>{Z=null,z()}))},()=>{U=!0,z()}))})}},9468:(j,N,E)=>{"use strict";E.d(N,{q:()=>ee});var n=E(5583),q=E(9947),H=E(8889);function ee(V){return V<=0?()=>n.E:(0,q.e)((J,k)=>{let F=0;J.subscribe(new H.Q(k,Z=>{++F<=V&&(k.next(Z),V<=F&&k.complete())}))})}},6263:(j,N,E)=>{"use strict";E.d(N,{R:()=>V});var n=E(9947),q=E(8889),H=E(9985),ee=E(6921);function V(J){return(0,n.e)((k,F)=>{(0,H.Xf)(J).subscribe(new q.Q(F,()=>F.complete(),ee.Z)),!F.closed&&k.subscribe(F)})}},4522:(j,N,E)=>{"use strict";E.d(N,{V:()=>Z});var n=E(2210),H=E(9947),ee=E(9985),V=E(4893),J=E(8889),k=E(8395);const F=(0,V.d)(U=>function(pe=null){U(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=pe});function Z(U,z){const{first:pe,each:ge,with:ke=L,scheduler:we=(null!=z?z:n.z),meta:Ve=null}=function(U){return U instanceof Date&&!isNaN(U)}(U)?{first:U}:"number"==typeof U?{each:U}:U;if(null==pe&&null==ge)throw new TypeError("No timeout provided.");return(0,H.e)((le,ve)=>{let Te,ye,Oe=null,Be=0;const Pe=Qe=>{ye=(0,k.f)(ve,we,()=>{try{Te.unsubscribe(),(0,ee.Xf)(ke({meta:Ve,lastValue:Oe,seen:Be})).subscribe(ve)}catch(rt){ve.error(rt)}},Qe)};Te=le.subscribe(new J.Q(ve,Qe=>{null==ye||ye.unsubscribe(),Be++,ve.next(Oe=Qe),ge>0&&Pe(ge)},void 0,void 0,()=>{(null==ye?void 0:ye.closed)||null==ye||ye.unsubscribe(),Oe=null})),Pe(null!=pe?"number"==typeof pe?pe:+pe-we.now():ge)})}function L(U){throw new F(U)}},9952:(j,N,E)=>{"use strict";E.d(N,{M:()=>k});var n=E(9947),q=E(8889),H=E(9985),ee=E(4623),V=E(6921),J=E(8830);function k(...F){const Z=(0,J.jO)(F);return(0,n.e)((L,U)=>{const z=F.length,pe=new Array(z);let ge=F.map(()=>!1),ke=!1;for(let we=0;we<z;we++)(0,H.Xf)(F[we]).subscribe(new q.Q(U,Ve=>{pe[we]=Ve,!ke&&!ge[we]&&(ge[we]=!0,(ke=ge.every(ee.y))&&(ge=null))},V.Z));L.subscribe(new q.Q(U,we=>{if(ke){const Ve=[we,...pe];U.next(Z?Z(...Ve):Ve)}}))})}},2869:(j,N,E)=>{"use strict";E.d(N,{o:()=>V});var n=E(7908);class q extends n.w0{constructor(k,F){super()}schedule(k,F=0){return this}}const H={setInterval(...J){const{delegate:k}=H;return((null==k?void 0:k.setInterval)||setInterval)(...J)},clearInterval(J){const{delegate:k}=H;return((null==k?void 0:k.clearInterval)||clearInterval)(J)},delegate:void 0};var ee=E(3980);class V extends q{constructor(k,F){super(k,F),this.scheduler=k,this.work=F,this.pending=!1}schedule(k,F=0){if(this.closed)return this;this.state=k;const Z=this.id,L=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(L,Z,F)),this.pending=!0,this.delay=F,this.id=this.id||this.requestAsyncId(L,this.id,F),this}requestAsyncId(k,F,Z=0){return H.setInterval(k.flush.bind(k,this),Z)}recycleAsyncId(k,F,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return F;H.clearInterval(F)}execute(k,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(k,F);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(k,F){let L,Z=!1;try{this.work(k)}catch(U){Z=!0,L=U||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:k,scheduler:F}=this,{actions:Z}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(Z,this),null!=k&&(this.id=this.recycleAsyncId(F,k,null)),this.delay=null,super.unsubscribe()}}}},8843:(j,N,E)=>{"use strict";E.d(N,{v:()=>H});var n=E(1733);class q{constructor(V,J=q.now){this.schedulerActionCtor=V,this.now=J}schedule(V,J=0,k){return new this.schedulerActionCtor(this,V).schedule(k,J)}}q.now=n.l.now;class H extends q{constructor(V,J=q.now){super(V,J),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:J}=this;if(this._active)return void J.push(V);let k;this._active=!0;do{if(k=V.execute(V.state,V.delay))break}while(V=J.shift());if(this._active=!1,k){for(;V=J.shift();)V.unsubscribe();throw k}}}},2210:(j,N,E)=>{"use strict";E.d(N,{z:()=>H});var n=E(2869);const H=new(E(8843).v)(n.o)},1733:(j,N,E)=>{"use strict";E.d(N,{l:()=>n});const n={now:()=>(n.delegate||Date).now(),delegate:void 0}},5766:(j,N,E)=>{"use strict";E.d(N,{N:()=>V});var n=E(2869),H=E(8843);const V=new class extends H.v{}(class extends n.o{constructor(F,Z){super(F,Z),this.scheduler=F,this.work=Z}schedule(F,Z=0){return Z>0?super.schedule(F,Z):(this.delay=Z,this.state=F,this.scheduler.flush(this),this)}execute(F,Z){return Z>0||this.closed?super.execute(F,Z):this._execute(F,Z)}requestAsyncId(F,Z,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(F,Z,L):F.flush(this)}})},2496:(j,N,E)=>{"use strict";E.d(N,{z:()=>n});const n={setTimeout(...q){const{delegate:H}=n;return((null==H?void 0:H.setTimeout)||setTimeout)(...q)},clearTimeout(q){const{delegate:H}=n;return((null==H?void 0:H.clearTimeout)||clearTimeout)(q)},delegate:void 0}},5497:(j,N,E)=>{"use strict";E.d(N,{h:()=>q});const q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(j,N,E)=>{"use strict";E.d(N,{L:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},8830:(j,N,E)=>{"use strict";E.d(N,{_6:()=>J,jO:()=>ee,yG:()=>V});var n=E(5044);function H(k){return k[k.length-1]}function ee(k){return(0,n.m)(H(k))?k.pop():void 0}function V(k){return function(k){return k&&(0,n.m)(k.schedule)}(H(k))?k.pop():void 0}function J(k,F){return"number"==typeof H(k)?k.pop():F}},3980:(j,N,E)=>{"use strict";function n(q,H){if(q){const ee=q.indexOf(H);0<=ee&&q.splice(ee,1)}}E.d(N,{P:()=>n})},4893:(j,N,E)=>{"use strict";function n(q){const ee=q(V=>{Error.call(V),V.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}E.d(N,{d:()=>n})},8706:(j,N,E)=>{"use strict";E.d(N,{x:()=>H,O:()=>ee});var n=E(5367);let q=null;function H(V){if(n.v.useDeprecatedSynchronousErrorHandling){const J=!q;if(J&&(q={errorThrown:!1,error:null}),V(),J){const{errorThrown:k,error:F}=q;if(q=null,k)throw F}}else V()}function ee(V){n.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=V)}},8395:(j,N,E)=>{"use strict";function n(q,H,ee,V=0,J=!1){const k=H.schedule(function(){ee(),J?q.add(this.schedule(null,V)):this.unsubscribe()},V);if(q.add(k),!J)return k}E.d(N,{f:()=>n})},4623:(j,N,E)=>{"use strict";function n(q){return q}E.d(N,{y:()=>n})},1537:(j,N,E)=>{"use strict";E.d(N,{z:()=>n});const n=q=>q&&"number"==typeof q.length&&"function"!=typeof q},9908:(j,N,E)=>{"use strict";E.d(N,{D:()=>q});var n=E(5044);function q(H){return Symbol.asyncIterator&&(0,n.m)(null==H?void 0:H[Symbol.asyncIterator])}},5044:(j,N,E)=>{"use strict";function n(q){return"function"==typeof q}E.d(N,{m:()=>n})},1073:(j,N,E)=>{"use strict";E.d(N,{c:()=>H});var n=E(4816),q=E(5044);function H(ee){return(0,q.m)(ee[n.L])}},2317:(j,N,E)=>{"use strict";E.d(N,{T:()=>H});var n=E(5497),q=E(5044);function H(ee){return(0,q.m)(null==ee?void 0:ee[n.h])}},2442:(j,N,E)=>{"use strict";E.d(N,{t:()=>q});var n=E(5044);function q(H){return(0,n.m)(null==H?void 0:H.then)}},7751:(j,N,E)=>{"use strict";E.d(N,{Q:()=>H,L:()=>ee});var n=E(9162),q=E(5044);function H(V){return(0,n.FC)(this,arguments,function*(){const k=V.getReader();try{for(;;){const{value:F,done:Z}=yield(0,n.qq)(k.read());if(Z)return yield(0,n.qq)(void 0);yield yield(0,n.qq)(F)}}finally{k.releaseLock()}})}function ee(V){return(0,q.m)(null==V?void 0:V.getReader)}},9947:(j,N,E)=>{"use strict";E.d(N,{A:()=>q,e:()=>H});var n=E(5044);function q(ee){return(0,n.m)(null==ee?void 0:ee.lift)}function H(ee){return V=>{if(q(V))return V.lift(function(J){try{return ee(J,this)}catch(k){this.error(k)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(j,N,E)=>{"use strict";function n(){}E.d(N,{Z:()=>n})},5160:(j,N,E)=>{"use strict";E.d(N,{h:()=>H});var n=E(5367),q=E(2496);function H(ee){q.z.setTimeout(()=>{const{onUnhandledError:V}=n.v;if(!V)throw ee;V(ee)})}},3754:(j,N,E)=>{"use strict";function n(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(N,{z:()=>n})},4515:j=>{"use strict";j.exports=function(E){for(var n=E.length,q=new Array(n),H=new Array(n),ee=new Array(n),V=new Array(n),J=new Array(n),k=new Array(n),F=0;F<n;++F)q[F]=-1,H[F]=0,ee[F]=!1,V[F]=0,J[F]=-1,k[F]=[];var pe,Z=0,L=[],U=[];function z(we){var Ve=[we],le=[we];for(q[we]=H[we]=Z,ee[we]=!0,Z+=1;le.length>0;){var ve=E[we=le[le.length-1]];if(V[we]<ve.length){for(var Te=V[we];Te<ve.length;++Te){var ye=ve[Te];if(q[ye]<0){q[ye]=H[ye]=Z,ee[ye]=!0,Z+=1,Ve.push(ye),le.push(ye);break}ee[ye]&&(H[we]=0|Math.min(H[we],H[ye])),J[ye]>=0&&k[we].push(J[ye])}V[we]=Te}else{if(H[we]===q[we]){var Oe=[],Be=[],Pe=0;for(Te=Ve.length-1;Te>=0;--Te){var Qe=Ve[Te];if(ee[Qe]=!1,Oe.push(Qe),Be.push(k[Qe]),Pe+=k[Qe].length,J[Qe]=L.length,Qe===we){Ve.length=Te;break}}L.push(Oe);var rt=new Array(Pe);for(Te=0;Te<Be.length;Te++)for(var te=0;te<Be[Te].length;te++)rt[--Pe]=Be[Te][te];U.push(rt)}le.pop()}}}for(F=0;F<n;++F)q[F]<0&&z(F);for(F=0;F<U.length;F++){var ge=U[F];if(0!==ge.length){ge.sort(function(Ve,le){return Ve-le}),pe=[ge[0]];for(var ke=1;ke<ge.length;ke++)ge[ke]!==ge[ke-1]&&pe.push(ge[ke]);U[F]=pe}}return{components:L,adjacencyList:U}}},533:(j,N,E)=>{"use strict";var n=E(3668);let q=null;function H(){return q}const k=new n.OlP("DocumentToken");let F=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(){return(0,n.LFG)(U)},providedIn:"platform"}),t})();const L=new n.OlP("Location Initialized");let U=(()=>{class t extends F{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){z()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){z()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k))},t.\u0275prov=n.Yz7({token:t,factory:function(){return new U((0,n.LFG)(k))},providedIn:"platform"}),t})();function z(){return!!window.history.pushState}function ge(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function ke(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function we(t){return t&&"?"!==t[0]?"?"+t:t}let Ve=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(){return function(t){const i=(0,n.LFG)(k).location;return new Te((0,n.LFG)(F),i&&i.origin||"")}()},providedIn:"root"}),t})();const ve=new n.OlP("appBaseHref");let Te=(()=>{class t extends Ve{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ge(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+we(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,l){const f=this.prepareExternalUrl(a+we(l));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,l){const f=this.prepareExternalUrl(a+we(l));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null==(a=(r=this._platformLocation).historyGo)||a.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(F),n.LFG(ve,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),ye=(()=>{class t extends Ve{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ge(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,l){let f=this.prepareExternalUrl(a+we(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,l){let f=this.prepareExternalUrl(a+we(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null==(a=(r=this._platformLocation).historyGo)||a.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(F),n.LFG(ve,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Oe=(()=>{class t{constructor(e,r){this._subject=new n.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(Qe(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+we(r))}normalize(e){return t.stripTrailingSlash(function(t,i){return t&&i.startsWith(t)?i.substring(t.length):i}(this._baseHref,Qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+we(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+we(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null==(a=(r=this._platformStrategy).historyGo)||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return t.normalizeQueryParams=we,t.joinWithSlash=ge,t.stripTrailingSlash=ke,t.\u0275fac=function(e){return new(e||t)(n.LFG(Ve),n.LFG(F))},t.\u0275prov=n.Yz7({token:t,factory:function(){return new Oe((0,n.LFG)(Ve),(0,n.LFG)(F))},providedIn:"root"}),t})();function Qe(t){return t.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other",de))();const js=n.kL8;class eo{}let qn=(()=>{class t extends eo{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(js(r||this.locale)(e)){case de.Zero:return"zero";case de.One:return"one";case de.Two:return"two";case de.Few:return"few";case de.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.soG))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function no(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const r=e.indexOf("="),[a,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}let Gn=(()=>{class t{constructor(e,r,a,l){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Pp{constructor(i,e,r,a){this.$implicit=i,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class t{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((a,l,f)=>{if(null==a.previousIndex){const h=this._viewContainer.createEmbeddedView(this._template,new Pp(null,this._ngForOf,-1,-1),null===f?void 0:f),g=new Ws(a,h);r.push(g)}else if(null==f)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const h=this._viewContainer.get(l);this._viewContainer.move(h,f);const g=new Ws(a,h);r.push(g)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=l,f.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ws{constructor(i,e){this.record=i,this.view=e}}let ae=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new W,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){re("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){re("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class W{constructor(){this.$implicit=null,this.ngIf=null}}function re(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,n.AaK)(i)}'.`)}class tx{createSubscription(i,e){return i.subscribe({next:e,error:r=>{throw r}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class $D{createSubscription(i,e){return i.then(e,r=>{throw r})}dispose(i){}onDestroy(i){}}const HD=new $D,zD=new tx;let Ys=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,n.QGY)(e))return HD;if((0,n.F4k)(e))return zD;throw function(t,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,n.AaK)(t)}'`)}(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO,16))},t.\u0275pipe=n.Yjl({name:"async",type:t,pure:!1}),t})(),kc=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=nx}transform(e,r=nx){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const a=this.differ.diff(e),l=r!==this.compareFn;return a&&(this.keyValues=[],a.forEachItem(f=>{this.keyValues.push(function(t,i){return{key:t,value:i}}(f.key,f.currentValue))})),(a||l)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.aQg,16))},t.\u0275pipe=n.Yjl({name:"keyvalue",type:t,pure:!1}),t})();function nx(t,i){const e=t.key,r=i.key;if(e===r)return 0;if(void 0===e)return 1;if(void 0===r)return-1;if(null===e)return 1;if(null===r)return-1;if("string"==typeof e&&"string"==typeof r)return e<r?-1:1;if("number"==typeof e&&"number"==typeof r)return e-r;if("boolean"==typeof e&&"boolean"==typeof r)return e<r?-1:1;const a=String(e),l=String(r);return a==l?0:a<l?-1:1}let ix=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:eo,useClass:qn}]}),t})();let ax=(()=>{class t{}return t.\u0275prov=(0,n.Yz7)({token:t,providedIn:"root",factory:()=>new kp((0,n.LFG)(k),window)}),t})();class kp{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const f=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=i)}}scrollToElement(i){const e=i.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=cx(this.window.history)||cx(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function cx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Zm{}class Lp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Lp,q||(q=t)}onAndCancel(i,e,r){return i.addEventListener(e,r,!1),()=>{i.removeEventListener(e,r,!1)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=($u=$u||document.querySelector("base"),$u?$u.getAttribute("href"):null);return null==e?null:function(t){Kn=Kn||document.createElement("a"),Kn.setAttribute("href",t);const i=Kn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(e)}resetBaseElement(){$u=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return no(document.cookie,i)}}let Kn,$u=null;const zu=new n.OlP("TRANSITION_ID"),xi=[{provide:n.ip1,useFactory:function(t,i,e){return()=>{e.get(n.CZH).donePromise.then(()=>{const r=H(),a=i.querySelectorAll(`style[ng-transition="${t}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[zu,k,n.zs3],multi:!0}];class Qu{static init(){(0,n.VLi)(new Qu)}addToWindow(i){n.dqk.getAngularTestability=(r,a=!0)=>{const l=i.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},n.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),n.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),n.dqk.frameworkStabilizers||(n.dqk.frameworkStabilizers=[]),n.dqk.frameworkStabilizers.push(r=>{const a=n.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const h=function(g){f=f||g,l--,0==l&&r(f)};a.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(i,e,r){if(null==e)return null;const a=i.getTestability(e);return null!=a?a:r?H().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null}}let Zp=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const Ks=new n.OlP("EventManagerPlugins");let rn=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const f=a[l];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ks),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class Ju{constructor(i){this._doc=i}addGlobalEventListener(i,e,r){const a=H().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Xs=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),fi=(()=>{class t extends Xs{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Wu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Wu))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function Wu(t){H().remove(t)}const Zc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jm=/%COMP%/g;function ro(t,i,e){for(let r=0;r<i.length;r++){let a=i[r];Array.isArray(a)?ro(t,a,e):(a=a.replace(jm,t),e.push(a))}return e}function Dr(t){return i=>{if("__ngUnwrap__"===i)return t;!1===t(i)&&(i.preventDefault(),i.returnValue=!1)}}let Vc=(()=>{class t{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Bp(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case n.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Vp(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case n.ifc.ShadowDom:return new Hm(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=ro(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(rn),n.LFG(fi),n.LFG(n.AFp))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class Bp{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,e){return e?document.createElementNS(Zc[e]||e,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,e){i.appendChild(e)}insertBefore(i,e,r){i&&i.insertBefore(e,r)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let r="string"==typeof i?document.querySelector(i):i;if(!r)throw new Error(`The selector "${i}" did not match any elements`);return e||(r.textContent=""),r}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,r,a){if(a){e=a+":"+e;const l=Zc[a];l?i.setAttributeNS(l,e,r):i.setAttribute(e,r)}else i.setAttribute(e,r)}removeAttribute(i,e,r){if(r){const a=Zc[r];a?i.removeAttributeNS(a,e):i.removeAttribute(`${r}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,r,a){a&(n.JOm.DashCase|n.JOm.Important)?i.style.setProperty(e,r,a&n.JOm.Important?"important":""):i.style[e]=r}removeStyle(i,e,r){r&n.JOm.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,r){i[e]=r}setValue(i,e){i.nodeValue=e}listen(i,e,r){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,e,Dr(r)):this.eventManager.addEventListener(i,e,Dr(r))}}class Vp extends Bp{constructor(i,e,r,a){super(i),this.component=r;const l=ro(a+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(jm,a+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(jm,t)}(a+"-"+r.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,e){const r=super.createElement(i,e);return super.setAttribute(r,this.contentAttr,""),r}}class Hm extends Bp{constructor(i,e,r,a){super(i),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ro(a.id,a.styles,[]);for(let f=0;f<l.length;f++){const h=document.createElement("style");h.textContent=l[f],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,r){return super.insertBefore(this.nodeOrShadowRoot(i),e,r)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Up=(()=>{class t extends Ju{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const Wm=["alt","control","meta","shift"],Mo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cx=(()=>{class t extends Ju{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,a){const l=t.parseEventName(r),f=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(e,l.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(r.pop());let f="";if(Wm.forEach(g=>{const y=r.indexOf(g);y>-1&&(r.splice(y,1),f+=g+".")}),f+=l,0!=r.length||0===l.length)return null;const h={};return h.domEventName=a,h.fullKey=f,h}static getEventFullKey(e){let r="",a=function(t){let i=t.key;if(null==i){if(i=t.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===t.location&&Kt.hasOwnProperty(i)&&(i=Kt[i]))}return Mo[i]||i}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Wm.forEach(l=>{l!=a&&bx[l](e)&&(r+=l+".")}),r+=a,r}static eventCallback(e,r,a){return l=>{t.getEventFullKey(l)===e&&a.runGuarded(()=>r(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const jc=(0,n.eFA)(n._c5,"browser",[{provide:n.Lbi,useValue:"browser"},{provide:n.g9A,useValue:function(){Lp.makeCurrent(),Qu.init()},multi:!0},{provide:k,useFactory:function(){return(0,n.RDi)(document),document},deps:[]}]),Tx=[[],{provide:n.zSh,useValue:"root"},{provide:n.qLn,useFactory:function(){return new n.qLn},deps:[]},{provide:Ks,useClass:Up,multi:!0,deps:[k,n.R0b,n.Lbi]},{provide:Ks,useClass:Cx,multi:!0,deps:[k]},[],{provide:Vc,useClass:Vc,deps:[rn,fi,n.AFp]},{provide:n.FYo,useExisting:Vc},{provide:Xs,useExisting:fi},{provide:fi,useClass:fi,deps:[k]},{provide:n.dDg,useClass:n.dDg,deps:[n.R0b]},{provide:rn,useClass:rn,deps:[Ks,n.R0b]},{provide:Zm,useClass:Zp,deps:[]},[]];let Ym=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:n.AFp,useValue:e.appId},{provide:zu,useExisting:n.AFp},xi]}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(t,12))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:Tx,imports:[ix,n.hGG]}),t})(),Sx=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k))},t.\u0275prov=n.Yz7({token:t,factory:function(e){let r=null;return r=e?new e:new Sx((0,n.LFG)(k)),r},providedIn:"root"}),t})();"undefined"!=typeof window&&window;const Xm=1e8,os=BigInt(0),Ar=BigInt(1),Jc=BigInt(-1);class M{constructor(i,e=Ar){e<os&&(i=-i,e=-e);const r=M.gcd(M.abs(i),e);r>Ar&&(i/=r,e/=r),this.p=i,this.q=e}static gcd(i,e){for(i=M.abs(i),e=M.abs(e);e;){const r=e;e=i%e,i=r}return i}static abs(i){return i<os?i*Jc:i}static from(i,e=1){if(0===e)throw Error("Cannot divide by zero");return new M(BigInt(i),BigInt(e))}static fromNumber(i){return Number.isInteger(i)?new M(BigInt(i),Ar):new M(BigInt(Math.round(i*Xm)),BigInt(Xm))}static fromString(i){if(0===i.length)throw new Error("Empty string");if("number"==typeof i||-1===i.indexOf("/"))return M.fromNumber(Number(i));{const e=i.split("/");if(e.length>2)throw new Error("Too many /");if(-1===e[0].indexOf(" ")){const r=Number(e[0]),a=Number(e[1]);return M.from(r,a)}{const r=e[0].split(" ");if(r.length>2)throw new Error("Too many spaces");const a=Number(r[0]),l=Number(r[1]),f=Number(e[1]);return M.from(a).add(M.from(l,f))}}}static min(i,e){return i.lt(e)?i:e}static max(i,e){return i.gt(e)?i:e}isZero(){return this.p===os}isOne(){return this.p===Ar&&this.q===Ar}nonzero(){return this.p!==os}isInteger(){return this.q===Ar}inverse(){return this.mul(M.minusOne)}reciprocal(){return new M(this.q,this.p)}lt(i){return this.q===i.q?this.p<i.p:this.p*i.q<i.p*this.q}lte(i){return this.eq(i)||this.lt(i)}gt(i){return i.lt(this)}gte(i){return this.eq(i)||this.gt(i)}eq(i){return this.p===i.p&&this.q===i.q}add(i){return i.isZero()?this:new M(this.p*i.q+this.q*i.p,this.q*i.q)}sub(i){return i.isZero()?this:new M(this.p*i.q-this.q*i.p,this.q*i.q)}mul(i){return this.isOne()?i:i.isOne()?this:this.isZero()||i.isZero()?M.zero:new M(this.p*i.p,this.q*i.q)}div(i){return i.isOne()?this:this.eq(i)?M.one:new M(this.p*i.q,this.q*i.p)}ceil(){return this.isInteger()?this:new M(this.p/this.q+Ar)}floor(){return this.isInteger()?this:new M(this.p/this.q)}abs(){return new M(M.abs(this.p),this.q)}toNumber(){return Number(this.p)/Number(this.q)}toPrecision(i){const e=M.from(Math.pow(10,i));return this.mul(e).ceil().div(e).toNumber()}toFraction(){return this.isInteger()?this.p.toString():M.abs(this.p)>M.abs(this.q)?`${this.p/this.q} + ${this.p%this.q}/${this.q}`:`${this.p}/${this.q}`}toString(){if(this.isInteger())return this.p.toString();const i=this.toNumber().toString();return this.eq(M.fromString(i))?i:`${this.p}/${this.q}`}toDecimals(){var i;return this.isInteger()?0:(null===(i=this.toNumber().toString().split(".")[1])||void 0===i?void 0:i.length)||0}}M.zero=new M(os),M.minusOne=new M(Jc),M.one=new M(Ar),M.two=new M(BigInt(2)),M.ten=new M(BigInt(10)),M.hundred=new M(BigInt(100)),M.thousand=new M(BigInt(1e3));class Px{constructor(i){this.effectivity=M.fromNumber(i.effectivity),this.modules=i.modules,this.range=i.range,i.type&&(this.type=i.type),i.category&&(this.category=i.category),null!=i.usage&&(this.usage=M.fromNumber(i.usage))}}class Jp{constructor(i){this.speed=M.fromNumber(i.speed)}}class ey{constructor(i){this.size=M.fromNumber(i.size)}}const ty=M.from(60);class ny{constructor(i){this.parts=M.fromNumber(i.parts),this.launch=M.fromNumber(i.launch).div(ty)}}class Rx{constructor(i){this.speed=M.fromNumber(i.speed),this.modules=Math.round(i.modules),i.type&&(this.type=i.type),i.category&&(this.category=i.category),null!=i.usage&&(this.usage=M.fromNumber(i.usage)),null!=i.drain&&(this.drain="string"==typeof i.drain?M.fromString(i.drain):M.fromNumber(i.drain)),null!=i.pollution&&(this.pollution=M.fromNumber(i.pollution)),i.mining&&(this.mining=i.mining),i.research&&(this.research=i.research),i.silo&&(this.silo=new ny(i.silo))}}class Nx{constructor(i){this.capacity=M.fromNumber(i.capacity)}}class od{constructor(i){this.category=i.category,this.value=M.fromNumber(i.value),i.result&&(this.result=i.result)}}class Wc{constructor(i){i.speed&&(this.speed=M.fromNumber(i.speed)),i.productivity&&(this.productivity=M.fromNumber(i.productivity)),i.consumption&&(this.consumption=M.fromNumber(i.consumption)),i.pollution&&(this.pollution=M.fromNumber(i.pollution)),i.limitation&&(this.limitation=i.limitation)}}class Fx{constructor(i){this.id=i.id,this.name=i.name,this.category=i.category,this.row=Math.round(i.row),i.stack&&(this.stack=M.fromNumber(i.stack)),i.beacon&&(this.beacon=new Px(i.beacon)),i.belt&&(this.belt=new Jp(i.belt)),i.pipe&&(this.pipe=new Jp(i.pipe)),i.factory&&(this.factory=new Rx(i.factory)),i.module&&(this.module=new Wc(i.module)),i.fuel&&(this.fuel=new od(i.fuel)),i.cargoWagon&&(this.cargoWagon=new ey(i.cargoWagon)),i.fluidWagon&&(this.fluidWagon=new Nx(i.fluidWagon))}}class Wp{constructor(i){this.id=i.id,this.name=i.name,this.time=M.fromNumber(i.time),this.producers=i.producers,i.in&&(this.in=Object.keys(i.in).reduce((e,r)=>(e[r]=M.fromNumber(i.in[r]),e),{})),i.out&&(this.out=Object.keys(i.out).reduce((e,r)=>(e[r]=M.fromNumber(i.out[r]),e),{})),i.expensive&&(this.expensive={},i.expensive.time&&(this.expensive.time=M.fromNumber(i.expensive.time)),i.expensive.in&&(this.expensive.in=Object.keys(i.expensive.in).reduce((e,r)=>(e[r]=M.fromNumber(i.expensive.in[r]),e),{})),i.expensive.out&&(this.expensive.out=Object.keys(i.expensive.out).reduce((e,r)=>(e[r]=M.fromNumber(i.expensive.out[r]),e),{}))),i.cost&&(this.cost=M.fromNumber(i.cost)),i.part&&(this.part=i.part),null!=i.usage&&(this.usage=M.fromNumber(i.usage))}produces(i){var e,r;return this.out?!!this.out[i]&&(null==(null===(e=this.in)||void 0===e?void 0:e[i])||this.in[i].lt(this.out[i])):this.id===i&&(null==(null===(r=this.in)||void 0===r?void 0:r[i])||this.in[i].lt(M.one))}producesOnly(i){return 1===Object.keys(this.out).length&&this.produces(i)}output(i){var e,r;return((null===(e=this.out)||void 0===e?void 0:e[i])||M.zero).sub((null===(r=this.in)||void 0===r?void 0:r[i])||M.zero)}}var Xe=(()=>{return(t=Xe||(Xe={}))[t.Factorio=0]="Factorio",t[t.DysonSphereProgram=1]="DysonSphereProgram",t[t.Satisfactory=2]="Satisfactory",Xe;var t})();const ea=[{id:Xe.Factorio,name:"Factorio"},{id:Xe.DysonSphereProgram,name:"Dyson Sphere Program"},{id:Xe.Satisfactory,name:"Satisfactory"}];var ze=(()=>{return(t=ze||(ze={})).Tree="Tree",t.Surplus="Surplus",t.Items="Items",t.Belts="Belts",t.Wagons="Wagons",t.Factories="Factories",t.Overclock="Overclock",t.Beacons="Beacons",t.Power="Power",t.Pollution="Pollution",t.Link="Link",ze;var t})();const sd=[ze.Tree,ze.Items,ze.Belts,ze.Wagons,ze.Factories,ze.Overclock,ze.Beacons,ze.Power,ze.Pollution,ze.Link],ad=[ze.Items,ze.Belts,ze.Wagons,ze.Factories,ze.Power,ze.Pollution];var Nt=(()=>{return(t=Nt||(Nt={}))[t.PerSecond=1]="PerSecond",t[t.PerMinute=60]="PerMinute",t[t.PerHour=3600]="PerHour",Nt;var t})();const ss=[{id:Nt.PerSecond,name:"Units per second"},{id:Nt.PerMinute,name:"Units per minute"},{id:Nt.PerHour,name:"Units per hour"}],cr={[Nt.PerSecond]:new M(BigInt(Nt.PerSecond)),[Nt.PerMinute]:new M(BigInt(Nt.PerMinute)),[Nt.PerHour]:new M(BigInt(Nt.PerHour))},Yc={[Nt.PerHour]:"/h",[Nt.PerMinute]:"/m",[Nt.PerSecond]:"/s"};var ki=(()=>{return(t=ki||(ki={})).Electric="electric",t.Burner="burner",ki;var t})(),na=(()=>{return(t=na||(na={})).Chemical="chemical",t.Nuclear="nuclear",na;var t})(),Gc=(()=>{return(t=Gc||(Gc={}))[t.Item=0]="Item",t[t.Recipe=1]="Recipe",Gc;var t})(),bn=(()=>{return(t=bn||(bn={}))[t.Capacity0=0]="Capacity0",t[t.Capacity2=1]="Capacity2",t[t.Capacity7=2]="Capacity7",bn;var t})();const pA=[{id:bn.Capacity0,name:"No capacity bonus"},{id:bn.Capacity2,name:"Capacity bonus 2"},{id:bn.Capacity7,name:"Capacity bonus 7"}];var Li=(()=>{return(t=Li||(Li={}))[t.Chest=0]="Chest",t[t.ExpressTransportBelt=1]="ExpressTransportBelt",t[t.FastTransportBelt=2]="FastTransportBelt",t[t.TransportBelt=3]="TransportBelt",Li;var t})();const on=[{id:Li.Chest,name:"Chest"},{id:Li.ExpressTransportBelt,name:"Express transport belt"},{id:Li.FastTransportBelt,name:"Fast transport belt"},{id:Li.TransportBelt,name:"Transport belt"}];var $e=(()=>{return(t=$e||($e={})).FastInserter="fast-inserter",t.Inserter="inserter",t.LongHandedInserter="long-handed-inserter",t.MiningDrill="mining-drill",t.Module="module",t.Pipe="pipe",t.ProductivityLimitation="productivity-module",t.Pumpjack="pumpjack",t.StackInserter="stack-inserter",t.Water="water",$e;var t})(),$t=(()=>{return(t=$t||($t={}))[t.None=0]="None",t[t.Percent=1]="Percent",t[t.Items=2]="Items",t[t.Belts=3]="Belts",t[t.Wagons=4]="Wagons",t[t.Factories=5]="Factories",$t;var t})(),Po=(()=>{return(t=Po||(Po={}))[t.All=0]="All",t[t.Focus=1]="Focus",Po;var t})(),pi=(()=>{return(t=pi||(pi={})).Skipped="Skipped",t.Cached="Cached",t.Cancelled="Cancelled",t.Failed="Failed",t.Solved="Solved",pi;var t})(),Mn=(()=>{return(t=Mn||(Mn={}))[t.Minimum=0]="Minimum",t[t.Modules=1]="Modules",t[t.Beacon8=2]="Beacon8",t[t.Beacon12=3]="Beacon12",Mn;var t})(),bt=(()=>{return(t=bt||(bt={}))[t.Items=0]="Items",t[t.Belts=1]="Belts",t[t.Wagons=2]="Wagons",t[t.Factories=3]="Factories",bt;var t})(),We=(()=>{return(t=We||(We={}))[t.Speed0=0]="Speed0",t[t.Speed1=20]="Speed1",t[t.Speed2=50]="Speed2",t[t.Speed3=90]="Speed3",t[t.Speed4=140]="Speed4",t[t.Speed5=190]="Speed5",t[t.Speed6=250]="Speed6",We;var t})();const Yp=[{id:We.Speed0,name:"No research bonus"},{id:We.Speed1,name:"Research speed 1"},{id:We.Speed2,name:"Research speed 2"},{id:We.Speed3,name:"Research speed 3"},{id:We.Speed4,name:"Research speed 4"},{id:We.Speed5,name:"Research speed 5"},{id:We.Speed6,name:"Research speed 6"}],lr={[We.Speed0]:new M(BigInt(We.Speed0)),[We.Speed1]:new M(BigInt(We.Speed1)),[We.Speed2]:new M(BigInt(We.Speed2)),[We.Speed3]:new M(BigInt(We.Speed3)),[We.Speed4]:new M(BigInt(We.Speed4)),[We.Speed5]:new M(BigInt(We.Speed5)),[We.Speed6]:new M(BigInt(We.Speed6))},mA={[We.Speed0]:lr[We.Speed0].add(M.hundred).div(M.hundred),[We.Speed1]:lr[We.Speed1].add(M.hundred).div(M.hundred),[We.Speed2]:lr[We.Speed2].add(M.hundred).div(M.hundred),[We.Speed3]:lr[We.Speed3].add(M.hundred).div(M.hundred),[We.Speed4]:lr[We.Speed4].add(M.hundred).div(M.hundred),[We.Speed5]:lr[We.Speed5].add(M.hundred).div(M.hundred),[We.Speed6]:lr[We.Speed6].add(M.hundred).div(M.hundred)};var ur=(()=>{return(t=ur||(ur={}))[t.Justify=0]="Justify",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Center=3]="Center",ur;var t})();const Zi=[{id:ur.Justify,name:"Justify"},{id:ur.Left,name:"Left"},{id:ur.Right,name:"Right"},{id:ur.Center,name:"Center"}];var kn=(()=>{return(t=kn||(kn={})).ModuleRank="moduleRank",t.BeaconCount="beaconCount",t.Beacon="beacon",t.BeaconModule="beaconModule",t.Overclock="overclock",kn;var t})(),wi=(()=>{return(t=wi||(wi={})).Ignore="ignore",t.Belt="belt",t.Wagon="wagon",t.Recipe="recipe",wi;var t})(),mt=(()=>{return(t=mt||(mt={})).Factory="factory",t.FactoryModules="factoryModules",t.BeaconCount="beaconCount",t.Beacon="beacon",t.BeaconModules="beaconModules",t.BeaconTotal="beaconTotal",t.Overclock="overclock",t.Cost="cost",mt;var t})();class Ro{constructor(i){null!=i.factory&&(this.factory=i.factory),null!=i.factoryModules&&(this.factoryModules=i.factoryModules),null!=i.beaconCount&&(this.beaconCount=M.fromString(i.beaconCount)),null!=i.beacon&&(this.beacon=i.beacon),null!=i.beaconModules&&(this.beaconModules=i.beaconModules),null!=i.beaconTotal&&(this.beaconTotal=M.fromString(i.beaconTotal)),null!=i.overclock&&(this.overclock=M.fromNumber(i.overclock)),null!=i.cost&&(this.cost=M.fromString(i.cost))}}const Gp="state",ry="FactorioLab";function cy(t,i={}){return t.reduce((e,r)=>(e[r.id]=r,e),i)}const Zx={[Li.Chest]:{[bn.Capacity0]:[{id:$e.Inserter,value:M.fromNumber(.83)},{id:$e.LongHandedInserter,value:M.fromNumber(1.2)},{id:$e.FastInserter,value:M.fromNumber(2.31)},{id:$e.StackInserter,value:M.fromNumber(4.62)}],[bn.Capacity2]:[{id:$e.Inserter,value:M.fromNumber(1.67)},{id:$e.LongHandedInserter,value:M.fromNumber(2.4)},{id:$e.FastInserter,value:M.fromNumber(4.62)},{id:$e.StackInserter,value:M.fromNumber(9.23)}],[bn.Capacity7]:[{id:$e.Inserter,value:M.fromNumber(2.5)},{id:$e.LongHandedInserter,value:M.fromNumber(3.6)},{id:$e.FastInserter,value:M.fromNumber(6.92)},{id:$e.StackInserter,value:M.fromNumber(27.69)}]},[Li.ExpressTransportBelt]:{[bn.Capacity0]:[{id:$e.Inserter,value:M.fromNumber(.83)},{id:$e.LongHandedInserter,value:M.fromNumber(1.2)},{id:$e.FastInserter,value:M.fromNumber(2.31)},{id:$e.StackInserter,value:M.fromNumber(4.44)}],[bn.Capacity2]:[{id:$e.Inserter,value:M.fromNumber(1.64)},{id:$e.LongHandedInserter,value:M.fromNumber(2.35)},{id:$e.FastInserter,value:M.fromNumber(4.44)},{id:$e.StackInserter,value:M.fromNumber(7.74)}],[bn.Capacity7]:[{id:$e.Inserter,value:M.fromNumber(2.43)},{id:$e.LongHandedInserter,value:M.fromNumber(3.46)},{id:$e.FastInserter,value:M.fromNumber(6.43)},{id:$e.StackInserter,value:M.fromNumber(13.85)}]},[Li.FastTransportBelt]:{[bn.Capacity0]:[{id:$e.Inserter,value:M.fromNumber(.83)},{id:$e.LongHandedInserter,value:M.fromNumber(1.2)},{id:$e.FastInserter,value:M.fromNumber(2.31)},{id:$e.StackInserter,value:M.fromNumber(4.44)}],[bn.Capacity2]:[{id:$e.Inserter,value:M.fromNumber(1.64)},{id:$e.LongHandedInserter,value:M.fromNumber(2.35)},{id:$e.FastInserter,value:M.fromNumber(4.44)},{id:$e.StackInserter,value:M.fromNumber(7.06)}],[bn.Capacity7]:[{id:$e.Inserter,value:M.fromNumber(2.37)},{id:$e.LongHandedInserter,value:M.fromNumber(3.33)},{id:$e.FastInserter,value:M.fromNumber(6)},{id:$e.StackInserter,value:M.fromNumber(10.91)}]},[Li.TransportBelt]:{[bn.Capacity0]:[{id:$e.Inserter,value:M.fromNumber(.83)},{id:$e.LongHandedInserter,value:M.fromNumber(1.2)},{id:$e.FastInserter,value:M.fromNumber(2.31)},{id:$e.StackInserter,value:M.fromNumber(4.44)}],[bn.Capacity2]:[{id:$e.Inserter,value:M.fromNumber(1.64)},{id:$e.LongHandedInserter,value:M.fromNumber(2.35)},{id:$e.FastInserter,value:M.fromNumber(4.44)},{id:$e.StackInserter,value:M.fromNumber(5.71)}],[bn.Capacity7]:[{id:$e.Inserter,value:M.fromNumber(2.25)},{id:$e.LongHandedInserter,value:M.fromNumber(3.1)},{id:$e.FastInserter,value:M.fromNumber(5.29)},{id:$e.StackInserter,value:M.fromNumber(6.79)}]}};var wt=(()=>{return(t=wt||(wt={})).Id="id",t.ItemId="itemId",t.Rate="rate",t.RateType="rateType",t.ViaId="viaId",t.ViaSetting="viaSetting",t.ViaFactoryModules="viaFactoryModules",t.ViaBeaconCount="viaBeaconCount",t.ViaBeacon="viaBeacon",t.ViaBeaconModules="viaBeaconModules",t.ViaOverclock="viaOverclock",wt;var t})();class Kc{constructor(i){this.id=i.id,this.itemId=i.itemId,this.rate=M.fromString(i.rate),this.rateType=i.rateType,i.viaId&&(this.viaId=i.viaId),i.viaSetting&&(this.viaSetting=i.viaSetting),i.viaFactoryModules&&(this.viaFactoryModules=i.viaFactoryModules),null!=i.viaBeaconCount&&(this.viaBeaconCount=M.fromString(i.viaBeaconCount)),null!=i.viaBeacon&&(this.viaBeacon=i.viaBeacon),null!=i.viaBeaconModules&&(this.viaBeaconModules=i.viaBeaconModules),null!=i.viaOverclock&&(this.viaOverclock=M.fromNumber(i.viaOverclock))}}var ot=E(2997),$n=E(8305),Xc=E(4799),ti=E(461),_t=E(4753);class as{}class ly{}class oo{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),l=a.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(f):this.headers.set(l,[f])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(e=>{let r=i[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof oo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new oo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof oo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let r=i.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(i.name,e);const a=("a"===i.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const l=i.value;if(l){let f=this.headers.get(e);if(!f)return;f=f.filter(h=>-1===l.indexOf(h)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class Bx{encodeKey(i){return cs(i)}encodeValue(i){return cs(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const eh=/%(\d[a-f0-9])/gi,el={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function cs(t){return encodeURIComponent(t).replace(eh,(i,e)=>{var r;return null!=(r=el[e])?r:i})}function uy(t){return`${t}`}class Ht{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Bx,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[f,h]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],g=e.get(f)||[];g.push(h),e.set(f,g)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const r=i.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(r=>{const a=i[r];Array.isArray(a)?a.forEach(l=>{e.push({param:r,value:l,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new Ht({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(uy(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let r=this.map.get(i.param)||[];const a=r.indexOf(uy(i.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(i.param,r):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class bA{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function ra(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function dy(t){return"undefined"!=typeof Blob&&t instanceof Blob}function th(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Mr{constructor(i,e,r,a){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,l=a):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new oo),this.context||(this.context=new bA),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+f}}else this.params=new Ht,this.urlWithParams=e}serializeBody(){return null===this.body?null:ra(this.body)||dy(this.body)||th(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ht?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||th(this.body)?null:dy(this.body)?this.body.type||null:ra(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ht?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var x;const e=i.method||this.method,r=i.url||this.url,a=i.responseType||this.responseType,l=void 0!==i.body?i.body:this.body,f=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,h=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let g=i.headers||this.headers,y=i.params||this.params;const b=null!=(x=i.context)?x:this.context;return void 0!==i.setHeaders&&(g=Object.keys(i.setHeaders).reduce((T,I)=>T.set(I,i.setHeaders[I]),g)),i.setParams&&(y=Object.keys(i.setParams).reduce((T,I)=>T.set(I,i.setParams[I]),y)),new Mr(e,r,l,{params:y,headers:g,context:b,reportProgress:h,responseType:a,withCredentials:f})}}var Lt=(()=>((Lt=Lt||{})[Lt.Sent=0]="Sent",Lt[Lt.UploadProgress=1]="UploadProgress",Lt[Lt.ResponseHeader=2]="ResponseHeader",Lt[Lt.DownloadProgress=3]="DownloadProgress",Lt[Lt.Response=4]="Response",Lt[Lt.User=5]="User",Lt))();class us{constructor(i,e=200,r="OK"){this.headers=i.headers||new oo,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||r,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class Or extends us{constructor(i={}){super(i),this.type=Lt.ResponseHeader}clone(i={}){return new Or({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class cd extends us{constructor(i={}){super(i),this.type=Lt.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new cd({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class nh extends us{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function tl(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let oa=(()=>{class t{constructor(e){this.handler=e}request(e,r,a={}){let l;if(e instanceof Mr)l=e;else{let g,y;g=a.headers instanceof oo?a.headers:new oo(a.headers),a.params&&(y=a.params instanceof Ht?a.params:new Ht({fromObject:a.params})),l=new Mr(e,r,void 0!==a.body?a.body:null,{headers:g,context:a.context,params:y,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=(0,ot.of)(l).pipe((0,Xc.b)(g=>this.handler.handle(g)));if(e instanceof Mr||"events"===a.observe)return f;const h=f.pipe((0,ti.h)(g=>g instanceof cd));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return h.pipe((0,_t.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,_t.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,_t.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,_t.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ht).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,tl(a,r))}post(e,r,a={}){return this.request("POST",e,tl(a,r))}put(e,r,a={}){return this.request("PUT",e,tl(a,r))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(as))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class ih{constructor(i,e){this.next=i,this.interceptor=e}handle(i){return this.interceptor.intercept(i,this.next)}}const py=new n.OlP("HTTP_INTERCEPTORS");let Ux=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const qx=/^\)\]\}',?\n/;let hy=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $n.y(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((I,D)=>a.setRequestHeader(I,D.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const I=e.detectContentTypeHeader();null!==I&&a.setRequestHeader("Content-Type",I)}if(e.responseType){const I=e.responseType.toLowerCase();a.responseType="json"!==I?I:"text"}const l=e.serializeBody();let f=null;const h=()=>{if(null!==f)return f;const I=1223===a.status?204:a.status,D=a.statusText||"OK",Y=new oo(a.getAllResponseHeaders()),X=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return f=new Or({headers:Y,status:I,statusText:D,url:X}),f},g=()=>{let{headers:I,status:D,statusText:Y,url:X}=h(),ie=null;204!==D&&(ie=void 0===a.response?a.responseText:a.response),0===D&&(D=ie?200:0);let ue=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof ie){const Ee=ie;ie=ie.replace(qx,"");try{ie=""!==ie?JSON.parse(ie):null}catch($){ie=Ee,ue&&(ue=!1,ie={error:$,text:ie})}}ue?(r.next(new cd({body:ie,headers:I,status:D,statusText:Y,url:X||void 0})),r.complete()):r.error(new nh({error:ie,headers:I,status:D,statusText:Y,url:X||void 0}))},y=I=>{const{url:D}=h(),Y=new nh({error:I,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});r.error(Y)};let b=!1;const x=I=>{b||(r.next(h()),b=!0);let D={type:Lt.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(D.total=I.total),"text"===e.responseType&&!!a.responseText&&(D.partialText=a.responseText),r.next(D)},T=I=>{let D={type:Lt.UploadProgress,loaded:I.loaded};I.lengthComputable&&(D.total=I.total),r.next(D)};return a.addEventListener("load",g),a.addEventListener("error",y),a.addEventListener("timeout",y),a.addEventListener("abort",y),e.reportProgress&&(a.addEventListener("progress",x),null!==l&&a.upload&&a.upload.addEventListener("progress",T)),a.send(l),r.next({type:Lt.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",g),a.removeEventListener("timeout",y),e.reportProgress&&(a.removeEventListener("progress",x),null!==l&&a.upload&&a.upload.removeEventListener("progress",T)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Zm))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const sa=new n.OlP("XSRF_COOKIE_NAME"),il=new n.OlP("XSRF_HEADER_NAME");class ds{}let Hx=(()=>{class t{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=no(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k),n.LFG(n.Lbi),n.LFG(sa))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),rh=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(ds),n.LFG(il))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),wA=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(py,[]);this.chain=r.reduceRight((a,l)=>new ih(a,l),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(ly),n.LFG(n.zs3))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),gy=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:rh,useClass:Ux}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:sa,useValue:e.cookieName}:[],e.headerName?{provide:il,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[rh,{provide:py,useExisting:rh,multi:!0},{provide:ds,useClass:Hx},{provide:sa,useValue:"XSRF-TOKEN"},{provide:il,useValue:"X-XSRF-TOKEN"}]}),t})(),my=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[oa,{provide:as,useClass:wA},hy,{provide:ly,useExisting:hy}],imports:[[gy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var ni=E(2583);const{isArray:Qx}=Array,{getPrototypeOf:Jx,prototype:Wx,keys:Yx}=Object;function Pr(t){if(1===t.length){const i=t[0];if(Qx(i))return{args:i,keys:null};if(function(t){return t&&"object"==typeof t&&Jx(t)===Wx}(i)){const e=Yx(i);return{args:e.map(r=>i[r]),keys:e}}}return{args:t,keys:null}}var la=E(9985),rl=E(8830),ii=E(8889);const{isArray:Gx}=Array;function yy(t){return(0,_t.U)(i=>function(t,i){return Gx(i)?t(...i):t(i)}(t,i))}function sh(t,i){return t.reduce((e,r,a)=>(e[r]=i[a],e),{})}let vy=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t}),t})(),fs=(()=>{class t extends vy{}return t.\u0275fac=function(){let i;return function(r){return(i||(i=n.n5z(t)))(r||t)}}(),t.\u0275dir=n.lG2({type:t,features:[n.qOj]}),t})();const Rr=new n.OlP("NgValueAccessor"),ol={provide:Rr,useExisting:(0,n.Gpc)(()=>Ti),multi:!0},Nr=new n.OlP("CompositionEventMode");let Ti=(()=>{class t extends vy{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=H()?H().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(Nr,8))},t.\u0275dir=n.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&n.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[n._Bn([ol]),n.qOj]}),t})();function so(t){return null==t||0===t.length}function ah(t){return null!=t&&"number"==typeof t.length}const Cn=new n.OlP("NgValidators"),ps=new n.OlP("NgAsyncValidators"),TA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xy{static min(i){return ud(i)}static max(i){return dd(i)}static required(i){return function(t){return so(t.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(t){return!0===t.value?null:{required:!0}}(i)}static email(i){return function(t){return so(t.value)||TA.test(t.value)?null:{email:!0}}(i)}static minLength(i){return function(t){return i=>so(i.value)||!ah(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(t){return i=>ah(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(t){if(!t)return sl;let i,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),r=>{if(so(r.value))return null;const a=r.value;return i.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return Xt(i)}static composeAsync(i){return Sy(i)}}function ud(t){return i=>{if(so(i.value)||so(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function dd(t){return i=>{if(so(i.value)||so(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function sl(t){return null}function Ty(t){return null!=t}function lh(t){const i=(0,n.QGY)(t)?(0,ni.D)(t):t;return(0,n.CqO)(i),i}function al(t){let i={};return t.forEach(e=>{i=null!=e?qe(qe({},i),e):i}),0===Object.keys(i).length?null:i}function uh(t,i){return i.map(e=>e(t))}function Iy(t){return t.map(i=>function(t){return!t.validate}(i)?i:e=>i.validate(e))}function Xt(t){if(!t)return null;const i=t.filter(Ty);return 0==i.length?null:function(e){return al(uh(e,i))}}function fh(t){return null!=t?Xt(Iy(t)):null}function Sy(t){if(!t)return null;const i=t.filter(Ty);return 0==i.length?null:function(e){return function(...t){const i=(0,rl.jO)(t),{args:e,keys:r}=Pr(t),a=new $n.y(l=>{const{length:f}=e;if(!f)return void l.complete();const h=new Array(f);let g=f,y=f;for(let b=0;b<f;b++){let x=!1;(0,la.Xf)(e[b]).subscribe(new ii.Q(l,T=>{x||(x=!0,y--),h[b]=T},()=>g--,void 0,()=>{(!g||!x)&&(y||l.next(r?sh(r,h):h),l.complete())}))}});return i?a.pipe(yy(i)):a}(uh(e,i).map(lh)).pipe((0,_t.U)(al))}}function cl(t){return null!=t?Sy(Iy(t)):null}function ph(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function Dy(t){return t._rawValidators}function Ay(t){return t._rawAsyncValidators}function hh(t){return t?Array.isArray(t)?t:[t]:[]}function pd(t,i){return Array.isArray(t)?t.includes(i):t===i}function My(t,i){const e=hh(i);return hh(t).forEach(a=>{pd(e,a)||e.push(a)}),e}function nw(t,i){return hh(i).filter(e=>!pd(t,e))}class iw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=fh(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=cl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,e){return!!this.control&&this.control.hasError(i,e)}getError(i,e){return this.control?this.control.getError(i,e):null}}class xn extends iw{get formDirective(){return null}get path(){return null}}class sn extends iw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let an=(()=>{class t extends class{constructor(i){this._cd=i}is(i){var e,r,a;return"submitted"===i?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(a=null==(r=this._cd)?void 0:r.control)?void 0:a[i])}}{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(sn,2))},t.\u0275dir=n.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&n.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[n.qOj]}),t})();function da(t,i){(function(t,i){const e=Dy(t);null!==i.validator?t.setValidators(ph(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const r=Ay(t);null!==i.asyncValidator?t.setAsyncValidators(ph(r,i.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const a=()=>t.updateValueAndValidity();_h(i._rawValidators,a),_h(i._rawAsyncValidators,a)})(t,i),i.valueAccessor.writeValue(t.value),function(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ry(t,i)})}(t,i),function(t,i){const e=(r,a)=>{i.valueAccessor.writeValue(r),a&&i.viewToModelUpdate(r)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ry(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function(t,i){if(i.valueAccessor.setDisabledState){const e=r=>{i.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function md(t,i,e=!0){const r=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(r),i.valueAccessor.registerOnTouched(r)),function(t,i){let e=!1;if(null!==t){if(null!==i.validator){const a=Dy(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(f=>f!==i.validator);l.length!==a.length&&(e=!0,t.setValidators(l))}}if(null!==i.asyncValidator){const a=Ay(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(f=>f!==i.asyncValidator);l.length!==a.length&&(e=!0,t.setAsyncValidators(l))}}}const r=()=>{};_h(i._rawValidators,r),_h(i._rawAsyncValidators,r)}(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _h(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function Ry(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bd(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}function Cd(t,i){if(!i)return null;let e,r,a;return Array.isArray(i),i.forEach(l=>{l.constructor===Ti?e=l:function(t){return Object.getPrototypeOf(t.constructor)===fs}(l)?r=l:a=l}),a||r||e||null}function dl(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}const ha="VALID",xd="INVALID",dr="PENDING",hi="DISABLED";function ky(t){return(fl(t)?t.validators:t)||null}function gh(t){return Array.isArray(t)?fh(t):t||null}function Ly(t,i){return(fl(i)?i.asyncValidators:t)||null}function fr(t){return Array.isArray(t)?cl(t):t||null}function fl(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pl{constructor(i,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=e,this._composedValidatorFn=gh(this._rawValidators),this._composedAsyncValidatorFn=fr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===ha}get invalid(){return this.status===xd}get pending(){return this.status==dr}get disabled(){return this.status===hi}get enabled(){return this.status!==hi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=gh(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=fr(i)}addValidators(i){this.setValidators(My(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(My(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(nw(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(nw(i,this._rawAsyncValidators))}hasValidator(i){return pd(this._rawValidators,i)}hasAsyncValidator(i){return pd(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=dr,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=hi,this.errors=null,this._forEachChild(r=>{r.disable(qt(qe({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qt(qe({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=ha,this._forEachChild(r=>{r.enable(qt(qe({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(qt(qe({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ha||this.status===dr)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hi:ha}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=dr,this._hasOwnPendingAsyncValidator=!0;const e=lh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){return function(t,i,e){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let r=t;return i.forEach(a=>{r=r instanceof wd?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof hl&&r.at(a)||null}),r}(this,i)}getError(i,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?hi:this.errors?xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dr)?dr:this._anyControlsHaveStatus(xd)?xd:ha}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){fl(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hs extends pl{constructor(i=null,e,r){super(ky(e),Ly(r,e)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=null,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){dl(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){dl(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class wd extends pl{constructor(i,e,r){super(ky(e),Ly(r,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,r={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((r,a)=>{r.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,r)=>(i[r]=e instanceof hs?e.value:e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&i(r,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&i(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,e,r)=>((e.enabled||this.disabled)&&(i[r]=e.value),i))}_reduceChildren(i,e){let r=i;return this._forEachChild((a,l)=>{r=e(r,a,l)}),r}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((e,r)=>{if(void 0===i[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class hl extends pl{constructor(i,e,r){super(ky(e),Ly(r,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,r={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){this._checkAllValuesPresent(i),i.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(i.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((r,a)=>{r.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i instanceof hs?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((e,r)=>{i(e,r)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((e,r)=>{if(void 0===i[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const mh={provide:sn,useExisting:(0,n.Gpc)(()=>No)},jy=(()=>Promise.resolve(null))();let No=(()=>{class t extends sn{constructor(e,r,a,l){super(),this.control=new hs,this._registered=!1,this.update=new n.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Cd(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),bd(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,i){return[...i.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){da(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){jy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;jy.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(xn,9),n.Y36(Cn,10),n.Y36(ps,10),n.Y36(Rr,10))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([mh]),n.qOj,n.TTD]}),t})();const gw={provide:Rr,useExisting:(0,n.Gpc)(()=>ml),multi:!0};let ml=(()=>{class t extends fs{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let i;return function(r){return(i||(i=n.n5z(t)))(r||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&n.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[n._Bn([gw]),n.qOj]}),t})(),Td=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const Sd=new n.OlP("NgModelWithFormControlWarning"),Hy={provide:sn,useExisting:(0,n.Gpc)(()=>ao)};let ao=(()=>{class t extends sn{constructor(e,r,a,l){super(),this._ngModelWarningConfig=l,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=Cd(0,a)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const r=e.form.previousValue;r&&md(r,this,!1),da(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}bd(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&md(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(n.Y36(Cn,10),n.Y36(ps,10),n.Y36(Rr,10),n.Y36(Sd,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([Hy]),n.qOj,n.TTD]}),t})();function bh(t){return"number"==typeof t?t:parseFloat(t)}let ma=(()=>{class t{constructor(){this._validator=sl}handleChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):sl,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t}),t})();const Gy={provide:Cn,useExisting:(0,n.Gpc)(()=>Fd),multi:!0};let Fd=(()=>{class t extends ma{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>bh(e),this.createValidator=e=>dd(e)}ngOnChanges(e){this.handleChanges(e)}}return t.\u0275fac=function(){let i;return function(r){return(i||(i=n.n5z(t)))(r||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&n.uIk("max",r.enabled()?r.max:null)},inputs:{max:"max"},features:[n._Bn([Gy]),n.qOj,n.TTD]}),t})();const Ky={provide:Cn,useExisting:(0,n.Gpc)(()=>bl),multi:!0};let bl=(()=>{class t extends ma{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>bh(e),this.createValidator=e=>ud(e)}ngOnChanges(e){this.handleChanges(e)}}return t.\u0275fac=function(){let i;return function(r){return(i||(i=n.n5z(t)))(r||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&n.uIk("min",r.enabled()?r.min:null)},inputs:{min:"min"},features:[n._Bn([Ky]),n.qOj,n.TTD]}),t})(),wh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[Td]]}),t})(),r1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[wh]}),t})(),o1=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Sd,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[wh]}),t})();class s1{}const Ln="*";function Ih(t,i){return{type:7,name:t,definitions:i,options:{}}}function Sh(t,i=null){return{type:4,styles:i,timings:t}}function Dw(t,i=null){return{type:2,steps:t,options:i}}function _s(t){return{type:6,styles:t,offset:null}}function Cl(t,i,e=null){return{type:1,expr:t,animation:i,options:e}}function d1(t){Promise.resolve(null).then(t)}class ya{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){d1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class f1{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,r=0,a=0;const l=this.players.length;0==l?d1(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==l&&this._onFinish()}),f.onDestroy(()=>{++r==l&&this._onDestroy()}),f.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,h)=>Math.max(f,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const i=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function Aw(){return"undefined"!=typeof window&&void 0!==window.document}function Ah(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gs(t){switch(t.length){case 0:return new ya;case 1:return t[0];default:return new f1(t)}}function Mh(t,i,e,r,a={},l={}){const f=[],h=[];let g=-1,y=null;if(r.forEach(b=>{const x=b.offset,T=x==g,I=T&&y||{};Object.keys(b).forEach(D=>{let Y=D,X=b[D];if("offset"!==D)switch(Y=i.normalizePropertyName(Y,f),X){case"!":X=a[D];break;case Ln:X=l[D];break;default:X=i.normalizeStyleValue(D,Y,X,f)}I[Y]=X}),T||h.push(I),y=I,g=x}),f.length){const b="\n - ";throw new Error(`Unable to animate due to the following errors:${b}${f.join(b)}`)}return h}function Ld(t,i,e,r){switch(i){case"start":t.onStart(()=>r(e&&Oh(e,"start",t)));break;case"done":t.onDone(()=>r(e&&Oh(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&Oh(e,"destroy",t)))}}function Oh(t,i,e){const r=e.totalTime,l=xl(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,null==r?t.totalTime:r,!!e.disabled),f=t._data;return null!=f&&(l._data=f),l}function xl(t,i,e,r,a="",l=0,f){return{element:t,triggerName:i,fromState:e,toState:r,phaseName:a,totalTime:l,disabled:!!f}}function Vi(t,i,e){let r;return t instanceof Map?(r=t.get(i),r||t.set(i,r=e)):(r=t[i],r||(r=t[i]=e)),r}function Mw(t){const i=t.indexOf(":");return[t.substring(1,i),t.substr(i+1)]}let p1=(t,i)=>!1,h1=(t,i)=>!1,Ow=(t,i,e)=>[];const Pw=Ah();(Pw||"undefined"!=typeof Element)&&(p1=Aw()?(t,i)=>{for(;i&&i!==document.documentElement;){if(i===t)return!0;i=i.parentNode||i.host}return!1}:(t,i)=>t.contains(i),h1=(()=>{if(Pw||Element.prototype.matches)return(t,i)=>t.matches(i);{const t=Element.prototype,i=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return i?(e,r)=>i.apply(e,[r]):h1}})(),Ow=(t,i,e)=>{let r=[];if(e){const a=t.querySelectorAll(i);for(let l=0;l<a.length;l++)r.push(a[l])}else{const a=t.querySelector(i);a&&r.push(a)}return r});let va=null,Rw=!1;function _1(t){va||(va=("undefined"!=typeof document?document.body:null)||{},Rw=!!va.style&&"WebkitAppearance"in va.style);let i=!0;return va.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(i=t in va.style,!i&&Rw&&(i="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in va.style)),i}const wl=h1,Ph=p1,Zd=Ow;function Bd(t){const i={};return Object.keys(t).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");i[r]=t[e]}),i}let Rh=(()=>{class t{validateStyleProperty(e){return _1(e)}matchesElement(e,r){return wl(e,r)}containsElement(e,r){return Ph(e,r)}query(e,r,a){return Zd(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,l,f,h=[],g){return new ya(a,l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),El=(()=>{class t{}return t.NOOP=new Rh,t})();const Nh="ng-enter",ba="ng-leave",Vd="ng-trigger",Ud=".ng-trigger",Ca="ng-animating",ko=".ng-animating";function lo(t){if("number"==typeof t)return t;const i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Lo(parseFloat(i[1]),i[2])}function Lo(t,i){return"s"===i?1e3*t:t}function Zo(t,i,e){return t.hasOwnProperty("duration")?t:function(t,i,e){let a,l=0,f="";if("string"==typeof t){const h=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return i.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};a=Lo(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(l=Lo(parseFloat(g),h[4]));const y=h[5];y&&(f=y)}else a=t;if(!e){let h=!1,g=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),h=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&i.splice(g,0,`The provided timing value "${t}" is invalid.`)}return{duration:a,delay:l,easing:f}}(t,i,e)}function wa(t,i={}){return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function uo(t,i,e={}){if(i)for(let r in t)e[r]=t[r];else wa(t,e);return e}function jd(t,i,e){return e?i+":"+e+";":""}function qd(t){let i="";for(let e=0;e<t.style.length;e++){const r=t.style.item(e);i+=jd(0,r,t.style.getPropertyValue(r))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(i+=jd(0,kw(e),t.style[e]));t.setAttribute("style",i)}function pr(t,i,e){t.style&&(Object.keys(i).forEach(r=>{const a=Lh(r);e&&!e.hasOwnProperty(r)&&(e[r]=t.style[a]),t.style[a]=i[r]}),Ah()&&qd(t))}function kr(t,i){t.style&&(Object.keys(i).forEach(e=>{const r=Lh(e);t.style[r]=""}),Ah()&&qd(t))}function Tl(t){return Array.isArray(t)?1==t.length?t[0]:Dw(t):t}const y1=new RegExp("{{\\s*(.+?)\\s*}}","g");function kh(t){let i=[];if("string"==typeof t){let e;for(;e=y1.exec(t);)i.push(e[1]);y1.lastIndex=0}return i}function Il(t,i,e){const r=t.toString(),a=r.replace(y1,(l,f)=>{let h=i[f];return i.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),h=""),h.toString()});return a==r?t:a}function $d(t){const i=[];let e=t.next();for(;!e.done;)i.push(e.value),e=t.next();return i}const v1=/-+([a-z0-9])/g;function Lh(t){return t.replace(v1,(...i)=>i[1].toUpperCase())}function kw(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _i(t,i){return 0===t||0===i}function b1(t,i,e){const r=Object.keys(e);if(r.length&&i.length){let l=i[0],f=[];if(r.forEach(h=>{l.hasOwnProperty(h)||f.push(h),l[h]=e[h]}),f.length)for(var a=1;a<i.length;a++){let h=i[a];f.forEach(function(g){h[g]=C1(t,g)})}}return i}function Ii(t,i,e){switch(i.type){case 7:return t.visitTrigger(i,e);case 0:return t.visitState(i,e);case 1:return t.visitTransition(i,e);case 2:return t.visitSequence(i,e);case 3:return t.visitGroup(i,e);case 4:return t.visitAnimate(i,e);case 5:return t.visitKeyframes(i,e);case 6:return t.visitStyle(i,e);case 8:return t.visitReference(i,e);case 9:return t.visitAnimateChild(i,e);case 10:return t.visitAnimateRef(i,e);case 11:return t.visitQuery(i,e);case 12:return t.visitStagger(i,e);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function C1(t,i){return window.getComputedStyle(t)[i]}function x1(t,i){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function(t,i,e){if(":"==t[0]){const g=function(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return i.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,e);if("function"==typeof g)return void i.push(g);t=g}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${t}" is not supported`),i;const a=r[1],l=r[2],f=r[3];i.push(w1(a,f));"<"==l[0]&&!("*"==a&&"*"==f)&&i.push(w1(f,a))}(r,e,i)):e.push(t),e}const Ea=new Set(["true","1"]),Sl=new Set(["false","0"]);function w1(t,i){const e=Ea.has(t)||Sl.has(t),r=Ea.has(i)||Sl.has(i);return(a,l)=>{let f="*"==t||t==a,h="*"==i||i==l;return!f&&e&&"boolean"==typeof a&&(f=a?Ea.has(t):Sl.has(t)),!h&&r&&"boolean"==typeof l&&(h=l?Ea.has(i):Sl.has(i)),f&&h}}const Zw=new RegExp("s*:selfs*,?","g");function Hd(t,i,e){return new I1(t).build(i,e)}class I1{constructor(i){this._driver=i}build(i,e){const r=new S1(e);return this._resetContextStyleTimingState(r),Ii(this,Tl(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,e){let r=e.queryCount=0,a=e.depCount=0;const l=[],f=[];return"@"==i.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,y=g.name;y.toString().split(/\s*,\s*/).forEach(b=>{g.name=b,l.push(this.visitState(g,e))}),g.name=y}else if(1==h.type){const g=this.visitTransition(h,e);r+=g.queryCount,a+=g.depCount,f.push(g)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:f,queryCount:r,depCount:a,options:null}}visitState(i,e){const r=this.visitStyle(i.styles,e),a=i.options&&i.options.params||null;if(r.containsDynamicStyles){const l=new Set,f=a||{};if(r.styles.forEach(h=>{if(zd(h)){const g=h;Object.keys(g).forEach(y=>{kh(g[y]).forEach(b=>{f.hasOwnProperty(b)||l.add(b)})})}}),l.size){const h=$d(l.values());e.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:i.name,style:r,options:a?{params:a}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const r=Ii(this,Tl(i.animation),e);return{type:1,matchers:x1(i.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:fo(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(r=>Ii(this,r,e)),options:fo(i.options)}}visitGroup(i,e){const r=e.currentTime;let a=0;const l=i.steps.map(f=>{e.currentTime=r;const h=Ii(this,f,e);return a=Math.max(a,e.currentTime),h});return e.currentTime=a,{type:3,steps:l,options:fo(i.options)}}visitAnimate(i,e){const r=function(t,i){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return Bh(Zo(t,i).duration,0,"");const r=t;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Bh(0,0,"");return l.dynamic=!0,l.strValue=r,l}return e=e||Zo(r,i),Bh(e.duration,e.delay,e.easing)}(i.timings,e.errors);e.currentAnimateTimings=r;let a,l=i.styles?i.styles:_s({});if(5==l.type)a=this.visitKeyframes(l,e);else{let f=i.styles,h=!1;if(!f){h=!0;const y={};r.easing&&(y.easing=r.easing),f=_s(y)}e.currentTime+=r.duration+r.delay;const g=this.visitStyle(f,e);g.isEmptyStep=h,a=g}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(i,e){const r=this._makeStyleAst(i,e);return this._validateStyleAst(r,e),r}_makeStyleAst(i,e){const r=[];Array.isArray(i.styles)?i.styles.forEach(f=>{"string"==typeof f?f==Ln?r.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):r.push(f)}):r.push(i.styles);let a=!1,l=null;return r.forEach(f=>{if(zd(f)){const h=f,g=h.easing;if(g&&(l=g,delete h.easing),!a)for(let y in h)if(h[y].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,e){const r=e.currentAnimateTimings;let a=e.currentTime,l=e.currentTime;r&&l>0&&(l-=r.duration+r.delay),i.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void e.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const g=e.collectedStyles[e.currentQuerySelector],y=g[h];let b=!0;y&&(l!=a&&l>=y.startTime&&a<=y.endTime&&(e.errors.push(`The CSS property "${h}" that exists between the times of "${y.startTime}ms" and "${y.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),b=!1),l=y.startTime),b&&(g[h]={startTime:l,endTime:a}),e.options&&function(t,i,e){const r=i.params||{},a=kh(t);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(f[h],e.options,e.errors)})})}visitKeyframes(i,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const f=[];let h=!1,g=!1,y=0;const b=i.steps.map(ie=>{const ue=this._makeStyleAst(ie,e);let Ee=null!=ue.offset?ue.offset:function(t){if("string"==typeof t)return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(zd(e)&&e.hasOwnProperty("offset")){const r=e;i=parseFloat(r.offset),delete r.offset}});else if(zd(t)&&t.hasOwnProperty("offset")){const e=t;i=parseFloat(e.offset),delete e.offset}return i}(ue.styles),$=0;return null!=Ee&&(l++,$=ue.offset=Ee),g=g||$<0||$>1,h=h||$<y,y=$,f.push($),ue});g&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&e.errors.push("Please ensure that all keyframe offsets are in order");const x=i.steps.length;let T=0;l>0&&l<x?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(T=1/(x-1));const I=x-1,D=e.currentTime,Y=e.currentAnimateTimings,X=Y.duration;return b.forEach((ie,ue)=>{const Ee=T>0?ue==I?1:T*ue:f[ue],$=Ee*X;e.currentTime=D+Y.delay+$,Y.duration=$,this._validateStyleAst(ie,e),ie.offset=Ee,r.styles.push(ie)}),r}visitReference(i,e){return{type:8,animation:Ii(this,Tl(i.animation),e),options:fo(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:fo(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:fo(i.options)}}visitQuery(i,e){const r=e.currentQuerySelector,a=i.options||{};e.queryCount++,e.currentQuery=i;const[l,f]=function(t){const i=!!t.split(/\s*,\s*/).find(e=>":self"==e);return i&&(t=t.replace(Zw,"")),t=t.replace(/@\*/g,Ud).replace(/@\w+/g,e=>Ud+"-"+e.substr(1)).replace(/:animating/g,ko),[t,i]}(i.selector);e.currentQuerySelector=r.length?r+" "+l:l,Vi(e.collectedStyles,e.currentQuerySelector,{});const h=Ii(this,Tl(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:h,originalSelector:i.selector,options:fo(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===i.timings?{duration:0,delay:0,easing:"full"}:Zo(i.timings,e.errors,!0);return{type:12,animation:Ii(this,Tl(i.animation),e),timings:r,options:null}}}class S1{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function zd(t){return!Array.isArray(t)&&"object"==typeof t}function fo(t){return t?(t=wa(t)).params&&(t.params=function(t){return t?wa(t):null}(t.params)):t={},t}function Bh(t,i,e){return{duration:t,delay:i,easing:e}}function Vh(t,i,e,r,a,l,f=null,h=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:f,subTimeline:h}}class Uh{constructor(){this._map=new Map}consume(i){let e=this._map.get(i);return e?this._map.delete(i):e=[],e}append(i,e){let r=this._map.get(i);r||this._map.set(i,r=[]),r.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const jw=new RegExp(":enter","g"),jh=new RegExp(":leave","g");function qh(t,i,e,r,a,l={},f={},h,g,y=[]){return(new $w).buildKeyframes(t,i,e,r,a,l,f,h,g,y)}class $w{buildKeyframes(i,e,r,a,l,f,h,g,y,b=[]){y=y||new Uh;const x=new Dl(i,e,y,a,l,b,[]);x.options=g,x.currentTimeline.setStyles([f],null,x.errors,g),Ii(this,r,x);const T=x.timelines.filter(I=>I.containsAnimation());if(T.length&&Object.keys(h).length){const I=T[T.length-1];I.allowOnlyTimelineStyles()||I.setStyles([h],null,x.errors,g)}return T.length?T.map(I=>I.buildKeyframes()):[Vh(e,[],[],[],0,0,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const r=e.subInstructions.consume(e.element);if(r){const a=e.createSubContext(i.options),l=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);l!=f&&e.transformIntoNewTimeline(f)}e.previousNode=i}visitAnimateRef(i,e){const r=e.createSubContext(i.options);r.transformIntoNewTimeline(),this.visitReference(i.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=i}_visitSubInstructions(i,e,r){let l=e.currentTimeline.currentTime;const f=null!=r.duration?lo(r.duration):null,h=null!=r.delay?lo(r.delay):null;return 0!==f&&i.forEach(g=>{const y=e.appendInstructionToTimeline(g,f,h);l=Math.max(l,y.duration+y.delay)}),l}visitReference(i,e){e.updateOptions(i.options,!0),Ii(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const r=e.subContextCount;let a=e;const l=i.options;if(l&&(l.params||l.delay)&&(a=e.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ms);const f=lo(l.delay);a.delayNextStep(f)}i.steps.length&&(i.steps.forEach(f=>Ii(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const r=[];let a=e.currentTimeline.currentTime;const l=i.options&&i.options.delay?lo(i.options.delay):0;i.steps.forEach(f=>{const h=e.createSubContext(i.options);l&&h.delayNextStep(l),Ii(this,f,h),a=Math.max(a,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const r=i.strValue;return Zo(e.params?Il(r,e.params,e.errors):r,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const r=e.currentAnimateTimings=this._visitTiming(i.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(r.duration),this.visitStyle(l,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?r.applyEmptyStep(l):r.setStyles(i.styles,l,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,l=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,i.styles.forEach(g=>{h.forwardTime((g.offset||0)*l),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(a+l),e.previousNode=i}visitQuery(i,e){const r=e.currentTimeline.currentTime,a=i.options||{},l=a.delay?lo(a.delay):0;l&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ms);let f=r;const h=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((y,b)=>{e.currentQueryIndex=b;const x=e.createSubContext(i.options,y);l&&x.delayNextStep(l),y===e.element&&(g=x.currentTimeline),Ii(this,i.animation,x),x.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const r=e.parentContext,a=e.currentTimeline,l=i.timings,f=Math.abs(l.duration),h=f*(e.currentQueryTotal-1);let g=f*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":g=h-g;break;case"full":g=r.currentStaggerTime}const b=e.currentTimeline;g&&b.delayNextStep(g);const x=b.currentTime;Ii(this,i.animation,e),e.previousNode=i,r.currentStaggerTime=a.currentTime-x+(a.startTime-r.currentTimeline.startTime)}}const ms={};class Dl{constructor(i,e,r,a,l,f,h,g){this._driver=i,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=f,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ms,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Qd(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const r=i;let a=this.options;null!=r.duration&&(a.duration=lo(r.duration)),null!=r.delay&&(a.delay=lo(r.delay));const l=r.params;if(l){let f=a.params;f||(f=this.options.params={}),Object.keys(l).forEach(h=>{(!e||!f.hasOwnProperty(h))&&(f[h]=Il(l[h],f,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const r=i.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return i}createSubContext(i=null,e,r){const a=e||this.element,l=new Dl(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=ms,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,r){const a={duration:null!=e?e:i.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+i.delay,easing:""},l=new $h(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,r,a,l,f){let h=[];if(a&&h.push(this.element),i.length>0){i=(i=i.replace(jw,"."+this._enterClassName)).replace(jh,"."+this._leaveClassName);let y=this._driver.query(this.element,i,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!l&&0==h.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),h}}class Qd{constructor(i,e,r,a){this._driver=i,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new Qd(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles[i]=e,this._globalTimelineStyles[i]=e,this._styleSummary[i]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ln,this._currentKeyframe[e]=Ln}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,r,a){e&&(this._previousKeyframe.easing=e);const l=a&&a.params||{},f=function(t,i){const e={};let r;return t.forEach(a=>{"*"===a?(r=r||Object.keys(i),r.forEach(l=>{e[l]=Ln})):uo(a,!1,e)}),e}(i,this._globalTimelineStyles);Object.keys(f).forEach(h=>{const g=Il(f[h],l,r);this._pendingStyles[h]=g,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Ln),this._updateStyle(h,g)})}applyStylesToKeyframe(){const i=this._pendingStyles,e=Object.keys(i);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=i[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const e=this._localTimelineStyles[i];this._pendingStyles[i]=e,this._updateStyle(i,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=i._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((h,g)=>{const y=uo(h,!0);Object.keys(y).forEach(b=>{const x=y[b];"!"==x?i.add(b):x==Ln&&e.add(b)}),r||(y.offset=g/this.duration),a.push(y)});const l=i.size?$d(i.values()):[],f=e.size?$d(e.values()):[];if(r){const h=a[0],g=wa(h);h.offset=0,g.offset=1,a=[h,g]}return Vh(this.element,a,l,f,this.duration,this.startTime,this.easing,!1)}}class $h extends Qd{constructor(i,e,r,a,l,f,h=!1){super(i,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=h,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],f=r+e,h=e/f,g=uo(i[0],!1);g.offset=0,l.push(g);const y=uo(i[0],!1);y.offset=Jd(h),l.push(y);const b=i.length-1;for(let x=1;x<=b;x++){let T=uo(i[x],!1);T.offset=Jd((e+T.offset*r)/f),l.push(T)}r=f,e=0,a="",i=l}return Vh(this.element,i,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function Jd(t,i=3){const e=Math.pow(10,i-1);return Math.round(t*e)/e}class Hh{}class UA extends Hh{normalizePropertyName(i,e){return Lh(i)}normalizeStyleValue(i,e,r,a){let l="";const f=r.toString().trim();if(Hw[e]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&a.push(`Please provide a CSS unit value for ${i}:${r}`)}return f+l}}const Hw=(()=>function(t){const i={};return t.forEach(e=>i[e]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zh(t,i,e,r,a,l,f,h,g,y,b,x,T){return{type:0,element:t,triggerName:i,isRemovalTransition:a,fromState:e,fromStyles:l,toState:r,toStyles:f,timelines:h,queriedElements:g,preStyleProps:y,postStyleProps:b,totalTime:x,errors:T}}const Wd={};class Qh{constructor(i,e,r){this._triggerName=i,this.ast=e,this._stateStyles=r}match(i,e,r,a){return function(t,i,e,r,a){return t.some(l=>l(i,e,r,a))}(this.ast.matchers,i,e,r,a)}buildStyles(i,e,r){const a=this._stateStyles["*"],l=this._stateStyles[i],f=a?a.buildStyles(e,r):{};return l?l.buildStyles(e,r):f}build(i,e,r,a,l,f,h,g,y,b){const x=[],T=this.ast.options&&this.ast.options.params||Wd,D=this.buildStyles(r,h&&h.params||Wd,x),Y=g&&g.params||Wd,X=this.buildStyles(a,Y,x),ie=new Set,ue=new Map,Ee=new Map,$="void"===a,Ze={params:qe(qe({},T),Y)},ce=b?[]:qh(i,e,this.ast.animation,l,f,D,X,Ze,y,x);let oe=0;if(ce.forEach(Ne=>{oe=Math.max(Ne.duration+Ne.delay,oe)}),x.length)return zh(e,this._triggerName,r,a,$,D,X,[],[],ue,Ee,oe,x);ce.forEach(Ne=>{const Me=Ne.element,Le=Vi(ue,Me,{});Ne.preStyleProps.forEach(Wt=>Le[Wt]=!0);const nt=Vi(Ee,Me,{});Ne.postStyleProps.forEach(Wt=>nt[Wt]=!0),Me!==e&&ie.add(Me)});const Se=$d(ie.values());return zh(e,this._triggerName,r,a,$,D,X,ce,Se,ue,Ee,oe)}}class po{constructor(i,e,r){this.styles=i,this.defaultParams=e,this.normalizer=r}buildStyles(i,e){const r={},a=wa(this.defaultParams);return Object.keys(i).forEach(l=>{const f=i[l];null!=f&&(a[l]=f)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const f=l;Object.keys(f).forEach(h=>{let g=f[h];g.length>1&&(g=Il(g,a,e));const y=this.normalizer.normalizePropertyName(h,e);g=this.normalizer.normalizeStyleValue(h,y,g,e),r[y]=g})}}),r}}class zw{constructor(i,e,r){this.name=i,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new po(a.style,a.options&&a.options.params||{},r)}),Jw(this.states,"true","1"),Jw(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new Qh(i,a,this.states))}),this.fallbackTransition=function(t,i,e){return new Qh(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,h)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,r,a){return this.transitionFactories.find(f=>f.match(i,e,r,a))||null}matchStyles(i,e,r){return this.fallbackTransition.buildStyles(i,e,r)}}function Jw(t,i,e){t.hasOwnProperty(i)?t.hasOwnProperty(e)||(t[e]=t[i]):t.hasOwnProperty(e)&&(t[i]=t[e])}const Al=new Uh;class N1{constructor(i,e,r){this.bodyNode=i,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(i,e){const r=[],a=Hd(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[i]=a}_buildPlayer(i,e,r){const a=i.element,l=Mh(0,this._normalizer,0,i.keyframes,e,r);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,e,r={}){const a=[],l=this._animations[i];let f;const h=new Map;if(l?(f=qh(this._driver,e,l,Nh,ba,{},{},r,Al,a),f.forEach(b=>{const x=Vi(h,b.element,{});b.postStyleProps.forEach(T=>x[T]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),f=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);h.forEach((b,x)=>{Object.keys(b).forEach(T=>{b[T]=this._driver.computeStyle(x,T,Ln)})});const y=gs(f.map(b=>{const x=h.get(b.element);return this._buildPlayer(b,{},x)}));return this._playersById[i]=y,y.onDestroy(()=>this.destroy(i)),this.players.push(y),y}destroy(i){const e=this._getPlayer(i);e.destroy(),delete this._playersById[i];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(i){const e=this._playersById[i];if(!e)throw new Error(`Unable to find the timeline player referenced by ${i}`);return e}listen(i,e,r,a){const l=xl(e,"","","");return Ld(this._getPlayer(i),r,l,a),()=>{}}command(i,e,r,a){if("register"==r)return void this.register(i,a[0]);if("create"==r)return void this.create(i,e,a[0]||{});const l=this._getPlayer(i);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const Ta="ng-animate-queued",F1="ng-animate-disabled",Gd=".ng-animate-disabled",L1=[],Z1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ui="__ng_removed";class Wh{constructor(i,e=""){this.namespaceId=e;const r=i&&i.hasOwnProperty("value");if(this.value=null!=(t=r?i.value:i)?t:null,r){const l=wa(i);delete l.value,this.options=l}else this.options={};var t;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const e=i.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const Ia="void",Bo=new Wh(Ia);class B1{constructor(i,e,r){this.id=i,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,gi(e,this._hostClassName)}listen(i,e,r,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(t=r)&&"done"!=t)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);var t;const l=Vi(this._elementListeners,i,[]),f={name:e,phase:r,callback:a};l.push(f);const h=Vi(this._engine.statesByElement,i,{});return h.hasOwnProperty(e)||(gi(i,Vd),gi(i,Vd+"-"+e),h[e]=Bo),()=>{this._engine.afterFlush(()=>{const g=l.indexOf(f);g>=0&&l.splice(g,1),this._triggers[e]||delete h[e]})}}register(i,e){return!this._triggers[i]&&(this._triggers[i]=e,!0)}_getTrigger(i){const e=this._triggers[i];if(!e)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return e}trigger(i,e,r,a=!0){const l=this._getTrigger(e),f=new Yh(this.id,e,i);let h=this._engine.statesByElement.get(i);h||(gi(i,Vd),gi(i,Vd+"-"+e),this._engine.statesByElement.set(i,h={}));let g=h[e];const y=new Wh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),h[e]=y,g||(g=Bo),y.value!==Ia&&g.value===y.value){if(!function(t,i){const e=Object.keys(t),r=Object.keys(i);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const l=e[a];if(!i.hasOwnProperty(l)||t[l]!==i[l])return!1}return!0}(g.params,y.params)){const Y=[],X=l.matchStyles(g.value,g.params,Y),ie=l.matchStyles(y.value,y.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{kr(i,X),pr(i,ie)})}return}const T=Vi(this._engine.playersByElement,i,[]);T.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let I=l.matchTransition(g.value,y.value,i,y.params),D=!1;if(!I){if(!a)return;I=l.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:I,fromState:g,toState:y,player:f,isFallbackTransition:D}),D||(gi(i,Ta),f.onStart(()=>{mi(i,Ta)})),f.onDone(()=>{let Y=this.players.indexOf(f);Y>=0&&this.players.splice(Y,1);const X=this._engine.playersByElement.get(i);if(X){let ie=X.indexOf(f);ie>=0&&X.splice(ie,1)}}),this.players.push(f),T.push(f),f}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((e,r)=>{delete e[i]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const r=this._engine.driver.query(i,Ud,!0);r.forEach(a=>{if(a[Ui])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,e,r,a){const l=this._engine.statesByElement.get(i);if(l){const f=[];if(Object.keys(l).forEach(h=>{if(this._triggers[h]){const g=this.trigger(i,h,Ia,a);g&&f.push(g)}}),f.length)return this._engine.markElementAsRemoved(this.id,i,!0,e),r&&gs(f).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),r=this._engine.statesByElement.get(i);if(e&&r){const a=new Set;e.forEach(l=>{const f=l.name;if(a.has(f))return;a.add(f);const g=this._triggers[f].fallbackTransition,y=r[f]||Bo,b=new Wh(Ia),x=new Yh(this.id,f,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:f,transition:g,fromState:y,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(i,e){const r=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let f=i;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)r.markElementAsRemoved(this.id,i,!1,e);else{const l=i[Ui];(!l||l===Z1)&&(r.afterFlush(()=>this.clearElementCache(i)),r.destroyInnerAnimations(i),r._onRemovalComplete(i,e))}}insertNode(i,e){gi(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,f=this._elementListeners.get(l);f&&f.forEach(h=>{if(h.name==r.triggerName){const g=xl(l,r.triggerName,r.fromState.value,r.toState.value);g._data=i,Ld(r.player,h.phase,g,h.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const l=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let e=!1;return this._elementListeners.has(i)&&(e=!0),e=!!this._queue.find(r=>r.element===i)||e,e}}class Yw{constructor(i,e,r){this.bodyNode=i,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&i.push(r)})}),i}createNamespace(i,e){const r=new B1(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[i]=r}_balanceNamespaceList(i,e){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(e,i),i}register(i,e){let r=this._namespaceLookup[i];return r||(r=this.createNamespace(i,e)),r}registerTrigger(i,e,r){let a=this._namespaceLookup[i];a&&a.register(e,r)&&this.totalAnimations++}destroy(i,e){if(!i)return;const r=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,r=this.statesByElement.get(i);if(r){const a=Object.keys(r);for(let l=0;l<a.length;l++){const f=r[a[l]].namespaceId;if(f){const h=this._fetchNamespace(f);h&&e.add(h)}}}return e}trigger(i,e,r,a){if(Kd(e)){const l=this._fetchNamespace(i);if(l)return l.trigger(e,r,a),!0}return!1}insertNode(i,e,r,a){if(!Kd(e))return;const l=e[Ui];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(i){const f=this._fetchNamespace(i);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),gi(i,F1)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),mi(i,F1))}removeNode(i,e,r,a){if(Kd(e)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(e,a):this.markElementAsRemoved(i,e,!1,a),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==i&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(i,e,r,a){this.collectedLeaveElements.push(e),e[Ui]={namespaceId:i,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(i,e,r,a,l){return Kd(e)?this._fetchNamespace(i).listen(e,r,a,l):()=>{}}_buildInstruction(i,e,r,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,r,a,i.fromState.options,i.toState.options,e,l)}destroyInnerAnimations(i){let e=this.driver.query(i,Ud,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,ko,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return gs(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[Ui];if(e&&e.setForRemoval){if(i[Ui]=Z1,e.namespaceId){this.destroyInnerAnimations(i);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}this.driver.matchesElement(i,Gd)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Gd,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)gi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,i)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?gs(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,e){const r=new Uh,a=[],l=new Map,f=[],h=new Map,g=new Map,y=new Map,b=new Set;this.disabledNodes.forEach(se=>{b.add(se);const G=this.driver.query(se,".ng-animate-queued",!0);for(let R=0;R<G.length;R++)b.add(G[R])});const x=this.bodyNode,T=Array.from(this.statesByElement.keys()),I=U1(T,this.collectedEnterElements),D=new Map;let Y=0;I.forEach((se,G)=>{const R=Nh+Y++;D.set(G,R),se.forEach(K=>gi(K,R))});const X=[],ie=new Set,ue=new Set;for(let se=0;se<this.collectedLeaveElements.length;se++){const G=this.collectedLeaveElements[se],R=G[Ui];R&&R.setForRemoval&&(X.push(G),ie.add(G),R.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(K=>ie.add(K)):ue.add(G))}const Ee=new Map,$=U1(T,Array.from(ie));$.forEach((se,G)=>{const R=ba+Y++;Ee.set(G,R),se.forEach(K=>gi(K,R))}),i.push(()=>{I.forEach((se,G)=>{const R=D.get(G);se.forEach(K=>mi(K,R))}),$.forEach((se,G)=>{const R=Ee.get(G);se.forEach(K=>mi(K,R))}),X.forEach(se=>{this.processLeaveNode(se)})});const Ze=[],ce=[];for(let se=this._namespaceList.length-1;se>=0;se--)this._namespaceList[se].drainQueuedTransitions(e).forEach(R=>{const K=R.player,xe=R.element;if(Ze.push(K),this.collectedEnterElements.length){const tr=xe[Ui];if(tr&&tr.setForMove)return void K.destroy()}const et=!x||!this.driver.containsElement(x,xe),He=Ee.get(xe),dn=D.get(xe),jt=this._buildInstruction(R,r,dn,He,et);if(jt.errors&&jt.errors.length)ce.push(jt);else{if(et)return K.onStart(()=>kr(xe,jt.fromStyles)),K.onDestroy(()=>pr(xe,jt.toStyles)),void a.push(K);if(R.isFallbackTransition)return K.onStart(()=>kr(xe,jt.fromStyles)),K.onDestroy(()=>pr(xe,jt.toStyles)),void a.push(K);jt.timelines.forEach(tr=>tr.stretchStartingKeyframe=!0),r.append(xe,jt.timelines),f.push({instruction:jt,player:K,element:xe}),jt.queriedElements.forEach(tr=>Vi(h,tr,[]).push(K)),jt.preStyleProps.forEach((tr,To)=>{const ex=Object.keys(tr);if(ex.length){let ku=g.get(To);ku||g.set(To,ku=new Set),ex.forEach(qD=>ku.add(qD))}}),jt.postStyleProps.forEach((tr,To)=>{const ex=Object.keys(tr);let ku=y.get(To);ku||y.set(To,ku=new Set),ex.forEach(qD=>ku.add(qD))})}});if(ce.length){const se=[];ce.forEach(G=>{se.push(`@${G.triggerName} has failed due to:\n`),G.errors.forEach(R=>se.push(`- ${R}\n`))}),Ze.forEach(G=>G.destroy()),this.reportError(se)}const oe=new Map,Se=new Map;f.forEach(se=>{const G=se.element;r.has(G)&&(Se.set(G,G),this._beforeAnimationBuild(se.player.namespaceId,se.instruction,oe))}),a.forEach(se=>{const G=se.element;this._getPreviousPlayers(G,!1,se.namespaceId,se.triggerName,null).forEach(K=>{Vi(oe,G,[]).push(K),K.destroy()})});const Ne=X.filter(se=>Xh(se,g,y)),Me=new Map;Xw(Me,this.driver,ue,y,Ln).forEach(se=>{Xh(se,g,y)&&Ne.push(se)});const nt=new Map;I.forEach((se,G)=>{Xw(nt,this.driver,new Set(se),g,"!")}),Ne.forEach(se=>{const G=Me.get(se),R=nt.get(se);Me.set(se,qe(qe({},G),R))});const Wt=[],In=[],he={};f.forEach(se=>{const{element:G,player:R,instruction:K}=se;if(r.has(G)){if(b.has(G))return R.onDestroy(()=>pr(G,K.toStyles)),R.disabled=!0,R.overrideTotalTime(K.totalTime),void a.push(R);let xe=he;if(Se.size>1){let He=G;const dn=[];for(;He=He.parentNode;){const jt=Se.get(He);if(jt){xe=jt;break}dn.push(He)}dn.forEach(jt=>Se.set(jt,xe))}const et=this._buildAnimation(R.namespaceId,K,oe,l,nt,Me);if(R.setRealPlayer(et),xe===he)Wt.push(R);else{const He=this.playersByElement.get(xe);He&&He.length&&(R.parentPlayer=gs(He)),a.push(R)}}else kr(G,K.fromStyles),R.onDestroy(()=>pr(G,K.toStyles)),In.push(R),b.has(G)&&a.push(R)}),In.forEach(se=>{const G=l.get(se.element);if(G&&G.length){const R=gs(G);se.setRealPlayer(R)}}),a.forEach(se=>{se.parentPlayer?se.syncPlayerEvents(se.parentPlayer):se.destroy()});for(let se=0;se<X.length;se++){const G=X[se],R=G[Ui];if(mi(G,ba),R&&R.hasAnimation)continue;let K=[];if(h.size){let et=h.get(G);et&&et.length&&K.push(...et);let He=this.driver.query(G,ko,!0);for(let dn=0;dn<He.length;dn++){let jt=h.get(He[dn]);jt&&jt.length&&K.push(...jt)}}const xe=K.filter(et=>!et.destroyed);xe.length?Gh(this,G,xe):this.processLeaveNode(G)}return X.length=0,Wt.forEach(se=>{this.players.push(se),se.onDone(()=>{se.destroy();const G=this.players.indexOf(se);this.players.splice(G,1)}),se.play()}),Wt}elementContainsData(i,e){let r=!1;const a=e[Ui];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(i).elementContainsData(e)||r}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,r,a,l){let f=[];if(e){const h=this.playersByQueriedElement.get(i);h&&(f=h)}else{const h=this.playersByElement.get(i);if(h){const g=!l||l==Ia;h.forEach(y=>{y.queued||!g&&y.triggerName!=a||f.push(y)})}}return(r||a)&&(f=f.filter(h=>!(r&&r!=h.namespaceId||a&&a!=h.triggerName))),f}_beforeAnimationBuild(i,e,r){const l=e.element,f=e.isRemovalTransition?void 0:i,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,b=y!==l,x=Vi(r,y,[]);this._getPreviousPlayers(y,b,f,h,e.toState).forEach(I=>{const D=I.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),I.destroy(),x.push(I)})}kr(l,e.fromStyles)}_buildAnimation(i,e,r,a,l,f){const h=e.triggerName,g=e.element,y=[],b=new Set,x=new Set,T=e.timelines.map(D=>{const Y=D.element;b.add(Y);const X=Y[Ui];if(X&&X.removedBeforeQueried)return new ya(D.duration,D.delay);const ie=Y!==g,ue=function(t){const i=[];return j1(t,i),i}((r.get(Y)||L1).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===Y),Ee=l.get(Y),$=f.get(Y),Ze=Mh(0,this._normalizer,0,D.keyframes,Ee,$),ce=this._buildPlayer(D,Ze,ue);if(D.subTimeline&&a&&x.add(Y),ie){const oe=new Yh(i,h,Y);oe.setRealPlayer(ce),y.push(oe)}return ce});y.forEach(D=>{Vi(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function(t,i,e){let r;if(t instanceof Map){if(r=t.get(i),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&t.delete(i)}}else if(r=t[i],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete t[i]}return r}(this.playersByQueriedElement,D.element,D))}),b.forEach(D=>gi(D,Ca));const I=gs(T);return I.onDestroy(()=>{b.forEach(D=>mi(D,Ca)),pr(g,e.toStyles)}),x.forEach(D=>{Vi(a,D,[]).push(I)}),I}_buildPlayer(i,e,r){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,r):new ya(i.duration,i.delay)}}class Yh{constructor(i,e,r){this.namespaceId=i,this.triggerName=e,this.element=r,this._player=new ya,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>Ld(i,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Vi(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function Kd(t){return t&&1===t.nodeType}function V1(t,i){const e=t.style.display;return t.style.display=null!=i?i:"none",e}function Xw(t,i,e,r,a){const l=[];e.forEach(g=>l.push(V1(g)));const f=[];r.forEach((g,y)=>{const b={};g.forEach(x=>{const T=b[x]=i.computeStyle(y,x,a);(!T||0==T.length)&&(y[Ui]=Jh,f.push(y))}),t.set(y,b)});let h=0;return e.forEach(g=>V1(g,l[h++])),f}function U1(t,i){const e=new Map;if(t.forEach(h=>e.set(h,[])),0==i.length)return e;const a=new Set(i),l=new Map;function f(h){if(!h)return 1;let g=l.get(h);if(g)return g;const y=h.parentNode;return g=e.has(y)?y:a.has(y)?1:f(y),l.set(h,g),g}return i.forEach(h=>{const g=f(h);1!==g&&e.get(g).push(h)}),e}const Ol="$$classes";function gi(t,i){if(t.classList)t.classList.add(i);else{let e=t[Ol];e||(e=t[Ol]={}),e[i]=!0}}function mi(t,i){if(t.classList)t.classList.remove(i);else{let e=t[Ol];e&&delete e[i]}}function Gh(t,i,e){gs(e).onDone(()=>t.processLeaveNode(i))}function j1(t,i){for(let e=0;e<t.length;e++){const r=t[e];r instanceof f1?j1(r.players,i):i.push(r)}}function Xh(t,i,e){const r=e.get(t);if(!r)return!1;let a=i.get(t);return a?r.forEach(l=>a.add(l)):i.set(t,r),e.delete(t),!0}class Pl{constructor(i,e,r){this.bodyNode=i,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new Yw(i,e,r),this._timelineEngine=new N1(i,e,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,e,r,a,l){const f=i+"-"+a;let h=this._triggerCache[f];if(!h){const g=[],y=Hd(this._driver,l,g);if(g.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);h=function(t,i,e){return new zw(t,i,e)}(a,y,this._normalizer),this._triggerCache[f]=h}this._transitionEngine.registerTrigger(e,a,h)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,r,a){this._transitionEngine.insertNode(i,e,r,a)}onRemove(i,e,r,a){this._transitionEngine.removeNode(i,e,a||!1,r)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,r,a){if("@"==r.charAt(0)){const[l,f]=Mw(r);this._timelineEngine.command(l,e,f,a)}else this._transitionEngine.trigger(i,e,r,a)}listen(i,e,r,a,l){if("@"==r.charAt(0)){const[f,h]=Mw(r);return this._timelineEngine.listen(f,e,h,l)}return this._transitionEngine.listen(i,e,r,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function e_(t,i){let e=null,r=null;return Array.isArray(i)&&i.length?(e=t_(i[0]),i.length>1&&(r=t_(i[i.length-1]))):i&&(e=t_(i)),e||r?new q1(t,e,r):null}let q1=(()=>{class t{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let l=t.initialStylesByElement.get(e);l||t.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&pr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pr(this._element,this._initialStyles),this._endStyles&&(pr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(kr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kr(this._element,this._endStyles),this._endStyles=null),pr(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function t_(t){let i=null;const e=Object.keys(t);for(let r=0;r<e.length;r++){const a=e[r];tE(a)&&(i=i||{},i[a]=t[a])}return i}function tE(t){return"display"===t||"position"===t}const Xd="animation",n_="animationend";class H1{constructor(i,e,r,a,l,f,h){this._element=i,this._name=e,this._duration=r,this._delay=a,this._easing=l,this._fillMode=f,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function(t,i){const e=ef(t,"").trim();let r=0;e.length&&(function(t,i){let e=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&e++;return e}(e)+1,i=`${e}, ${i}`),s_(t,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),o_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){i_(this._element,this._name,"paused")}resume(){i_(this._element,this._name,"running")}setPosition(i){const e=z1(this._element,this._name);this._position=i*this._duration,s_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(i){const e=i._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),o_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,i){const r=ef(t,"").split(","),a=r_(r,i);a>=0&&(r.splice(a,1),s_(t,"",r.join(",")))}(this._element,this._name))}}function i_(t,i,e){s_(t,"PlayState",e,z1(t,i))}function z1(t,i){const e=ef(t,"");return e.indexOf(",")>0?r_(e.split(","),i):r_([e],i)}function r_(t,i){for(let e=0;e<t.length;e++)if(t[e].indexOf(i)>=0)return e;return-1}function o_(t,i,e){e?t.removeEventListener(n_,i):t.addEventListener(n_,i)}function s_(t,i,e,r){const a=Xd+i;if(null!=r){const l=t.style[a];if(l.length){const f=l.split(",");f[r]=e,e=f.join(",")}}t.style[a]=e}function ef(t,i){return t.style[Xd+i]||""}class sE{constructor(i,e,r,a,l,f,h,g){this.element=i,this.keyframes=e,this.animationName=r,this._duration=a,this._delay=l,this._finalStyles=h,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new H1(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(i[r]=e?this._finalStyles[r]:C1(this.element,r))})}this.currentSnapshot=i}}class a_ extends ya{constructor(i,e){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=Bd(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const e=this._startingStyles[i];e?this.element.style.setProperty(i,e):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class l_{constructor(){this._count=0}validateStyleProperty(i){return _1(i)}matchesElement(i,e){return wl(i,e)}containsElement(i,e){return Ph(i,e)}query(i,e,r){return Zd(i,e,r)}computeStyle(i,e,r){return window.getComputedStyle(i)[e]}buildKeyframeElement(i,e,r){r=r.map(h=>Bd(h));let a=`@keyframes ${e} {\n`,l="";r.forEach(h=>{l=" ";const g=parseFloat(h.offset);a+=`${l}${100*g}% {\n`,l+=" ",Object.keys(h).forEach(y=>{const b=h[y];switch(y){case"offset":return;case"easing":return void(b&&(a+=`${l}animation-timing-function: ${b};\n`));default:return void(a+=`${l}${y}: ${b};\n`)}}),a+=`${l}}\n`}),a+="}\n";const f=document.createElement("style");return f.textContent=a,f}animate(i,e,r,a,l,f=[],h){const g=f.filter(X=>X instanceof sE),y={};_i(r,a)&&g.forEach(X=>{let ie=X.currentSnapshot;Object.keys(ie).forEach(ue=>y[ue]=ie[ue])});const b=function(t){let i={};return t&&(Array.isArray(t)?t:[t]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(i[a]=r[a])})}),i}(e=b1(i,e,y));if(0==r)return new a_(i,b);const x="gen_css_kf_"+this._count++,T=this.buildKeyframeElement(i,x,e);(function(t){var e;const i=null==(e=t.getRootNode)?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(i).appendChild(T);const D=e_(i,e),Y=new sE(i,e,x,r,a,l,b,D);return Y.onDestroy(()=>{var t;(t=T).parentNode.removeChild(t)}),Y}}class u_{constructor(i,e,r,a){this.element=i,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,e,r){return i.animate(e,r)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(i[e]=this._finished?this._finalKeyframe[e]:C1(this.element,e))}),this.currentSnapshot=i}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Q1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(dE().toString()),this._cssKeyframesDriver=new l_}validateStyleProperty(i){return _1(i)}matchesElement(i,e){return wl(i,e)}containsElement(i,e){return Ph(i,e)}query(i,e,r){return Zd(i,e,r)}computeStyle(i,e,r){return window.getComputedStyle(i)[e]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,e,r,a,l,f=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,e,r,a,l,f);const b={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(b.easing=l);const x={},T=f.filter(D=>D instanceof u_);_i(r,a)&&T.forEach(D=>{let Y=D.currentSnapshot;Object.keys(Y).forEach(X=>x[X]=Y[X])});const I=e_(i,e=b1(i,e=e.map(D=>uo(D,!1)),x));return new u_(i,e,b,I)}}function dE(){return Aw()&&Element.prototype.animate||{}}let J1=(()=>{class t extends s1{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Dw(e):e;return tf(this._renderer,null,r,"register",[a]),new d_(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.FYo),n.LFG(k))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class d_ extends class{}{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new fE(this._id,i,e||{},this._renderer)}}class fE{constructor(i,e,r,a){this.id=i,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return tf(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,e;return null!=(e=null==(i=this._renderer.engine.players[+this.id])?void 0:i.getPosition())?e:0}}function tf(t,i,e,r,a){return t.setProperty(i,`@@${e}:${r}`,a)}const W1="@.disabled";let pE=(()=>{class t{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,f)=>{const h=null==f?void 0:f.parentNode(l);h&&f.removeChild(h,l)}}createRenderer(e,r){const l=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(l);return b||(b=new Y1("",l,this.engine),this._rendererCache.set(l,b)),b}const f=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=b=>{Array.isArray(b)?b.forEach(g):this.engine.registerTrigger(f,h,e,b.name,b)};return r.data.animation.forEach(g),new hE(this,h,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,h]=l;f(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.FYo),n.LFG(Pl),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class Y1{constructor(i,e,r){this.namespaceId=i,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,r,a=!0){this.delegate.insertBefore(i,e,r),this.engine.onInsert(this.namespaceId,e,i,a)}removeChild(i,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,r,a){this.delegate.setAttribute(i,e,r,a)}removeAttribute(i,e,r){this.delegate.removeAttribute(i,e,r)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,r,a){this.delegate.setStyle(i,e,r,a)}removeStyle(i,e,r){this.delegate.removeStyle(i,e,r)}setProperty(i,e,r){"@"==e.charAt(0)&&e==W1?this.disableAnimations(i,!!r):this.delegate.setProperty(i,e,r)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,r){return this.delegate.listen(i,e,r)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class hE extends Y1{constructor(i,e,r,a){super(e,r,a),this.factory=i,this.namespaceId=e}setProperty(i,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==W1?this.disableAnimations(i,r=void 0===r||!!r):this.engine.process(this.namespaceId,i,e.substr(1),r):this.delegate.setProperty(i,e,r)}listen(i,e,r){if("@"==e.charAt(0)){const a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i);let l=e.substr(1),f="";return"@"!=l.charAt(0)&&([l,f]=function(t){const i=t.indexOf(".");return[t.substring(0,i),t.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,f,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(i,e,r)}}let Da=(()=>{class t extends Pl{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(k),n.LFG(El),n.LFG(Hh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const K1=new n.OlP("AnimationModuleType"),sf=[{provide:s1,useClass:J1},{provide:Hh,useFactory:function(){return new UA}},{provide:Pl,useClass:Da},{provide:n.FYo,useFactory:function(t,i,e){return new pE(t,i,e)},deps:[Vc,Pl,n.R0b]}],_r=[{provide:El,useFactory:function(){return"function"==typeof dE()?new Q1:new l_}},{provide:K1,useValue:"BrowserAnimations"},...sf],Fl=[{provide:El,useClass:Rh},{provide:K1,useValue:"NoopAnimations"},...sf];let Hn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Fl:_r}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:_r,imports:[Ym]}),t})();var Ce=E(3139),Si=E(3719),ho=E(273),On=E(9947),Ma=E(6921),ji=E(5583),Vo=E(5044);class yi{constructor(i,e,r){this.kind=i,this.value=e,this.error=r,this.hasValue="N"===i}observe(i){return ys(this,i)}do(i,e,r){const{kind:a,value:l,error:f}=this;return"N"===a?null==i?void 0:i(l):"E"===a?null==e?void 0:e(f):null==r?void 0:r()}accept(i,e,r){var a;return(0,Vo.m)(null===(a=i)||void 0===a?void 0:a.next)?this.observe(i):this.do(i,e,r)}toObservable(){const{kind:i,value:e,error:r}=this,a="N"===i?(0,ot.of)(e):"E"===i?function(t,i){const e=(0,Vo.m)(t)?t:()=>t,r=a=>a.error(e());return new $n.y(r)}(()=>r):"C"===i?ji.E:0;if(!a)throw new TypeError(`Unexpected notification kind ${i}`);return a}static createNext(i){return new yi("N",i)}static createError(i){return new yi("E",void 0,i)}static createComplete(){return yi.completeNotification}}function ys(t,i){var e,r,a;const{kind:l,value:f,error:h}=t;if("string"!=typeof l)throw new TypeError('Invalid notification, missing "kind"');"N"===l?null===(e=i.next)||void 0===e||e.call(i,f):"E"===l?null===(r=i.error)||void 0===r||r.call(i,h):null===(a=i.complete)||void 0===a||a.call(i)}yi.completeNotification=new yi("C");var _o=E(2835);function f_(t,i,e,r){return(0,On.e)((a,l)=>{let f;i&&"function"!=typeof i?({duration:e,element:f,connector:r}=i):f=i;const h=new Map,g=T=>{h.forEach(T),T(l)},y=T=>g(I=>I.error(T)),b=new e0(l,T=>{try{const I=t(T);let D=h.get(I);if(!D){h.set(I,D=r?r():new ho.x);const Y=function(T,I){const D=new $n.y(Y=>{b.activeGroups++;const X=I.subscribe(Y);return()=>{X.unsubscribe(),0==--b.activeGroups&&b.teardownAttempted&&b.unsubscribe()}});return D.key=T,D}(I,D);if(l.next(Y),e){const X=new ii.Q(D,()=>{D.complete(),null==X||X.unsubscribe()},void 0,void 0,()=>h.delete(I));b.add((0,la.Xf)(e(Y)).subscribe(X))}}D.next(f?f(T):T)}catch(I){y(I)}},()=>g(T=>T.complete()),y,()=>h.clear());a.subscribe(b)})}class e0 extends ii.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var Zn=E(5724);function p_(t,i){return i?e=>e.pipe(p_((r,a)=>(0,la.Xf)(t(r,a)).pipe((0,_t.U)((l,f)=>i(r,l,a,f))))):(0,On.e)((e,r)=>{let a=0,l=null,f=!1;e.subscribe(new ii.Q(r,h=>{l||(l=new ii.Q(r,void 0,()=>{l=null,f&&r.complete()}),(0,la.Xf)(t(h,a++)).subscribe(l))},()=>{f=!0,!l&&r.complete()}))})}var go=E(9468);const h_={dispatch:!0,useEffectsErrorHandler:!0},af="__@ngrx/effects_create__";function Ra(t,i){const e=t(),r=qe(qe({},h_),i);return Object.defineProperty(e,af,{value:r}),e}function mE(t){return Object.getOwnPropertyNames(t).filter(r=>!(!t[r]||!t[r].hasOwnProperty(af))&&t[r][af].hasOwnProperty("dispatch")).map(r=>qe({propertyName:r},t[r][af]))}function cf(t){return Object.getPrototypeOf(t)}const Ll="__@ngrx/effects__";function yE(t){return(0,Ce.qC)(n0,cf)(t)}function n0(t){return function(t){return t.constructor.hasOwnProperty(Ll)}(t)?t.constructor[Ll]:[]}function bE(t,i,e){const r=cf(t).constructor.name,a=function(t){return[yE,mE].reduce((e,r)=>e.concat(r(t)),[])}(t).map(({propertyName:l,dispatch:f,useEffectsErrorHandler:h})=>{const g="function"==typeof t[l]?t[l]():t[l],y=h?e(g,i):g;return!1===f?y.pipe((0,On.e)((t,i)=>{t.subscribe(new ii.Q(i,Ma.Z))})):y.pipe((0,On.e)((t,i)=>{t.subscribe(new ii.Q(i,e=>{i.next(yi.createNext(e))},()=>{i.next(yi.createComplete()),i.complete()},e=>{i.next(yi.createError(e)),i.complete()}))})).pipe((0,_t.U)(x=>({effect:t[l],notification:x,propertyName:l,sourceName:r,sourceInstance:t})))});return(0,Si.T)(...a)}function CE(t,i,e=10){return t.pipe((0,_o.K)(r=>(i&&i.handleError(r),e<=1?t:CE(t,i,e-1))))}let g_=(()=>{class t extends $n.y{constructor(e){super(),e&&(this.source=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ce.Y$))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function Zl(...t){return(0,ti.h)(i=>t.some(e=>"string"==typeof e?e===i.type:e.type===i.type))}function TE(t){return lf(t,"ngrxOnInitEffects")}function lf(t,i){return t&&i in t&&"function"==typeof t[i]}const IE=new n.OlP("@ngrx/effects Internal Root Guard"),uf=new n.OlP("@ngrx/effects User Provided Effects"),Uo=new n.OlP("@ngrx/effects Internal Root Effects"),s0=new n.OlP("@ngrx/effects Root Effects"),v_=new n.OlP("@ngrx/effects Internal Feature Effects"),a0=new n.OlP("@ngrx/effects Feature Effects"),b_=new n.OlP("@ngrx/effects Effects Error Handler");let Na=(()=>{class t extends ho.x{constructor(e,r){super(),this.errorHandler=e,this.effectsErrorHandler=r}addEffects(e){this.next(e)}toActions(){return this.pipe(f_(cf),(0,Zn.z)(e=>e.pipe(f_(SE))),(0,Zn.z)(e=>{const r=e.pipe(p_(l=>function(t,i){return e=>{const r=bE(e,t,i);return function(t){return lf(t,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(l)),(0,_t.U)(l=>(function(t,i){if("N"===t.notification.kind){const e=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(e)&&i.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:i,sourceName:e}){const r="function"==typeof i[t];return`"${e}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(i){return t}}(e)}`))}}(l,this.errorHandler),l.notification)),(0,ti.h)(l=>"N"===l.kind&&null!=l.value),(0,On.e)((t,i)=>{t.subscribe(new ii.Q(i,e=>ys(e,i)))})),a=e.pipe((0,go.q)(1),(0,ti.h)(TE),(0,_t.U)(l=>l.ngrxOnInitEffects()));return(0,Si.T)(r,a)}))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.qLn),n.LFG(b_))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function SE(t){return function(t){return lf(t,"ngrxOnIdentifyEffects")}(t)?t.ngrxOnIdentifyEffects():""}let C_=(()=>{class t{constructor(e,r){this.effectSources=e,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Na),n.LFG(Ce.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const l0="@ngrx/effects/init";(0,Ce.PH)(l0);let u0=(()=>{class t{constructor(e,r,a,l,f,h,g){this.sources=e,r.start(),l.forEach(y=>e.addEffects(y)),a.dispatch({type:l0})}addEffects(e){this.sources.addEffects(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Na),n.LFG(C_),n.LFG(Ce.yh),n.LFG(s0),n.LFG(Ce.cr,8),n.LFG(Ce.CK,8),n.LFG(IE,8))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),DE=(()=>{class t{constructor(e,r,a,l){r.forEach(f=>f.forEach(h=>e.addEffects(h)))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(u0),n.LFG(a0),n.LFG(Ce.cr,8),n.LFG(Ce.CK,8))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),d0=(()=>{class t{static forFeature(e=[]){return{ngModule:DE,providers:[e,{provide:v_,multi:!0,useValue:e},{provide:uf,multi:!0,useValue:[]},{provide:a0,multi:!0,useFactory:f0,deps:[n.zs3,v_,uf]}]}}static forRoot(e=[]){return{ngModule:u0,providers:[{provide:b_,useValue:CE},C_,Na,g_,e,{provide:Uo,useValue:[e]},{provide:IE,useFactory:h0,deps:[[C_,new n.FiY,new n.tp0],[Uo,new n.PiD]]},{provide:uf,multi:!0,useValue:[]},{provide:s0,useFactory:f0,deps:[n.zs3,Uo,uf]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();function f0(t,i,e){const r=[];for(const a of i)r.push(...a);for(const a of e)r.push(...a);return function(t,i){return i.map(e=>t.get(e))}(t,r)}function h0(t,i){if((1!==i.length||0!==i[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var x_=E(7687);var ri=E(4499),Fa=E(4623),w_=E(8395);function df(...t){const i=(0,rl.yG)(t),e=(0,rl.jO)(t),{args:r,keys:a}=Pr(t);if(0===r.length)return(0,ni.D)([],i);const l=new $n.y(function(t,i,e=Fa.y){return r=>{ff(i,()=>{const{length:a}=t,l=new Array(a);let f=a,h=a;for(let g=0;g<a;g++)ff(i,()=>{const y=(0,ni.D)(t[g],i);let b=!1;y.subscribe(new ii.Q(r,x=>{l[g]=x,b||(b=!0,h--),h||r.next(e(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,i,a?f=>sh(a,f):Fa.y));return e?l.pipe(yy(e)):l}function ff(t,i,e){t?(0,w_.f)(e,t,i):i()}const Bl=(0,E(4893).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var T_=E(5373);function Vl(...t){return(0,T_.J)(1)((0,ni.D)(t,(0,rl.yG)(t)))}function pf(t){return new $n.y(i=>{(0,la.Xf)(t()).subscribe(i)})}var g0=E(7908);function I_(){return(0,On.e)((t,i)=>{let e=null;t._refCount++;const r=new ii.Q(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,l=e;e=null,a&&(!l||a===l)&&a.unsubscribe(),i.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class S_ extends $n.y{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,On.A)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,null==i||i.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new g0.w0;const e=this.getSubject();i.add(this.source.subscribe(new ii.Q(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),i.closed&&(this._connection=null,i=g0.w0.EMPTY)}return i}refCount(){return I_()(this)}}var Di=E(3067),hf=E(9495);function _f(t){return t<=0?()=>ji.E:(0,On.e)((i,e)=>{let r=[];i.subscribe(new ii.Q(e,a=>{r.push(a),t<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function m0(t=y0){return(0,On.e)((i,e)=>{let r=!1;i.subscribe(new ii.Q(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(t())))})}function y0(){return new Bl}function A_(t){return(0,On.e)((i,e)=>{let r=!1;i.subscribe(new ii.Q(e,a=>{r=!0,e.next(a)},()=>{r||e.next(t),e.complete()}))})}function vs(t,i){const e=arguments.length>=2;return r=>r.pipe(t?(0,ti.h)((a,l)=>t(a,l,r)):Fa.y,(0,go.q)(1),e?A_(i):m0(()=>new Bl))}function mn(t,i,e){const r=(0,Vo.m)(t)||i||e?{next:t,error:i,complete:e}:t;return r?(0,On.e)((a,l)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let h=!0;a.subscribe(new ii.Q(l,g=>{var y;null===(y=r.next)||void 0===y||y.call(r,g),l.next(g)},()=>{var g;h=!1,null===(g=r.complete)||void 0===g||g.call(r),l.complete()},g=>{var y;h=!1,null===(y=r.error)||void 0===y||y.call(r,g),l.error(g)},()=>{var g,y;h&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(y=r.finalize)||void 0===y||y.call(r)}))}):Fa.y}class Zr{constructor(i,e){this.id=i,this.url=e}}class gf extends Zr{constructor(i,e,r="imperative",a=null){super(i,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends Zr{constructor(i,e,r){super(i,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class O_ extends Zr{constructor(i,e,r){super(i,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class b0 extends Zr{constructor(i,e,r){super(i,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class C0 extends Zr{constructor(i,e,r,a){super(i,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x0 extends Zr{constructor(i,e,r,a){super(i,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w0 extends Zr{constructor(i,e,r,a,l){super(i,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class E0 extends Zr{constructor(i,e,r,a){super(i,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T0 extends Zr{constructor(i,e,r,a){super(i,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P_{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OE{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PE{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RE{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I0{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NE{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(i,e,r){this.routerEvent=i,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yt="primary";class FE{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ka(t){return new FE(t)}const R_="ngNavigationCancelingError";function N_(t){const i=Error("NavigationCancelingError: "+t);return i[R_]=!0,i}function D0(t,i,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||r.length<t.length))return null;const a={};for(let l=0;l<r.length;l++){const f=r[l],h=t[l];if(f.startsWith(":"))a[f.substring(1)]=h;else if(f!==h.path)return null}return{consumed:t.slice(0,r.length),posParams:a}}function Br(t,i){const e=t?Object.keys(t):void 0,r=i?Object.keys(i):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!A0(t[a],i[a]))return!1;return!0}function A0(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),r=[...i].sort();return e.every((a,l)=>r[l]===a)}return t===i}function F_(t){return Array.prototype.concat.apply([],t)}function M0(t){return t.length>0?t[t.length-1]:null}function zn(t,i){for(const e in t)t.hasOwnProperty(e)&&i(t[e],e)}function qi(t){return(0,n.CqO)(t)?t:(0,n.QGY)(t)?(0,ni.D)(Promise.resolve(t)):(0,ot.of)(t)}const Vr={exact:function $i(t,i,e){if(!mr(t.segments,i.segments)||!mf(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const r in i.children)if(!t.children[r]||!$i(t.children[r],i.children[r],e))return!1;return!0},subset:L_},O0={exact:function(t,i){return Br(t,i)},subset:function(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>A0(t[e],i[e]))},ignored:()=>!0};function P0(t,i,e){return Vr[e.paths](t.root,i.root,e.matrixParams)&&O0[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function L_(t,i,e){return Z_(t,i,i.segments,e)}function Z_(t,i,e,r){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!mr(a,e)||i.hasChildren()||!mf(a,e,r))}if(t.segments.length===e.length){if(!mr(t.segments,e)||!mf(t.segments,e,r))return!1;for(const a in i.children)if(!t.children[a]||!L_(t.children[a],i.children[a],r))return!1;return!0}{const a=e.slice(0,t.segments.length),l=e.slice(t.segments.length);return!!(mr(t.segments,a)&&mf(t.segments,a,r)&&t.children[yt])&&Z_(t.children[yt],i,l,r)}}function mf(t,i,e){return i.every((r,a)=>O0[e](t[a].parameters,r.parameters))}class bs{constructor(i,e,r){this.root=i,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return N0.serialize(this)}}class Ct{constructor(i,e){this.segments=i,this.children=e,this.parent=null,zn(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jl(this)}}class Ul{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return vf(this)}}function mr(t,i){return t.length===i.length&&t.every((e,r)=>e.path===i[r].path)}class V_{}class R0{parse(i){const e=new VE(i);return new bs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){const e=`/${$o(i.root,!0)}`,r=function(t){const i=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(a=>`${ql(e)}=${ql(a)}`).join("&"):`${ql(e)}=${ql(r)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams);var t;return`${e}${r}${"string"==typeof i.fragment?`#${t=i.fragment,encodeURI(t)}`:""}`}}const N0=new R0;function jl(t){return t.segments.map(i=>vf(i)).join("/")}function $o(t,i){if(!t.hasChildren())return jl(t);if(i){const e=t.children[yt]?$o(t.children[yt],!1):"",r=[];return zn(t.children,(a,l)=>{l!==yt&&r.push(`${l}:${$o(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(t,i){let e=[];return zn(t.children,(r,a)=>{a===yt&&(e=e.concat(i(r,a)))}),zn(t.children,(r,a)=>{a!==yt&&(e=e.concat(i(r,a)))}),e}(t,(r,a)=>a===yt?[$o(t.children[yt],!1)]:[`${a}:${$o(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[yt]?`${jl(t)}/${e[0]}`:`${jl(t)}/(${e.join("//")})`}}function F0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ql(t){return F0(t).replace(/%3B/gi,";")}function $l(t){return F0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cs(t){return decodeURIComponent(t)}function yf(t){return Cs(t.replace(/\+/g,"%20"))}function vf(t){return`${$l(t.path)}${function(t){return Object.keys(t).map(i=>`;${$l(i)}=${$l(t[i])}`).join("")}(t.parameters)}`}const B0=/^[^\/()?;=#]+/;function Hl(t){const i=t.match(B0);return i?i[0]:""}const V0=/^[^=?&#]+/,ZE=/^[^&#]+/;class VE{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(r[yt]=new Ct(i,e)),r}parseSegment(){const i=Hl(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Ul(Cs(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=Hl(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=Hl(this.remaining);a&&(r=a,this.capture(r))}i[Cs(e)]=Cs(r)}parseQueryParam(i){const e=function(t){const i=t.match(V0);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function(t){const i=t.match(ZE);return i?i[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=yf(e),l=yf(r);if(i.hasOwnProperty(a)){let f=i[a];Array.isArray(f)||(f=[f],i[a]=f),f.push(l)}else i[a]=l}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=yt);const f=this.parseChildren();e[l]=1===Object.keys(f).length?f[yt]:new Ct([],f),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class j0{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=U_(i,this._root);return e?e.children.map(r=>r.value):[]}firstChild(i){const e=U_(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=j_(i,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return j_(i,this._root).map(e=>e.value)}}function U_(t,i){if(t===i.value)return i;for(const e of i.children){const r=U_(t,e);if(r)return r}return null}function j_(t,i){if(t===i.value)return[i];for(const e of i.children){const r=j_(t,e);if(r.length)return r.unshift(i),r}return[]}class mo{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Za(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class q0 extends j0{constructor(i,e){super(i),this.snapshot=e,q_(this,i)}toString(){return this.snapshot.toString()}}function $0(t,i){const e=function(t,i){const f=new bf([],{},{},"",{},yt,i,null,t.root,-1,{});return new z0("",new mo(f,[]))}(t,i),r=new ri.X([new Ul("",{})]),a=new ri.X({}),l=new ri.X({}),f=new ri.X({}),h=new ri.X(""),g=new xs(r,a,f,h,l,yt,i,e.root);return g.snapshot=e.root,new q0(new mo(g,[]),e)}class xs{constructor(i,e,r,a,l,f,h,g){this.url=i,this.params=e,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=f,this.component=h,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(i=>ka(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(i=>ka(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function H0(t,i="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==i)for(r=e.length-1;r>=1;){const a=e[r],l=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(t){return t.reduce((i,e)=>({params:qe(qe({},i.params),e.params),data:qe(qe({},i.data),e.data),resolve:qe(qe({},i.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class bf{constructor(i,e,r,a,l,f,h,g,y,b,x){this.url=i,this.params=e,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=f,this.component=h,this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class z0 extends j0{constructor(i,e){super(e),this.url=i,q_(this,e)}toString(){return Q0(this._root)}}function q_(t,i){i.value._routerState=t,i.children.forEach(e=>q_(t,e))}function Q0(t){const i=t.children.length>0?` { ${t.children.map(Q0).join(", ")} } `:"";return`${t.value}${i}`}function Cf(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Br(i.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),i.fragment!==e.fragment&&t.fragment.next(e.fragment),Br(i.params,e.params)||t.params.next(e.params),function(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Br(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.url.next(e.url),Br(i.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xf(t,i){const e=Br(t.params,i.params)&&function(t,i){return mr(t,i)&&t.every((e,r)=>Br(e.parameters,i[r].parameters))}(t.url,i.url);return e&&!(!t.parent!=!i.parent)&&(!t.parent||xf(t.parent,i.parent))}function Ba(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=i.value;const a=function(t,i,e){return i.children.map(r=>{for(const a of e.children)if(t.shouldReuseRoute(r.value,a.value.snapshot))return Ba(t,r,a);return Ba(t,r)})}(t,i,e);return new mo(r,a)}{if(t.shouldAttach(i.value)){const l=t.retrieve(i.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=i.value,f.children=i.children.map(h=>Ba(t,h)),f}}const r=function(t){return new xs(new ri.X(t.url),new ri.X(t.params),new ri.X(t.queryParams),new ri.X(t.fragment),new ri.X(t.data),t.outlet,t.component,t)}(i.value),a=i.children.map(l=>Ba(t,l));return new mo(r,a)}}function zl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Va(t){return"object"==typeof t&&null!=t&&t.outlets}function wf(t,i,e,r,a){let l={};return r&&zn(r,(f,h)=>{l[h]=Array.isArray(f)?f.map(g=>`${g}`):`${f}`}),new bs(e.root===t?i:$_(e.root,t,i),l,a)}function $_(t,i,e){const r={};return zn(t.children,(a,l)=>{r[l]=a===i?e:$_(a,i,e)}),new Ct(t.segments,r)}class Ho{constructor(i,e,r){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=r,i&&r.length>0&&zl(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Va);if(a&&a!==M0(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H_{constructor(i,e,r){this.segmentGroup=i,this.processChildren=e,this.index=r}}function $E(t,i,e){if(t||(t=new Ct([],{})),0===t.segments.length&&t.hasChildren())return Ql(t,i,e);const r=function(t,i,e){let r=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(r>=e.length)return l;const f=t.segments[a],h=e[r];if(Va(h))break;const g=`${h}`,y=r<e.length-1?e[r+1]:null;if(a>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!tv(g,y,f))return l;r+=2}else{if(!tv(g,{},f))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(t,i,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const l=new Ct(t.segments.slice(0,r.pathIndex),{});return l.children[yt]=new Ct(t.segments.slice(r.pathIndex),t.children),Ql(l,0,a)}return r.match&&0===a.length?new Ct(t.segments,{}):r.match&&!t.hasChildren()?X0(t,i,e):r.match?Ql(t,0,a):X0(t,i,e)}function Ql(t,i,e){if(0===e.length)return new Ct(t.segments,{});{const r=function(t){return Va(t[0])?t[0].outlets:{[yt]:t}}(e),a={};return zn(r,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[f]=$E(t.children[f],i,l))}),zn(t.children,(l,f)=>{void 0===r[f]&&(a[f]=l)}),new Ct(t.segments,a)}}function X0(t,i,e){const r=t.segments.slice(0,i);let a=0;for(;a<e.length;){const l=e[a];if(Va(l)){const g=tt(l.outlets);return new Ct(r,g)}if(0===a&&zl(e[0])){r.push(new Ul(t.segments[i].path,ev(e[0]))),a++;continue}const f=Va(l)?l.outlets[yt]:`${l}`,h=a<e.length-1?e[a+1]:null;f&&h&&zl(h)?(r.push(new Ul(f,ev(h))),a+=2):(r.push(new Ul(f,{})),a++)}return new Ct(r,{})}function tt(t){const i={};return zn(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(i[r]=X0(new Ct([],{}),0,e))}),i}function ev(t){const i={};return zn(t,(e,r)=>i[r]=`${e}`),i}function tv(t,i,e){return t==e.path&&Br(i,e.parameters)}class Ef{constructor(i,e,r,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(i){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,i),Cf(this.futureState.root),this.activateChildRoutes(e,r,i)}deactivateChildRoutes(i,e,r){const a=Za(e);i.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,a[f],r),delete a[f]}),zn(a,(l,f)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(i,e,r){const a=i.value,l=e?e.value:null;if(a===l)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(i,e,f.children)}else this.deactivateChildRoutes(i,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(i,e){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const r=e.getContext(i.value.outlet),a=r&&i.value.component?r.children:e,l=Za(i);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],a);if(r&&r.outlet){const f=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:f,route:i,contexts:h})}}deactivateRouteAndOutlet(i,e){const r=e.getContext(i.value.outlet),a=r&&i.value.component?r.children:e,l=Za(i);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(i,e,r){const a=Za(e);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new NE(l.value.snapshot))}),i.children.length&&this.forwardEvent(new RE(i.value.snapshot))}activateRoutes(i,e,r){const a=i.value,l=e?e.value:null;if(Cf(a),a===l)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(i,e,f.children)}else this.activateChildRoutes(i,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const h=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(h.contexts),f.attachRef=h.componentRef,f.route=h.route.value,f.outlet&&f.outlet.attach(h.componentRef,h.route.value),Cf(h.route.value),this.activateChildRoutes(i,null,f.children)}else{const h=function(t){for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),g=h?h.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=g,f.outlet&&f.outlet.activateWith(a,g),this.activateChildRoutes(i,null,f.children)}}else this.activateChildRoutes(i,null,r)}}class ja{constructor(i,e){this.routes=i,this.module=e}}function yr(t){return"function"==typeof t}function qa(t){return t instanceof bs}const $a=Symbol("INITIAL_VALUE");function Ha(){return(0,Di.w)(t=>df(t.map(i=>i.pipe((0,go.q)(1),function(...t){const i=(0,rl.yG)(t);return(0,On.e)((e,r)=>{(i?Vl(t,e,i):Vl(t,e)).subscribe(r)})}($a)))).pipe((0,hf.R)((i,e)=>{let r=!1;return e.reduce((a,l,f)=>a!==$a?a:(l===$a&&(r=!0),r||!1!==l&&f!==e.length-1&&!qa(l)?a:l),i)},$a),(0,ti.h)(i=>i!==$a),(0,_t.U)(i=>qa(i)?i:!0===i),(0,go.q)(1)))}class rv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jl,this.attachRef=null}}class Jl{constructor(){this.contexts=new Map}onChildOutletCreated(i,e){const r=this.getOrCreateContext(i);r.outlet=e,this.contexts.set(i,r)}onChildOutletDestroyed(i){const e=this.getContext(i);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let e=this.getContext(i);return e||(e=new rv,this.contexts.set(i,e)),e}getContext(i){return this.contexts.get(i)||null}}let Q_=(()=>{class t{constructor(e,r,a,l,f){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.vpe,this.deactivateEvents=new n.vpe,this.attachEvents=new n.vpe,this.detachEvents=new n.vpe,this.name=l||yt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,g=new WE(e,h,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Jl),n.Y36(n.s_b),n.Y36(n._Vd),n.$8M("name"),n.Y36(n.sBO))},t.\u0275dir=n.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class WE{constructor(i,e,r){this.route=i,this.childContexts=e,this.parent=r}get(i,e){return i===xs?this.route:i===Jl?this.childContexts:this.parent.get(i,e)}}let za=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&n._UZ(0,"router-outlet")},directives:[Q_],encapsulation:2}),t})();function ov(t,i=""){for(let e=0;e<t.length;e++){const r=t[e];YE(r,GE(i,r))}}function YE(t,i){t.children&&ov(t.children,i)}function GE(t,i){return i?t||i.path?t&&!i.path?`${t}/`:!t&&i.path?i.path:`${t}/${i.path}`:"":t}function Qa(t){const i=t.children&&t.children.map(Qa),e=i?qt(qe({},t),{children:i}):qe({},t);return!e.component&&(i||e.loadChildren)&&e.outlet&&e.outlet!==yt&&(e.component=za),e}function Ai(t){return t.outlet||yt}function J_(t,i){const e=t.filter(r=>Ai(r)===i);return e.push(...t.filter(r=>Ai(r)!==i)),e}const W_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Tf(t,i,e){var h;if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?qe({},W_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(i.matcher||D0)(e,t,i);if(!a)return qe({},W_);const l={};zn(a.posParams,(g,y)=>{l[y]=g.path});const f=a.consumed.length>0?qe(qe({},l),a.consumed[a.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!=(h=a.posParams)?h:{}}}function zo(t,i,e,r,a="corrected"){if(e.length>0&&function(t,i,e){return e.some(r=>Yl(t,i,r)&&Ai(r)!==yt)}(t,e,r)){const f=new Ct(i,function(t,i,e,r){const a={};a[yt]=r,r._sourceSegment=t,r._segmentIndexShift=i.length;for(const l of e)if(""===l.path&&Ai(l)!==yt){const f=new Ct([],{});f._sourceSegment=t,f._segmentIndexShift=i.length,a[Ai(l)]=f}return a}(t,i,r,new Ct(e,t.children)));return f._sourceSegment=t,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(t,i,e){return e.some(r=>Yl(t,i,r))}(t,e,r)){const f=new Ct(t.segments,function(t,i,e,r,a,l){const f={};for(const h of r)if(Yl(t,e,h)&&!a[Ai(h)]){const g=new Ct([],{});g._sourceSegment=t,g._segmentIndexShift="legacy"===l?t.segments.length:i.length,f[Ai(h)]=g}return qe(qe({},a),f)}(t,i,e,r,t.children,a));return f._sourceSegment=t,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:e}}const l=new Ct(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:e}}function Yl(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}function Y_(t,i,e,r){return!!(Ai(t)===r||r!==yt&&Yl(i,e,t))&&("**"===t.path||Tf(i,t,e).matched)}function G_(t,i,e){return 0===i.length&&!t.children[e]}class Gl{constructor(i){this.segmentGroup=i||null}}class K_{constructor(i){this.urlTree=i}}function If(t){return new $n.y(i=>i.error(new Gl(t)))}function sv(t){return new $n.y(i=>i.error(new K_(t)))}function eM(t){return new $n.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class iM{constructor(i,e,r,a,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(n.h0i)}apply(){const i=zo(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ct(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,e,yt).pipe((0,_t.U)(l=>this.createUrlTree(Ja(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,_o.K)(l=>{if(l instanceof K_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Gl?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,yt).pipe((0,_t.U)(a=>this.createUrlTree(Ja(a),i.queryParams,i.fragment))).pipe((0,_o.K)(a=>{throw a instanceof Gl?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,e,r){const a=i.segments.length>0?new Ct([],{[yt]:i}):i;return new bs(a,e,r)}expandSegmentGroup(i,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(i,e,r).pipe((0,_t.U)(l=>new Ct([],l))):this.expandSegment(i,r,e,r.segments,a,!0)}expandChildren(i,e,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,ni.D)(a).pipe((0,Xc.b)(l=>{const f=r.children[l],h=J_(e,l);return this.expandSegmentGroup(i,h,f,l).pipe((0,_t.U)(g=>({segment:g,outlet:l})))}),(0,hf.R)((l,f)=>(l[f.outlet]=f.segment,l),{}),function(t,i){const e=arguments.length>=2;return r=>r.pipe(t?(0,ti.h)((a,l)=>t(a,l,r)):Fa.y,_f(1),e?A_(i):m0(()=>new Bl))}())}expandSegment(i,e,r,a,l,f){return(0,ni.D)(r).pipe((0,Xc.b)(h=>this.expandSegmentAgainstRoute(i,e,r,h,a,l,f).pipe((0,_o.K)(y=>{if(y instanceof Gl)return(0,ot.of)(null);throw y}))),vs(h=>!!h),(0,_o.K)((h,g)=>{if(h instanceof Bl||"EmptyError"===h.name){if(G_(e,a,l))return(0,ot.of)(new Ct([],{}));throw new Gl(e)}throw h}))}expandSegmentAgainstRoute(i,e,r,a,l,f,h){return Y_(a,e,l,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,e,a,l,f):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,e,r,a,l,f):If(e):If(e)}expandSegmentAgainstRouteUsingRedirect(i,e,r,a,l,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(i,e,r,a,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,e,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sv(l):this.lineralizeSegments(r,l).pipe((0,Zn.z)(f=>{const h=new Ct(f,{});return this.expandSegment(i,h,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,e,r,a,l,f){const{matched:h,consumedSegments:g,lastChild:y,positionalParamSegments:b}=Tf(e,a,l);if(!h)return If(e);const x=this.applyRedirectCommands(g,a.redirectTo,b);return a.redirectTo.startsWith("/")?sv(x):this.lineralizeSegments(a,x).pipe((0,Zn.z)(T=>this.expandSegment(i,e,r,T.concat(l.slice(y)),f,!1)))}matchSegmentAgainstRoute(i,e,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,ot.of)(r._loadedConfig):this.configLoader.load(i.injector,r)).pipe((0,_t.U)(T=>(r._loadedConfig=T,new Ct(a,{})))):(0,ot.of)(new Ct(a,{}));const{matched:f,consumedSegments:h,lastChild:g}=Tf(e,r,a);if(!f)return If(e);const y=a.slice(g);return this.getChildConfig(i,r,a).pipe((0,Zn.z)(x=>{const T=x.module,I=x.routes,{segmentGroup:D,slicedSegments:Y}=zo(e,h,y,I),X=new Ct(D.segments,D.children);if(0===Y.length&&X.hasChildren())return this.expandChildren(T,I,X).pipe((0,_t.U)($=>new Ct(h,$)));if(0===I.length&&0===Y.length)return(0,ot.of)(new Ct(h,{}));const ie=Ai(r)===l;return this.expandSegment(T,X,I,Y,ie?yt:l,!0).pipe((0,_t.U)(Ee=>new Ct(h.concat(Ee.segments),Ee.children)))}))}getChildConfig(i,e,r){return e.children?(0,ot.of)(new ja(e.children,i)):e.loadChildren?void 0!==e._loadedConfig?(0,ot.of)(e._loadedConfig):this.runCanLoadGuards(i.injector,e,r).pipe((0,Zn.z)(a=>{return a?this.configLoader.load(i.injector,e).pipe((0,_t.U)(l=>(e._loadedConfig=l,l))):(t=e,new $n.y(i=>i.error(N_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,ot.of)(new ja([],i))}runCanLoadGuards(i,e,r){const a=e.canLoad;if(!a||0===a.length)return(0,ot.of)(!0);const l=a.map(f=>{const h=i.get(f);let g;if((t=h)&&yr(t.canLoad))g=h.canLoad(e,r);else{if(!yr(h))throw new Error("Invalid CanLoad guard");g=h(e,r)}var t;return qi(g)});return(0,ot.of)(l).pipe(Ha(),mn(f=>{if(!qa(f))return;const h=N_(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw h.url=f,h}),(0,_t.U)(f=>!0===f))}lineralizeSegments(i,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,ot.of)(r);if(a.numberOfChildren>1||!a.children[yt])return eM(i.redirectTo);a=a.children[yt]}}applyRedirectCommands(i,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),i,r)}applyRedirectCreatreUrlTree(i,e,r,a){const l=this.createSegmentGroup(i,e.root,r,a);return new bs(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const r={};return zn(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const h=a.substring(1);r[l]=e[h]}else r[l]=a}),r}createSegmentGroup(i,e,r,a){const l=this.createSegments(i,e.segments,r,a);let f={};return zn(e.children,(h,g)=>{f[g]=this.createSegmentGroup(i,h,r,a)}),new Ct(l,f)}createSegments(i,e,r,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,r))}findPosParam(i,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${e.path}'.`);return a}findOrReturn(i,e){let r=0;for(const a of e){if(a.path===i.path)return e.splice(r),a;r++}return i}}function Ja(t){const i={};for(const r of Object.keys(t.children)){const l=Ja(t.children[r]);(l.segments.length>0||l.hasChildren())&&(i[r]=l)}return function(t){if(1===t.numberOfChildren&&t.children[yt]){const i=t.children[yt];return new Ct(t.segments.concat(i.segments),i.children)}return t}(new Ct(t.segments,i))}class cv{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Kl{constructor(i,e){this.component=i,this.route=e}}function Xl(t,i,e){const r=t._root;return eu(r,i?i._root:null,e,[r.value])}function Sf(t,i,e){const r=function(t){if(!t)return null;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(i);return(r?r.module.injector:e).get(t)}function eu(t,i,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Za(i);return t.children.forEach(f=>{(function(t,i,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,f=i?i.value:null,h=e?e.getContext(t.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const g=function(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!mr(t.url,i.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,i.url)||!Br(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xf(t,i)||!Br(t.queryParams,i.queryParams);default:return!xf(t,i)}}(f,l,l.routeConfig.runGuardsAndResolvers);g?a.canActivateChecks.push(new cv(r)):(l.data=f.data,l._resolvedData=f._resolvedData),eu(t,i,l.component?h?h.children:null:e,r,a),g&&h&&h.outlet&&h.outlet.isActivated&&a.canDeactivateChecks.push(new Kl(h.outlet.component,f))}else f&&tu(i,h,a),a.canActivateChecks.push(new cv(r)),eu(t,null,l.component?h?h.children:null:e,r,a)})(f,l[f.value.outlet],e,r.concat([f.value]),a),delete l[f.value.outlet]}),zn(l,(f,h)=>tu(f,e.getContext(h),a)),a}function tu(t,i,e){const r=Za(t),a=t.value;zn(r,(l,f)=>{tu(l,a.component?i?i.children.getContext(f):null:i,e)}),e.canDeactivateChecks.push(new Kl(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class lT{}function Df(t){return new $n.y(i=>i.error(t))}class pv{constructor(i,e,r,a,l,f){this.rootComponentType=i,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const i=zo(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,i,yt);if(null===e)return null;const r=new bf([],Object.freeze({}),Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new mo(r,e),l=new z0(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const e=i.value,r=H0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(i,e):this.processSegment(i,e,e.segments,r)}processChildren(i,e){const r=[];for(const l of Object.keys(e.children)){const f=e.children[l],h=J_(i,l),g=this.processSegmentGroup(h,f,l);if(null===g)return null;r.push(...g)}const a=_v(r);return a.sort((i,e)=>i.value.outlet===yt?-1:e.value.outlet===yt?1:i.value.outlet.localeCompare(e.value.outlet)),a}processSegment(i,e,r,a){for(const l of i){const f=this.processSegmentAgainstRoute(l,e,r,a);if(null!==f)return f}return G_(e,r,a)?[]:null}processSegmentAgainstRoute(i,e,r,a){if(i.redirectTo||!Y_(i,e,r,a))return null;let l,f=[],h=[];if("**"===i.path){const I=r.length>0?M0(r).parameters:{};l=new bf(r,I,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,yv(i),Ai(i),i.component,i,mv(e),X_(e)+r.length,vv(i))}else{const I=Tf(e,i,r);if(!I.matched)return null;f=I.consumedSegments,h=r.slice(I.lastChild),l=new bf(f,I.parameters,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,yv(i),Ai(i),i.component,i,mv(e),X_(e)+f.length,vv(i))}const g=(t=i).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:y,slicedSegments:b}=zo(e,f,h,g.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);var t;if(0===b.length&&y.hasChildren()){const I=this.processChildren(g,y);return null===I?null:[new mo(l,I)]}if(0===g.length&&0===b.length)return[new mo(l,[])];const x=Ai(i)===a,T=this.processSegment(g,y,b,x?yt:a);return null===T?null:[new mo(l,T)]}}function fT(t){const i=t.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function _v(t){const i=[],e=new Set;for(const r of t){if(!fT(r)){i.push(r);continue}const a=i.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):i.push(r)}for(const r of e){const a=_v(r.children);i.push(new mo(r.value,a))}return i.filter(r=>!e.has(r))}function mv(t){let i=t;for(;i._sourceSegment;)i=i._sourceSegment;return i}function X_(t){let i=t,e=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,e+=i._segmentIndexShift?i._segmentIndexShift:0;return e-1}function yv(t){return t.data||{}}function vv(t){return t.resolve||{}}function eg(t){return(0,Di.w)(i=>{const e=t(i);return e?(0,ni.D)(e).pipe((0,_t.U)(()=>i)):(0,ot.of)(i)})}class yT extends class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}{}const tg=new n.OlP("ROUTES");class ng{constructor(i,e,r,a){this.injector=i,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(i,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,_t.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=l.create(i);return new ja(F_(f.injector.get(tg,void 0,n.XFs.Self|n.XFs.Optional)).map(Qa),f)}),(0,_o.K)(l=>{throw e._loader$=void 0,l}));return e._loader$=new S_(a,()=>new ho.x).pipe(I_()),e._loader$}loadModuleFactory(i){return qi(i()).pipe((0,Zn.z)(e=>e instanceof n.YKP?(0,ot.of)(e):(0,ni.D)(this.compiler.compileModuleAsync(e))))}}class bT{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,e){return i}}function CT(t){throw t}function ig(t,i,e){return i.parse("/")}function Af(t,i){return(0,ot.of)(null)}const xv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class t{constructor(e,r,a,l,f,h,g){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ho.x,this.errorHandler=CT,this.malformedUriErrorHandler=ig,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Af,afterPreactivation:Af},this.urlHandlingStrategy=new bT,this.routeReuseStrategy=new yT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(n.h0i),this.console=f.get(n.c2e);const x=f.get(n.R0b);this.isNgZoneEnabled=x instanceof n.R0b&&n.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=new bs(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ng(f,h,T=>this.triggerEvent(new P_(T)),T=>this.triggerEvent(new OE(T))),this.routerState=$0(this.currentUrlTree,this.rootComponentType),this.transitions=new ri.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe((0,ti.h)(a=>0!==a.id),(0,_t.U)(a=>qt(qe({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),(0,Di.w)(a=>{let l=!1,f=!1;return(0,ot.of)(a).pipe(mn(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?qt(qe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Di.w)(h=>{const g=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ya(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,ot.of)(h).pipe((0,Di.w)(x=>{const T=this.transitions.getValue();return r.next(new gf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),T!==this.transitions.getValue()?ji.E:Promise.resolve(x)}),function(t,i,e,r){return(0,Di.w)(a=>function(t,i,e,r,a){return new iM(t,i,e,r,a).apply()}(t,i,e,a.extractedUrl,r).pipe((0,_t.U)(l=>qt(qe({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),mn(x=>{this.currentNavigation=qt(qe({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(t,i,e,r,a){return(0,Zn.z)(l=>function(t,i,e,r,a="emptyOnly",l="legacy"){try{const f=new pv(t,i,e,r,a,l).recognize();return null===f?Df(new lT):(0,ot.of)(f)}catch(f){return Df(f)}}(t,i,l.urlAfterRedirects,e(l.urlAfterRedirects),r,a).pipe((0,_t.U)(f=>qt(qe({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),mn(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(I,x)}this.browserUrlTree=x.urlAfterRedirects}const T=new C0(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(T)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:I,source:D,restoredState:Y,extras:X}=h,ie=new gf(T,this.serializeUrl(I),D,Y);r.next(ie);const ue=$0(I,this.rootComponentType).snapshot;return(0,ot.of)(qt(qe({},h),{targetSnapshot:ue,urlAfterRedirects:I,extras:qt(qe({},X),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),ji.E}),eg(h=>{const{targetSnapshot:g,id:y,extractedUrl:b,rawUrl:x,extras:{skipLocationChange:T,replaceUrl:I}}=h;return this.hooks.beforePreactivation(g,{navigationId:y,appliedUrlTree:b,rawUrlTree:x,skipLocationChange:!!T,replaceUrl:!!I})}),mn(h=>{const g=new x0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,_t.U)(h=>qt(qe({},h),{guards:Xl(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function(t,i){return(0,Zn.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:f}}=e;return 0===f.length&&0===l.length?(0,ot.of)(qt(qe({},e),{guardsResult:!0})):function(t,i,e,r){return(0,ni.D)(t).pipe((0,Zn.z)(a=>function(t,i,e,r,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,ot.of)(!0);const f=l.map(h=>{const g=Sf(h,i,a);let y;if(function(t){return t&&yr(t.canDeactivate)}(g))y=qi(g.canDeactivate(t,i,e,r));else{if(!yr(g))throw new Error("Invalid CanDeactivate guard");y=qi(g(t,i,e,r))}return y.pipe(vs())});return(0,ot.of)(f).pipe(Ha())}(a.component,a.route,e,i,r)),vs(a=>!0!==a,!0))}(f,r,a,t).pipe((0,Zn.z)(h=>h&&function(t){return"boolean"==typeof t}(h)?function(t,i,e,r){return(0,ni.D)(i).pipe((0,Xc.b)(a=>Vl(function(t,i){return null!==t&&i&&i(new PE(t)),(0,ot.of)(!0)}(a.route.parent,r),function(t,i){return null!==t&&i&&i(new I0(t)),(0,ot.of)(!0)}(a.route,r),function(t,i,e){const r=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(f=>function(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(f)).filter(f=>null!==f).map(f=>pf(()=>{const h=f.guards.map(g=>{const y=Sf(g,f.node,e);let b;if(function(t){return t&&yr(t.canActivateChild)}(y))b=qi(y.canActivateChild(r,t));else{if(!yr(y))throw new Error("Invalid CanActivateChild guard");b=qi(y(r,t))}return b.pipe(vs())});return(0,ot.of)(h).pipe(Ha())}));return(0,ot.of)(l).pipe(Ha())}(t,a.path,e),function(t,i,e){const r=i.routeConfig?i.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ot.of)(!0);const a=r.map(l=>pf(()=>{const f=Sf(l,i,e);let h;if(function(t){return t&&yr(t.canActivate)}(f))h=qi(f.canActivate(i,t));else{if(!yr(f))throw new Error("Invalid CanActivate guard");h=qi(f(i,t))}return h.pipe(vs())}));return(0,ot.of)(a).pipe(Ha())}(t,a.route,e))),vs(a=>!0!==a,!0))}(r,l,t,i):(0,ot.of)(h)),(0,_t.U)(h=>qt(qe({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),mn(h=>{if(qa(h.guardsResult)){const y=N_(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const g=new w0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),(0,ti.h)(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),eg(h=>{if(h.guards.canActivateChecks.length)return(0,ot.of)(h).pipe(mn(g=>{const y=new E0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,Di.w)(g=>{let y=!1;return(0,ot.of)(g).pipe(function(t,i){return(0,Zn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,ot.of)(e);let l=0;return(0,ni.D)(a).pipe((0,Xc.b)(f=>function(t,i,e,r){return function(t,i,e,r){const a=Object.keys(t);if(0===a.length)return(0,ot.of)({});const l={};return(0,ni.D)(a).pipe((0,Zn.z)(f=>function(t,i,e,r){const a=Sf(t,i,r);return qi(a.resolve?a.resolve(i,e):a(i,e))}(t[f],i,e,r).pipe(mn(h=>{l[f]=h}))),_f(1),(0,Zn.z)(()=>Object.keys(l).length===a.length?(0,ot.of)(l):ji.E))}(t._resolve,t,i,r).pipe((0,_t.U)(l=>(t._resolvedData=l,t.data=qe(qe({},t.data),H0(t,e).resolve),null)))}(f.route,r,t,i)),mn(()=>l++),_f(1),(0,Zn.z)(f=>l===a.length?(0,ot.of)(e):ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),mn({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),mn(g=>{const y=new T0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}))}),eg(h=>{const{targetSnapshot:g,id:y,extractedUrl:b,rawUrl:x,extras:{skipLocationChange:T,replaceUrl:I}}=h;return this.hooks.afterPreactivation(g,{navigationId:y,appliedUrlTree:b,rawUrlTree:x,skipLocationChange:!!T,replaceUrl:!!I})}),(0,_t.U)(h=>{const g=function(t,i,e){const r=Ba(t,i._root,e?e._root:void 0);return new q0(r,i)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return qt(qe({},h),{targetRouterState:g})}),mn(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((t,i,e)=>(0,_t.U)(r=>(new Ef(i,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),mn({next(){l=!0},complete(){l=!0}}),function(t){return(0,On.e)((i,e)=>{try{i.subscribe(e)}finally{e.add(t)}})}(()=>{var h;l||f||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(h=this.currentNavigation)?void 0:h.id)===a.id&&(this.currentNavigation=null)}),(0,_o.K)(h=>{if(f=!0,function(t){return t&&t[R_]}(h)){const g=qa(h.url);g||(this.navigated=!0,this.restoreHistory(a,!0));const y=new O_(a.id,this.serializeUrl(a.extractedUrl),h.message);r.next(y),g?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ya(a.source)};this.scheduleNavigation(b,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const g=new b0(a.id,this.serializeUrl(a.extractedUrl),h);r.next(g);try{a.resolve(this.errorHandler(h))}catch(y){a.reject(y)}}return ji.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(qe(qe({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var h;const a={replaceUrl:!0},l=(null==(h=e.state)?void 0:h.navigationId)?e.state:null;if(l){const g=qe({},l);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,l,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ov(e),this.config=e.map(Qa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:h,preserveFragment:g}=r,y=a||this.routerState.root,b=g?this.currentUrlTree.fragment:f;let x=null;switch(h){case"merge":x=qe(qe({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function(t,i,e,r,a){if(0===e.length)return wf(i.root,i.root,i,r,a);const l=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ho(!0,0,t);let i=0,e=!1;const r=t.reduce((a,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const h={};return zn(l.outlets,(g,y)=>{h[y]="string"==typeof g?g.split("/"):g}),[...a,{outlets:h}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===f?(l.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?i++:""!=h&&a.push(h))}),a):[...a,l]},[]);return new Ho(e,i,r)}(e);if(l.toRoot())return wf(i.root,new Ct([],{}),i,r,a);const f=function(t,i,e){if(t.isAbsolute)return new H_(i.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new H_(l,l===i.root,0)}const r=zl(t.commands[0])?0:1;return function(t,i,e){let r=t,a=i,l=e;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new H_(r,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(l,i,t),h=f.processChildren?Ql(f.segmentGroup,f.index,l.commands):$E(f.segmentGroup,f.index,l.commands);return wf(f.segmentGroup,h,i,r,a)}(y,this.currentUrlTree,e,x,null!=b?b:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=qa(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(t){for(let i=0;i<t.length;i++){const e=t[i];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${i}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?qe({},xv):!1===r?qe({},rg):r,qa(e))return P0(this.currentUrlTree,e,a);const l=this.parseUrl(e);return P0(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const l=e[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,l,f){var ie,ue,Ee;if(this.disposed)return Promise.resolve(!1);const h=this.transitions.value,g=Ya(r)&&h&&!Ya(h.source),y=h.rawUrl.toString()===e.toString(),b=h.id===(null==(ie=this.currentNavigation)?void 0:ie.id);if(g&&y&&b)return Promise.resolve(!0);let T,I,D;f?(T=f.resolve,I=f.reject,D=f.promise):D=new Promise(($,Ze)=>{T=$,I=Ze});const Y=++this.navigationId;let X;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),X=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!=(ue=this.browserPageId)?ue:0:(null!=(Ee=this.browserPageId)?Ee:0)+1):X=0,this.setTransition({id:Y,targetPageId:X,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:T,reject:I,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch($=>Promise.reject($))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),l=qe(qe({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null==(l=this.currentNavigation)?void 0:l.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new O_(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){n.$Z()},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function Ya(t){return"imperative"!==t}let Mf=(()=>{class t{constructor(e,r,a,l,f){this.router=e,this.route=r,this.tabIndexAttribute=a,this.renderer=l,this.el=f,this.commands=null,this.onChanges=new ho.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==e?r.setAttribute(a,"tabindex",e):r.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Ga(this.skipLocationChange),replaceUrl:Ga(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ga(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(oi),n.Y36(xs),n.$8M("tabindex"),n.Y36(n.Qsj),n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&n.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[n.TTD]}),t})(),Of=(()=>{class t{constructor(e,r,a){this.router=e,this.route=r,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new ho.x,this.subscription=e.events.subscribe(l=>{l instanceof qo&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,a,l,f){if(0!==e||r||a||l||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Ga(this.skipLocationChange),replaceUrl:Ga(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ga(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(oi),n.Y36(xs),n.Y36(Ve))},t.\u0275dir=n.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&n.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&n.uIk("target",r.target)("href",r.href,n.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[n.TTD]}),t})();function Ga(t){return""===t||!!t}let og=(()=>{class t{constructor(e,r,a,l,f,h){this.router=e,this.element=r,this.renderer=a,this.cdr=l,this.link=f,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new n.vpe,this.routerEventsSubscription=e.events.subscribe(g=>{g instanceof qo&&this.update()})}ngAfterContentInit(){(0,ot.of)(this.links.changes,this.linksWithHrefs.changes,(0,ot.of)(null)).pipe((0,T_.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null==(r=this.linkInputChangesSubscription)||r.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,ni.D)(e).pipe((0,T_.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null==(e=this.linkInputChangesSubscription)||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&e.isActive(a.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(oi),n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(Mf,8),n.Y36(Of,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,a){if(1&e&&(n.Suo(a,Mf,5),n.Suo(a,Of,5)),2&e){let l;n.iGM(l=n.CRH())&&(r.links=l),n.iGM(l=n.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[n.TTD]}),t})();class sg{}class Ev{preload(i,e){return(0,ot.of)(null)}}let ws=(()=>{class t{constructor(e,r,a,l){this.router=e,this.injector=a,this.preloadingStrategy=l,this.loader=new ng(a,r,g=>e.triggerEvent(new P_(g)),g=>e.triggerEvent(new OE(g)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ti.h)(e=>e instanceof qo),(0,Xc.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(n.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,ni.D)(a).pipe((0,T_.J)(),(0,_t.U)(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,ot.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Zn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(oi),n.LFG(n.Sil),n.LFG(n.zs3),n.LFG(sg))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Tv=(()=>{class t{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof yn&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new yn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){n.$Z()},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const jr=new n.OlP("ROUTER_CONFIGURATION"),Sv=new n.OlP("ROUTER_FORROOT_GUARD"),Ka=[Oe,{provide:V_,useClass:R0},{provide:oi,useFactory:function(t,i,e,r,a,l,f={},h,g){const y=new oi(null,t,i,e,r,a,F_(l));return h&&(y.urlHandlingStrategy=h),g&&(y.routeReuseStrategy=g),function(t,i){t.errorHandler&&(i.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(i.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(i.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(i.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(i.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(i.canceledNavigationResolution=t.canceledNavigationResolution)}(f,y),f.enableTracing&&y.events.subscribe(b=>{var x,T;null==(x=console.group)||x.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null==(T=console.groupEnd)||T.call(console)}),y},deps:[V_,Jl,Oe,n.zs3,n.Sil,tg,jr,[class{},new n.FiY],[class{},new n.FiY]]},Jl,{provide:xs,useFactory:function(t){return t.routerState.root},deps:[oi]},ws,Ev,class{preload(i,e){return e().pipe((0,_o.K)(()=>(0,ot.of)(null)))}},{provide:jr,useValue:{enableTracing:!1}}];function wT(){return new n.PXZ("Router",oi)}let ET=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[Ka,IT(e),{provide:Sv,useFactory:Dv,deps:[[oi,new n.FiY,new n.tp0]]},{provide:jr,useValue:r||{}},{provide:Ve,useFactory:qr,deps:[F,[new n.tBr(ve),new n.FiY],jr]},{provide:Tv,useFactory:TT,deps:[oi,ax,jr]},{provide:sg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ev},{provide:n.PXZ,multi:!0,useFactory:wT},[Av,{provide:n.ip1,multi:!0,useFactory:AT,deps:[Av]},{provide:Mv,useFactory:MT,deps:[Av]},{provide:n.tb,multi:!0,useExisting:Mv}]]}}static forChild(e){return{ngModule:t,providers:[IT(e)]}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Sv,8),n.LFG(oi,8))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();function TT(t,i,e){return e.scrollOffset&&i.setOffset(e.scrollOffset),new Tv(t,i,e)}function qr(t,i,e={}){return e.useHash?new ye(t,i):new Te(t,i)}function Dv(t){return"guarded"}function IT(t){return[{provide:n.deG,multi:!0,useValue:t},{provide:tg,multi:!0,useValue:t}]}let Av=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ho.x}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(h=>r=h),l=this.injector.get(oi),f=this.injector.get(jr);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(jr),a=this.injector.get(ws),l=this.injector.get(Tv),f=this.injector.get(oi),h=this.injector.get(n.z2F);e===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),l.init(),f.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.zs3))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function AT(t){return t.appInitializer.bind(t)}function MT(t){return t.bootstrapListener.bind(t)}const Mv=new n.OlP("Router Initializer");function Rf(t,i){let e=0;if(void 0===i)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let a of t)(a=+i(a,++r,t))&&(e+=a)}return e}function Es(t,i){let e;if(void 0===i)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let a of t)null!=(a=i(a,++r,t))&&(e<a||void 0===e&&a>=a)&&(e=a)}return e}function nu(t,i){let e;if(void 0===i)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let a of t)null!=(a=i(a,++r,t))&&(e>a||void 0===e&&a>=a)&&(e=a)}return e}function iu(t){return t.target.depth}function PT(t){return t.depth}function Ov(t,i){return i-1-t.height}function cg(t,i){return t.sourceLinks.length?t.depth:i-1}function RT(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?nu(t.sourceLinks,iu)-1:0}function Nf(t){return function(){return t}}function Pv(t,i){return kf(t.source,i.source)||t.index-i.index}function Ff(t,i){return kf(t.target,i.target)||t.index-i.index}function kf(t,i){return t.y0-i.y0}function Rv(t){return t.value}function NT(t){return t.index}function FT(t){return t.nodes}function Ts(t){return t.links}function lg(t,i){const e=t.get(i);if(!e)throw new Error("missing: "+i);return e}function Is({nodes:t}){for(const i of t){let e=i.y0,r=e;for(const a of i.sourceLinks)a.y0=e+a.width/2,e+=a.width;for(const a of i.targetLinks)a.y1=r+a.width/2,r+=a.width}}function oM(){let f,y,b,t=0,i=0,e=1,r=1,a=24,l=8,h=NT,g=cg,x=FT,T=Ts,I=6;function D(){const he={nodes:x.apply(null,arguments),links:T.apply(null,arguments)};return Y(he),X(he),ie(he),ue(he),Ze(he),Is(he),he}function Y({nodes:he,links:se}){for(const[R,K]of he.entries())K.index=R,K.sourceLinks=[],K.targetLinks=[];const G=new Map(he.map((R,K)=>[h(R,K,he),R]));for(const[R,K]of se.entries()){K.index=R;let{source:xe,target:et}=K;"object"!=typeof xe&&(xe=K.source=lg(G,xe)),"object"!=typeof et&&(et=K.target=lg(G,et)),xe.sourceLinks.push(K),et.targetLinks.push(K)}if(null!=b)for(const{sourceLinks:R,targetLinks:K}of he)R.sort(b),K.sort(b)}function X({nodes:he}){for(const se of he)se.value=void 0===se.fixedValue?Math.max(Rf(se.sourceLinks,Rv),Rf(se.targetLinks,Rv)):se.fixedValue}function ie({nodes:he}){const se=he.length;let G=new Set(he),R=new Set,K=0;for(;G.size;){for(const xe of G){xe.depth=K;for(const{target:et}of xe.sourceLinks)R.add(et)}if(++K>se)throw new Error("circular link");G=R,R=new Set}}function ue({nodes:he}){const se=he.length;let G=new Set(he),R=new Set,K=0;for(;G.size;){for(const xe of G){xe.height=K;for(const{source:et}of xe.targetLinks)R.add(et)}if(++K>se)throw new Error("circular link");G=R,R=new Set}}function Ze(he){const se=function({nodes:he}){const se=Es(he,K=>K.depth)+1,G=(e-t-a)/(se-1),R=new Array(se);for(const K of he){const xe=Math.max(0,Math.min(se-1,Math.floor(g.call(null,K,se))));K.layer=xe,K.x0=t+xe*G,K.x1=K.x0+a,R[xe]?R[xe].push(K):R[xe]=[K]}if(y)for(const K of R)K.sort(y);return R}(he);f=Math.min(l,(r-i)/(Es(se,G=>G.length)-1)),function(he){const se=nu(he,G=>(r-i-(G.length-1)*f)/Rf(G,Rv));for(const G of he){let R=i;for(const K of G){K.y0=R,K.y1=R+K.value*se,R=K.y1+f;for(const xe of K.sourceLinks)xe.width=xe.value*se}R=(r-R+f)/(G.length+1);for(let K=0;K<G.length;++K){const xe=G[K];xe.y0+=R*(K+1),xe.y1+=R*(K+1)}nt(G)}}(se);for(let G=0;G<I;++G){const R=Math.pow(.99,G),K=Math.max(1-R,(G+1)/I);oe(se,R,K),ce(se,R,K)}}function ce(he,se,G){for(let R=1,K=he.length;R<K;++R){const xe=he[R];for(const et of xe){let He=0,dn=0;for(const{source:Fu,value:tr}of et.targetLinks){let To=tr*(et.layer-Fu.layer);He+=Wt(Fu,et)*To,dn+=To}if(!(dn>0))continue;let jt=(He/dn-et.y0)*se;et.y0+=jt,et.y1+=jt,Le(et)}void 0===y&&xe.sort(kf),Se(xe,G)}}function oe(he,se,G){for(let K=he.length-2;K>=0;--K){const xe=he[K];for(const et of xe){let He=0,dn=0;for(const{target:Fu,value:tr}of et.sourceLinks){let To=tr*(Fu.layer-et.layer);He+=In(et,Fu)*To,dn+=To}if(!(dn>0))continue;let jt=(He/dn-et.y0)*se;et.y0+=jt,et.y1+=jt,Le(et)}void 0===y&&xe.sort(kf),Se(xe,G)}}function Se(he,se){const G=he.length>>1,R=he[G];Me(he,R.y0-f,G-1,se),Ne(he,R.y1+f,G+1,se),Me(he,r,he.length-1,se),Ne(he,i,0,se)}function Ne(he,se,G,R){for(;G<he.length;++G){const K=he[G],xe=(se-K.y0)*R;xe>1e-6&&(K.y0+=xe,K.y1+=xe),se=K.y1+f}}function Me(he,se,G,R){for(;G>=0;--G){const K=he[G],xe=(K.y1-se)*R;xe>1e-6&&(K.y0-=xe,K.y1-=xe),se=K.y0-f}}function Le({sourceLinks:he,targetLinks:se}){if(void 0===b){for(const{source:{sourceLinks:G}}of se)G.sort(Ff);for(const{target:{targetLinks:G}}of he)G.sort(Pv)}}function nt(he){if(void 0===b)for(const{sourceLinks:se,targetLinks:G}of he)se.sort(Ff),G.sort(Pv)}function Wt(he,se){let G=he.y0-(he.sourceLinks.length-1)*f/2;for(const{target:R,width:K}of he.sourceLinks){if(R===se)break;G+=K+f}for(const{source:R,width:K}of se.targetLinks){if(R===he)break;G-=K}return G}function In(he,se){let G=se.y0-(se.targetLinks.length-1)*f/2;for(const{source:R,width:K}of se.targetLinks){if(R===he)break;G+=K+f}for(const{target:R,width:K}of he.sourceLinks){if(R===se)break;G-=K}return G}return D.update=function(he){return Is(he),he},D.nodeId=function(he){return arguments.length?(h="function"==typeof he?he:Nf(he),D):h},D.nodeAlign=function(he){return arguments.length?(g="function"==typeof he?he:Nf(he),D):g},D.nodeSort=function(he){return arguments.length?(y=he,D):y},D.nodeWidth=function(he){return arguments.length?(a=+he,D):a},D.nodePadding=function(he){return arguments.length?(l=f=+he,D):l},D.nodes=function(he){return arguments.length?(x="function"==typeof he?he:Nf(he),D):x},D.links=function(he){return arguments.length?(T="function"==typeof he?he:Nf(he),D):T},D.linkSort=function(he){return arguments.length?(b=he,D):b},D.size=function(he){return arguments.length?(t=i=0,e=+he[0],r=+he[1],D):[e-t,r-i]},D.extent=function(he){return arguments.length?(t=+he[0][0],e=+he[1][0],i=+he[0][1],r=+he[1][1],D):[[t,i],[e,r]]},D.iterations=function(he){return arguments.length?(I=+he,D):I},D}var Lf=Math.PI,ug=2*Lf,Xa=1e-6,dg=ug-Xa;function Nv(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function kT(){return new Nv}Nv.prototype=kT.prototype={constructor:Nv,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,e,r){this._+="Q"+ +t+","+ +i+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,i,e,r,a,l){this._+="C"+ +t+","+ +i+","+ +e+","+ +r+","+(this._x1=+a)+","+(this._y1=+l)},arcTo:function(t,i,e,r,a){var l=this._x1,f=this._y1,h=(e=+e)-(t=+t),g=(r=+r)-(i=+i),y=l-t,b=f-i,x=y*y+b*b;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(x>Xa)if(Math.abs(b*h-g*y)>Xa&&a){var T=e-l,I=r-f,D=h*h+g*g,Y=T*T+I*I,X=Math.sqrt(D),ie=Math.sqrt(x),ue=a*Math.tan((Lf-Math.acos((D+x-Y)/(2*X*ie)))/2),Ee=ue/ie,$=ue/X;Math.abs(Ee-1)>Xa&&(this._+="L"+(t+Ee*y)+","+(i+Ee*b)),this._+="A"+a+","+a+",0,0,"+ +(b*T>y*I)+","+(this._x1=t+$*h)+","+(this._y1=i+$*g)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,i,e,r,a,l){t=+t,i=+i,l=!!l;var f=(e=+e)*Math.cos(r),h=e*Math.sin(r),g=t+f,y=i+h,b=1^l,x=l?r-a:a-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+g+","+y:(Math.abs(this._x1-g)>Xa||Math.abs(this._y1-y)>Xa)&&(this._+="L"+g+","+y),e&&(x<0&&(x=x%ug+ug),x>dg?this._+="A"+e+","+e+",0,1,"+b+","+(t-f)+","+(i-h)+"A"+e+","+e+",0,1,"+b+","+(this._x1=g)+","+(this._y1=y):x>Xa&&(this._+="A"+e+","+e+",0,"+ +(x>=Lf)+","+b+","+(this._x1=t+e*Math.cos(a))+","+(this._y1=i+e*Math.sin(a))))},rect:function(t,i,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const sM=kT;var t,Fv=Array.prototype.slice;function Zf(t){return function(){return t}}function LT(t){return t[0]}function ZT(t){return t[1]}function BT(t){return t.source}function VT(t){return t.target}function UT(t,i,e,r,a){t.moveTo(i,e),t.bezierCurveTo(i=(i+r)/2,e,i,a,r,a)}function kv(){return function(t){var i=BT,e=VT,r=LT,a=ZT,l=null;function f(){var h,g=Fv.call(arguments),y=i.apply(this,g),b=e.apply(this,g);if(l||(l=h=sM()),t(l,+r.apply(this,(g[0]=y,g)),+a.apply(this,g),+r.apply(this,(g[0]=b,g)),+a.apply(this,g)),h)return l=null,h+""||null}return f.source=function(h){return arguments.length?(i=h,f):i},f.target=function(h){return arguments.length?(e=h,f):e},f.x=function(h){return arguments.length?(r="function"==typeof h?h:Zf(+h),f):r},f.y=function(h){return arguments.length?(a="function"==typeof h?h:Zf(+h),f):a},f.context=function(h){return arguments.length?(l=null==h?null:h,f):l},f}(UT)}function Lv(t){return[t.source.x1,t.y0]}function Zv(t){return[t.target.x0,t.y1]}function pg(){return kv().source(Lv).target(Zv)}function ru(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}function Ss(t,i){var a,l,e=t.length,r=-1;if(null==i){for(;++r<e;)if(null!=(a=t[r])&&a>=a)for(l=a;++r<e;)null!=(a=t[r])&&a>l&&(l=a)}else for(;++r<e;)if(null!=(a=i(t[r],r,t))&&a>=a)for(l=a;++r<e;)null!=(a=i(t[r],r,t))&&a>l&&(l=a);return l}function qv(t){return null===t?NaN:+t}function $v(t,i){var l,e=t.length,r=e,a=-1,f=0;if(null==i)for(;++a<e;)isNaN(l=qv(t[a]))?--r:f+=l;else for(;++a<e;)isNaN(l=qv(i(t[a],a,t)))?--r:f+=l;if(r)return f/r}function _g(t,i){var a,l,e=t.length,r=-1;if(null==i){for(;++r<e;)if(null!=(a=t[r])&&a>=a)for(l=a;++r<e;)null!=(a=t[r])&&l>a&&(l=a)}else for(;++r<e;)if(null!=(a=i(t[r],r,t))&&a>=a)for(l=a;++r<e;)null!=(a=i(t[r],r,t))&&l>a&&(l=a);return l}function ec(t,i){var a,e=t.length,r=-1,l=0;if(null==i)for(;++r<e;)(a=+t[r])&&(l+=a);else for(;++r<e;)(a=+i(t[r],r,t))&&(l+=a);return l}1===(t=ru).length&&(t=function(t){return function(i,e){return ru(t(i),e)}}(t)),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var zi="$";function gg(){}function Hv(t,i){var e=new gg;if(t instanceof gg)t.each(function(h,g){e.set(g,h)});else if(Array.isArray(t)){var l,r=-1,a=t.length;if(null==i)for(;++r<a;)e.set(r,t[r]);else for(;++r<a;)e.set(i(l=t[r],r,t),l)}else if(t)for(var f in t)e.set(f,t[f]);return e}gg.prototype=Hv.prototype={constructor:gg,has:function(t){return zi+t in this},get:function(t){return this[zi+t]},set:function(t,i){return this[zi+t]=i,this},remove:function(t){var i=zi+t;return i in this&&delete this[i]},clear:function(){for(var t in this)t[0]===zi&&delete this[t]},keys:function(){var t=[];for(var i in this)i[0]===zi&&t.push(i.slice(1));return t},values:function(){var t=[];for(var i in this)i[0]===zi&&t.push(this[i]);return t},entries:function(){var t=[];for(var i in this)i[0]===zi&&t.push({key:i.slice(1),value:this[i]});return t},size:function(){var t=0;for(var i in this)i[0]===zi&&++t;return t},empty:function(){for(var t in this)if(t[0]===zi)return!1;return!0},each:function(t){for(var i in this)i[0]===zi&&t(this[i],i.slice(1),this)}};const Ds=Hv;function zv(){var e,r,a,t=[],i=[];function l(h,g,y,b){if(g>=t.length)return null!=e&&h.sort(e),null!=r?r(h):h;for(var D,Y,ie,x=-1,T=h.length,I=t[g++],X=Ds(),ue=y();++x<T;)(ie=X.get(D=I(Y=h[x])+""))?ie.push(Y):X.set(D,[Y]);return X.each(function(Ee,$){b(ue,$,l(Ee,g,y,b))}),ue}function f(h,g){if(++g>t.length)return h;var y,b=i[g-1];return null!=r&&g>=t.length?y=h.entries():(y=[],h.each(function(x,T){y.push({key:T,values:f(x,g)})})),null!=b?y.sort(function(x,T){return b(x.key,T.key)}):y}return a={object:function(h){return l(h,0,zT,Qv)},map:function(h){return l(h,0,mg,jf)},entries:function(h){return f(l(h,0,mg,jf),0)},key:function(h){return t.push(h),a},sortKeys:function(h){return i[t.length-1]=h,a},sortValues:function(h){return e=h,a},rollup:function(h){return r=h,a}}}function zT(){return{}}function Qv(t,i,e){t[i]=e}function mg(){return Ds()}function jf(t,i,e){t.set(i,e)}function su(){}var As=Ds.prototype;su.prototype=function(t,i){var e=new su;if(t instanceof su)t.each(function(l){e.add(l)});else if(t){var r=-1,a=t.length;if(null==i)for(;++r<a;)e.add(t[r]);else for(;++r<a;)e.add(i(t[r],r,t))}return e}.prototype={constructor:su,has:As.has,add:function(t){return this[zi+(t+="")]=t,this},remove:As.remove,clear:As.clear,values:As.keys,size:As.size,empty:As.empty,each:As.each};var yg=E(4007),vg=E.n(yg);function JT(t,i){return t.sourceLinks.length?t.depth:i-1}function qf(t){return function(){return t}}var Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Kv(t,i){return au(t.source,i.source)||t.index-i.index}function bg(t,i){return au(t.target,i.target)||t.index-i.index}function au(t,i){return t.partOfCycle===i.partOfCycle?t.y0-i.y0:"top"===t.circularLinkType||"bottom"===i.circularLinkType?-1:1}function $f(t){return t.value}function Hf(t){return(t.y0+t.y1)/2}function Xv(t){return Hf(t.source)}function WT(t){return Hf(t.target)}function eb(t){return t.index}function tb(t){return t.nodes}function YT(t){return t.links}function Cg(t,i){var e=t.get(i);if(!e)throw new Error("missing: "+i);return e}function Bn(t,i){return i(t)}function KT(){var l,T,t=0,i=0,e=1,r=1,a=24,f=eb,h=JT,g=tb,y=YT,b=32,x=2,I=null;function D(){var ce={nodes:g.apply(null,arguments),links:y.apply(null,arguments)};Y(ce),hM(ce,0,I),X(ce),Ee(ce),tc(ce,f),$(ce,b,f),Ze(ce);for(var oe=4,Se=0;Se<oe;Se++)du(ce,r,f),Dg(ce,0,f),ab(ce,i,r,f),du(ce,r,f),Dg(ce,0,f);return tI(ce,i,l),lb(ce,i,r),rb(ce,x,r,f),ce}function Y(ce){ce.nodes.forEach(function(Se,Ne){Se.index=Ne,Se.sourceLinks=[],Se.targetLinks=[]});var oe=Ds(ce.nodes,f);return ce.links.forEach(function(Se,Ne){Se.index=Ne;var Me=Se.source,Le=Se.target;"object"!==(void 0===Me?"undefined":Gv(Me))&&(Me=Se.source=Cg(oe,Me)),"object"!==(void 0===Le?"undefined":Gv(Le))&&(Le=Se.target=Cg(oe,Le)),Me.sourceLinks.push(Se),Le.targetLinks.push(Se)}),ce}function X(ce){ce.nodes.forEach(function(oe){oe.partOfCycle=!1,oe.value=Math.max(ec(oe.sourceLinks,$f),ec(oe.targetLinks,$f)),oe.sourceLinks.forEach(function(Se){Se.circular&&(oe.partOfCycle=!0,oe.circularLinkType=Se.circularLinkType)}),oe.targetLinks.forEach(function(Se){Se.circular&&(oe.partOfCycle=!0,oe.circularLinkType=Se.circularLinkType)})})}function Ee(ce){var oe,Se,Ne;for(oe=ce.nodes,Se=[],Ne=0;oe.length;++Ne,oe=Se,Se=[])oe.forEach(function(Me){Me.depth=Ne,Me.sourceLinks.forEach(function(Le){Se.indexOf(Le.target)<0&&!Le.circular&&Se.push(Le.target)})});for(oe=ce.nodes,Se=[],Ne=0;oe.length;++Ne,oe=Se,Se=[])oe.forEach(function(Me){Me.height=Ne,Me.targetLinks.forEach(function(Le){Se.indexOf(Le.source)<0&&!Le.circular&&Se.push(Le.source)})});ce.nodes.forEach(function(Me){Me.column=null!==I?Me[I]:Math.floor(h.call(null,Me,Ne))})}function $(ce,oe,Se){var Ne=zv().key(function(he){return he.column}).sortKeys(ru).entries(ce.nodes).map(function(he){return he.values});(function(he){if(T){var se=1/0;Ne.forEach(function(xe){var et=r*T/(xe.length+1);se=et<se?et:se}),l=se}var G=_g(Ne,function(xe){return(r-i-(xe.length-1)*l)/ec(xe,$f)});G*=.3,ce.links.forEach(function(xe){xe.width=xe.value*G});var R=function(ce){var oe=0,Se=0,Ne=0,Me=0,Le=Ss(ce.nodes,function(nt){return nt.column});return ce.links.forEach(function(nt){nt.circular&&("top"==nt.circularLinkType?oe+=nt.width:Se+=nt.width,0==nt.target.column&&(Me+=nt.width),nt.source.column==Le&&(Ne+=nt.width))}),{top:oe=oe>0?oe+25+10:oe,bottom:Se=Se>0?Se+25+10:Se,left:Me=Me>0?Me+25+10:Me,right:Ne=Ne>0?Ne+25+10:Ne}}(ce),K=function(ce,oe){var Se=Ss(ce.nodes,function(he){return he.column}),Ne=e-t,Me=r-i,Wt=Ne/(Ne+oe.right+oe.left),In=Me/(Me+oe.top+oe.bottom);return t=t*Wt+oe.left,e=0==oe.right?e:e*Wt,i=i*In+oe.top,r*=In,ce.nodes.forEach(function(he){he.x0=t+he.column*((e-t-a)/Se),he.x1=he.x0+a}),In}(ce,R);G*=K,ce.links.forEach(function(xe){xe.width=xe.value*G}),Ne.forEach(function(xe){var et=xe.length;xe.forEach(function(He,dn){He.depth==Ne.length-1&&1==et||0==He.depth&&1==et?(He.y0=r/2-He.value*G,He.y1=He.y0+He.value*G):He.partOfCycle?0==function(t,i){var e=0;t.sourceLinks.forEach(function(a){e=a.circular&&!nc(a,i)?e+1:e});var r=0;return t.targetLinks.forEach(function(a){r=a.circular&&!nc(a,i)?r+1:r}),e+r}(He,he)?(He.y0=r/2+dn,He.y1=He.y0+He.value*G):"top"==He.circularLinkType?(He.y0=i+dn,He.y1=He.y0+He.value*G):(He.y0=r-He.value*G-dn,He.y1=He.y0+He.value*G):0==R.top||0==R.bottom?(He.y0=(r-i)/et*dn,He.y1=He.y0+He.value*G):(He.y0=(r-i)/2-et/2+dn,He.y1=He.y0+He.value*G)})})})(Se),In();for(var Me=1,Le=oe;Le>0;--Le)Wt(Me*=.99),In();function Wt(he){Ne.forEach(function(se){se.forEach(function(G){var R;if(G.sourceLinks.length||G.targetLinks.length){G.y0=r/2-(R=G.y1-G.y0)/2,G.y1=r/2+R/2;var xe=$v(G.sourceLinks,WT),et=$v(G.targetLinks,Xv),He=((xe&&et?(xe+et)/2:xe||et)-Hf(G))*he;G.y0+=He,G.y1+=He}})})}function In(){Ne.forEach(function(he){var se,G,xe,R=i,K=he.length;for(he.sort(au),xe=0;xe<K;++xe)(G=R-(se=he[xe]).y0)>0&&(se.y0+=G,se.y1+=G),R=se.y1+l;if((G=R-l-r)>0)for(R=se.y0-=G,se.y1-=G,xe=K-2;xe>=0;--xe)(G=(se=he[xe]).y1+l-R)>0&&(se.y0-=G,se.y1-=G),R=se.y0})}}function Ze(ce){ce.nodes.forEach(function(oe){oe.sourceLinks.sort(bg),oe.targetLinks.sort(Kv)}),ce.nodes.forEach(function(oe){var Se=oe.y0,Ne=Se,Me=oe.y1,Le=Me;oe.sourceLinks.forEach(function(nt){nt.circular?(nt.y0=Me-nt.width/2,Me-=nt.width):(nt.y0=Se+nt.width/2,Se+=nt.width)}),oe.targetLinks.forEach(function(nt){nt.circular?(nt.y1=Le-nt.width/2,Le-=nt.width):(nt.y1=Ne+nt.width/2,Ne+=nt.width)})})}return D.nodeId=function(ce){return arguments.length?(f="function"==typeof ce?ce:qf(ce),D):f},D.nodeAlign=function(ce){return arguments.length?(h="function"==typeof ce?ce:qf(ce),D):h},D.nodeWidth=function(ce){return arguments.length?(a=+ce,D):a},D.nodePadding=function(ce){return arguments.length?(l=+ce,D):l},D.nodes=function(ce){return arguments.length?(g="function"==typeof ce?ce:qf(ce),D):g},D.links=function(ce){return arguments.length?(y="function"==typeof ce?ce:qf(ce),D):y},D.size=function(ce){return arguments.length?(t=i=0,e=+ce[0],r=+ce[1],D):[e-t,r-i]},D.extent=function(ce){return arguments.length?(t=+ce[0][0],e=+ce[1][0],i=+ce[0][1],r=+ce[1][1],D):[[t,i],[e,r]]},D.iterations=function(ce){return arguments.length?(b=+ce,D):b},D.circularLinkGap=function(ce){return arguments.length?(x=+ce,D):x},D.nodePaddingRatio=function(ce){return arguments.length?(T=+ce,D):T},D.sortNodes=function(ce){return arguments.length?(I=ce,D):I},D.update=function(ce){return tc(ce,f),Ze(ce),ce.links.forEach(function(oe){oe.circular&&(oe.circularLinkType=oe.y0+oe.y1<r?"top":"bottom",oe.source.circularLinkType=oe.circularLinkType,oe.target.circularLinkType=oe.circularLinkType)}),du(ce,r,f,!1),Dg(ce,0,f),rb(ce,x,r,f),ce},D}function hM(t,i,e){var r=0;if(null===e){for(var a=[],l=0;l<t.links.length;l++){var f=t.links[l],h=f.source.index,g=f.target.index;a[h]||(a[h]=[]),a[g]||(a[g]=[]),-1===a[h].indexOf(g)&&a[h].push(g)}var y=vg()(a);y.sort(function(I,D){return I.length-D.length});var b={};for(l=0;l<y.length;l++){var T=y[l].slice(-2);b[T[0]]||(b[T[0]]={}),b[T[0]][T[1]]=!0}t.links.forEach(function(I){var D=I.target.index,Y=I.source.index;D===Y||b[Y]&&b[Y][D]?(I.circular=!0,I.circularLinkID=r,r+=1):I.circular=!1})}else t.links.forEach(function(I){I.source[e]<I.target[e]?I.circular=!1:(I.circular=!0,I.circularLinkID=r,r+=1)})}function tc(t,i){var e=0,r=0;t.links.forEach(function(a){a.circular&&(a.circularLinkType=a.source.circularLinkType||a.target.circularLinkType?a.source.circularLinkType?a.source.circularLinkType:a.target.circularLinkType:e<r?"top":"bottom","top"==a.circularLinkType?e+=1:r+=1,t.nodes.forEach(function(l){(Bn(l,i)==Bn(a.source,i)||Bn(l,i)==Bn(a.target,i))&&(l.circularLinkType=a.circularLinkType)}))}),t.links.forEach(function(a){a.circular&&(a.source.circularLinkType==a.target.circularLinkType&&(a.circularLinkType=a.source.circularLinkType),nc(a,i)&&(a.circularLinkType=a.source.circularLinkType))})}function nb(t){var i=Math.abs(t.y1-t.y0),e=Math.abs(t.target.x0-t.source.x1);return Math.atan(e/i)}function xg(t,i){return!(t.source.column<i.target.column||t.target.column>i.source.column)}function wg(t){var e=0;t.source.sourceLinks.forEach(function(l){e=l.circular?e+1:e});var a=0;return t.target.targetLinks.forEach(function(l){a=l.circular?a+1:a}),!(e>1||a>1)}function ib(t,i,e){return t.sort(ob),t.forEach(function(r,a){var l=0;if(nc(r,e)&&wg(r))r.circularPathData.verticalBuffer=l+r.width/2;else{for(var f=0;f<a;f++)if(xg(t[a],t[f])){var h=t[f].circularPathData.verticalBuffer+t[f].width/2+i;l=h>l?h:l}r.circularPathData.verticalBuffer=l+r.width/2}}),t}function rb(t,i,e,r){var l=_g(t.links,function(g){return g.source.y0});t.links.forEach(function(g){g.circular&&(g.circularPathData={})}),ib(t.links.filter(function(g){return"top"==g.circularLinkType}),i,r),ib(t.links.filter(function(g){return"bottom"==g.circularLinkType}),i,r),t.links.forEach(function(g){if(g.circular){if(g.circularPathData.arcRadius=g.width+10,g.circularPathData.leftNodeBuffer=5,g.circularPathData.rightNodeBuffer=5,g.circularPathData.sourceWidth=g.source.x1-g.source.x0,g.circularPathData.sourceX=g.source.x0+g.circularPathData.sourceWidth,g.circularPathData.targetX=g.target.x0,g.circularPathData.sourceY=g.y0,g.circularPathData.targetY=g.y1,nc(g,r)&&wg(g))g.circularPathData.leftSmallArcRadius=10+g.width/2,g.circularPathData.leftLargeArcRadius=10+g.width/2,g.circularPathData.rightSmallArcRadius=10+g.width/2,g.circularPathData.rightLargeArcRadius=10+g.width/2,"bottom"==g.circularLinkType?(g.circularPathData.verticalFullExtent=g.source.y1+25+g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.rightLargeArcRadius):(g.circularPathData.verticalFullExtent=g.source.y0-25-g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.rightLargeArcRadius);else{var y=g.source.column,b=g.circularLinkType,x=t.links.filter(function(D){return D.source.column==y&&D.circularLinkType==b});x.sort("bottom"==g.circularLinkType?cu:Tg);var T=0;x.forEach(function(D,Y){D.circularLinkID==g.circularLinkID&&(g.circularPathData.leftSmallArcRadius=10+g.width/2+T,g.circularPathData.leftLargeArcRadius=10+g.width/2+Y*i+T),T+=D.width}),y=g.target.column,(x=t.links.filter(function(D){return D.target.column==y&&D.circularLinkType==b})).sort("bottom"==g.circularLinkType?_M:Ig),T=0,x.forEach(function(D,Y){D.circularLinkID==g.circularLinkID&&(g.circularPathData.rightSmallArcRadius=10+g.width/2+T,g.circularPathData.rightLargeArcRadius=10+g.width/2+Y*i+T),T+=D.width}),"bottom"==g.circularLinkType?(g.circularPathData.verticalFullExtent=Math.max(e,g.source.y1,g.target.y1)+25+g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.rightLargeArcRadius):(g.circularPathData.verticalFullExtent=l-25-g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.rightLargeArcRadius)}g.circularPathData.leftInnerExtent=g.circularPathData.sourceX+g.circularPathData.leftNodeBuffer,g.circularPathData.rightInnerExtent=g.circularPathData.targetX-g.circularPathData.rightNodeBuffer,g.circularPathData.leftFullExtent=g.circularPathData.sourceX+g.circularPathData.leftLargeArcRadius+g.circularPathData.leftNodeBuffer,g.circularPathData.rightFullExtent=g.circularPathData.targetX-g.circularPathData.rightLargeArcRadius-g.circularPathData.rightNodeBuffer}if(g.circular)g.path=function(t){return"top"==t.circularLinkType?"M"+t.circularPathData.sourceX+" "+t.circularPathData.sourceY+" L"+t.circularPathData.leftInnerExtent+" "+t.circularPathData.sourceY+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftSmallArcRadius+" 0 0 0 "+t.circularPathData.leftFullExtent+" "+(t.circularPathData.sourceY-t.circularPathData.leftSmallArcRadius)+" L"+t.circularPathData.leftFullExtent+" "+t.circularPathData.verticalLeftInnerExtent+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftLargeArcRadius+" 0 0 0 "+t.circularPathData.leftInnerExtent+" "+t.circularPathData.verticalFullExtent+" L"+t.circularPathData.rightInnerExtent+" "+t.circularPathData.verticalFullExtent+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightLargeArcRadius+" 0 0 0 "+t.circularPathData.rightFullExtent+" "+t.circularPathData.verticalRightInnerExtent+" L"+t.circularPathData.rightFullExtent+" "+(t.circularPathData.targetY-t.circularPathData.rightSmallArcRadius)+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightSmallArcRadius+" 0 0 0 "+t.circularPathData.rightInnerExtent+" "+t.circularPathData.targetY+" L"+t.circularPathData.targetX+" "+t.circularPathData.targetY:"M"+t.circularPathData.sourceX+" "+t.circularPathData.sourceY+" L"+t.circularPathData.leftInnerExtent+" "+t.circularPathData.sourceY+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftSmallArcRadius+" 0 0 1 "+t.circularPathData.leftFullExtent+" "+(t.circularPathData.sourceY+t.circularPathData.leftSmallArcRadius)+" L"+t.circularPathData.leftFullExtent+" "+t.circularPathData.verticalLeftInnerExtent+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftLargeArcRadius+" 0 0 1 "+t.circularPathData.leftInnerExtent+" "+t.circularPathData.verticalFullExtent+" L"+t.circularPathData.rightInnerExtent+" "+t.circularPathData.verticalFullExtent+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightLargeArcRadius+" 0 0 1 "+t.circularPathData.rightFullExtent+" "+t.circularPathData.verticalRightInnerExtent+" L"+t.circularPathData.rightFullExtent+" "+(t.circularPathData.targetY+t.circularPathData.rightSmallArcRadius)+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightSmallArcRadius+" 0 0 1 "+t.circularPathData.rightInnerExtent+" "+t.circularPathData.targetY+" L"+t.circularPathData.targetX+" "+t.circularPathData.targetY}(g);else{var I=kv().source(function(D){return[D.source.x0+(D.source.x1-D.source.x0),D.y0]}).target(function(D){return[D.target.x0,D.y1]});g.path=I(g)}})}function ob(t,i){return lu(t)==lu(i)?"bottom"==t.circularLinkType?cu(t,i):Tg(t,i):lu(i)-lu(t)}function Tg(t,i){return t.y0-i.y0}function cu(t,i){return i.y0-t.y0}function Ig(t,i){return t.y1-i.y1}function _M(t,i){return i.y1-t.y1}function lu(t){return t.target.column-t.source.column}function sb(t){return t.target.x0-t.source.x1}function Sg(t,i){var e=nb(t),r=sb(i)/Math.tan(e);return"up"==fu(t)?t.y1+r:t.y1-r}function uu(t,i){var e=nb(t),r=sb(i)/Math.tan(e);return"up"==fu(t)?t.y1-r:t.y1+r}function ab(t,i,e,r){t.links.forEach(function(a){if(!a.circular&&a.target.column-a.source.column>1){var l=a.source.column+1,f=a.target.column-1,h=1,g=f-l+1;for(h=1;l<=f;l++,h++)t.nodes.forEach(function(y){if(y.column==l){var ue,b=h/(g+1),x=Math.pow(1-b,3),T=3*b*Math.pow(1-b,2),I=3*Math.pow(b,2)*(1-b),D=Math.pow(b,3),Y=x*a.y0+T*a.y0+I*a.y1+D*a.y1,X=Y-a.width/2,ie=Y+a.width/2;X>y.y0&&X<y.y1?(ue=y.y1-X+10,y=Qo(y,ue="bottom"==y.circularLinkType?ue:-ue,i,e),t.nodes.forEach(function(Ee){Bn(Ee,r)==Bn(y,r)||Ee.column!=y.column||eI(y,Ee)&&Qo(Ee,ue,i,e)})):(ie>y.y0&&ie<y.y1||X<y.y0&&ie>y.y1)&&(y=Qo(y,ue=ie-y.y0+10,i,e),t.nodes.forEach(function(Ee){Bn(Ee,r)==Bn(y,r)||Ee.column!=y.column||Ee.y0<y.y1&&Ee.y1>y.y1&&Qo(Ee,ue,i,e)}))}})}})}function eI(t,i){return t.y0>i.y0&&t.y0<i.y1||t.y1>i.y0&&t.y1<i.y1||t.y0<i.y0&&t.y1>i.y1}function Qo(t,i,e,r){return t.y0+i>=e&&t.y1+i<=r&&(t.y0=t.y0+i,t.y1=t.y1+i,t.targetLinks.forEach(function(a){a.y1=a.y1+i}),t.sourceLinks.forEach(function(a){a.y0=a.y0+i})),t}function du(t,i,e,r){t.nodes.forEach(function(a){r&&a.y+(a.y1-a.y0)>i&&(a.y=a.y-(a.y+(a.y1-a.y0)-i));var l=t.links.filter(function(g){return Bn(g.source,e)==Bn(a,e)}),f=l.length;f>1&&l.sort(function(g,y){if(!g.circular&&!y.circular){if(g.target.column==y.target.column)return g.y1-y.y1;if(!cb(g,y))return g.y1-y.y1;if(g.target.column>y.target.column){var b=uu(y,g);return g.y1-b}if(y.target.column>g.target.column)return uu(g,y)-y.y1}return g.circular&&!y.circular?"top"==g.circularLinkType?-1:1:y.circular&&!g.circular?"top"==y.circularLinkType?1:-1:g.circular&&y.circular?g.circularLinkType===y.circularLinkType&&"top"==g.circularLinkType?g.target.column===y.target.column?g.target.y1-y.target.y1:y.target.column-g.target.column:g.circularLinkType===y.circularLinkType&&"bottom"==g.circularLinkType?g.target.column===y.target.column?y.target.y1-g.target.y1:g.target.column-y.target.column:"top"==g.circularLinkType?-1:1:void 0});var h=a.y0;l.forEach(function(g){g.y0=h+g.width/2,h+=g.width}),l.forEach(function(g,y){if("bottom"==g.circularLinkType){for(var b=y+1,x=0;b<f;b++)x+=l[b].width;g.y0=a.y1-x-g.width/2}})})}function Dg(t,i,e){t.nodes.forEach(function(r){var a=t.links.filter(function(h){return Bn(h.target,e)==Bn(r,e)}),l=a.length;l>1&&a.sort(function(h,g){if(!h.circular&&!g.circular){if(h.source.column==g.source.column)return h.y0-g.y0;if(!cb(h,g))return h.y0-g.y0;if(g.source.column<h.source.column){var y=Sg(g,h);return h.y0-y}if(h.source.column<g.source.column)return Sg(h,g)-g.y0}return h.circular&&!g.circular?"top"==h.circularLinkType?-1:1:g.circular&&!h.circular?"top"==g.circularLinkType?1:-1:h.circular&&g.circular?h.circularLinkType===g.circularLinkType&&"top"==h.circularLinkType?h.source.column===g.source.column?h.source.y1-g.source.y1:h.source.column-g.source.column:h.circularLinkType===g.circularLinkType&&"bottom"==h.circularLinkType?h.source.column===g.source.column?h.source.y1-g.source.y1:g.source.column-h.source.column:"top"==h.circularLinkType?-1:1:void 0});var f=r.y0;a.forEach(function(h){h.y1=f+h.width/2,f+=h.width}),a.forEach(function(h,g){if("bottom"==h.circularLinkType){for(var y=g+1,b=0;y<l;y++)b+=a[y].width;h.y1=r.y1-b-h.width/2}})})}function cb(t,i){return fu(t)==fu(i)}function fu(t){return t.y0-t.y1>0?"up":"down"}function nc(t,i){return Bn(t.source,i)==Bn(t.target,i)}function lb(t,i,e){var r=t.nodes,a=t.links,l=!1,f=!1;if(a.forEach(function(T){"top"==T.circularLinkType?l=!0:"bottom"==T.circularLinkType&&(f=!0)}),0==l||0==f){var h=_g(r,function(T){return T.y0}),x=(e-i)/(Ss(r,function(T){return T.y1})-h);r.forEach(function(T){var I=(T.y1-T.y0)*x;T.y0=(T.y0-h)*x,T.y1=T.y0+I}),a.forEach(function(T){T.y0=(T.y0-h)*x,T.y1=(T.y1-h)*x,T.width=T.width*x})}}function tI(t,i,e){zv().key(function(a){return a.column}).sortKeys(ru).entries(t.nodes).map(function(a){return a.values}).forEach(function(a){var l,f,y,h=i,g=a.length;for(a.sort(au),y=0;y<g;++y)(f=h-(l=a[y]).y0)>0&&(l.y0+=f,l.y1+=f,l.targetLinks.forEach(function(b){b.y1=b.y1+f}),l.sourceLinks.forEach(function(b){b.y0=b.y0+f})),h=l.y1+e})}function ub(){}function Ag(t){return null==t?ub:function(){return this.querySelector(t)}}function iI(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function db(){return[]}function Mg(t){return function(i){return i.matches(t)}}var oI=Array.prototype.find;function aI(){return this.firstElementChild}var gM=Array.prototype.filter;function mM(){return Array.from(this.children)}function cI(t){return new Array(t.length)}function zf(t,i){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=i}function lI(t){return function(){return t}}function uI(t,i,e,r,a,l){for(var h,f=0,g=i.length,y=l.length;f<y;++f)(h=i[f])?(h.__data__=l[f],r[f]=h):e[f]=new zf(t,l[f]);for(;f<g;++f)(h=i[f])&&(a[f]=h)}function xM(t,i,e,r,a,l,f){var h,g,I,y=new Map,b=i.length,x=l.length,T=new Array(b);for(h=0;h<b;++h)(g=i[h])&&(T[h]=I=f.call(g,g.__data__,h,i)+"",y.has(I)?a[h]=g:y.set(I,g));for(h=0;h<x;++h)I=f.call(t,l[h],h,l)+"",(g=y.get(I))?(r[h]=g,g.__data__=l[h],y.delete(I)):e[h]=new zf(t,l[h]);for(h=0;h<b;++h)(g=i[h])&&y.get(T[h])===g&&(a[h]=g)}function wM(t){return t.__data__}function dI(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function SM(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}zf.prototype={constructor:zf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,i){return this._parent.insertBefore(t,i)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pg="http://www.w3.org/1999/xhtml";const Qf={svg:"http://www.w3.org/2000/svg",xhtml:Pg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rg(t){var i=t+="",e=i.indexOf(":");return e>=0&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),Qf.hasOwnProperty(i)?{space:Qf[i],local:t}:t}function mb(t){return function(){this.removeAttribute(t)}}function yb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function AM(t,i){return function(){this.setAttribute(t,i)}}function vb(t,i){return function(){this.setAttributeNS(t.space,t.local,i)}}function Jf(t,i){return function(){var e=i.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function bb(t,i){return function(){var e=i.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function mI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function OM(t){return function(){this.style.removeProperty(t)}}function yI(t,i,e){return function(){this.style.setProperty(t,i,e)}}function PM(t,i,e){return function(){var r=i.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function vI(t,i){return t.style.getPropertyValue(i)||mI(t).getComputedStyle(t,null).getPropertyValue(i)}function RM(t){return function(){delete this[t]}}function NM(t,i){return function(){this[t]=i}}function Ng(t,i){return function(){var e=i.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function CI(t){return t.trim().split(/^|\s+/)}function xb(t){return t.classList||new wb(t)}function wb(t){this._node=t,this._names=CI(t.getAttribute("class")||"")}function xI(t,i){for(var e=xb(t),r=-1,a=i.length;++r<a;)e.add(i[r])}function Fg(t,i){for(var e=xb(t),r=-1,a=i.length;++r<a;)e.remove(i[r])}function wI(t){return function(){xI(this,t)}}function FM(t){return function(){Fg(this,t)}}function kM(t,i){return function(){(i.apply(this,arguments)?xI:Fg)(this,t)}}function kg(){this.textContent=""}function TI(t){return function(){this.textContent=t}}function II(t){return function(){var i=t.apply(this,arguments);this.textContent=null==i?"":i}}function Lg(){this.innerHTML=""}function DI(t){return function(){this.innerHTML=t}}function Mi(t){return function(){var i=t.apply(this,arguments);this.innerHTML=null==i?"":i}}function Zg(){this.nextSibling&&this.parentNode.appendChild(this)}function OI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Eb(t){return function(){var i=this.ownerDocument,e=this.namespaceURI;return e===Pg&&i.documentElement.namespaceURI===Pg?i.createElement(t):i.createElementNS(e,t)}}function Tb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ib(t){var i=Rg(t);return(i.local?Tb:Eb)(i)}function Db(){return null}function RI(){var t=this.parentNode;t&&t.removeChild(this)}function Ab(){var t=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function Mb(){var t=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function FI(t){return t.trim().split(/^|\s+/).map(function(i){var e="",r=i.indexOf(".");return r>=0&&(e=i.slice(r+1),i=i.slice(0,r)),{type:i,name:e}})}function LM(t){return function(){var i=this.__on;if(i){for(var l,e=0,r=-1,a=i.length;e<a;++e)l=i[e],t.type&&l.type!==t.type||l.name!==t.name?i[++r]=l:this.removeEventListener(l.type,l.listener,l.options);++r?i.length=r:delete this.__on}}}function kI(t,i,e){return function(){var a,r=this.__on,l=function(t){return function(i){t.call(this,i,this.__data__)}}(i);if(r)for(var f=0,h=r.length;f<h;++f)if((a=r[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=e),void(a.value=i);this.addEventListener(t.type,l,e),a={type:t.type,name:t.name,value:i,listener:l,options:e},r?r.push(a):this.__on=[a]}}function Ob(t,i,e){var r=mI(t),a=r.CustomEvent;"function"==typeof a?a=new a(i,e):(a=r.document.createEvent("Event"),e?(a.initEvent(i,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(i,!1,!1)),t.dispatchEvent(a)}function LI(t,i){return function(){return Ob(this,t,i)}}function ZI(t,i){return function(){return Ob(this,t,i.apply(this,arguments))}}wb.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jg=[null];function Oi(t,i){this._groups=t,this._parents=i}function yo(t){return"string"==typeof t?new Oi([[document.querySelector(t)]],[document.documentElement]):new Oi([[t]],jg)}Oi.prototype=function(){return new Oi([[document.documentElement]],jg)}.prototype={constructor:Oi,select:function(t){"function"!=typeof t&&(t=Ag(t));for(var i=this._groups,e=i.length,r=new Array(e),a=0;a<e;++a)for(var g,y,l=i[a],f=l.length,h=r[a]=new Array(f),b=0;b<f;++b)(g=l[b])&&(y=t.call(g,g.__data__,b,l))&&("__data__"in g&&(y.__data__=g.__data__),h[b]=y);return new Oi(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return iI(t.apply(this,arguments))}}(t):function(t){return null==t?db:function(){return this.querySelectorAll(t)}}(t);for(var i=this._groups,e=i.length,r=[],a=[],l=0;l<e;++l)for(var g,f=i[l],h=f.length,y=0;y<h;++y)(g=f[y])&&(r.push(t.call(g,g.__data__,y,f)),a.push(g));return new Oi(r,a)},selectChild:function(t){return this.select(null==t?aI:function(t){return function(){return oI.call(this.children,t)}}("function"==typeof t?t:Mg(t)))},selectChildren:function(t){return this.selectAll(null==t?mM:function(t){return function(){return gM.call(this.children,t)}}("function"==typeof t?t:Mg(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var i=this._groups,e=i.length,r=new Array(e),a=0;a<e;++a)for(var g,l=i[a],f=l.length,h=r[a]=[],y=0;y<f;++y)(g=l[y])&&t.call(g,g.__data__,y,l)&&h.push(g);return new Oi(r,this._parents)},data:function(t,i){if(!arguments.length)return Array.from(this,wM);var e=i?xM:uI,r=this._parents,a=this._groups;"function"!=typeof t&&(t=lI(t));for(var l=a.length,f=new Array(l),h=new Array(l),g=new Array(l),y=0;y<l;++y){var b=r[y],x=a[y],T=x.length,I=dI(t.call(b,b&&b.__data__,y,r)),D=I.length,Y=h[y]=new Array(D),X=f[y]=new Array(D),ie=g[y]=new Array(T);e(b,x,Y,X,ie,I,i);for(var $,Ze,ue=0,Ee=0;ue<D;++ue)if($=Y[ue]){for(ue>=Ee&&(Ee=ue+1);!(Ze=X[Ee])&&++Ee<D;);$._next=Ze||null}}return(f=new Oi(f,r))._enter=h,f._exit=g,f},enter:function(){return new Oi(this._enter||this._groups.map(cI),this._parents)},exit:function(){return new Oi(this._exit||this._groups.map(cI),this._parents)},join:function(t,i,e){var r=this.enter(),a=this,l=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=i&&(a=i(a))&&(a=a.selection()),null==e?l.remove():e(l),r&&a?r.merge(a).order():a},merge:function(t){for(var i=t.selection?t.selection():t,e=this._groups,r=i._groups,a=e.length,f=Math.min(a,r.length),h=new Array(a),g=0;g<f;++g)for(var I,y=e[g],b=r[g],x=y.length,T=h[g]=new Array(x),D=0;D<x;++D)(I=y[D]||b[D])&&(T[D]=I);for(;g<a;++g)h[g]=e[g];return new Oi(h,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,i=-1,e=t.length;++i<e;)for(var f,r=t[i],a=r.length-1,l=r[a];--a>=0;)(f=r[a])&&(l&&4^f.compareDocumentPosition(l)&&l.parentNode.insertBefore(f,l),l=f);return this},sort:function(t){function i(x,T){return x&&T?t(x.__data__,T.__data__):!x-!T}t||(t=SM);for(var e=this._groups,r=e.length,a=new Array(r),l=0;l<r;++l){for(var y,f=e[l],h=f.length,g=a[l]=new Array(h),b=0;b<h;++b)(y=f[b])&&(g[b]=y);g.sort(i)}return new Oi(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,i=0,e=t.length;i<e;++i)for(var r=t[i],a=0,l=r.length;a<l;++a){var f=r[a];if(f)return f}return null},size:function(){let t=0;for(const i of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var i=this._groups,e=0,r=i.length;e<r;++e)for(var h,a=i[e],l=0,f=a.length;l<f;++l)(h=a[l])&&t.call(h,h.__data__,l,a);return this},attr:function(t,i){var e=Rg(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==i?e.local?yb:mb:"function"==typeof i?e.local?bb:Jf:e.local?vb:AM)(e,i))},style:function(t,i,e){return arguments.length>1?this.each((null==i?OM:"function"==typeof i?PM:yI)(t,i,null==e?"":e)):vI(this.node(),t)},property:function(t,i){return arguments.length>1?this.each((null==i?RM:"function"==typeof i?Ng:NM)(t,i)):this.node()[t]},classed:function(t,i){var e=CI(t+"");if(arguments.length<2){for(var r=xb(this.node()),a=-1,l=e.length;++a<l;)if(!r.contains(e[a]))return!1;return!0}return this.each(("function"==typeof i?kM:i?wI:FM)(e,i))},text:function(t){return arguments.length?this.each(null==t?kg:("function"==typeof t?II:TI)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Lg:("function"==typeof t?Mi:DI)(t)):this.node().innerHTML},raise:function(){return this.each(Zg)},lower:function(){return this.each(OI)},append:function(t){var i="function"==typeof t?t:Ib(t);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function(t,i){var e="function"==typeof t?t:Ib(t),r=null==i?Db:"function"==typeof i?i:Ag(i);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(RI)},clone:function(t){return this.select(t?Mb:Ab)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,i,e){var a,f,r=FI(t+""),l=r.length;if(!(arguments.length<2)){for(h=i?kI:LM,a=0;a<l;++a)this.each(h(r[a],i,e));return this}var h=this.node().__on;if(h)for(var b,g=0,y=h.length;g<y;++g)for(a=0,b=h[g];a<l;++a)if((f=r[a]).type===b.type&&f.name===b.name)return b.value},dispatch:function(t,i){return this.each(("function"==typeof i?ZI:LI)(t,i))},[Symbol.iterator]:function*(){for(var t=this._groups,i=0,e=t.length;i<e;++i)for(var f,r=t[i],a=0,l=r.length;a<l;++a)(f=r[a])&&(yield f)}};var Rb={value:()=>{}};function qg(){for(var r,t=0,i=arguments.length,e={};t<i;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Wf(e)}function Wf(t){this._=t}function UI(t,i){return t.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");if(a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}function Nb(t,i){for(var a,e=0,r=t.length;e<r;++e)if((a=t[e]).name===i)return a.value}function rc(t,i,e){for(var r=0,a=t.length;r<a;++r)if(t[r].name===i){t[r]=Rb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:i,value:e}),t}Wf.prototype=qg.prototype={constructor:Wf,on:function(t,i){var a,e=this._,r=UI(t+"",e),l=-1,f=r.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++l<f;)if(a=(t=r[l]).type)e[a]=rc(e[a],t.name,i);else if(null==i)for(a in e)e[a]=rc(e[a],t.name,null);return this}for(;++l<f;)if((a=(t=r[l]).type)&&(a=Nb(e[a],t.name)))return a},copy:function(){var t={},i=this._;for(var e in i)t[e]=i[e].slice();return new Wf(t)},call:function(t,i){if((a=arguments.length-2)>0)for(var a,l,e=new Array(a),r=0;r<a;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,a=(l=this._[t]).length;r<a;++r)l[r].value.apply(i,e)},apply:function(t,i,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,l=r.length;a<l;++a)r[a].value.apply(i,e)}};const $g=qg;function kb(t,i){if(t=function(t){let i;for(;i=t.sourceEvent;)t=i;return t}(t),void 0===i&&(i=t.currentTarget),i){var e=i.ownerSVGElement||i;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(i.getScreenCTM().inverse())).x,r.y]}if(i.getBoundingClientRect){var a=i.getBoundingClientRect();return[t.clientX-a.left-i.clientLeft,t.clientY-a.top-i.clientTop]}}return[t.pageX,t.pageY]}const UM={passive:!1},Yf={capture:!0,passive:!1};function Lb(t){t.stopImmediatePropagation()}function pu(t){t.preventDefault(),t.stopImmediatePropagation()}const oc=t=>()=>t;function Hg(t,{sourceEvent:i,subject:e,target:r,identifier:a,active:l,x:f,y:h,dx:g,dy:y,dispatch:b}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:b}})}function $M(t){return!t.ctrlKey&&!t.button}function jI(){return this.parentNode}function qI(t,i){return null==i?{x:t.x,y:t.y}:i}function $I(){return navigator.maxTouchPoints||"ontouchstart"in this}Hg.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};let zI=(()=>{class t{constructor(e){this.ref=e,this.selectNode=new n.vpe,this.height=.75*window.innerHeight}get sankeyData(){return this._sankeyData}set sankeyData(e){this._sankeyData=e,this.rebuildChart()}get sankeyAlign(){return this._sankeyAlign}set sankeyAlign(e){this._sankeyAlign=e,this.rebuildChart()}get linkedNodes(){return this.sankeyData.nodes.filter(e=>this.sankeyData.links.some(r=>r.source===e.id||r.target===e.id))}rebuildChart(){this.svg&&yo("svg").remove(),this.sankeyData.nodes.length&&this.sankeyData.links.length&&this.createChart()}getLayout(e,r,a){return this.skLayout=(e?KT:oM)().nodeId(f=>f.id).nodeWidth(32).nodePadding(8).nodeAlign(this.getAlign(this.sankeyAlign)).extent([[1,5],[r-1,a-5]]),this.skLayout({nodes:this.linkedNodes.map(f=>Object.assign({},f)),links:this.sankeyData.links.map(f=>Object.assign({},f))})}getAlign(e){switch(e){case ur.Left:return PT;case ur.Right:return Ov;case ur.Center:return RT;default:return cg}}createChart(){let e=!0,r=this.getLayout(!0,800,this.height);r.nodes.some(x=>!0===x.partOfCycle)||(e=!1,r=this.getLayout(e,800,this.height));const a=Math.max(...r.nodes.map(x=>x.depth)),l=32*(a+1)+32*a*12,f=Math.min(this.height,.75*l);r=this.getLayout(e,l,f),this.svg=yo(this.ref.nativeElement).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",`${l}px`).attr("height",`${f}px`).style("width",`${l}px`).style("height",`${f}px`).attr("viewBox",`0 0 ${l} ${f}`);const h=this.svg.append("g").attr("fill","none").attr("stroke-opacity",.6).style("will-change","opacity").selectAll("g").data(r.links).join("g").style("mix-blend-mode","multiply"),g=h.append("path").attr("id",x=>`${x.index}`).attr("d",e?x=>x.path:pg()).attr("stroke",x=>x.color).attr("stroke-width",x=>Math.max(1,x.width));h.append("title").text(x=>x.name);const y=this.skLayout;this.svg.append("g").selectAll("text").data(r.links).join("text").append("textPath").attr("startOffset","4px").attr("href",x=>`#${x.index}`).text(x=>`${x.text} ${x.name}`),this.svg.append("g").attr("stroke","var(--color-black)").selectAll("rect").data(r.nodes).join("rect").attr("x",x=>x.x0).attr("y",x=>x.y0).attr("height",x=>x.y1-x.y0).attr("width",x=>x.x1-x.x0).attr("fill",x=>x.color).on("click",(x,T)=>{x.defaultPrevented||this.selectNode.emit(T.id)}).call(function(){var h,g,y,b,t=$M,i=jI,e=qI,r=$I,a={},l=$g("start","drag","end"),f=0,x=0;function T($){$.on("mousedown.drag",I).filter(r).on("touchstart.drag",X).on("touchmove.drag",ie,UM).on("touchend.drag touchcancel.drag",ue).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I($,Ze){if(!b&&t.call(this,$,Ze)){var ce=Ee(this,i.call(this,$,Ze),$,Ze,"mouse");!ce||(yo($.view).on("mousemove.drag",D,Yf).on("mouseup.drag",Y,Yf),function(t){var i=t.document.documentElement,e=yo(t).on("dragstart.drag",pu,Yf);"onselectstart"in i?e.on("selectstart.drag",pu,Yf):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}($.view),Lb($),y=!1,h=$.clientX,g=$.clientY,ce("start",$))}}function D($){if(pu($),!y){var Ze=$.clientX-h,ce=$.clientY-g;y=Ze*Ze+ce*ce>x}a.mouse("drag",$)}function Y($){yo($.view).on("mousemove.drag mouseup.drag",null),function(t,i){var e=t.document.documentElement,r=yo(t).on("dragstart.drag",null);i&&(r.on("click.drag",pu,Yf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}($.view,y),pu($),a.mouse("end",$)}function X($,Ze){if(t.call(this,$,Ze)){var Ne,Me,ce=$.changedTouches,oe=i.call(this,$,Ze),Se=ce.length;for(Ne=0;Ne<Se;++Ne)(Me=Ee(this,oe,$,Ze,ce[Ne].identifier,ce[Ne]))&&(Lb($),Me("start",$,ce[Ne]))}}function ie($){var oe,Se,Ze=$.changedTouches,ce=Ze.length;for(oe=0;oe<ce;++oe)(Se=a[Ze[oe].identifier])&&(pu($),Se("drag",$,Ze[oe]))}function ue($){var oe,Se,Ze=$.changedTouches,ce=Ze.length;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),oe=0;oe<ce;++oe)(Se=a[Ze[oe].identifier])&&(Lb($),Se("end",$,Ze[oe]))}function Ee($,Ze,ce,oe,Se,Ne){var nt,Wt,In,Me=l.copy(),Le=kb(Ne||ce,Ze);if(null!=(In=e.call($,new Hg("beforestart",{sourceEvent:ce,target:T,identifier:Se,active:f,x:Le[0],y:Le[1],dx:0,dy:0,dispatch:Me}),oe)))return nt=In.x-Le[0]||0,Wt=In.y-Le[1]||0,function he(se,G,R){var xe,K=Le;switch(se){case"start":a[Se]=he,xe=f++;break;case"end":delete a[Se],--f;case"drag":Le=kb(R||G,Ze),xe=f}Me.call(se,$,new Hg(se,{sourceEvent:G,subject:In,target:T,identifier:Se,active:xe,x:Le[0]+nt,y:Le[1]+Wt,dx:Le[0]-K[0],dy:Le[1]-K[1],dispatch:Me}),oe)}}return T.filter=function($){return arguments.length?(t="function"==typeof $?$:oc(!!$),T):t},T.container=function($){return arguments.length?(i="function"==typeof $?$:oc($),T):i},T.subject=function($){return arguments.length?(e="function"==typeof $?$:oc($),T):e},T.touchable=function($){return arguments.length?(r="function"==typeof $?$:oc(!!$),T):r},T.on=function(){var $=l.on.apply(l,arguments);return $===l?T:$},T.clickDistance=function($){return arguments.length?(x=($=+$)*$,T):Math.sqrt(x)},T}().subject(x=>x).on("drag",function(x,T){const I=parseFloat(yo(this).attr("y")),D=parseFloat(yo(this).attr("x"));T.y0=T.y0+x.dy,T.x0=T.x0+x.dx,T.x1=T.x1+x.dx;const ie="translate("+(T.x0-D)+","+(T.y0-I)+")";yo(this).attr("transform",ie),yo(`[id='image-${T.id}']`).attr("transform",ie),y.update(r),g.attr("d",e?ue=>ue.path:pg())})).append("title").text(x=>x.name),this.svg.append("g").selectAll("svg").data(r.nodes.filter(x=>x.y1-x.y0>=16)).join("g").attr("id",x=>`image-${x.id}`).append("svg").attr("viewBox",x=>x.viewBox).attr("width",x=>Math.min(30,x.y1-x.y0-2)).attr("height",x=>Math.min(30,x.y1-x.y0-2)).attr("x",x=>(x.x1+x.x0)/2-Math.min(30,x.y1-x.y0-2)/2).attr("y",x=>(x.y1+x.y0)/2-Math.min(30,x.y1-x.y0-2)/2).style("pointer-events","none").append("image").attr("href",x=>x.href)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-sankey"]],inputs:{sankeyData:"sankeyData",sankeyAlign:"sankeyAlign"},outputs:{selectNode:"selectNode"},decls:0,vars:0,template:function(e,r){},styles:["[_nghost-%COMP%]{display:flex;resize:both;overflow:auto}"]}),t})();class HM{constructor(i){this.payload=i,this.type="[Preferences] Save State"}}class zM{constructor(i){this.payload=i,this.type="[Preferences] Remove State"}}class Zb{constructor(i){this.payload=i,this.type="[Preferences] Set Columns"}}class zg{constructor(i){this.payload=i,this.type="[Preferences] Set Link Size"}}class Rn{constructor(i){this.payload=i,this.type="[Preferences] Set Link Text"}}class QM{constructor(i){this.payload=i,this.type="[Preferences] Set Sankey Align"}}class Bb{constructor(i){this.payload=i,this.type="[Preferences] Set Simplex Enabled"}}var Nn=(()=>(function(t){t.LOAD="[App] Load",t.RESET="[App] Reset"}(Nn||(Nn={})),Nn))();class QI{constructor(i){this.payload=i,this.type=Nn.LOAD}}class Gf{constructor(){this.type=Nn.RESET}}const Kf=sd.reduce((t,i)=>(t[i]={show:!0,precision:1},t),{}),Vb={states:{},columns:Kf,linkSize:$t.Items,linkText:$t.Items,sankeyAlign:ur.Justify,simplex:!0};class Ms{constructor(i){this.payload=i,this.type="[Settings] Set Preset"}}class jb{constructor(i){this.payload=i,this.type="[Settings] Set Base"}}class Xf{constructor(i){this.payload=i,this.type="[Settings] Set Disabled Recipes"}}class Qg{constructor(i){this.payload=i,this.type="[Settings] Set Expensive"}}class JI{constructor(i){this.payload=i,this.type="[Settings] Set Beacon Receivers"}}class ep{constructor(i){this.payload=i,this.type="[Settings] Set Belt"}}class WI{constructor(i){this.payload=i,this.type="[Settings] Set Pipe"}}class Jg{constructor(i){this.payload=i,this.type="[Settings] Set Fuel"}}class qb{constructor(i){this.payload=i,this.type="[Settings] Set Flow Rate"}}class Fn{constructor(i){this.payload=i,this.type="[Settings] Set Cargo Wagon"}}class JM{constructor(i){this.payload=i,this.type="[Settings] Set Fluid Wagon"}}class $b{constructor(i){this.payload=i,this.type="[Settings] Set Display Rate"}}class YI{constructor(i){this.payload=i,this.type="[Settings] Set Mining Bonus"}}class WM{constructor(i){this.payload=i,this.type="[Settings] Set Research Speed"}}class tp{constructor(i){this.payload=i,this.type="[Settings] Set Inserter Target"}}class GI{constructor(i){this.payload=i,this.type="[Settings] Set Inserter Capacity"}}class YM{constructor(i){this.payload=i,this.type="[Settings] Set Cost Factor"}}class GM{constructor(i){this.payload=i,this.type="[Settings] Set Factory Cost"}}class Hb{constructor(i){this.payload=i,this.type="[Settings] Set Input Cost"}}class KI{constructor(i){this.payload=i,this.type="[Settings] Set Ignored Cost"}}class XI{constructor(){this.type="[Settings] Reset Cost Modifiers"}}class Qi{static get storedState(){return this._storedState}static get search(){return location.search.substr(1)}static get hash(){return location.hash.substr(1)}static get href(){return location.href}static get zip(){const i=this.hash;return this.search||i.length>1&&"="===i[1]&&i}static loadState(){try{return JSON.parse(localStorage.getItem(Gp))}catch(i){return console.error("Failed to load state from local storage"),console.error(i),localStorage.removeItem(Gp),null}}static mergeState(i){const e=Qi.storedState;if(e){if(this.zip)return Object.assign(Object.assign({},i),{preferencesState:Object.assign(Object.assign({},i.preferencesState),e.preferencesState)});{const r=Object.assign({},i);for(const a of Object.keys(r))r[a]=Object.assign(Object.assign({},r[a]),e[a]);return r}}return i}static saveState(i){const e=Object.assign({},i);delete e.datasetsState,localStorage.setItem(Gp,JSON.stringify(e))}}Qi._storedState=Qi.loadState();var zb=E(2473);class wn{static bestMatch(i,e){if(i.length>1)for(const r of e)if(-1!==i.indexOf(r))return r;return i[0]}static defaultModules(i,e,r){const a=this.bestMatch([$e.Module,...i],e);return new Array(r).fill(a)}static adjustRecipe(i,e,r,a,l,f){var h;const g=new Wp(f.recipeEntities[i]),y=f.itemR[l.factory].factory;g.out||(g.out={[i]:M.one}),g.time=g.time.div(y.speed),y.research&&(g.time=g.time.div(a));let b=M.one,x=M.one,T=M.one,I=M.one;if(y.mining&&(x=x.add(r)),l.factoryModules&&l.factoryModules.length)for(const ie of l.factoryModules)if(f.itemR[ie]){const ue=f.itemR[ie].module;ue.speed&&(b=b.add(ue.speed)),ue.productivity&&(x=x.add(ue.productivity)),ue.consumption&&(T=T.add(ue.consumption)),ue.pollution&&(I=I.add(ue.pollution))}const D=null===(h=l.beaconModules)||void 0===h?void 0:h.filter(ie=>ie!==$e.Module&&f.itemR[ie]);if((null==D?void 0:D.length)&&l.beaconCount.nonzero())for(const ie of D){const ue=f.itemR[ie].module,$=l.beaconCount.mul(f.itemR[l.beacon].beacon.effectivity);ue.speed&&(b=b.add(ue.speed.mul($))),ue.productivity&&(x=x.add(ue.productivity.mul($))),ue.consumption&&(T=T.add(ue.consumption.mul($))),ue.pollution&&(I=I.add(ue.pollution.mul($)))}let Y;b.lt(this.MIN_FACTOR)&&(b=this.MIN_FACTOR),T.lt(this.MIN_FACTOR)&&(T=this.MIN_FACTOR),I.lt(this.MIN_FACTOR)&&(I=this.MIN_FACTOR),l.overclock&&!l.overclock.eq(M.hundred)&&(Y=l.overclock.div(M.hundred),b=b.mul(Y)),g.time=g.time.div(b);for(const ie of Object.keys(g.out))g.in&&g.in[ie]?g.in[ie].lt(g.out[ie])&&(g.out[ie]=g.in[ie].add(g.out[ie].sub(g.in[ie]).mul(x))):g.out[ie]=g.out[ie].mul(x);g.productivity=x,y.research&&(g.adjustProd=!0),g.drain=y.drain;let X=g.usage?g.usage:y.usage;if(Y){const ie=Math.pow(Y.toNumber(),1.6);X=X.mul(M.fromNumber(ie))}if(g.consumption=y.type===ki.Electric?X.mul(T):M.zero,g.pollution=y.pollution&&l.factory!==$e.Pumpjack?y.pollution.div(this.POLLUTION_FACTOR).mul(I).mul(T):M.zero,y.type===ki.Burner&&X.nonzero()){let ie=e;if(y.category!==na.Chemical){const $=Object.keys(g.in||{}),Ze=f.fuelIds[y.category];ie=$.find(ce=>-1!==Ze.indexOf(ce))||Ze[0]}const ue=f.itemR[ie].fuel,Ee=g.time.mul(X).div(ue.value).div(M.thousand);g.in||(g.in={}),g.in[ie]=(g.in[ie]||M.zero).add(Ee),ue.result&&(g.out[ue.result]=(g.out[ue.result]||M.zero).add(Ee))}return g}static adjustSiloRecipes(i,e,r){var a;for(const l of Object.keys(i)){const f=null===(a=r.itemR[e[l].factory])||void 0===a?void 0:a.factory,h=i[l];if((null==f?void 0:f.silo)&&!h.part){const g=Object.keys(h.out)[0],y=f.silo.parts.div(h.out[g]);for(const b of Object.keys(i).filter(x=>i[x].part===l))e[l].factory===e[b].factory&&(i[b].time=h.time.mul(y).add(f.silo.launch));h.time=h.time.mul(y).add(f.silo.launch).div(y)}}return i}static getProductStepData(i,e){const r=i[e.itemId];return 0===r.length?null:e.viaId?r.find(a=>a[0]===e.viaId):r[0]}static allowsModules(i,e){return(!(null==e?void 0:e.silo)||!i.part)&&(null==e?void 0:e.modules)>0}static adjustDataset(i,e,r,a,l,f,h,g,y){const b=this.adjustRecipes(i,a,l,f,y);this.adjustCost(b,i,h,g);const x=Object.assign({},y.itemRecipeIds);for(const T of y.itemIds.filter(I=>!y.itemRecipeIds[I])){const I=e[T].recipe;if(I&&-1===r.indexOf(I))x[T]=I;else{const D=y.recipeIds.map(Y=>b[Y]).filter(Y=>Y.produces(T)&&-1===r.indexOf(Y.id));1===D.length&&1===Object.keys(D[0].out).length&&(x[T]=D[0].id)}}for(const T of Object.keys(y.itemRecipeIds))this.cleanCircularRecipes(T,y.recipeR,x);return Object.assign(Object.assign({},y),{recipeR:b,itemRecipeIds:x})}static defaultRecipe(i,e,r){const a=r.recipeIds.map(l=>r.recipeR[l]).filter(l=>l.produces(i)&&-1===e.indexOf(l.id));return 1===a.length&&1===Object.keys(a[0].out).length?a[0].id:null}static adjustRecipes(i,e,r,a,l){return this.adjustSiloRecipes(l.recipeIds.reduce((f,h)=>(f[h]=this.adjustRecipe(h,e,r,a,i[h],l),f),{}),i,l)}static adjustCost(i,e,r,a){for(const l of Object.keys(i)){const f=i[l];if(e[l].cost)f.cost=e[l].cost;else if(f.cost){const h=Object.keys(f.out).reduce((g,y)=>g.add(f.out[y]),M.zero).div(f.time);f.cost=h.mul(f.cost).mul(r)}else f.cost=a}}static adjustProduct(i,e,r,a,l){var f,h;if(i.rateType===bt.Factories){if(!(i=Object.assign({},i)).viaId){const g=l.itemRecipeIds[i.itemId];if(g)i.viaId=g;else{const y=this.getProductStepData(e,i);y&&(i.viaId=y[0])}}if(i.viaId){i.viaSetting||(i.viaSetting=r[i.viaId].factory);const g=l.recipeEntities[i.viaId],y=l.itemEntities[i.viaSetting].factory,b=r[g.id],x=a.entities[i.viaSetting];if(this.allowsModules(g,y))if(i.viaSetting===b.factory){i.viaFactoryModules=i.viaFactoryModules||b.factoryModules,i.viaBeaconCount=i.viaBeaconCount||b.beaconCount,i.viaBeacon=i.viaBeacon||b.beacon;const T=null===(f=l.itemEntities[i.viaBeacon])||void 0===f?void 0:f.beacon;T&&!i.viaBeaconModules&&(i.viaBeaconModules=i.viaBeacon===b.beacon?b.beaconModules:new Array(T.modules).fill(x.beaconModule))}else{i.viaFactoryModules||(i.viaFactoryModules=this.defaultModules(l.recipeModuleIds[g.id],x.moduleRank,y.modules)),i.viaBeaconCount=i.viaBeaconCount||x.beaconCount,i.viaBeacon=i.viaBeacon||x.beacon;const T=null===(h=l.itemEntities[i.viaBeacon])||void 0===h?void 0:h.beacon;T&&!i.viaBeaconModules&&(i.viaBeaconModules=new Array(T.modules).fill(x.beaconModule))}i.viaOverclock=i.viaSetting===b.factory?i.viaOverclock||b.overclock:i.viaOverclock||x.overclock}}else i.viaId||(i=Object.assign(Object.assign({},i),{viaId:i.itemId}));return i}static cleanCircularRecipes(i,e,r,a=[]){const l=r[i];if(l)if(-1!==a.indexOf(i))r[i]=null;else{const f=e[l];if(f.produces(i)&&f.in){a=[...a,i];for(const h of Object.keys(f.in).filter(g=>g!==i))this.cleanCircularRecipes(h,e,r,a)}}}}wn.MIN_FACTOR=new M(BigInt(1),BigInt(5)),wn.POLLUTION_FACTOR=new M(BigInt(60));class Wg{static stepsToCsv(i,e,r,a,l){const f=i.map(y=>this.stepToJson(y,i,e,r,a,l)),h=Object.keys(f[0]),g=f.map(y=>h.map(b=>y[b]).join(","));g.unshift(h.join(",")),g.unshift(`"${Qi.href}"`),this.saveAsCsv(g.join("\r\n"))}static saveAsCsv(i){(0,zb.saveAs)(new Blob([i],{type:"text/csv;charset=UTF-8"}),"factoriolab_list.csv")}static saveAsJson(i){(0,zb.saveAs)(new Blob([i],{type:"text/json;charset=UTF-8"}),"factoriolab_flow.json")}static stepToJson(i,e,r,a,l,f){const h={Item:i.itemId,Items:i.items?"="+i.items.sub(i.surplus||M.zero).toString():"",Surplus:i.surplus?"="+i.surplus.toString():"",Inputs:"",Outputs:i.outputs?`"${Object.keys(i.outputs).map(g=>`${g}:${i.outputs[g].toString()}`).join(",")}"`:"",Targets:i.parents?`"${Object.keys(i.parents).map(g=>`${g}:${i.parents[g].toString()}`).join(",")}"`:""};if(r[ze.Belts].show&&(h.Belts=i.belts?"="+i.belts.toString():"",h.Belt=a[i.itemId].belt),r[ze.Wagons].show&&(h.Wagons=i.wagons?"="+i.wagons.toString():"",h.Wagon=a[i.itemId].wagon),i.recipeId){h.Recipe=i.recipeId;const g=f.recipeR[i.recipeId];g.in&&(h.Inputs=`"${Object.keys(g.in).map(T=>{var I;const D=e.find(Y=>Y.itemId===T);return[T,null===(I=null==D?void 0:D.parents[i.recipeId])||void 0===I?void 0:I.toString()]}).filter(T=>T[1]).map(T=>`${T[0]}:${T[1]}`).join(",")}"`);const y=l[i.recipeId],x=wn.allowsModules(g,f.itemEntities[y.factory].factory);r[ze.Factories].show&&(h.Factories=i.factories?"="+i.factories.toString():"",h.Factory=y.factory,x&&(h.FactoryModules=`"${y.factoryModules.join(",")}"`)),r[ze.Beacons].show&&x&&(h.Beacons=y.beaconCount,h.Beacon=y.beacon,h.BeaconModules=`"${y.beaconModules.join(",")}"`),r[ze.Power].show&&(h.Power=i.power?"="+i.power.toString():""),r[ze.Pollution].show&&(h.Pollution=i.pollution?"="+i.pollution.toString():"")}return h}}class Vn{static addStepsFor(i,e,r,a,l,f=null){var h;let g;a[i].ignore||(g=l.recipeR[l.itemRecipeIds[i]],g&&!g.produces(i)&&(g=null));let y=r.find(b=>b.itemId===i);if(y?r.push(r.splice(r.indexOf(y),1)[0]):(y={itemId:i,items:M.zero},g&&(y.recipeId=g.id),r.push(y)),(null==g?void 0:g.adjustProd)&&(e=e.mul(g.productivity)),y.items=y.items.add(e),this.addParentValue(y,f,e),g){const b=g.out[i].sub((null===(h=g.in)||void 0===h?void 0:h[i])||M.zero);if(y.factories=y.items.mul(g.time).div(b),this.adjustPowerPollution(y,g),g.in&&y.items.nonzero())for(const x of Object.keys(g.in)){const T=e.mul(g.in[x]).div(b);x===i?this.addParentValue(y,g.id,T):Vn.addStepsFor(x,T,r,a,l,g.id)}}}static addParentValue(i,e,r){e&&(i.parents||(i.parents={}),i.parents[e]=i.parents[e]?i.parents[e].add(r):r)}static adjustPowerPollution(i,e){var r,a,l,f,h,g;(null===(r=i.factories)||void 0===r?void 0:r.nonzero())&&!e.part&&(((null===(a=e.drain)||void 0===a?void 0:a.nonzero())||(null===(l=e.consumption)||void 0===l?void 0:l.nonzero()))&&(i.power=M.zero,(null===(f=e.drain)||void 0===f?void 0:f.nonzero())&&(i.power=i.power.add(i.factories.ceil().mul(e.drain))),(null===(h=e.consumption)||void 0===h?void 0:h.nonzero())&&(i.power=i.power.add(i.factories.mul(e.consumption)))),(null===(g=e.pollution)||void 0===g?void 0:g.nonzero())&&(i.pollution=i.factories.mul(e.pollution)))}static calculateBelts(i,e,r,a,l){var f,h;for(const g of i){let y=!1;if(g.recipeId){const b=l.itemEntities[r[g.recipeId].factory].factory,x=l.recipeEntities[g.recipeId];y=b.research||b.silo&&!x.part}if(y)g.belts=null,g.wagons=null;else{const b=null===(f=e[g.itemId])||void 0===f?void 0:f.belt;g.items&&b&&(g.belts=g.items.div(a[b]));const x=null===(h=e[g.itemId])||void 0===h?void 0:h.wagon;if(g.items&&x){const T=l.itemR[g.itemId];g.wagons=g.items.div(T.stack?l.itemR[x].cargoWagon.size.mul(T.stack):l.itemR[x].fluidWagon.capacity)}}}return i}static calculateOutputs(i,e){for(const r of i.filter(a=>a.recipeId)){const a=e.recipeR[r.recipeId];r.outputs={};for(const l of Object.keys(a.out)){const f=a.out[l].mul(r.factories).div(a.time),h=i.find(g=>g.itemId===l);r.outputs[l]=f.div(h.items)}}return i}static calculateBeacons(i,e,r,a){if(e&&e.nonzero())for(const l of i.filter(f=>{var h,g;return(null===(h=f.factories)||void 0===h?void 0:h.nonzero())&&!a.recipeEntities[f.recipeId].part&&(null===(g=r[f.recipeId].beaconCount)||void 0===g?void 0:g.nonzero())})){const f=r[l.recipeId];l.beacons=f.beaconTotal?f.beaconTotal:l.factories.ceil().mul(f.beaconCount).div(e),l.power=l.power.add(l.beacons.mul(a.itemR[f.beacon].beacon.usage))}return i}static displayRate(i,e){const r=cr[e];for(const a of i){if(a.items){if(a.parents)for(const l of Object.keys(a.parents))a.parents[l]=a.parents[l].div(a.items);a.items=a.items.mul(r)}a.surplus&&(a.surplus=a.surplus.mul(r)),a.wagons&&(a.wagons=a.wagons.mul(r)),a.pollution&&(a.pollution=a.pollution.mul(r))}return i}static sortHierarchy(i){for(const l of i)l.id=`${l.itemId||""}.${l.recipeId||""}`;const e={};for(const l of i)if(l.parents&&1===Object.keys(l.parents).length){const f=Object.keys(l.parents)[0],h=i.find(g=>g.recipeId===f);e[l.id]=l.id===h.id?"":h.id}else e[l.id]="";const r={};for(let l=0;l<i.length;l++){const f=i[l],h=e[f.id];r[h]||(r[h]=[]),r[h].push(f)}const a=this.sortRecursive(r,"",[]);return a.push(...i.filter(l=>-1===a.indexOf(l))),a}static sortRecursive(i,e,r){if(!i[e])return[];const a=i[e];for(let l=0;l<a.length;l++){const f=a[l];r.push(f),this.sortRecursive(i,f.id,r)}return r}static copy(i){return i.map(e=>e.parents?Object.assign(Object.assign({},e),{parents:Object.assign({},e.parents)}):Object.assign({},e))}}let Yg=(()=>{class t{static solve(e,r,a,l,f,h,g=!0){if(!e.length)return{steps:e,result:pi.Skipped};const y=this.getState(e,r,a,l,f,h);if(null==y)return{steps:e,result:pi.Skipped};const[b,x]=this.getSolution(y,g);return b===pi.Solved||b===pi.Cached?(this.updateSteps(e,x,y),{steps:e,result:b,pivots:x.pivots,time:x.time,A:x.A,O:x.O,items:x.itemIds,recipes:x.recipeIds,inputs:x.inputIds}):(b===pi.Failed&&g&&(alert("No solution found. Check your disabled recipes to ensure a solution is feasible.\n\nE.G.: If one iron plate requires two gears, and one gear requires two iron plates, a solution for iron plates is not feasible."),console.error("Failed to solve matrix using simplex method")),{steps:e,result:b,pivots:x.pivots,time:x.time,A:x.A,O:x.O,items:x.itemIds,recipes:x.recipeIds,inputs:x.inputIds})}static getSteps(e,r,a,l,f,h,g,y){let b=[];return Vn.addStepsFor(e,M.one,b,r,h),y&&(b=this.solve(b,r,a,l,f,h,!1).steps),g?b.filter(x=>x.recipeId).sort((x,T)=>h.recipeR[T.recipeId].output(e).sub(h.recipeR[x.recipeId].output(e)).toNumber()).map(x=>[x.recipeId,x.factories]):b.filter(x=>x.itemId).map(x=>[x.itemId,x.items])}static getState(e,r,a,l,f,h){const g={recipes:{},items:{},inputs:null,recipeIds:h.recipeIds.filter(b=>-1===a.indexOf(b)),itemIds:h.itemIds.filter(b=>!r[b].ignore),costInput:l,costIgnored:f,data:h},y=this.unsolvedSteps(e,g);if(0===y.length)return null;for(const b of y)g.items[b.itemId]=b.items;for(const b of y)this.parseItemRecursively(b.itemId,g);return this.addSurplusVariables(g),this.parseInputs(g),g}static unsolvedSteps(e,r){return e.filter(a=>!a.recipeId&&-1!==r.itemIds.indexOf(a.itemId)&&r.recipeIds.some(l=>r.data.recipeR[l].produces(a.itemId)))}static recipeMatches(e,r){const a=r.recipeIds.filter(l=>!r.recipes[l]).map(l=>r.data.recipeR[l]).filter(l=>l.out&&l.out[e]);for(const l of a)r.recipes[l.id]=l;return a}static itemMatches(e,r){const a=Object.keys(e.in).filter(l=>!r.items[l]);for(const l of a)r.items[l]=M.zero;return a}static parseRecipeRecursively(e,r){if(e.in){const a=this.itemMatches(e,r);for(const l of a.filter(f=>-1!==r.itemIds.indexOf(f)))this.parseItemRecursively(l,r)}}static parseItemRecursively(e,r){const a=r.data.itemRecipeIds[e];if(a){if(!r.recipes[a]){const l=r.data.recipeR[a];r.recipes[a]=l,this.parseRecipeRecursively(l,r)}}else{const l=this.recipeMatches(e,r);for(const f of l)this.parseRecipeRecursively(f,r)}}static addSurplusVariables(e){const r=Object.keys(e.recipes).map(a=>e.recipes[a]);for(const a of r)for(const l of Object.keys(a.out).filter(f=>!e.items[f]))e.items[l]=M.zero}static parseInputs(e){const r=Object.keys(e.items),a=Object.keys(e.recipes);e.inputs=r.filter(l=>!a.some(f=>e.data.recipeR[f].produces(l))||-1===e.itemIds.indexOf(l))}static getSolution(e,r=!0){const a=this.canonical(e),[l,f]=this.hash(a),h=Object.keys(e.items),g=Object.keys(e.recipes),y=e.inputs,b=this.checkCache(l,f);if(b){const[x,T,I]=this.parseSolution(b.R,e);return[pi.Cached,{surplus:x,recipes:T,inputs:I,pivots:b.pivots,time:b.time,A:a,O:b.R,itemIds:h,recipeIds:g,inputIds:y}]}{const x=a.map(Y=>[...Y]),[T,I,D]=this.simplex(a,r);if(T===pi.Solved){this.cacheResult(l,f,a[0],I,D);const[Y,X,ie]=this.parseSolution(a[0],e);return[T,{surplus:Y,recipes:X,inputs:ie,pivots:I,time:D,A:x,O:a[0],itemIds:h,recipeIds:g,inputIds:y}]}return[T,{surplus:null,recipes:null,inputs:null,pivots:I,time:D,A:x,O:a[0],itemIds:h,recipeIds:g,inputIds:y}]}}static canonical(e){var r;const a=Object.keys(e.items),l=Object.keys(e.recipes).map(g=>e.recipes[g]),f=[],h=[M.one];for(const g of a)h.push(e.items[g].inverse());h.push(...new Array(l.length+e.inputs.length+1).fill(M.zero)),f.push(h);for(const g of l){const y=[M.zero];for(const b of a){let x=M.zero;(null===(r=g.in)||void 0===r?void 0:r[b])&&(x=x.sub(g.in[b])),g.out[b]&&(x=x.add(g.out[b])),y.push(x.div(g.time))}for(const b of l)y.push(g.id===b.id?M.one:M.zero);y.push(...new Array(e.inputs.length).fill(M.zero)),y.push(g.cost),f.push(y)}for(const g of e.inputs){const y=[M.zero];for(const b of a)y.push(g===b?M.one:M.zero);y.push(...new Array(l.length).fill(M.zero));for(const b of e.inputs)y.push(g===b?M.one:M.zero);-1===e.itemIds.indexOf(g)?y.push(e.costIgnored):y.push(e.costInput),f.push(y)}return f}static simplex(e,r=!0){const a=r?5e3:1e3,l=Date.now();let f=!0,h=0;for(;;){h++;let g=null;const y=e[0];for(let x=0;x<y.length-1;x++)(null===g||y[x].lt(y[g]))&&(g=x);if(!y[g].lt(M.zero))return[pi.Solved,h,Date.now()-l];if(!this.pivotCol(e,g))return[pi.Failed,h,Date.now()-l];const b=Date.now()-l;if(f&&b>a){const x=`No solution found in 5 seconds. Continue trying to solve?\nTo avoid this issue, try disabling some/all recipes.\n\u26a0 Warning: The browser may hang if you choose to continue.\n\n(Click "OK" to keep trying, click "Cancel" to quit)\n\nmatrix size: ${e.length} x ${e[0].length}, pivots: ${h}, time: ${b}ms`;if(!r||!confirm(x))return[pi.Cancelled,h,b];f=!1}}}static pivotCol(e,r){const a=e[0].length-1;let l=null,f=null;for(let h=1;h<e.length;h++){const g=e[h];if(g[r].gt(M.zero)){const y=g[a].div(g[r]);(null===f||y.lt(f))&&(l=h,f=y)}}return null!==l&&this.pivot(e,r,l)}static pivot(e,r,a){const l=e[a],f=l[r].reciprocal();for(let h=0;h<l.length;h++)l[h]=l[h].mul(f);for(let h=0;h<e.length;h++)if(h!==a&&e[h][r].nonzero()){const g=e[h],y=g[r];for(let b=0;b<g.length;b++)g[b]=g[b].sub(l[b].mul(y))}return!0}static parseSolution(e,r){const a=Object.keys(r.items),l=Object.keys(r.recipes),f={};for(let y=0;y<a.length;y++){const b=y+1;e[b].gt(M.zero)&&(f[a[y]]=e[b])}const h={},g={};for(let y=0;y<l.length;y++){const b=1+a.length+y;e[b].gt(M.zero)&&(h[l[y]]=e[b])}for(let y=0;y<r.inputs.length;y++){const b=y+a.length+l.length+1;e[b].gt(M.zero)&&(g[r.inputs[y]]=e[b])}return[f,h,g]}static updateSteps(e,r,a){for(const l of Object.keys(a.items))this.addItemStep(l,e,r,a);this.assignRecipes(e,r,a);for(const l of Object.keys(r.recipes).map(f=>a.recipes[f]))this.addRecipeStep(l,e,r);this.updateParents(e,r,a)}static addItemStep(e,r,a,l){var f;let h=M.zero;for(const g of Object.keys(a.recipes).map(y=>l.recipes[y]).filter(y=>y.out[e]))h=h.add(g.out[e].mul(a.recipes[g.id]).div(g.time));if(a.inputs[e]&&(h=h.add(a.inputs[e])),h.nonzero()){let g=r.find(y=>y.itemId===e);if(g)g.items=l.items[e].nonzero()?h:g.items.add(h);else{const y=l.data.recipeIds.map(x=>l.recipes[x]).filter(x=>x),b=r.findIndex(x=>y.some(T=>T.produces(x.itemId)&&T.produces(e)));g={itemId:e,items:h},-1!==b&&b<r.length-1?r.splice(b+1,0,g):r.push(g)}(null===(f=a.surplus[e])||void 0===f?void 0:f.nonzero())&&(g.surplus=a.surplus[e])}}static assignRecipes(e,r,a){const l=Object.keys(r.recipes).map(g=>a.recipes[g]);for(const g of e.filter(y=>!y.recipeId)){const y=l.findIndex(b=>b.id===g.itemId&&b.produces(g.itemId));-1!==y&&(g.recipeId=l[y].id,l.splice(y,1))}const f={};for(const g of e.filter(y=>!y.recipeId))f[g.itemId]=l.filter(y=>y.produces(g.itemId)).sort((y,b)=>Object.keys(y.out).length-Object.keys(b.out).length).map(y=>y.id);const h=Object.keys(f).sort((g,y)=>f[g].length-f[y].length);for(const g of h)for(const y of f[g])if(!e.some(b=>b.recipeId===y)){e.find(x=>x.itemId===g).recipeId=y;break}}static addRecipeStep(e,r,a){let l=r.find(f=>f.recipeId===e.id);if(l||(l=r.find(f=>!f.recipeId&&e.produces(f.itemId))),!l){const f=r.findIndex(h=>e.produces(h.itemId));l={itemId:null,items:null},-1!==f&&f<r.length-1?r.splice(f+1,0,l):r.push(l)}l.recipeId=e.id,l.factories=a.recipes[e.id].add(l.factories||M.zero),Vn.adjustPowerPollution(l,e)}static updateParents(e,r,a){for(const l of Object.keys(r.recipes).map(f=>a.recipes[f]).filter(f=>f.in)){const f=r.recipes[l.id].div(l.time);for(const h of Object.keys(l.in).filter(g=>l.in[g].nonzero())){const g=e.find(b=>b.itemId===h),y=l.in[h].mul(f);Vn.addParentValue(g,l.id,y)}}}static hash(e){return[[...e[0]],e.filter((f,h)=>0!==h).map(f=>f.map(h=>h.toString()).join(",")).join("\n")]}static cacheResult(e,r,a,l,f){this.cache[r]||(this.cache[r]=[]),this.cache[r].push({O:e,R:a,pivots:l,time:f})}static checkCache(e,r){if(this.cache[r])for(const a of this.cache[r]){const l=this.objectiveRatio(e,a.O);if(l)return l.isOne()?a:Object.assign(Object.assign({},a),{R:a.R.map(f=>f.mul(l))})}return null}static objectiveRatio(e,r){if(e.length!==r.length)return null;let a=null;for(let l=1;l<e.length;l++)if(r[l].isZero()){if(!e[l].isZero())return null}else{if(e[l].isZero())return null;if(a){if(!a.eq(e[l].div(r[l])))return null}else a=e[l].div(r[l])}return a}}return t.cache={},t})();class Ge{static rankEquals(i,e){return i.length===e.length&&i.every((r,a)=>r===e[a])}static arrayEquals(i,e){return this.rankEquals([...i].sort(),[...e].sort())}static payloadEquals(i,e=!1){return Array.isArray(i.value)&&Array.isArray(i.def)?e?this.rankEquals(i.value,i.def):this.arrayEquals(i.value,i.def):i.value===i.def}static resetFields(i,e,r=null){let a=Object.assign({},i);for(const l of e)a=this.resetField(a,l,r);return a}static resetField(i,e,r=null){const a=Object.assign({},i);for(const l of Object.keys(a).filter(f=>(!r||r===f)&&void 0!==a[f][e]))1===Object.keys(a[l]).length?delete a[l]:(a[l]=Object.assign({},a[l]),delete a[l][e]);return a}static compareReset(i,e,r,a=!1){if(this.payloadEquals(r,a)){const l=Object.assign({},i);return void 0!==l[r.id]&&(l[r.id]=Object.assign({},l[r.id]),void 0!==l[r.id][e]&&delete l[r.id][e],0===Object.keys(l[r.id]).length&&delete l[r.id]),l}return this.assignValue(i,e,r)}static assignValue(i,e,r){return Object.assign(Object.assign({},i),{[r.id]:Object.assign(Object.assign({},i[r.id]),{[e]:r.value})})}static compareValue(i){return i.value===i.def?null:i.value}static compareValues(i){return this.arrayEquals(i.value,i.def)?null:i.value}static compareRank(i,e){return this.rankEquals(i,e)?null:i}}const fn={baseId:"1.1",disabledRecipes:null,expensive:!1,displayRate:Nt.PerMinute,preset:Mn.Minimum,beaconReceivers:null,belt:null,pipe:null,fuel:null,cargoWagon:null,fluidWagon:null,flowRate:1500,miningBonus:0,researchSpeed:We.Speed6,inserterTarget:Li.ExpressTransportBelt,inserterCapacity:bn.Capacity7,costFactor:"1",costFactory:"1",costInput:"1000000",costIgnored:"0"},hu={app:JSON.parse('{"game":null,"id":"app","name":null,"categories":[],"items":[],"recipes":[],"icons":[{"color":"#5C523D","id":"pipe","position":"0px 0px"},{"color":"#4E493E","id":"production","position":"-64px 0px"},{"color":"#8D703E","id":"inserter","position":"-128px 0px"},{"color":"#8A4640","id":"long-handed-inserter","position":"0px -64px"},{"color":"#437688","id":"fast-inserter","position":"-64px -64px"},{"color":"#6C8444","id":"stack-inserter","position":"-128px -64px"},{"color":"#E2E2E2","id":"module","position":"0px -128px"},{"color":"#8B8A8C","id":"time","position":"-64px -128px"}],"limitations":{}}'),base:[{id:"1.1",name:"1.1.39",game:Xe.Factorio},{id:"1.0",name:"1.0.0",game:Xe.Factorio},{id:"017",name:"0.17.79",game:Xe.Factorio},{id:"016",name:"0.16.51",game:Xe.Factorio},{id:"ang",name:"Angel's Industries",game:Xe.Factorio},{id:"bio",name:"Bio Industries",game:Xe.Factorio},{id:"bob",name:"Bob's Mods",game:Xe.Factorio},{id:"bobang",name:"Bob's & Angel's",game:Xe.Factorio},{id:"fpp",name:"Factorio Plus Plus",game:Xe.Factorio},{id:"fep",name:"FactorioExtended Plus",game:Xe.Factorio},{id:"ir2",name:"Industrial Revolution 2",game:Xe.Factorio},{id:"kr2",name:"Krastorio 2",game:Xe.Factorio},{id:"kr2sxp",name:"Krastorio 2 + SE",game:Xe.Factorio},{id:"msc",name:"More Science",game:Xe.Factorio},{id:"nls",name:"Nullius",game:Xe.Factorio},{id:"pys",name:"Pyanodons",game:Xe.Factorio},{id:"pysalf",name:"Pyanodons + AL",game:Xe.Factorio},{id:"sea",name:"Sea Block",game:Xe.Factorio},{id:"sxp",name:"Space Exploration",game:Xe.Factorio},{id:"xan",name:"Xander Mod",game:Xe.Factorio},{id:"dsp",name:"Dyson Sphere Program",game:Xe.DysonSphereProgram},{id:"sfy",name:"Satisfactory",game:Xe.Satisfactory}],mods:[{id:"res",name:"Infinite Research",game:Xe.Factorio}],v0:["1.1","1.0","0.17","0.16","bio-industries","bobs","bobs-angels","dsp","factorio-extended-plus","industrial-revolution","krastorio2","krastorio2+se","pyanodons","pyanodons+al","seablock","space-exploration","xander"],hash:["1.1","1.0","017","016","bio","bob","bobang","dsp","fep","ir2","kr2","kr2sxp","pys","pysalf","sea","sxp","xan","nls","fpp","ang","msc","sfy"]},XM=Object.assign(Object.assign({},hu),{dataEntities:{}}),ip=t=>t.datasetsState,cS=(0,Ce.qC)(t=>t.app,ip),Gg=(0,Ce.qC)(t=>t.base,ip),rp=(0,Ce.qC)(t=>t.mods,ip),_u=(0,Ce.qC)(t=>t.dataEntities,ip),e2=(0,Ce.P1)(Gg,t=>t.reduce((i,e)=>(i[e.id]=e,i),{})),gu=(0,Ce.P1)(Gg,_u,(t,i)=>t.reduce((e,r)=>(e[r.id]=i[r.id]?Object.assign(Object.assign({},r),i[r.id]):null,e),{})),Ot=(0,Ce.P1)(rp,_u,(t,i)=>t.reduce((e,r)=>(e[r.id]=i[r.id]?Object.assign(Object.assign({},r),i[r.id]):null,e),{})),Jt=t=>t.settingsState,Xb=(0,Ce.qC)(t=>t.preset,Jt),fS=(0,Ce.qC)(t=>t.baseId,Jt),pS=(0,Ce.qC)(t=>t.expensive,Jt),hS=(0,Ce.qC)(t=>t.beaconReceivers,Jt),Wi=(0,Ce.qC)(t=>t.flowRate,Jt),Ut=(0,Ce.qC)(t=>t.displayRate,Jt),br=(0,Ce.qC)(t=>t.miningBonus,Jt),eC=(0,Ce.qC)(t=>t.researchSpeed,Jt),_S=(0,Ce.qC)(t=>t.inserterTarget,Jt),tC=(0,Ce.qC)(t=>t.inserterCapacity,Jt),op=(0,Ce.qC)(t=>t.costFactor,Jt),Ps=(0,Ce.qC)(t=>t.costFactory,Jt),ac=(0,Ce.qC)(t=>t.costInput,Jt),nC=(0,Ce.qC)(t=>t.costIgnored,Jt),vo=(0,Ce.P1)(fS,gu,(t,i)=>i[t]),sp=(0,Ce.P1)(fS,e2,(t,i)=>i[t].game),ap=(0,Ce.P1)(Xb,vo,(t,i)=>{if(i){const e=i.defaults;let r;switch(i.game){case Xe.Factorio:r=t===Mn.Minimum?[]:e.moduleRank;break;case Xe.DysonSphereProgram:r=t===Mn.Minimum?[e.minBelt]:[e.maxBelt];break;case Xe.Satisfactory:r=e.moduleRank}return{modIds:e.modIds,belt:t===Mn.Minimum?e.minBelt:e.maxBelt,pipe:t===Mn.Minimum?e.minPipe:e.maxPipe,fuel:e.fuel,cargoWagon:e.cargoWagon,fluidWagon:e.fluidWagon,disabledRecipes:e.disabledRecipes,factoryRank:t===Mn.Minimum?e.minFactoryRank:e.maxFactoryRank,moduleRank:r,beaconCount:t<Mn.Beacon8?"0":t<Mn.Beacon12?"8":"12",beacon:e.beacon,beaconModule:t<Mn.Beacon8?$e.Module:e.beaconModule}}return null}),Rs=(0,Ce.P1)(Jt,ap,(t,i)=>Object.assign(Object.assign({},t),{belt:t.belt||(null==i?void 0:i.belt),pipe:t.pipe||(null==i?void 0:i.pipe),fuel:t.fuel||(null==i?void 0:i.fuel),cargoWagon:t.cargoWagon||(null==i?void 0:i.cargoWagon),fluidWagon:t.fluidWagon||(null==i?void 0:i.fluidWagon),disabledRecipes:t.disabledRecipes||(null==i?void 0:i.disabledRecipes)||[]})),cc=(0,Ce.P1)(Rs,t=>t.fuel),lc=(0,Ce.P1)(Rs,t=>t.disabledRecipes),Xg=(0,Ce.P1)(br,t=>M.fromNumber(t).div(M.hundred)),Ns=(0,Ce.P1)(eC,t=>mA[t]),gS=(0,Ce.P1)(hS,t=>t&&M.fromString(t)),cp=(0,Ce.P1)(Wi,t=>M.fromNumber(t)),iC=(0,Ce.P1)(op,t=>M.fromString(t)),rC=(0,Ce.P1)(Ps,t=>M.fromString(t)),oC=(0,Ce.P1)(ac,t=>M.fromString(t)),lp=(0,Ce.P1)(nC,t=>M.fromString(t)),mS=(0,Ce.P1)(vo,Ot,(t,i)=>{var e,r;return(null===(r=null===(e=null==t?void 0:t.defaults)||void 0===e?void 0:e.modIds)||void 0===r?void 0:r.filter(a=>i[a]).map(a=>i[a]))||[]}),yu=(0,Ce.P1)(vo,mS,(t,i)=>t&&t.defaults.modIds.length===i.length?[t,...i]:[]),Fs=(0,Ce.P1)(cS,yu,ap,sp,(t,i,e,r)=>{const a=em(t.categories,i.map(R=>R.categories)),l=em(t.icons.map(R=>Object.assign(Object.assign({},R),{file:R.file||`data/${t.id}/icons.png`})),i.map(R=>R.icons.map(K=>Object.assign(Object.assign({},K),{file:K.file||`data/${R.id}/icons.png`})))),f=em(t.items,i.map(R=>R.items)),h=em(t.recipes,i.map(R=>R.recipes)),g=function(t,i){let e=aC(t);for(const r of i.filter(a=>a))e=aC(r,e);return e}(t.limitations,i.map(R=>R.limitations));let y=Object.keys(a);const b=Object.keys(l),x=Object.keys(f),T=Object.keys(h),I=x.map(R=>f[R]),D=T.map(R=>h[R]),Y=I.filter(R=>R.beacon).sort((R,K)=>R.beacon.modules-K.beacon.modules).map(R=>R.id),X=I.filter(R=>R.belt).sort((R,K)=>R.belt.speed-K.belt.speed).map(R=>R.id),ie=I.filter(R=>R.pipe).sort((R,K)=>R.pipe.speed-K.pipe.speed).map(R=>R.id),ue=I.filter(R=>R.cargoWagon).sort((R,K)=>R.cargoWagon.size-K.cargoWagon.size).map(R=>R.id),Ee=I.filter(R=>R.fluidWagon).sort((R,K)=>R.fluidWagon.capacity-K.fluidWagon.capacity).map(R=>R.id),$=I.filter(R=>R.factory).map(R=>R.id),Ze=I.filter(R=>R.module),ce=Ze.map(R=>R.id),oe=Ze.filter(R=>!R.module.productivity).map(R=>R.id),Se=I.filter(R=>R.fuel).sort((R,K)=>R.fuel.value-K.fuel.value).reduce((R,K)=>(R[K.fuel.category]||(R[K.fuel.category]=[]),R[K.fuel.category].push(K.id),R),{});I.filter(R=>R.icon).forEach(R=>l[R.id]=l[R.icon]),D.filter(R=>R.icon).forEach(R=>l[R.id]=l[R.icon]),D.filter(R=>!l[R.id]&&R.out).forEach(R=>l[R.id]=l[Object.keys(R.out)[0]]);const Ne={};for(const R of y){const K=[[]],xe=I.filter(et=>et.category===R).sort((et,He)=>et.row-He.row);if(xe.length){let et=xe[0].row;for(const He of xe)He.row>et&&(K.push([]),et=He.row),K[K.length-1].push(He.id);Ne[R]=K}}y=y.filter(R=>Ne[R]);const Me=x.reduce((R,K)=>(R[K]=new Fx(f[K]),R),{}),Le=T.reduce((R,K)=>(R[K]=new Wp(h[K]),R),{}),nt=T.reduce((R,K)=>{const xe=Le[K],et=xe.out?Object.keys(xe.out):[xe.id];for(const He of et.filter(dn=>xe.produces(dn)))R[He]?R[He].push(xe):R[He]=[xe];return R},{}),Wt=x.reduce((R,K)=>{const xe=nt.hasOwnProperty(K)?nt[K]:[];return 1===xe.length&&(!xe[0].out||1===Object.keys(xe[0].out).length)&&(R[K]=xe[0].id),R},{});for(const R of T.filter(K=>!h[K].name))if(f[R])h[R]=Object.assign(Object.assign({},h[R]),{name:f[R].name});else{const xe=(R.charAt(0).toUpperCase()+R.slice(1)).replace(/-/g," ");h[R]=Object.assign(Object.assign({},h[R]),{name:xe})}const In=D.reduce((R,K)=>(R[K.id]=Ze.filter(xe=>!xe.module.limitation||g[xe.module.limitation][K.id]).map(xe=>xe.id),R),{}),he=Object.keys(Wt).map(R=>Wt[R]),se=T.filter(R=>-1===he.indexOf(R)).sort();return{game:r,categoryIds:y,categoryEntities:a,categoryItemRows:Ne,iconIds:b,iconEntities:l,itemIds:x,beaconIds:Y,beltIds:X,pipeIds:ie,cargoWagonIds:ue,fluidWagonIds:Ee,factoryIds:$,moduleIds:ce,beaconModuleIds:oe,fuelIds:Se,itemEntities:f,itemR:Me,itemRecipeIds:Wt,recipeIds:T,complexRecipeIds:se,recipeEntities:h,recipeR:Le,recipeModuleIds:In,defaults:e}}),ks=(0,Ce.P1)(Fs,pS,(t,i)=>{if(i){const e=Object.assign({},t),r=[];for(const a of t.recipeIds.map(l=>t.recipeEntities[l]))if(a.expensive){const l=Object.assign(Object.assign({},a),a.expensive);a.out&&!a.expensive.out&&delete l.out,r.push(l)}else r.push(a);return e.recipeEntities=cy(r),e}return t}),sC=(0,Ce.P1)(ks,cp,(t,i)=>{const e={[$e.Pipe]:i};if(t.beltIds)for(const r of t.beltIds)e[r]=t.itemR[r].belt.speed;if(t.pipeIds)for(const r of t.pipeIds)e[r]=t.itemR[r].pipe.speed;return e}),st=(0,Ce.P1)(cc,Xg,Ns,iC,rC,ks,(t,i,e,r,a,l)=>({fuel:t,miningBonus:i,researchSpeed:e,costFactor:r,costFactory:a,data:l})),n2=(0,Ce.P1)(Jt,t=>t.costFactor!==fn.costFactor||t.costFactory!==fn.costFactory||t.costInput!==fn.costInput||t.costIgnored!==fn.costIgnored);function em(t,i){const e=cy(t);for(const r of i.filter(a=>a))for(const a of r)e[a.id]=a;return e}function aC(t,i={}){return Object.keys(t).reduce((e,r)=>(e[r]=function(t,i={}){return t.reduce((e,r)=>(e[r]=!0,e),i)}(t[r],i[r]),e),i)}const uc=t=>t.preferencesState,cC=(0,Ce.qC)(t=>t.columns,uc),lC=(0,Ce.qC)(t=>t.linkSize,uc),tm=(0,Ce.qC)(t=>t.linkText,uc),vu=(0,Ce.qC)(t=>t.sankeyAlign,uc),xS=(0,Ce.qC)(t=>t.simplex,uc),uC=(0,Ce.P1)(cC,sp,(t,i)=>Object.assign(Object.assign(Object.assign({},Kf),t),i===Xe.DysonSphereProgram?{[ze.Wagons]:Object.assign(Object.assign({},t[ze.Wagons]),{show:!1}),[ze.Overclock]:Object.assign(Object.assign({},t[ze.Overclock]),{show:!1}),[ze.Beacons]:Object.assign(Object.assign({},t[ze.Beacons]),{show:!1}),[ze.Pollution]:Object.assign(Object.assign({},t[ze.Pollution]),{show:!1})}:i===Xe.Satisfactory?{[ze.Beacons]:Object.assign(Object.assign({},t[ze.Beacons]),{show:!1}),[ze.Pollution]:Object.assign(Object.assign({},t[ze.Pollution]),{show:!1})}:{[ze.Overclock]:Object.assign(Object.assign({},t[ze.Overclock]),{show:!1})})),wS=(0,Ce.P1)(tm,cC,(t,i)=>{switch(t){case $t.Items:return i[ze.Items].precision;case $t.Belts:return i[ze.Belts].precision;case $t.Wagons:return i[ze.Wagons].precision;case $t.Factories:return i[ze.Factories].precision;default:return null}}),ES=(0,Ce.P1)(xS,oC,lp,(t,i,e)=>({simplex:t,costInput:i,costIgnored:e}));class nm{constructor(i){this.payload=i,this.type="[Products] Reset"}}class TS{constructor(i){this.payload=i,this.type="[Products] Add"}}class Qn{constructor(i){this.payload=i,this.type="[Products] Remove"}}class IS{constructor(i){this.payload=i,this.type="[Products] Set Item"}}class SS{constructor(i){this.payload=i,this.type="[Products] Set Rate"}}class im{constructor(i){this.payload=i,this.type="[Products] Set Rate Type"}}class dC{constructor(i){this.payload=i,this.type="[Products] Set Via"}}class DS{constructor(i){this.payload=i,this.type="[Products] Set Via Setting"}}class AS{constructor(i){this.payload=i,this.type="[Products] Set Via Factory Modules"}}class MS{constructor(i){this.payload=i,this.type="[Products] Set Via Beacon Count"}}class OS{constructor(i){this.payload=i,this.type="[Products] Set Via Beacon"}}class PS{constructor(i){this.payload=i,this.type="[Products] Set Via Beacon Modules"}}class rm{constructor(i){this.payload=i,this.type="[Products] Set Via Overclock"}}class RS{constructor(i){this.payload=i,this.type="[Products] Adjust Display Rate"}}const NS={ids:[],entities:{},index:0};class om{constructor(i){this.payload=i,this.type="[Factories] Add"}}class FS{constructor(i){this.payload=i,this.type="[Factories] Remove"}}class r2{constructor(i){this.payload=i,this.type="[Factories] Raise"}}class kS{constructor(i){this.payload=i,this.type="[Factories] Set Factory"}}class LS{constructor(i){this.payload=i,this.type="[Factories] Set Module Rank"}}class ZS{constructor(i){this.payload=i,this.type="[Factories] Set Beacon Count"}}class BS{constructor(i){this.payload=i,this.type="[Factories] Set Beacon"}}class VS{constructor(i){this.payload=i,this.type="[Factories] Set Beacon Module"}}class US{constructor(i){this.payload=i,this.type="[Factories] Set Overclock"}}const Jo={ids:null,entities:{}},pC=t=>t.factoriesState,dc=(0,Ce.P1)(pC,ap,ks,(t,i,e)=>{const r=t.ids||(null==i?void 0:i.factoryRank)||[],a={},l=Object.assign({},t.entities[""]);l.moduleRank=l.moduleRank||(null==i?void 0:i.moduleRank)||[],l.beaconCount=e.game===Xe.Factorio?l.beaconCount||(null==i?void 0:i.beaconCount):null,l.beacon=l.beacon||(null==i?void 0:i.beacon),l.beaconModule=l.beaconModule||(null==i?void 0:i.beaconModule),l.overclock=e.game===Xe.Satisfactory?l.overclock?l.overclock:100:null,a[""]=l;for(const f of e.factoryIds.filter(h=>e.itemEntities[h])){const h=Object.assign({},t.entities[f]);e.itemEntities[f].factory.modules&&(h.moduleRank=h.moduleRank||l.moduleRank,h.beaconCount=null!=h.beaconCount?h.beaconCount:l.beaconCount,h.beacon=h.beacon||l.beacon,h.beaconModule=h.beaconModule||l.beaconModule),h.overclock=h.overclock||l.overclock,a[f]=h}return{ids:r,entities:a}});class bu{constructor(i){this.payload=i,this.type="[Items] Ignore Item"}}class o2{constructor(i){this.payload=i,this.type="[Items] Set Belt"}}class hC{constructor(i){this.payload=i,this.type="[Items] Set Wagon"}}class qS{constructor(i){this.payload=i,this.type="[Items] Set Recipe"}}class $S{constructor(i){this.payload=i,this.type="[Items] Reset Item"}}class HS{constructor(){this.type="[Items] Reset Ignore"}}class zS{constructor(){this.type="[Items] Reset Belt"}}class QS{constructor(){this.type="[Items] Reset Wagon"}}const up={},fc=t=>t.itemsState,Wo=(0,Ce.P1)(fc,ks,Rs,(t,i,e)=>{var r;const a={};if(null===(r=null==i?void 0:i.itemIds)||void 0===r?void 0:r.length)for(const l of i.itemIds.map(f=>i.itemEntities[f])){const f=t[l.id]?Object.assign({},t[l.id]):{ignore:!1};f.belt||(f.belt=l.stack?e.belt:e.pipe?e.pipe:$e.Pipe),f.wagon||(f.wagon=l.stack?e.cargoWagon:e.fluidWagon),a[l.id]=f}return a}),s2=(0,Ce.P1)(fc,t=>Object.keys(t).some(i=>null!=t[i].ignore)),a2=(0,Ce.P1)(fc,t=>Object.keys(t).some(i=>t[i].belt)),sm=(0,Ce.P1)(fc,t=>Object.keys(t).some(i=>t[i].wagon));class WS{constructor(i){this.payload=i,this.type="[Recipes] Set Factory"}}class YS{constructor(i){this.payload=i,this.type="[Recipes] Set Modules"}}class GS{constructor(i){this.payload=i,this.type="[Recipes] Set Beacon Count"}}class KS{constructor(i){this.payload=i,this.type="[Recipes] Set Beacon"}}class XS{constructor(i){this.payload=i,this.type="[Recipes] Set Beacon Modules"}}class eD{constructor(i){this.payload=i,this.type="[Recipes] Set Beacon Total"}}class _C{constructor(i){this.payload=i,this.type="[Recipes] Set Overclock"}}class am{constructor(i){this.payload=i,this.type="[Recipes] Set Cost"}}class tD{constructor(i){this.payload=i,this.type="[Recipes] Reset Recipe"}}class Jn{constructor(i){this.payload=i,this.type="[Recipes] Reset Recipe Modules"}}class gC{constructor(){this.type="[Recipes] Reset Factory"}}class xr{constructor(){this.type="[Recipes] Reset Beacons"}}class cm{constructor(){this.type="[Recipes] Reset Overclock"}}class nD{constructor(){this.type="[Recipes] Reset Cost"}}const dp={},bo=t=>t.recipesState,pc=(0,Ce.P1)(bo,dc,Fs,(t,i,e)=>{var r,a,l;const f={};if(null===(r=null==e?void 0:e.recipeIds)||void 0===r?void 0:r.length)for(const h of e.recipeIds.map(g=>e.recipeEntities[g])){const g=Object.assign({},t[h.id]);g.factory||(g.factory=wn.bestMatch(h.producers,i.ids));const y=null===(a=e.itemEntities[g.factory])||void 0===a?void 0:a.factory,b=i.entities[g.factory];if(wn.allowsModules(h,y)){g.factoryModules||(g.factoryModules=wn.defaultModules(e.recipeModuleIds[h.id],b.moduleRank,y.modules)),null==g.beaconCount&&(g.beaconCount=b.beaconCount),g.beacon=g.beacon||b.beacon;const x=null===(l=e.itemEntities[g.beacon])||void 0===l?void 0:l.beacon;x&&!g.beaconModules&&(g.beaconModules=new Array(x.modules).fill(b.beaconModule))}else delete g.factoryModules,delete g.beaconCount,delete g.beacon,delete g.beaconModules;g.beaconTotal&&(!g.beaconCount||M.fromString(g.beaconCount).isZero())&&delete g.beaconTotal,g.overclock=g.overclock||(null==b?void 0:b.overclock),f[h.id]=g}return f}),lm=(0,Ce.P1)(pc,t=>Object.keys(t).reduce((i,e)=>(i[e]=new Ro(t[e]),i),{})),Yi=((0,Ce.P1)(cc,Xg,Ns,ks,(t,i,e,r)=>({fuel:t,miningBonus:i,researchSpeed:e,data:r})),(0,Ce.P1)(lm,Wo,lc,st,(t,i,e,r)=>wn.adjustDataset(t,i,e,r.fuel,r.miningBonus,r.researchSpeed,r.costFactor,r.costFactory,r.data))),l2=(0,Ce.P1)(bo,t=>Object.keys(t).some(i=>t[i].factory||t[i].factoryModules)),iD=(0,Ce.P1)(bo,t=>Object.keys(t).some(i=>t[i].overclock)),u2=(0,Ce.P1)(bo,t=>Object.keys(t).some(i=>t[i].beacon||t[i].beaconModules||t[i].beaconCount||t[i].beaconTotal)),d2=(0,Ce.P1)(bo,t=>Object.keys(t).some(i=>t[i].cost)),mC=t=>t.productsState,oD=(0,Ce.qC)(t=>t.ids,mC),sD=(0,Ce.qC)(t=>t.entities,mC),aD=(0,Ce.P1)(oD,sD,Fs,(t,i,e)=>t.map(r=>i[r]).filter(r=>e.itemEntities[r.itemId])),hc=(0,Ce.P1)(aD,Wo,lc,Yi,ES,(t,i,e,r,a)=>null==t?void 0:t.reduce((l,f)=>(l[f.itemId]=Yg.getSteps(f.itemId,i,e,a.costInput,a.costIgnored,r,f.rateType===bt.Factories,a.simplex),l),{})),pp=(0,Ce.P1)(aD,hc,pc,dc,Fs,(t,i,e,r,a)=>null==t?void 0:t.map(l=>wn.adjustProduct(l,i,e,r,a))),yC=(0,Ce.P1)(pp,t=>t.map(i=>new Kc(i))),vi=(0,Ce.P1)(yC,t=>t.reduce((i,e)=>(i[e.rateType]||(i[e.rateType]=[]),i[e.rateType]=[...i[e.rateType],e],i),{})),f2=(0,Ce.P1)(vi,t=>t[bt.Items]),vC=(0,Ce.P1)(vi,t=>t[bt.Belts]),cD=(0,Ce.P1)(vi,t=>t[bt.Wagons]),bC=(0,Ce.P1)(vi,t=>t[bt.Factories]),CC=(0,Ce.P1)(f2,hc,Ut,(t,i,e)=>null==t?void 0:t.reduce((r,a)=>{const l=a.rate.div(cr[e]);if(a.viaId===a.itemId)r[a.id]=l;else{const f=wn.getProductStepData(i,a);r[a.id]=f?l.div(f[1]):M.zero}return r},{})),xC=(0,Ce.P1)(vC,hc,Wo,sC,(t,i,e,r)=>null==t?void 0:t.reduce((a,l)=>{if(l.viaId===l.itemId)a[l.id]=l.rate.mul(r[l.viaSetting||e[l.itemId].belt]);else{const f=wn.getProductStepData(i,l);a[l.id]=f?l.rate.mul(r[l.viaSetting||e[f[0]].belt]).div(f[1]):M.zero}return a},{})),dm=(0,Ce.P1)(cD,hc,Wo,Ut,ks,(t,i,e,r,a)=>null==t?void 0:t.reduce((l,f)=>{if(f.viaId===f.itemId){const h=a.itemR[f.itemId],g=a.itemR[f.viaSetting||e[f.itemId].wagon];l[f.id]=f.rate.div(cr[r]).mul(h.stack?h.stack.mul(g.cargoWagon.size):g.fluidWagon.capacity)}else{const h=wn.getProductStepData(i,f);if(h){const g=a.itemR[h[0]],y=a.itemR[f.viaSetting||e[h[0]].wagon];l[f.id]=f.rate.div(cr[r]).mul(g.stack?g.stack.mul(y.cargoWagon.size):y.fluidWagon.capacity).div(h[1])}else l[f.id]=M.zero}return l},{})),fm=(0,Ce.P1)(bC,hc,lm,st,Yi,(t,i,e,r,a)=>null==t?void 0:t.reduce((l,f)=>{let h=a.itemRecipeIds[f.itemId];if(h&&f.viaId===h){const g=a.recipeR[h];l[f.id]=f.rate.div(g.time).mul(g.out[f.itemId]),g.adjustProd&&(l[f.id]=l[f.id].div(g.productivity))}else{const g=wn.getProductStepData(i,f);g?(h=g[0],l[f.id]=f.rate.div(g[1])):l[f.id]=M.zero}if(h&&f.viaSetting){const g=Object.assign(Object.assign({},e),{[h]:Object.assign({factory:f.viaSetting,factoryModules:f.viaFactoryModules,beaconCount:f.viaBeaconCount,beacon:f.viaBeacon,beaconModules:f.viaBeaconModules,overclock:f.viaOverclock})}),y=wn.adjustRecipes(g,r.fuel,r.miningBonus,r.researchSpeed,r.data),b=a.recipeR[h],x=y[h],T=x.productivity.div(x.time).div(b.productivity).mul(b.time);l[f.id]=l[f.id].mul(T)}return l},{})),hp=(0,Ce.P1)(CC,xC,dm,fm,(t,i,e,r)=>Object.assign(Object.assign(Object.assign(Object.assign({},t),i),e),r)),_p=(0,Ce.P1)(pp,hp,Wo,Yi,(t,i,e,r)=>{const a=[];for(const l of t)Vn.addStepsFor(l.itemId,i[l.id],a,e,r);return a}),_c=(0,Ce.P1)(_p,Wo,lc,Yi,ES,(t,i,e,r,a)=>a.simplex?Yg.solve(Vn.copy(t),i,e,a.costInput,a.costIgnored,r):{steps:t,result:pi.Skipped}),wC=(0,Ce.P1)(_c,Wo,pc,sC,Yi,(t,i,e,r,a)=>Vn.calculateBelts(Vn.copy(t.steps),i,e,r,a)),EC=(0,Ce.P1)(wC,Yi,(t,i)=>Vn.calculateOutputs(Vn.copy(t),i)),lD=(0,Ce.P1)(EC,gS,lm,Yi,(t,i,e,r)=>Vn.calculateBeacons(Vn.copy(t),i,e,r)),pm=(0,Ce.P1)(lD,Ut,(t,i)=>Vn.sortHierarchy(Vn.displayRate(Vn.copy(t),i))),TC=(0,Ce.P1)(pm,lC,tm,wS,Yi,(t,i,e,r,a)=>class{static buildSankey(i,e,r,a,l){var f;const h={nodes:[],links:[]},g={},y={};for(const b of i){const x=l.recipeR[b.recipeId];b.itemId===b.recipeId&&x.produces(b.itemId)?(g[b.itemId]=b.itemId,y[b.recipeId]=b.recipeId):(g[b.itemId]=`i|${b.itemId}`,y[b.recipeId]=`r|${b.recipeId}`)}for(const b of i){const x=this.stepLinkValue(b,r),T=r===e?x:this.stepLinkValue(b,e);let I=!1;if(b.recipeId){const D=l.recipeR[b.recipeId],Y=l.iconEntities[b.recipeId];if(I=b.itemId===b.recipeId&&D.produces(b.itemId),h.nodes.push({id:y[b.recipeId],viewBox:`${Y.position.replace(/px/g,"").replace(/-/g,"")} 64 64`,href:Y.file,name:D.name,color:Y.color}),I&&b.parents)for(const X of Object.keys(b.parents)){const ie=l.itemEntities[b.itemId];h.links.push({target:y[X],source:y[b.recipeId],value:this.linkSize(T,b.parents[X],e,ie.stack),text:this.linkText(x,b.parents[X],r,a),name:ie.name,color:Y.color})}for(const X of Object.keys(D.out).filter(ie=>{var ue;return!I||b.itemId!==ie&&!(null===(ue=b.parents)||void 0===ue?void 0:ue[ie])})){const ie=i.find(ce=>ce.itemId===X),ue=this.stepLinkValue(ie,r),Ee=r===e?ue:this.stepLinkValue(ie,e),$=b.outputs[X],Ze=l.itemEntities[X];h.links.push({target:g[X],source:y[b.recipeId],value:this.linkSize(Ee,$,e,Ze.stack),text:this.linkText(ue,$,r,a),name:Ze.name,color:l.iconEntities[X].color})}}if(b.itemId&&!I){const D=l.itemEntities[b.itemId],Y=l.iconEntities[b.itemId];if(h.nodes.push({id:g[b.itemId],viewBox:`${Y.position.replace(/px/g,"").replace(/-/g,"")} 64 64`,href:Y.file,name:D.name,color:Y.color}),b.parents)for(const X of Object.keys(b.parents))(null===(f=l.recipeR[X].in)||void 0===f?void 0:f[b.itemId])&&h.links.push({target:y[X],source:g[b.itemId],value:this.linkSize(T,b.parents[X],e,D.stack),text:this.linkText(x,b.parents[X],r,a),name:D.name,color:Y.color})}}return h}static stepLinkValue(i,e){if(e===$t.None||e===$t.Percent)return M.one;let r;switch(e){case $t.Belts:r=i.belts;break;case $t.Wagons:r=i.wagons;break;case $t.Factories:r=i.factories;break;default:r=i.items}return r||M.zero}static linkSize(i,e,r,a){return r===$t.None?1:r===$t.Percent?e.toNumber()||1e-10:(r===$t.Items&&!a&&(i=i.div(M.from(10))),i.mul(e).toNumber()||1e-10)}static linkText(i,e,r,a){switch(r){case $t.None:return"";case $t.Percent:return`${Math.round(e.mul(M.hundred).toNumber())}%`;default:{const l=i.mul(e);return null==a?l.toFraction():l.toPrecision(a).toString()}}}}.buildSankey(Vn.copy(t),i,e,r,a)),uD=(0,Ce.P1)(yC,hp,(t,i)=>({products:t,rates:i})),dD=(0,Ce.P1)(mC,fc,bo,pC,Jt,(t,i,e,r,a)=>({products:t,items:i,recipes:e,factories:r,settings:a}));let gc=(()=>{class t{constructor(){this.open=!1,this.relative=!0}cancel(){this.open=!1}moduleRows(e){const r=[...e].sort(),a=[];let l,f=[];for(const h of r){const g=/(.+?)(-\w*\d+)?$/g.exec(h);l||(l=g[1]),l===g[1]?f.push(h):(l=g[1],a.push(f),f=[h])}return a.push(f),a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-dialog-container"]],hostVars:2,hostBindings:function(e,r){2&e&&n.ekj("relative",r.relative)},inputs:{header:"header"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();const hm=["*"];let mc=(()=>{class t{constructor(e){this.ref=e,this.closeDialog=new n.vpe,this.opening=!0}click(e){this.opening?this.opening=!1:!this.ref.nativeElement.contains(e.target)&&document.contains(e.target)&&this.closeDialog.emit()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-dialog"]],hostBindings:function(e,r){1&e&&n.NdJ("click",function(l){return r.click(l)},!1,n.evT)},outputs:{closeDialog:"closeDialog"},ngContentSelectors:hm,decls:1,vars:0,template:function(e,r){1&e&&(n.F$t(),n.Hsn(0))},styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;z-index:10;background-color:var(--color-back);box-shadow:var(--shadow-panel);padding:.75rem;min-width:100%}"],changeDetection:0}),t})();function si(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){const l=n.CHM(e).$implicit,f=n.oxw(2);return f.selectId.emit(l.id),f.open=!1}),n.TgZ(1,"div",1),n._uU(2),n.qZA(),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(2);n.ekj("active",e.id===r.selected),n.xp6(2),n.hij(" ",e.name," ")}}function Cu(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-dialog",4),n.NdJ("closeDialog",function(){return n.CHM(e),n.oxw().cancel()}),n.YNc(1,si,3,3,"button",5),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.options)}}let yc=(()=>{class t extends gc{constructor(){super(),this.selectId=new n.vpe}get text(){var e;return(null===(e=this.options.find(r=>r.id===this.selected))||void 0===e?void 0:e.name)||"<None>"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-options"]],inputs:{title:"title",selected:"selected",options:"options"},outputs:{selectId:"selectId"},features:[n.qOj],decls:6,vars:5,consts:[[3,"title","click"],[1,"text"],[1,"material-icons"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,r){1&e&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return r.open=!r.open}),n.TgZ(1,"div",1),n._uU(2),n.qZA(),n.TgZ(3,"i",2),n._uU(4,"arrow_drop_down"),n.qZA(),n.qZA(),n.YNc(5,Cu,2,1,"lab-dialog",3)),2&e&&(n.ekj("active",r.open),n.Q6J("title",r.title),n.xp6(2),n.Oqu(r.text),n.xp6(3),n.Q6J("ngIf",r.open))},directives:[ae,mc,Ci],styles:["[_nghost-%COMP%]{display:flex}lab-dialog[_ngcontent-%COMP%]{max-height:20rem;margin-top:2.25rem;padding:0;display:flex;flex-direction:column;overflow:auto}lab-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:normal;filter:none;flex-shrink:0}lab-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:hover):not(.active){background-color:var(--color-dark);color:var(--color-white);box-shadow:var(--shadow-tip)}button[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:space-between}button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{white-space:nowrap}button.active[_ngcontent-%COMP%]:not(:hover){background:var(--color-brand-alt);box-shadow:var(--shadow-active)}"],changeDetection:0}),t})(),xu=(()=>{class t{getState(e,r,a){const l=this.recipeSettings[r];return{recipe:l,factory:this.factories.entities[a],fMatch:e!==r&&a===l.factory}}changeFactory(e,r,a,l=e){a.emit({id:l,value:r,def:wn.bestMatch(this.data.recipeEntities[e].producers,this.factories.ids)})}changeFactoryModules(e,r,a,l,f,h=e,g=this.recipeSettings[e].factory){const y=l.length,b=[...this.data.recipeModuleIds[e],$e.Module],x=this.getState(h,e,g),T=x.fMatch?x.recipe.factoryModules:wn.defaultModules(b,x.factory.moduleRank,y),I=this.generateModules(a,r,l);f.emit({id:h,value:I,def:T})}changeBeaconCount(e,r,a,l=e,f=this.recipeSettings[e].factory){const h=this.getState(l,e,f);a.emit({id:l,value:r,def:h.fMatch?h.recipe.beaconCount:h.factory.beaconCount})}changeBeacon(e,r,a,l=e,f=this.recipeSettings[e].factory){const h=this.getState(l,e,f);a.emit({id:l,value:r,def:h.fMatch?h.recipe.beacon:h.factory.beacon})}changeBeaconModules(e,r,a,l,f,h=e,g=this.recipeSettings[e].factory,y=null){const b=l.length,x=this.getState(h,e,g),I=!x.fMatch||null!=y&&y!==x.recipe.beacon?new Array(b).fill(x.factory.beaconModule):x.recipe.beaconModules,D=this.generateModules(a,r,l);f.emit({id:h,value:D,def:I})}changeOverclock(e,r,a,l=e,f=this.recipeSettings[e].factory){const g=r.target.valueAsNumber;if(g>=1&&g<=250){const y=this.getState(l,e,f);a.emit({id:l,value:g,def:y.fMatch?y.recipe.overclock:y.factory.overclock})}}generateModules(e,r,a){const l=[...a];for(let f=e;f<l.length;f++)l[f]=r;return l}gtZero(e){try{return M.fromString(e).gt(M.zero)}catch(r){}return!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-recipe-settings"]],inputs:{data:"data",recipeSettings:"recipeSettings",factories:"factories"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),gp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vc(t){let i=t.length;for(;--i>=0;)t[i]=0}const wr=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Yo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Cc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Eu=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wo=new Array(576);vc(wo);const Tu=new Array(60);vc(Tu);const Iu=new Array(512);vc(Iu);const wc=new Array(256);vc(wc);const yp=new Array(29);vc(yp);const Su=new Array(30);function vp(t,i,e,r,a){this.static_tree=t,this.extra_bits=i,this.extra_base=e,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}let bp,RC,NC;function Cp(t,i){this.dyn_tree=t,this.max_code=0,this.stat_desc=i}vc(Su);const Go=t=>t<256?Iu[t]:Iu[256+(t>>>7)],Zs=(t,i)=>{t.pending_buf[t.pending++]=255&i,t.pending_buf[t.pending++]=i>>>8&255},bi=(t,i,e)=>{t.bi_valid>16-e?(t.bi_buf|=i<<t.bi_valid&65535,Zs(t,t.bi_buf),t.bi_buf=i>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=i<<t.bi_valid&65535,t.bi_valid+=e)},Hr=(t,i,e)=>{bi(t,e[2*i],e[2*i+1])},yD=(t,i)=>{let e=0;do{e|=1&t,t>>>=1,e<<=1}while(--i>0);return e>>>1},vD=(t,i,e)=>{const r=new Array(16);let l,f,a=0;for(l=1;l<=15;l++)r[l]=a=a+e[l-1]<<1;for(f=0;f<=i;f++){let h=t[2*f+1];0!==h&&(t[2*f]=yD(r[h]++,h))}},FC=t=>{let i;for(i=0;i<286;i++)t.dyn_ltree[2*i]=0;for(i=0;i<30;i++)t.dyn_dtree[2*i]=0;for(i=0;i<19;i++)t.bl_tree[2*i]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},CD=t=>{t.bi_valid>8?Zs(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},xD=(t,i,e,r)=>{const a=2*i,l=2*e;return t[a]<t[l]||t[a]===t[l]&&r[i]<=r[e]},kC=(t,i,e)=>{const r=t.heap[e];let a=e<<1;for(;a<=t.heap_len&&(a<t.heap_len&&xD(i,t.heap[a+1],t.heap[a],t.depth)&&a++,!xD(i,r,t.heap[a],t.depth));)t.heap[e]=t.heap[a],e=a,a<<=1;t.heap[e]=r},LC=(t,i,e)=>{let r,a,f,h,l=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],a=t.pending_buf[t.l_buf+l],l++,0===r?Hr(t,a,i):(f=wc[a],Hr(t,f+256+1,i),h=wr[f],0!==h&&(a-=yp[f],bi(t,a,h)),r--,f=Go(r),Hr(t,f,e),h=Yo[f],0!==h&&(r-=Su[f],bi(t,r,h)))}while(l<t.last_lit);Hr(t,256,i)},ZC=(t,i)=>{const e=i.dyn_tree,r=i.stat_desc.static_tree,a=i.stat_desc.has_stree,l=i.stat_desc.elems;let f,h,y,g=-1;for(t.heap_len=0,t.heap_max=573,f=0;f<l;f++)0!==e[2*f]?(t.heap[++t.heap_len]=g=f,t.depth[f]=0):e[2*f+1]=0;for(;t.heap_len<2;)y=t.heap[++t.heap_len]=g<2?++g:0,e[2*y]=1,t.depth[y]=0,t.opt_len--,a&&(t.static_len-=r[2*y+1]);for(i.max_code=g,f=t.heap_len>>1;f>=1;f--)kC(t,e,f);y=l;do{f=t.heap[1],t.heap[1]=t.heap[t.heap_len--],kC(t,e,1),h=t.heap[1],t.heap[--t.heap_max]=f,t.heap[--t.heap_max]=h,e[2*y]=e[2*f]+e[2*h],t.depth[y]=(t.depth[f]>=t.depth[h]?t.depth[f]:t.depth[h])+1,e[2*f+1]=e[2*h+1]=y,t.heap[1]=y++,kC(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,i)=>{const e=i.dyn_tree,r=i.max_code,a=i.stat_desc.static_tree,l=i.stat_desc.has_stree,f=i.stat_desc.extra_bits,h=i.stat_desc.extra_base,g=i.stat_desc.max_length;let y,b,x,T,I,D,Y=0;for(T=0;T<=15;T++)t.bl_count[T]=0;for(e[2*t.heap[t.heap_max]+1]=0,y=t.heap_max+1;y<573;y++)b=t.heap[y],T=e[2*e[2*b+1]+1]+1,T>g&&(T=g,Y++),e[2*b+1]=T,!(b>r)&&(t.bl_count[T]++,I=0,b>=h&&(I=f[b-h]),D=e[2*b],t.opt_len+=D*(T+I),l&&(t.static_len+=D*(a[2*b+1]+I)));if(0!==Y){do{for(T=g-1;0===t.bl_count[T];)T--;t.bl_count[T]--,t.bl_count[T+1]+=2,t.bl_count[g]--,Y-=2}while(Y>0);for(T=g;0!==T;T--)for(b=t.bl_count[T];0!==b;)x=t.heap[--y],!(x>r)&&(e[2*x+1]!==T&&(t.opt_len+=(T-e[2*x+1])*e[2*x],e[2*x+1]=T),b--)}})(t,i),vD(e,g,t.bl_count)},wD=(t,i,e)=>{let r,l,a=-1,f=i[1],h=0,g=7,y=4;for(0===f&&(g=138,y=3),i[2*(e+1)+1]=65535,r=0;r<=e;r++)l=f,f=i[2*(r+1)+1],!(++h<g&&l===f)&&(h<y?t.bl_tree[2*l]+=h:0!==l?(l!==a&&t.bl_tree[2*l]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,a=l,0===f?(g=138,y=3):l===f?(g=6,y=3):(g=7,y=4))},ED=(t,i,e)=>{let r,l,a=-1,f=i[1],h=0,g=7,y=4;for(0===f&&(g=138,y=3),r=0;r<=e;r++)if(l=f,f=i[2*(r+1)+1],!(++h<g&&l===f)){if(h<y)do{Hr(t,l,t.bl_tree)}while(0!=--h);else 0!==l?(l!==a&&(Hr(t,l,t.bl_tree),h--),Hr(t,16,t.bl_tree),bi(t,h-3,2)):h<=10?(Hr(t,17,t.bl_tree),bi(t,h-3,3)):(Hr(t,18,t.bl_tree),bi(t,h-11,7));h=0,a=l,0===f?(g=138,y=3):l===f?(g=6,y=3):(g=7,y=4)}};let c=!1;const d=(t,i,e,r)=>{bi(t,0+(r?1:0),3),((t,i,e,r)=>{CD(t),Zs(t,e),Zs(t,~e),t.pending_buf.set(t.window.subarray(i,i+e),t.pending),t.pending+=e})(t,i,e)};var P={_tr_init:t=>{c||((()=>{let t,i,e,r,a;const l=new Array(16);for(e=0,r=0;r<28;r++)for(yp[r]=e,t=0;t<1<<wr[r];t++)wc[e++]=r;for(wc[e-1]=r,a=0,r=0;r<16;r++)for(Su[r]=a,t=0;t<1<<Yo[r];t++)Iu[a++]=r;for(a>>=7;r<30;r++)for(Su[r]=a<<7,t=0;t<1<<Yo[r]-7;t++)Iu[256+a++]=r;for(i=0;i<=15;i++)l[i]=0;for(t=0;t<=143;)wo[2*t+1]=8,t++,l[8]++;for(;t<=255;)wo[2*t+1]=9,t++,l[9]++;for(;t<=279;)wo[2*t+1]=7,t++,l[7]++;for(;t<=287;)wo[2*t+1]=8,t++,l[8]++;for(vD(wo,287,l),t=0;t<30;t++)Tu[2*t+1]=5,Tu[2*t]=yD(t,5);bp=new vp(wo,wr,257,286,15),RC=new vp(Tu,Yo,0,30,15),NC=new vp(new Array(0),Cc,0,19,7)})(),c=!0),t.l_desc=new Cp(t.dyn_ltree,bp),t.d_desc=new Cp(t.dyn_dtree,RC),t.bl_desc=new Cp(t.bl_tree,NC),t.bi_buf=0,t.bi_valid=0,FC(t)},_tr_stored_block:d,_tr_flush_block:(t,i,e,r)=>{let a,l,f=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ZC(t,t.l_desc),ZC(t,t.d_desc),f=(t=>{let i;for(wD(t,t.dyn_ltree,t.l_desc.max_code),wD(t,t.dyn_dtree,t.d_desc.max_code),ZC(t,t.bl_desc),i=18;i>=3&&0===t.bl_tree[2*Eu[i]+1];i--);return t.opt_len+=3*(i+1)+5+5+4,i})(t),a=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=a&&(a=l)):a=l=e+5,e+4<=a&&-1!==i?d(t,i,e,r):4===t.strategy||l===a?(bi(t,2+(r?1:0),3),LC(t,wo,Tu)):(bi(t,4+(r?1:0),3),((t,i,e,r)=>{let a;for(bi(t,i-257,5),bi(t,e-1,5),bi(t,r-4,4),a=0;a<r;a++)bi(t,t.bl_tree[2*Eu[a]+1],3);ED(t,t.dyn_ltree,i-1),ED(t,t.dyn_dtree,e-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),LC(t,t.dyn_ltree,t.dyn_dtree)),FC(t),r&&CD(t)},_tr_tally:(t,i,e)=>(t.pending_buf[t.d_buf+2*t.last_lit]=i>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&i,t.pending_buf[t.l_buf+t.last_lit]=255&e,t.last_lit++,0===i?t.dyn_ltree[2*e]++:(t.matches++,i--,t.dyn_ltree[2*(wc[e]+256+1)]++,t.dyn_dtree[2*Go(i)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{bi(t,2,3),Hr(t,256,wo),(t=>{16===t.bi_valid?(Zs(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},ne=(t,i,e,r)=>{let a=65535&t|0,l=t>>>16&65535|0,f=0;for(;0!==e;){f=e>2e3?2e3:e,e-=f;do{a=a+i[r++]|0,l=l+a|0}while(--f);a%=65521,l%=65521}return a|l<<16|0};const Ae=new Uint32Array((()=>{let t,i=[];for(var e=0;e<256;e++){t=e;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;i[e]=t}return i})());var je=(t,i,e,r)=>{const a=Ae,l=r+e;t^=-1;for(let f=r;f<l;f++)t=t>>>8^a[255&(t^i[f])];return-1^t},Ke={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:En,_tr_stored_block:Gi,_tr_flush_block:Du,_tr_tally:Pi,_tr_align:Ec}=P,{Z_NO_FLUSH:Ki,Z_PARTIAL_FLUSH:ym,Z_FULL_FLUSH:vm,Z_FINISH:zr,Z_BLOCK:xp,Z_OK:Xi,Z_STREAM_END:m2,Z_STREAM_ERROR:Qr,Z_DATA_ERROR:ZO,Z_BUF_ERROR:TD,Z_DEFAULT_COMPRESSION:BO,Z_FILTERED:VO,Z_HUFFMAN_ONLY:BC,Z_RLE:UO,Z_FIXED:jO,Z_DEFAULT_STRATEGY:qO,Z_UNKNOWN:$O,Z_DEFLATED:VC}=pt,Eo=262,Ic=(t,i)=>(t.msg=Ke[i],i),y2=t=>(t<<1)-(t>4?9:0),Sc=t=>{let i=t.length;for(;--i>=0;)t[i]=0};let Dc=(t,i,e)=>(i<<t.hash_shift^e)&t.hash_mask;const Ac=t=>{const i=t.state;let e=i.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+e),t.next_out),t.next_out+=e,i.pending_out+=e,t.total_out+=e,t.avail_out-=e,i.pending-=e,0===i.pending&&(i.pending_out=0))},ai=(t,i)=>{Du(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,i),t.block_start=t.strstart,Ac(t.strm)},Pt=(t,i)=>{t.pending_buf[t.pending++]=i},xm=(t,i)=>{t.pending_buf[t.pending++]=i>>>8&255,t.pending_buf[t.pending++]=255&i},tP=(t,i,e,r)=>{let a=t.avail_in;return a>r&&(a=r),0===a?0:(t.avail_in-=a,i.set(t.input.subarray(t.next_in,t.next_in+a),e),1===t.state.wrap?t.adler=ne(t.adler,i,a,e):2===t.state.wrap&&(t.adler=je(t.adler,i,a,e)),t.next_in+=a,t.total_in+=a,a)},v2=(t,i)=>{let a,l,e=t.max_chain_length,r=t.strstart,f=t.prev_length,h=t.nice_match;const g=t.strstart>t.w_size-Eo?t.strstart-(t.w_size-Eo):0,y=t.window,b=t.w_mask,x=t.prev,T=t.strstart+258;let I=y[r+f-1],D=y[r+f];t.prev_length>=t.good_match&&(e>>=2),h>t.lookahead&&(h=t.lookahead);do{if(a=i,y[a+f]===D&&y[a+f-1]===I&&y[a]===y[r]&&y[++a]===y[r+1]){r+=2,a++;do{}while(y[++r]===y[++a]&&y[++r]===y[++a]&&y[++r]===y[++a]&&y[++r]===y[++a]&&y[++r]===y[++a]&&y[++r]===y[++a]&&y[++r]===y[++a]&&y[++r]===y[++a]&&r<T);if(l=258-(T-r),r=T-258,l>f){if(t.match_start=i,f=l,l>=h)break;I=y[r+f-1],D=y[r+f]}}}while((i=x[i&b])>g&&0!=--e);return f<=t.lookahead?f:t.lookahead},Ou=t=>{const i=t.w_size;let e,r,a,l,f;do{if(l=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-Eo)){t.window.set(t.window.subarray(i,i+i),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,r=t.hash_size,e=r;do{a=t.head[--e],t.head[e]=a>=i?a-i:0}while(--r);r=i,e=r;do{a=t.prev[--e],t.prev[e]=a>=i?a-i:0}while(--r);l+=i}if(0===t.strm.avail_in)break;if(r=tP(t.strm,t.window,t.strstart+t.lookahead,l),t.lookahead+=r,t.lookahead+t.insert>=3)for(f=t.strstart-t.insert,t.ins_h=t.window[f],t.ins_h=Dc(t,t.ins_h,t.window[f+1]);t.insert&&(t.ins_h=Dc(t,t.ins_h,t.window[f+3-1]),t.prev[f&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=f,f++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Eo&&0!==t.strm.avail_in)},DD=(t,i)=>{let e,r;for(;;){if(t.lookahead<Eo){if(Ou(t),t.lookahead<Eo&&i===Ki)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-Eo&&(t.match_length=v2(t,e)),t.match_length>=3)if(r=Pi(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+1]);else r=Pi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,i===zr?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2},Ep=(t,i)=>{let e,r,a;for(;;){if(t.lookahead<Eo){if(Ou(t),t.lookahead<Eo&&i===Ki)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-Eo&&(t.match_length=v2(t,e),t.match_length<=5&&(t.strategy===VO||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-3,r=Pi(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(ai(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Pi(t,0,t.window[t.strstart-1]),r&&ai(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Pi(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,i===zr?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2};function Ko(t,i,e,r,a){this.good_length=t,this.max_lazy=i,this.nice_length=e,this.max_chain=r,this.func=a}const wm=[new Ko(0,0,0,0,(t,i)=>{let e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ou(t),0===t.lookahead&&i===Ki)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+e;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,ai(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-Eo&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,i===zr?(ai(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&ai(t,!1),1)}),new Ko(4,4,8,4,DD),new Ko(4,5,16,8,DD),new Ko(4,6,32,32,DD),new Ko(4,4,16,16,Ep),new Ko(8,16,32,32,Ep),new Ko(8,16,128,128,Ep),new Ko(8,32,128,256,Ep),new Ko(32,128,258,1024,Ep),new Ko(32,258,258,4096,Ep)];function sP(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=VC,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Sc(this.dyn_ltree),Sc(this.dyn_dtree),Sc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Sc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Sc(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const b2=t=>{if(!t||!t.state)return Ic(t,Qr);t.total_in=t.total_out=0,t.data_type=$O;const i=t.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap?42:113,t.adler=2===i.wrap?0:1,i.last_flush=Ki,En(i),Xi},C2=t=>{const i=b2(t);return i===Xi&&(t=>{t.window_size=2*t.w_size,Sc(t.head),t.max_lazy_match=wm[t.level].max_lazy,t.good_match=wm[t.level].good_length,t.nice_match=wm[t.level].nice_length,t.max_chain_length=wm[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),i},x2=(t,i,e,r,a,l)=>{if(!t)return Qr;let f=1;if(i===BO&&(i=6),r<0?(f=0,r=-r):r>15&&(f=2,r-=16),a<1||a>9||e!==VC||r<8||r>15||i<0||i>9||l<0||l>jO)return Ic(t,Qr);8===r&&(r=9);const h=new sP;return t.state=h,h.strm=t,h.wrap=f,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=i,h.strategy=l,h.method=e,C2(t)};var Em_deflateInit2=x2,Em_deflateSetHeader=(t,i)=>t&&t.state&&2===t.state.wrap?(t.state.gzhead=i,Xi):Qr,Em_deflate=(t,i)=>{let e,r;if(!t||!t.state||i>xp||i<0)return t?Ic(t,Qr):Qr;const a=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===a.status&&i!==zr)return Ic(t,0===t.avail_out?TD:Qr);a.strm=t;const l=a.last_flush;if(a.last_flush=i,42===a.status)if(2===a.wrap)t.adler=0,Pt(a,31),Pt(a,139),Pt(a,8),a.gzhead?(Pt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Pt(a,255&a.gzhead.time),Pt(a,a.gzhead.time>>8&255),Pt(a,a.gzhead.time>>16&255),Pt(a,a.gzhead.time>>24&255),Pt(a,9===a.level?2:a.strategy>=BC||a.level<2?4:0),Pt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Pt(a,255&a.gzhead.extra.length),Pt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=je(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Pt(a,0),Pt(a,0),Pt(a,0),Pt(a,0),Pt(a,0),Pt(a,9===a.level?2:a.strategy>=BC||a.level<2?4:0),Pt(a,3),a.status=113);else{let f=VC+(a.w_bits-8<<4)<<8,h=-1;h=a.strategy>=BC||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=h<<6,0!==a.strstart&&(f|=32),f+=31-f%31,a.status=113,xm(a,f),0!==a.strstart&&(xm(a,t.adler>>>16),xm(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(e=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>e&&(t.adler=je(t.adler,a.pending_buf,a.pending-e,e)),Ac(t),e=a.pending,a.pending!==a.pending_buf_size));)Pt(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>e&&(t.adler=je(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){e=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>e&&(t.adler=je(t.adler,a.pending_buf,a.pending-e,e)),Ac(t),e=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Pt(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>e&&(t.adler=je(t.adler,a.pending_buf,a.pending-e,e)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){e=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>e&&(t.adler=je(t.adler,a.pending_buf,a.pending-e,e)),Ac(t),e=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Pt(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>e&&(t.adler=je(t.adler,a.pending_buf,a.pending-e,e)),0===r&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Ac(t),a.pending+2<=a.pending_buf_size&&(Pt(a,255&t.adler),Pt(a,t.adler>>8&255),t.adler=0,a.status=113)):a.status=113),0!==a.pending){if(Ac(t),0===t.avail_out)return a.last_flush=-1,Xi}else if(0===t.avail_in&&y2(i)<=y2(l)&&i!==zr)return Ic(t,TD);if(666===a.status&&0!==t.avail_in)return Ic(t,TD);if(0!==t.avail_in||0!==a.lookahead||i!==Ki&&666!==a.status){let f=a.strategy===BC?((t,i)=>{let e;for(;;){if(0===t.lookahead&&(Ou(t),0===t.lookahead)){if(i===Ki)return 1;break}if(t.match_length=0,e=Pi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,i===zr?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2})(a,i):a.strategy===UO?((t,i)=>{let e,r,a,l;const f=t.window;for(;;){if(t.lookahead<=258){if(Ou(t),t.lookahead<=258&&i===Ki)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(a=t.strstart-1,r=f[a],r===f[++a]&&r===f[++a]&&r===f[++a])){l=t.strstart+258;do{}while(r===f[++a]&&r===f[++a]&&r===f[++a]&&r===f[++a]&&r===f[++a]&&r===f[++a]&&r===f[++a]&&r===f[++a]&&a<l);t.match_length=258-(l-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(e=Pi(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Pi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,i===zr?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2})(a,i):wm[a.level].func(a,i);if((3===f||4===f)&&(a.status=666),1===f||3===f)return 0===t.avail_out&&(a.last_flush=-1),Xi;if(2===f&&(i===ym?Ec(a):i!==xp&&(Gi(a,0,0,!1),i===vm&&(Sc(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),Ac(t),0===t.avail_out))return a.last_flush=-1,Xi}return i!==zr?Xi:a.wrap<=0?m2:(2===a.wrap?(Pt(a,255&t.adler),Pt(a,t.adler>>8&255),Pt(a,t.adler>>16&255),Pt(a,t.adler>>24&255),Pt(a,255&t.total_in),Pt(a,t.total_in>>8&255),Pt(a,t.total_in>>16&255),Pt(a,t.total_in>>24&255)):(xm(a,t.adler>>>16),xm(a,65535&t.adler)),Ac(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?Xi:m2)},Em_deflateEnd=t=>{if(!t||!t.state)return Qr;const i=t.state.status;return 42!==i&&69!==i&&73!==i&&91!==i&&103!==i&&113!==i&&666!==i?Ic(t,Qr):(t.state=null,113===i?Ic(t,ZO):Xi)},Em_deflateSetDictionary=(t,i)=>{let e=i.length;if(!t||!t.state)return Qr;const r=t.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return Qr;if(1===a&&(t.adler=ne(t.adler,i,e,0)),r.wrap=0,e>=r.w_size){0===a&&(Sc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let g=new Uint8Array(r.w_size);g.set(i.subarray(e-r.w_size,e),0),i=g,e=r.w_size}const l=t.avail_in,f=t.next_in,h=t.input;for(t.avail_in=e,t.next_in=0,t.input=i,Ou(r);r.lookahead>=3;){let g=r.strstart,y=r.lookahead-2;do{r.ins_h=Dc(r,r.ins_h,r.window[g+3-1]),r.prev[g&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=g,g++}while(--y);r.strstart=g,r.lookahead=2,Ou(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=f,t.input=h,t.avail_in=l,r.wrap=a,Xi};const CP=(t,i)=>Object.prototype.hasOwnProperty.call(t,i);var HC_assign=function(t){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const e=i.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const r in e)CP(e,r)&&(t[r]=e[r])}}return t},HC_flattenChunks=t=>{let i=0;for(let r=0,a=t.length;r<a;r++)i+=t[r].length;const e=new Uint8Array(i);for(let r=0,a=0,l=t.length;r<l;r++){let f=t[r];e.set(f,a),a+=f.length}return e};let w2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){w2=!1}const Tm=new Uint8Array(256);for(let t=0;t<256;t++)Tm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Tm[254]=Tm[254]=1;var Im_string2buf=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let i,e,r,a,l,f=t.length,h=0;for(a=0;a<f;a++)e=t.charCodeAt(a),55296==(64512&e)&&a+1<f&&(r=t.charCodeAt(a+1),56320==(64512&r)&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(i=new Uint8Array(h),l=0,a=0;l<h;a++)e=t.charCodeAt(a),55296==(64512&e)&&a+1<f&&(r=t.charCodeAt(a+1),56320==(64512&r)&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?i[l++]=e:e<2048?(i[l++]=192|e>>>6,i[l++]=128|63&e):e<65536?(i[l++]=224|e>>>12,i[l++]=128|e>>>6&63,i[l++]=128|63&e):(i[l++]=240|e>>>18,i[l++]=128|e>>>12&63,i[l++]=128|e>>>6&63,i[l++]=128|63&e);return i},Im_buf2string=(t,i)=>{const e=i||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,i));let r,a;const l=new Array(2*e);for(a=0,r=0;r<e;){let f=t[r++];if(f<128){l[a++]=f;continue}let h=Tm[f];if(h>4)l[a++]=65533,r+=h-1;else{for(f&=2===h?31:3===h?15:7;h>1&&r<e;)f=f<<6|63&t[r++],h--;h>1?l[a++]=65533:f<65536?l[a++]=f:(f-=65536,l[a++]=55296|f>>10&1023,l[a++]=56320|1023&f)}}return((t,i)=>{if(i<65534&&t.subarray&&w2)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let e="";for(let r=0;r<i;r++)e+=String.fromCharCode(t[r]);return e})(l,a)},Im_utf8border=(t,i)=>{(i=i||t.length)>t.length&&(i=t.length);let e=i-1;for(;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?i:e+Tm[t[e]]>i?e:i},E2=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const T2=Object.prototype.toString,{Z_NO_FLUSH:AP,Z_SYNC_FLUSH:MP,Z_FULL_FLUSH:OP,Z_FINISH:PP,Z_OK:zC,Z_STREAM_END:RP,Z_DEFAULT_COMPRESSION:NP,Z_DEFAULT_STRATEGY:FP,Z_DEFLATED:kP}=pt;function Sm(t){this.options=HC_assign({level:NP,method:kP,chunkSize:16384,windowBits:15,memLevel:8,strategy:FP},t||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E2,this.strm.avail_out=0;let e=Em_deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(e!==zC)throw new Error(Ke[e]);if(i.header&&Em_deflateSetHeader(this.strm,i.header),i.dictionary){let r;if(r="string"==typeof i.dictionary?Im_string2buf(i.dictionary):"[object ArrayBuffer]"===T2.call(i.dictionary)?new Uint8Array(i.dictionary):i.dictionary,e=Em_deflateSetDictionary(this.strm,r),e!==zC)throw new Error(Ke[e]);this._dict_set=!0}}function AD(t,i){const e=new Sm(i);if(e.push(t,!0),e.err)throw e.msg||Ke[e.err];return e.result}Sm.prototype.push=function(t,i){const e=this.strm,r=this.options.chunkSize;let a,l;if(this.ended)return!1;for(l=i===~~i?i:!0===i?PP:AP,e.input="string"==typeof t?Im_string2buf(t):"[object ArrayBuffer]"===T2.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(l===MP||l===OP)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(a=Em_deflate(e,l),a===RP)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=Em_deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===zC;if(0!==e.avail_out){if(l>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},Sm.prototype.onData=function(t){this.chunks.push(t)},Sm.prototype.onEnd=function(t){t===zC&&(this.result=HC_flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var $P={Deflate:Sm,deflate:AD,deflateRaw:function(t,i){return(i=i||{}).raw=!0,AD(t,i)},gzip:function(t,i){return(i=i||{}).gzip=!0,AD(t,i)},constants:pt},zP=function(i,e){let r,a,l,f,h,g,y,b,x,T,I,D,Y,X,ie,ue,Ee,$,Ze,ce,oe,Se,Ne,Me;const Le=i.state;r=i.next_in,Ne=i.input,a=r+(i.avail_in-5),l=i.next_out,Me=i.output,f=l-(e-i.avail_out),h=l+(i.avail_out-257),g=Le.dmax,y=Le.wsize,b=Le.whave,x=Le.wnext,T=Le.window,I=Le.hold,D=Le.bits,Y=Le.lencode,X=Le.distcode,ie=(1<<Le.lenbits)-1,ue=(1<<Le.distbits)-1;e:do{D<15&&(I+=Ne[r++]<<D,D+=8,I+=Ne[r++]<<D,D+=8),Ee=Y[I&ie];t:for(;;){if($=Ee>>>24,I>>>=$,D-=$,$=Ee>>>16&255,0===$)Me[l++]=65535&Ee;else{if(!(16&$)){if(0==(64&$)){Ee=Y[(65535&Ee)+(I&(1<<$)-1)];continue t}if(32&$){Le.mode=12;break e}i.msg="invalid literal/length code",Le.mode=30;break e}Ze=65535&Ee,$&=15,$&&(D<$&&(I+=Ne[r++]<<D,D+=8),Ze+=I&(1<<$)-1,I>>>=$,D-=$),D<15&&(I+=Ne[r++]<<D,D+=8,I+=Ne[r++]<<D,D+=8),Ee=X[I&ue];n:for(;;){if($=Ee>>>24,I>>>=$,D-=$,$=Ee>>>16&255,!(16&$)){if(0==(64&$)){Ee=X[(65535&Ee)+(I&(1<<$)-1)];continue n}i.msg="invalid distance code",Le.mode=30;break e}if(ce=65535&Ee,$&=15,D<$&&(I+=Ne[r++]<<D,D+=8,D<$&&(I+=Ne[r++]<<D,D+=8)),ce+=I&(1<<$)-1,ce>g){i.msg="invalid distance too far back",Le.mode=30;break e}if(I>>>=$,D-=$,$=l-f,ce>$){if($=ce-$,$>b&&Le.sane){i.msg="invalid distance too far back",Le.mode=30;break e}if(oe=0,Se=T,0===x){if(oe+=y-$,$<Ze){Ze-=$;do{Me[l++]=T[oe++]}while(--$);oe=l-ce,Se=Me}}else if(x<$){if(oe+=y+x-$,$-=x,$<Ze){Ze-=$;do{Me[l++]=T[oe++]}while(--$);if(oe=0,x<Ze){$=x,Ze-=$;do{Me[l++]=T[oe++]}while(--$);oe=l-ce,Se=Me}}}else if(oe+=x-$,$<Ze){Ze-=$;do{Me[l++]=T[oe++]}while(--$);oe=l-ce,Se=Me}for(;Ze>2;)Me[l++]=Se[oe++],Me[l++]=Se[oe++],Me[l++]=Se[oe++],Ze-=3;Ze&&(Me[l++]=Se[oe++],Ze>1&&(Me[l++]=Se[oe++]))}else{oe=l-ce;do{Me[l++]=Me[oe++],Me[l++]=Me[oe++],Me[l++]=Me[oe++],Ze-=3}while(Ze>2);Ze&&(Me[l++]=Me[oe++],Ze>1&&(Me[l++]=Me[oe++]))}break}}break}}while(r<a&&l<h);Ze=D>>3,r-=Ze,D-=Ze<<3,I&=(1<<D)-1,i.next_in=r,i.next_out=l,i.avail_in=r<a?a-r+5:5-(r-a),i.avail_out=l<h?h-l+257:257-(l-h),Le.hold=I,Le.bits=D};const QP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),YP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Dm=(t,i,e,r,a,l,f,h)=>{const g=h.bits;let Ee,$,Ze,ce,oe,Me,y=0,b=0,x=0,T=0,I=0,D=0,Y=0,X=0,ie=0,ue=0,Se=null,Ne=0;const Le=new Uint16Array(16),nt=new Uint16Array(16);let he,se,G,Wt=null,In=0;for(y=0;y<=15;y++)Le[y]=0;for(b=0;b<r;b++)Le[i[e+b]]++;for(I=g,T=15;T>=1&&0===Le[T];T--);if(I>T&&(I=T),0===T)return a[l++]=20971520,a[l++]=20971520,h.bits=1,0;for(x=1;x<T&&0===Le[x];x++);for(I<x&&(I=x),X=1,y=1;y<=15;y++)if(X<<=1,X-=Le[y],X<0)return-1;if(X>0&&(0===t||1!==T))return-1;for(nt[1]=0,y=1;y<15;y++)nt[y+1]=nt[y]+Le[y];for(b=0;b<r;b++)0!==i[e+b]&&(f[nt[i[e+b]]++]=b);if(0===t?(Se=Wt=f,Me=19):1===t?(Se=QP,Ne-=257,Wt=JP,In-=257,Me=256):(Se=WP,Wt=YP,Me=-1),ue=0,b=0,y=x,oe=l,D=I,Y=0,Ze=-1,ie=1<<I,ce=ie-1,1===t&&ie>852||2===t&&ie>592)return 1;for(;;){he=y-Y,f[b]<Me?(se=0,G=f[b]):f[b]>Me?(se=Wt[In+f[b]],G=Se[Ne+f[b]]):(se=96,G=0),Ee=1<<y-Y,$=1<<D,x=$;do{$-=Ee,a[oe+(ue>>Y)+$]=he<<24|se<<16|G|0}while(0!==$);for(Ee=1<<y-1;ue&Ee;)Ee>>=1;if(0!==Ee?(ue&=Ee-1,ue+=Ee):ue=0,b++,0==--Le[y]){if(y===T)break;y=i[e+f[b]]}if(y>I&&(ue&ce)!==Ze){for(0===Y&&(Y=I),oe+=x,D=y-Y,X=1<<D;D+Y<T&&(X-=Le[D+Y],!(X<=0));)D++,X<<=1;if(ie+=1<<D,1===t&&ie>852||2===t&&ie>592)return 1;Ze=ue&ce,a[Ze]=I<<24|D<<16|oe-l|0}}return 0!==ue&&(a[oe+ue]=y-Y<<24|64<<16|0),h.bits=I,0};const{Z_FINISH:P2,Z_BLOCK:KP,Z_TREES:JC,Z_OK:Pu,Z_STREAM_END:XP,Z_NEED_DICT:eR,Z_STREAM_ERROR:Jr,Z_DATA_ERROR:R2,Z_MEM_ERROR:N2,Z_BUF_ERROR:tR,Z_DEFLATED:F2}=pt,oO=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function sR(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sO=t=>{if(!t||!t.state)return Jr;const i=t.state;return t.total_in=t.total_out=i.total=0,t.msg="",i.wrap&&(t.adler=1&i.wrap),i.mode=1,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(852),i.distcode=i.distdyn=new Int32Array(592),i.sane=1,i.back=-1,Pu},aO=t=>{if(!t||!t.state)return Jr;const i=t.state;return i.wsize=0,i.whave=0,i.wnext=0,sO(t)},cO=(t,i)=>{let e;if(!t||!t.state)return Jr;const r=t.state;return i<0?(e=0,i=-i):(e=1+(i>>4),i<48&&(i&=15)),i&&(i<8||i>15)?Jr:(null!==r.window&&r.wbits!==i&&(r.window=null),r.wrap=e,r.wbits=i,aO(t))},lO=(t,i)=>{if(!t)return Jr;const e=new sR;t.state=e,e.window=null;const r=cO(t,i);return r!==Pu&&(t.state=null),r};let ND,FD,uO=!0;const cR=t=>{if(uO){ND=new Int32Array(512),FD=new Int32Array(32);let i=0;for(;i<144;)t.lens[i++]=8;for(;i<256;)t.lens[i++]=9;for(;i<280;)t.lens[i++]=7;for(;i<288;)t.lens[i++]=8;for(Dm(1,t.lens,0,288,ND,0,t.work,{bits:9}),i=0;i<32;)t.lens[i++]=5;Dm(2,t.lens,0,32,FD,0,t.work,{bits:5}),uO=!1}t.lencode=ND,t.lenbits=9,t.distcode=FD,t.distbits=5},dO=(t,i,e,r)=>{let a;const l=t.state;return null===l.window&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(i.subarray(e-l.wsize,e),0),l.wnext=0,l.whave=l.wsize):(a=l.wsize-l.wnext,a>r&&(a=r),l.window.set(i.subarray(e-r,e-r+a),l.wnext),(r-=a)?(l.window.set(i.subarray(e-r,e),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=a,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=a))),0};var Vs_inflateReset=aO,Vs_inflateInit2=lO,Vs_inflate=(t,i)=>{let e,r,a,l,f,h,g,y,b,x,T,I,D,Y,ie,ue,Ee,$,Ze,ce,oe,Se,X=0;const Ne=new Uint8Array(4);let Me,Le;const nt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Jr;e=t.state,12===e.mode&&(e.mode=13),f=t.next_out,a=t.output,g=t.avail_out,l=t.next_in,r=t.input,h=t.avail_in,y=e.hold,b=e.bits,x=h,T=g,Se=Pu;e:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;b<16;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(2&e.wrap&&35615===y){e.check=0,Ne[0]=255&y,Ne[1]=y>>>8&255,e.check=je(e.check,Ne,2,0),y=0,b=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&y)<<8)+(y>>8))%31){t.msg="incorrect header check",e.mode=30;break}if((15&y)!==F2){t.msg="unknown compression method",e.mode=30;break}if(y>>>=4,b-=4,oe=8+(15&y),0===e.wbits)e.wbits=oe;else if(oe>e.wbits){t.msg="invalid window size",e.mode=30;break}e.dmax=1<<e.wbits,t.adler=e.check=1,e.mode=512&y?10:12,y=0,b=0;break;case 2:for(;b<16;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(e.flags=y,(255&e.flags)!==F2){t.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=y>>8&1),512&e.flags&&(Ne[0]=255&y,Ne[1]=y>>>8&255,e.check=je(e.check,Ne,2,0)),y=0,b=0,e.mode=3;case 3:for(;b<32;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}e.head&&(e.head.time=y),512&e.flags&&(Ne[0]=255&y,Ne[1]=y>>>8&255,Ne[2]=y>>>16&255,Ne[3]=y>>>24&255,e.check=je(e.check,Ne,4,0)),y=0,b=0,e.mode=4;case 4:for(;b<16;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}e.head&&(e.head.xflags=255&y,e.head.os=y>>8),512&e.flags&&(Ne[0]=255&y,Ne[1]=y>>>8&255,e.check=je(e.check,Ne,2,0)),y=0,b=0,e.mode=5;case 5:if(1024&e.flags){for(;b<16;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}e.length=y,e.head&&(e.head.extra_len=y),512&e.flags&&(Ne[0]=255&y,Ne[1]=y>>>8&255,e.check=je(e.check,Ne,2,0)),y=0,b=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(I=e.length,I>h&&(I=h),I&&(e.head&&(oe=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(l,l+I),oe)),512&e.flags&&(e.check=je(e.check,r,I,l)),h-=I,l+=I,e.length-=I),e.length))break e;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===h)break e;I=0;do{oe=r[l+I++],e.head&&oe&&e.length<65536&&(e.head.name+=String.fromCharCode(oe))}while(oe&&I<h);if(512&e.flags&&(e.check=je(e.check,r,I,l)),h-=I,l+=I,oe)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===h)break e;I=0;do{oe=r[l+I++],e.head&&oe&&e.length<65536&&(e.head.comment+=String.fromCharCode(oe))}while(oe&&I<h);if(512&e.flags&&(e.check=je(e.check,r,I,l)),h-=I,l+=I,oe)break e}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;b<16;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(y!==(65535&e.check)){t.msg="header crc mismatch",e.mode=30;break}y=0,b=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=12;break;case 10:for(;b<32;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}t.adler=e.check=oO(y),y=0,b=0,e.mode=11;case 11:if(0===e.havedict)return t.next_out=f,t.avail_out=g,t.next_in=l,t.avail_in=h,e.hold=y,e.bits=b,eR;t.adler=e.check=1,e.mode=12;case 12:if(i===KP||i===JC)break e;case 13:if(e.last){y>>>=7&b,b-=7&b,e.mode=27;break}for(;b<3;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}switch(e.last=1&y,y>>>=1,b-=1,3&y){case 0:e.mode=14;break;case 1:if(cR(e),e.mode=20,i===JC){y>>>=2,b-=2;break e}break;case 2:e.mode=17;break;case 3:t.msg="invalid block type",e.mode=30}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){t.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&y,y=0,b=0,e.mode=15,i===JC)break e;case 15:e.mode=16;case 16:if(I=e.length,I){if(I>h&&(I=h),I>g&&(I=g),0===I)break e;a.set(r.subarray(l,l+I),f),h-=I,l+=I,g-=I,f+=I,e.length-=I;break}e.mode=12;break;case 17:for(;b<14;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(e.nlen=257+(31&y),y>>>=5,b-=5,e.ndist=1+(31&y),y>>>=5,b-=5,e.ncode=4+(15&y),y>>>=4,b-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;b<3;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}e.lens[nt[e.have++]]=7&y,y>>>=3,b-=3}for(;e.have<19;)e.lens[nt[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Me={bits:e.lenbits},Se=Dm(0,e.lens,0,19,e.lencode,0,e.work,Me),e.lenbits=Me.bits,Se){t.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;X=e.lencode[y&(1<<e.lenbits)-1],ie=X>>>24,ue=X>>>16&255,Ee=65535&X,!(ie<=b);){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(Ee<16)y>>>=ie,b-=ie,e.lens[e.have++]=Ee;else{if(16===Ee){for(Le=ie+2;b<Le;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(y>>>=ie,b-=ie,0===e.have){t.msg="invalid bit length repeat",e.mode=30;break}oe=e.lens[e.have-1],I=3+(3&y),y>>>=2,b-=2}else if(17===Ee){for(Le=ie+3;b<Le;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}y>>>=ie,b-=ie,oe=0,I=3+(7&y),y>>>=3,b-=3}else{for(Le=ie+7;b<Le;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}y>>>=ie,b-=ie,oe=0,I=11+(127&y),y>>>=7,b-=7}if(e.have+I>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=30;break}for(;I--;)e.lens[e.have++]=oe}}if(30===e.mode)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,Me={bits:e.lenbits},Se=Dm(1,e.lens,0,e.nlen,e.lencode,0,e.work,Me),e.lenbits=Me.bits,Se){t.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,Me={bits:e.distbits},Se=Dm(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,Me),e.distbits=Me.bits,Se){t.msg="invalid distances set",e.mode=30;break}if(e.mode=20,i===JC)break e;case 20:e.mode=21;case 21:if(h>=6&&g>=258){t.next_out=f,t.avail_out=g,t.next_in=l,t.avail_in=h,e.hold=y,e.bits=b,zP(t,T),f=t.next_out,a=t.output,g=t.avail_out,l=t.next_in,r=t.input,h=t.avail_in,y=e.hold,b=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;X=e.lencode[y&(1<<e.lenbits)-1],ie=X>>>24,ue=X>>>16&255,Ee=65535&X,!(ie<=b);){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(ue&&0==(240&ue)){for($=ie,Ze=ue,ce=Ee;X=e.lencode[ce+((y&(1<<$+Ze)-1)>>$)],ie=X>>>24,ue=X>>>16&255,Ee=65535&X,!($+ie<=b);){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}y>>>=$,b-=$,e.back+=$}if(y>>>=ie,b-=ie,e.back+=ie,e.length=Ee,0===ue){e.mode=26;break}if(32&ue){e.back=-1,e.mode=12;break}if(64&ue){t.msg="invalid literal/length code",e.mode=30;break}e.extra=15&ue,e.mode=22;case 22:if(e.extra){for(Le=e.extra;b<Le;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}e.length+=y&(1<<e.extra)-1,y>>>=e.extra,b-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;X=e.distcode[y&(1<<e.distbits)-1],ie=X>>>24,ue=X>>>16&255,Ee=65535&X,!(ie<=b);){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(0==(240&ue)){for($=ie,Ze=ue,ce=Ee;X=e.distcode[ce+((y&(1<<$+Ze)-1)>>$)],ie=X>>>24,ue=X>>>16&255,Ee=65535&X,!($+ie<=b);){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}y>>>=$,b-=$,e.back+=$}if(y>>>=ie,b-=ie,e.back+=ie,64&ue){t.msg="invalid distance code",e.mode=30;break}e.offset=Ee,e.extra=15&ue,e.mode=24;case 24:if(e.extra){for(Le=e.extra;b<Le;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}e.offset+=y&(1<<e.extra)-1,y>>>=e.extra,b-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===g)break e;if(I=T-g,e.offset>I){if(I=e.offset-I,I>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=30;break}I>e.wnext?(I-=e.wnext,D=e.wsize-I):D=e.wnext-I,I>e.length&&(I=e.length),Y=e.window}else Y=a,D=f-e.offset,I=e.length;I>g&&(I=g),g-=I,e.length-=I;do{a[f++]=Y[D++]}while(--I);0===e.length&&(e.mode=21);break;case 26:if(0===g)break e;a[f++]=e.length,g--,e.mode=21;break;case 27:if(e.wrap){for(;b<32;){if(0===h)break e;h--,y|=r[l++]<<b,b+=8}if(T-=g,t.total_out+=T,e.total+=T,T&&(t.adler=e.check=e.flags?je(e.check,a,T,f-T):ne(e.check,a,T,f-T)),T=g,(e.flags?y:oO(y))!==e.check){t.msg="incorrect data check",e.mode=30;break}y=0,b=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;b<32;){if(0===h)break e;h--,y+=r[l++]<<b,b+=8}if(y!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=30;break}y=0,b=0}e.mode=29;case 29:Se=XP;break e;case 30:Se=R2;break e;case 31:return N2;default:return Jr}return t.next_out=f,t.avail_out=g,t.next_in=l,t.avail_in=h,e.hold=y,e.bits=b,(e.wsize||T!==t.avail_out&&e.mode<30&&(e.mode<27||i!==P2))&&dO(t,t.output,t.next_out,T-t.avail_out),x-=t.avail_in,T-=t.avail_out,t.total_in+=x,t.total_out+=T,e.total+=T,e.wrap&&T&&(t.adler=e.check=e.flags?je(e.check,a,T,t.next_out-T):ne(e.check,a,T,t.next_out-T)),t.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===x&&0===T||i===P2)&&Se===Pu&&(Se=tR),Se},Vs_inflateEnd=t=>{if(!t||!t.state)return Jr;let i=t.state;return i.window&&(i.window=null),t.state=null,Pu},Vs_inflateGetHeader=(t,i)=>{if(!t||!t.state)return Jr;const e=t.state;return 0==(2&e.wrap)?Jr:(e.head=i,i.done=!1,Pu)},Vs_inflateSetDictionary=(t,i)=>{const e=i.length;let r,a,l;return t&&t.state&&(r=t.state,0===r.wrap||11===r.mode)?11===r.mode&&(a=1,a=ne(a,i,e,0),a!==r.check)?R2:(l=dO(t,i,e,e),l?(r.mode=31,N2):(r.havedict=1,Pu)):Jr},ER=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const fO=Object.prototype.toString,{Z_NO_FLUSH:TR,Z_FINISH:IR,Z_OK:Am,Z_STREAM_END:kD,Z_NEED_DICT:LD,Z_STREAM_ERROR:SR,Z_DATA_ERROR:pO,Z_MEM_ERROR:DR}=pt;function Mm(t){this.options=HC_assign({chunkSize:65536,windowBits:15,to:""},t||{});const i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,0===i.windowBits&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(t&&t.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&0==(15&i.windowBits)&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E2,this.strm.avail_out=0;let e=Vs_inflateInit2(this.strm,i.windowBits);if(e!==Am)throw new Error(Ke[e]);if(this.header=new ER,Vs_inflateGetHeader(this.strm,this.header),i.dictionary&&("string"==typeof i.dictionary?i.dictionary=Im_string2buf(i.dictionary):"[object ArrayBuffer]"===fO.call(i.dictionary)&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(e=Vs_inflateSetDictionary(this.strm,i.dictionary),e!==Am)))throw new Error(Ke[e])}function ZD(t,i){const e=new Mm(i);if(e.push(t),e.err)throw e.msg||Ke[e.err];return e.result}Mm.prototype.push=function(t,i){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let l,f,h;if(this.ended)return!1;for(f=i===~~i?i:!0===i?IR:TR,e.input="[object ArrayBuffer]"===fO.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),l=Vs_inflate(e,f),l===LD&&a&&(l=Vs_inflateSetDictionary(e,a),l===Am?l=Vs_inflate(e,f):l===pO&&(l=LD));e.avail_in>0&&l===kD&&e.state.wrap>0&&0!==t[e.next_in];)Vs_inflateReset(e),l=Vs_inflate(e,f);switch(l){case SR:case pO:case LD:case DR:return this.onEnd(l),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(0===e.avail_out||l===kD))if("string"===this.options.to){let g=Im_utf8border(e.output,e.next_out),y=e.next_out-g,b=Im_buf2string(e.output,g);e.next_out=y,e.avail_out=r-y,y&&e.output.set(e.output.subarray(g,g+y),0),this.onData(b)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(l!==Am||0!==h){if(l===kD)return l=Vs_inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},Mm.prototype.onData=function(t){this.chunks.push(t)},Mm.prototype.onEnd=function(t){t===Am&&(this.result="string"===this.options.to?this.chunks.join(""):HC_flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var FR={Inflate:Mm,inflate:ZD,inflateRaw:function(t,i){return(i=i||{}).raw=!0,ZD(t,i)},ungzip:ZD,constants:pt};const{deflate:LR}=$P,{inflate:UR}=FR;var hO=LR,_O=UR;const Tn="?",Wr="=",Yr="~",er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.",KC=er.length,GR=er.split("").reduce((t,i,e)=>(t[i]=e,t),{});var vt=(()=>(function(t){t.Version="v",t.Base="b",t.Products="p",t.Items="i",t.Recipes="r",t.Factories="f",t.Settings="s"}(vt||(vt={})),vt))(),Rt=(()=>(function(t){t.Version0="0",t.Version1="1",t.Version2="2",t.Version3="3"}(Rt||(Rt={})),Rt))();let BD=(()=>{class t{constructor(e,r,a){this.router=e,this.store=r,this.http=a,this.zipPartial={bare:"",hash:""},this.bareVersion=Rt.Version1,this.hashVersion=Rt.Version3,this.zipTail={bare:`&${vt.Version}=${this.bareVersion}`,hash:`&${vt.Version}${this.hashVersion}`},this.cache={},this.first=!0,this.base64codes=new Uint8Array(256);for(let f=0;f<256;f++)this.base64codes[f]=255;for(let f=0;f<er.length;f++)this.base64codes[er.charCodeAt(f)]=f;this.base64codes["_".charCodeAt(0)]=0,this.router.events.subscribe(f=>this.updateState(f)),this.store.select(dD).subscribe(f=>{let h=!1;this.first&&(0===Object.keys(f.items).length&&0===Object.keys(f.recipes).length&&JSON.stringify(f.factories)===JSON.stringify(Jo)&&JSON.stringify(f.settings)===JSON.stringify(fn)&&(h=!0),this.first=!1),h||this.updateUrl(f.products,f.items,f.recipes,f.factories,f.settings)})}updateUrl(e,r,a,l,f){this.zipState(e,r,a,l,f).subscribe(h=>{this.zip=this.getHash(h);const g=this.router.url.split("#");this.router.navigateByUrl(`${g[0].split("?")[0]}?${this.zip}${g[1]&&`#${g[1]}`||""}`)})}zipState(e,r,a,l,f){return this.requestHash(f.baseId).pipe((0,_t.U)(h=>{const g={bare:"",hash:""},y=this.zipDiffString(f.baseId,fn.baseId);y.length&&(g.hash+=`&${vt.Base}${this.getId(hu.hash.indexOf(y))}`);const b=e.ids.map(T=>e.entities[T]),x=this.zipProducts(b,h);return this.zipItems(g,r,h),this.zipRecipes(g,a,h),this.zipFactories(g,l,h),this.zipSettings(g,f,h),this.zipPartial=g,x}))}stepHref(e,r){if(!e.items)return null;const a=[{id:"0",itemId:e.itemId,rate:e.items.toString(),rateType:bt.Items}];return"?"+this.getHash(this.zipProducts(a,r))}getHash(e){const r=e.bare+this.zipPartial.bare+this.zipTail.bare,l=`z=${this.bytesToBase64(hO(e.hash+this.zipPartial.hash+this.zipTail.hash))}`;return r.length<Math.max(l.length,75)?r:l}getParams(e){const r=e.split("&"),a="="===r[0][1]?2:1;return r.reduce((f,h)=>(f[h[0]]=h.substr(a),f),{})}updateState(e){try{if(e instanceof qo){const[r,...a]=e.urlAfterRedirects.split("#"),l=a.join("#"),[f,...h]=r.split("?");let g=h.join("?");if(!g.length&&l.length>1&&"="===l[1]&&(g=l),g){let y=g;if(this.zip!==y){if(y.startsWith("z=")){const I=y.substr(2).replace(/\+/g,"-").replace(/\//g,".").replace(/=/g,"_");y=_O(this.base64ToBytes(I),{to:"string"})}y=y.replace(/,/g,"_").replace(/\+/g,Yr),y=y.replace(/\*n\*/g,"*?*").replace(/\*e\*/g,"*=*");const b=this.getParams(y);let x=Rt.Version0;b[vt.Version]&&(x=b[vt.Version]);const T={};switch(x){case Rt.Version0:{let I;b[vt.Products]&&(T.productsState=this.unzipProducts(b,x)),b[vt.Base]&&(I=this.parseNumber(b[vt.Base])),b[vt.Items]&&(T.itemsState=this.unzipItems(b,x)),b[vt.Recipes]&&(T.recipesState=this.unzipRecipes(b,x)),b[vt.Factories]&&(T.factoriesState=this.unzipFactories(b,x)),b[vt.Settings]&&(T.settingsState=this.unzipSettings(b,x)),null!=I&&(T.settingsState=Object.assign(Object.assign({},T.settingsState),{preset:I})),this.dispatch(y,T);break}case Rt.Version1:Object.keys(b).forEach(I=>{b[I]=decodeURIComponent(b[I])}),b[vt.Products]&&(T.productsState=this.unzipProducts(b,x)),b[vt.Items]&&(T.itemsState=this.unzipItems(b,x)),b[vt.Recipes]&&(T.recipesState=this.unzipRecipes(b,x)),b[vt.Factories]&&(T.factoriesState=this.unzipFactories(b,x)),b[vt.Settings]&&(T.settingsState=this.unzipSettings(b,x)),this.dispatch(y,T);break;case Rt.Version2:case Rt.Version3:{const I=this.parseNString(b[vt.Base],hu.hash);this.requestHash(I||fn.baseId).subscribe(D=>{b[vt.Products]&&(T.productsState=this.unzipProducts(b,x,D)),b[vt.Items]&&(T.itemsState=this.unzipItems(b,x,D)),b[vt.Recipes]&&(T.recipesState=this.unzipRecipes(b,x,D)),b[vt.Factories]&&(T.factoriesState=this.unzipFactories(b,x,D)),b[vt.Settings]&&(T.settingsState=this.unzipSettings(b,x,D)),null!=I&&(T.settingsState=Object.assign(Object.assign({},T.settingsState),{baseId:I})),this.dispatch(y,T)});break}}}}}}catch(r){console.warn("Router: Failed to parse url"),console.error(r)}}dispatch(e,r){this.zip=e,this.store.dispatch(new QI(r))}zipProducts(e,r){const a=this.zipList(e.map(l=>{const f=M.fromString(l.rate).toString(),h=this.zipDiffNumber(l.rateType,bt.Items);return{bare:this.zipFields([l.itemId,f,h,this.zipTruthyString(l.viaId),this.zipTruthyString(l.viaSetting),this.zipTruthyArray(l.viaFactoryModules),this.zipTruthyString(l.viaBeaconCount),this.zipTruthyArray(l.viaBeaconModules),this.zipTruthyString(l.viaBeacon),this.zipTruthyNumber(l.viaOverclock)]),hash:this.zipFields([this.zipTruthyNString(l.itemId,r.items),f,h,this.zipTruthyNString(l.viaId,l.rateType===bt.Factories?r.recipes:r.items),this.zipTruthyNString(l.viaSetting,l.rateType===bt.Belts?r.belts:l.rateType===bt.Wagons?r.wagons:l.rateType===bt.Factories?r.factories:r.items),this.zipTruthyNArray(l.viaFactoryModules,r.modules),this.zipTruthyString(l.viaBeaconCount),this.zipTruthyNArray(l.viaBeaconModules,r.modules),this.zipTruthyNString(l.viaBeacon,r.beacons),this.zipTruthyNumber(l.viaOverclock)])}}));return{bare:`${vt.Products}=${a.bare}`,hash:`${vt.Products}${a.hash}`}}unzipProducts(e,r,a=null){const l=e[vt.Products].split("_"),f=[],h={};let g=0;for(const y of l){const b=y.split("*");let x=0;const T=g.toString();let I;switch(r){case Rt.Version0:case Rt.Version1:I={id:T,itemId:b[x++],rate:b[x++],rateType:Number(b[x++])|bt.Items,viaId:this.parseString(b[x++]),viaSetting:this.parseString(b[x++]),viaFactoryModules:this.parseArray(b[x++]),viaBeaconCount:this.parseString(b[x++]),viaBeaconModules:this.parseArray(b[x++]),viaBeacon:this.parseString(b[x++]),viaOverclock:this.parseNumber(b[x++])};break;case Rt.Version2:case Rt.Version3:I={id:T,itemId:this.parseNString(b[x++],a.items),rate:b[x++],rateType:Number(b[x++])|bt.Items},I.viaId=this.parseNString(b[x++],I.rateType===bt.Factories?a.recipes:a.items),I.viaSetting=this.parseNString(b[x++],I.rateType===bt.Belts?a.belts:I.rateType===bt.Wagons?a.wagons:I.rateType===bt.Factories?a.factories:a.items),I.viaFactoryModules=this.parseNArray(b[x++],a.modules),I.viaBeaconCount=this.parseString(b[x++]),I.viaBeaconModules=this.parseNArray(b[x++],a.modules),I.viaBeacon=this.parseNString(b[x++],a.beacons),I.viaOverclock=this.parseNumber(b[x++])}Object.keys(I).filter(D=>void 0===I[D]).forEach(D=>{delete I[D]}),f.push(T),h[T]=I,g++}return{ids:f,index:g,entities:h}}zipItems(e,r,a){const l=this.zipList(Object.keys(r).map(f=>{const h=r[f],g=this.zipTruthyBool(h.ignore);return{bare:this.zipFields([f,g,this.zipTruthyString(h.belt),this.zipTruthyString(h.wagon),this.zipTruthyString(h.recipe)]),hash:this.zipFields([this.zipTruthyNString(f,a.items),g,this.zipTruthyNString(h.belt,a.belts),this.zipTruthyNString(h.wagon,a.wagons),this.zipTruthyNString(h.recipe,a.recipes)])}}));l.bare.length&&(e.bare+=`&${vt.Items}=${l.bare}`,e.hash+=`&${vt.Items}${l.hash}`)}unzipItems(e,r,a=null){const l=e[vt.Items].split("_"),f={};for(const h of l){const g=h.split("*");let b,x,y=0;switch(r){case Rt.Version0:case Rt.Version1:b=g[y++],x={ignore:this.parseBool(g[y++]),belt:this.parseString(g[y++]),wagon:this.parseString(g[y++]),recipe:this.parseString(g[y++])};break;case Rt.Version2:case Rt.Version3:b=this.parseNString(g[y++],a.items),x={ignore:this.parseBool(g[y++]),belt:this.parseNString(g[y++],a.belts),wagon:this.parseNString(g[y++],a.wagons),recipe:this.parseNString(g[y++],a.recipes)}}Object.keys(x).filter(T=>void 0===x[T]).forEach(T=>{delete x[T]}),f[b]=x}return f}zipRecipes(e,r,a){const l=this.zipList(Object.keys(r).map(f=>{const h=r[f];return{bare:this.zipFields([f,this.zipTruthyString(h.factory),this.zipTruthyArray(h.factoryModules),this.zipTruthyString(h.beaconCount),this.zipTruthyArray(h.beaconModules),this.zipTruthyString(h.beacon),this.zipTruthyNumber(h.overclock),this.zipTruthyString(h.cost),this.zipTruthyString(h.beaconTotal)]),hash:this.zipFields([this.zipTruthyNString(f,a.recipes),this.zipTruthyNString(h.factory,a.factories),this.zipTruthyNArray(h.factoryModules,a.modules),this.zipTruthyString(h.beaconCount),this.zipTruthyNArray(h.beaconModules,a.modules),this.zipTruthyNString(h.beacon,a.beacons),this.zipTruthyNumber(h.overclock),this.zipTruthyString(h.cost),this.zipTruthyString(h.beaconTotal)])}}));l.bare.length&&(e.bare+=`&${vt.Recipes}=${l.bare}`,e.hash+=`&${vt.Recipes}${l.hash}`)}unzipRecipes(e,r,a=null){const l=e[vt.Recipes].split("_"),f={};for(const h of l){const g=h.split("*");let b,x,y=0;switch(r){case Rt.Version0:case Rt.Version1:b=g[y++],x={factory:this.parseString(g[y++]),factoryModules:this.parseArray(g[y++]),beaconCount:this.parseString(g[y++]),beaconModules:this.parseArray(g[y++]),beacon:this.parseString(g[y++]),overclock:this.parseNumber(g[y++]),cost:this.parseString(g[y++]),beaconTotal:this.parseString(g[y++])};break;case Rt.Version2:case Rt.Version3:b=this.parseNString(g[y++],a.recipes),x={factory:this.parseNString(g[y++],a.factories),factoryModules:this.parseNArray(g[y++],a.modules),beaconCount:r===Rt.Version2?this.parseNNumber(g[y++]).toString():this.parseString(g[y++]),beaconModules:this.parseNArray(g[y++],a.modules),beacon:this.parseNString(g[y++],a.beacons),overclock:this.parseNumber(g[y++]),cost:this.parseString(g[y++]),beaconTotal:this.parseString(g[y++])}}Object.keys(x).filter(T=>void 0===x[T]).forEach(T=>{delete x[T]}),f[b]=x}return f}zipFactories(e,r,a){const l=r.ids?["",...r.ids]:Object.keys(r.entities),f=this.zipList(l.map(h=>{const g=r.entities[h]||{};let y=!0;return""===h&&(h=null==r.ids?"":"1",y=!1),{bare:this.zipFields([h,this.zipTruthyArray(g.moduleRank),this.zipTruthyString(g.beaconCount),this.zipTruthyString(g.beaconModule),this.zipTruthyString(g.beacon),this.zipTruthyNumber(g.overclock)]),hash:this.zipFields([y?this.zipTruthyNString(h,a.factories):h,this.zipTruthyNArray(g.moduleRank,a.modules),this.zipTruthyString(g.beaconCount),this.zipTruthyNString(g.beaconModule,a.modules),this.zipTruthyNString(g.beacon,a.beacons),this.zipTruthyNumber(g.overclock)])}}));f.bare.length&&(e.bare+=`&${vt.Factories}=${f.bare}`,e.hash+=`&${vt.Factories}${f.hash}`)}unzipFactories(e,r,a=null){var l;const f=e[vt.Factories].split("_");let h=null;const g={};let y=!1;for(let b=0;b<f.length;b++){const T=f[b].split("*");let D,Y,I=0;switch(r){case Rt.Version0:case Rt.Version1:D=T[I++],Y={moduleRank:this.parseArray(T[I++]),beaconCount:this.parseString(T[I++]),beaconModule:this.parseString(T[I++]),beacon:this.parseString(T[I++]),overclock:this.parseNumber(T[I++])},0===b&&"1"===D?(y=!0,h=[],D=""):y&&h.push(D);break;case Rt.Version2:case Rt.Version3:D=T[I++],Y={moduleRank:this.parseNArray(T[I++],a.modules),beaconCount:r===Rt.Version2?null===(l=this.parseNNumber(T[I++]))||void 0===l?void 0:l.toString():this.parseString(T[I++]),beaconModule:this.parseNString(T[I++],a.modules),beacon:this.parseNString(T[I++],a.beacons),overclock:this.parseNumber(T[I++])},0===b&&"1"===D?(y=!0,h=[],D=""):(D=this.parseNString(D,a.factories),y&&h.push(D))}Object.keys(Y).filter(X=>void 0===Y[X]).forEach(X=>{delete Y[X]}),Object.keys(Y).length&&(g[D]=Y)}return{ids:h,entities:g}}zipSettings(e,r,a){const l=fn,f_bare=this.zipFields([this.zipDiffString(r.baseId,l.baseId),this.zipDiffDisplayRate(r.displayRate,l.displayRate),this.zipDiffNumber(r.preset,l.preset),this.zipDiffArray(r.disabledRecipes,l.disabledRecipes),this.zipDiffString(r.belt,l.belt),this.zipDiffString(r.fuel,l.fuel),this.zipDiffNumber(r.flowRate,l.flowRate),this.zipDiffNumber(r.miningBonus,l.miningBonus),this.zipDiffNumber(r.researchSpeed,l.researchSpeed),this.zipDiffNumber(r.inserterCapacity,l.inserterCapacity),this.zipDiffNumber(r.inserterTarget,l.inserterTarget),this.zipDiffBool(r.expensive,l.expensive),this.zipDiffString(r.cargoWagon,l.cargoWagon),this.zipDiffString(r.fluidWagon,l.fluidWagon),this.zipDiffString(r.pipe,l.pipe),this.zipDiffString(r.costFactor,l.costFactor),this.zipDiffString(r.costFactory,l.costFactory),this.zipDiffString(r.costInput,l.costInput),this.zipDiffString(r.costIgnored,l.costIgnored),this.zipDiffString(r.beaconReceivers,l.beaconReceivers)]),f_hash=this.zipFields([this.zipDiffDisplayRate(r.displayRate,l.displayRate),this.zipDiffNumber(r.preset,l.preset),this.zipDiffNArray(r.disabledRecipes,l.disabledRecipes,a.recipes),this.zipDiffNString(r.belt,l.belt,a.belts),this.zipDiffNString(r.fuel,l.fuel,a.fuels),this.zipDiffNNumber(r.flowRate,l.flowRate),this.zipDiffNNumber(r.miningBonus,l.miningBonus),this.zipDiffNNumber(r.researchSpeed,l.researchSpeed),this.zipDiffNumber(r.inserterCapacity,l.inserterCapacity),this.zipDiffNumber(r.inserterTarget,l.inserterTarget),this.zipDiffBool(r.expensive,l.expensive),this.zipDiffNString(r.cargoWagon,l.cargoWagon,a.wagons),this.zipDiffNString(r.fluidWagon,l.fluidWagon,a.wagons),this.zipDiffNString(r.pipe,l.pipe,a.belts),this.zipDiffString(r.costFactor,l.costFactor),this.zipDiffString(r.costFactory,l.costFactory),this.zipDiffString(r.costInput,l.costInput),this.zipDiffString(r.costIgnored,l.costIgnored),this.zipDiffString(r.beaconReceivers,l.beaconReceivers)]);f_bare.length&&(e.bare+=`&${vt.Settings}=${f_bare}`,e.hash+=`&${vt.Settings}${f_hash}`)}unzipSettings(e,r,a=null){const f=e[vt.Settings].split("*");let g,h=0;switch(r){case Rt.Version0:{const y=this.parseString(f[h++]);g={baseId:y&&hu.hash[hu.v0.indexOf(y)],disabledRecipes:this.parseArray(f[h++]),expensive:this.parseBool(f[h++]),belt:this.parseString(f[h++]),fuel:this.parseString(f[h++]),flowRate:this.parseNumber(f[h++]),displayRate:this.parseNumber(f[h++]),miningBonus:this.parseNumber(f[h++]),researchSpeed:this.parseNumber(f[h++]),inserterTarget:this.parseNumber(f[h++]),inserterCapacity:this.parseNumber(f[h++]),cargoWagon:this.parseString(f[h++]),fluidWagon:this.parseString(f[h++]),pipe:this.parseString(f[h++]),costFactor:this.parseString(f[h++]),costFactory:this.parseString(f[h++]),costInput:this.parseString(f[h++]),costIgnored:this.parseString(f[h++]),beaconReceivers:this.parseString(f[h++]),preset:void 0};break}case Rt.Version1:g={baseId:this.parseString(f[h++]),displayRate:this.parseDisplayRate(f[h++]),preset:this.parseNumber(f[h++]),disabledRecipes:this.parseArray(f[h++]),belt:this.parseString(f[h++]),fuel:this.parseString(f[h++]),flowRate:this.parseNumber(f[h++]),miningBonus:this.parseNumber(f[h++]),researchSpeed:this.parseNumber(f[h++]),inserterCapacity:this.parseNumber(f[h++]),inserterTarget:this.parseNumber(f[h++]),expensive:this.parseBool(f[h++]),cargoWagon:this.parseString(f[h++]),fluidWagon:this.parseString(f[h++]),pipe:this.parseString(f[h++]),costFactor:this.parseString(f[h++]),costFactory:this.parseString(f[h++]),costInput:this.parseString(f[h++]),costIgnored:this.parseString(f[h++]),beaconReceivers:this.parseString(f[h++])};break;case Rt.Version2:case Rt.Version3:g={displayRate:this.parseDisplayRate(f[h++]),preset:this.parseNumber(f[h++]),disabledRecipes:this.parseNArray(f[h++],a.recipes),belt:this.parseNString(f[h++],a.belts),fuel:this.parseNString(f[h++],a.fuels),flowRate:this.parseNNumber(f[h++]),miningBonus:this.parseNNumber(f[h++]),researchSpeed:this.parseNNumber(f[h++]),inserterCapacity:this.parseNumber(f[h++]),inserterTarget:this.parseNumber(f[h++]),expensive:this.parseBool(f[h++]),cargoWagon:this.parseNString(f[h++],a.wagons),fluidWagon:this.parseNString(f[h++],a.wagons),pipe:this.parseNString(f[h++],a.belts),costFactor:this.parseString(f[h++]),costFactory:this.parseString(f[h++]),costInput:this.parseString(f[h++]),costIgnored:this.parseString(f[h++]),beaconReceivers:this.parseString(f[h++]),baseId:void 0}}return Object.keys(g).filter(y=>void 0===g[y]).forEach(y=>{delete g[y]}),g}zipList(e){return{bare:encodeURIComponent(e.map(r=>r.bare).join("_")),hash:e.map(r=>r.hash).join("_")}}zipFields(e){return e.join("*").replace(/\**$/,"")}zipTruthyString(e){return null==e?"":e}zipTruthyNumber(e){return null==e?"":e.toString()}zipTruthyBool(e){return null==e?"":e?"1":"0"}zipTruthyArray(e){return null==e?"":e.length?e.join(Yr):Wr}zipTruthyNString(e,r){return null==e?"":this.getId(r.indexOf(e))}zipTruthyNArray(e,r){return null==e?"":e.length?e.map(a=>this.getId(r.indexOf(a))).join(Yr):Wr}zipDiffString(e,r){return e===r?"":null==e?Tn:e}zipDiffNumber(e,r){return e===r?"":null==e?Tn:e.toString()}zipDiffDisplayRate(e,r){if(e===r)return"";switch(e){case null:return Tn;case Nt.PerSecond:return"0";case Nt.PerMinute:return"1";case Nt.PerHour:return"2"}}zipDiffBool(e,r){return e===r?"":null==e?Tn:e?"1":"0"}zipDiffArray(e,r){const a=e?e.length?[...e].sort().join(Yr):Wr:Tn;return a===(r?r.length?[...r].sort().join(Yr):Wr:Tn)?"":a}zipDiffRank(e,r){const a=e?e.length?e.join(Yr):Wr:Tn;return a===(r?r.length?r.join(Yr):Wr:Tn)?"":a}zipDiffNString(e,r,a){return e===r?"":null==e?Tn:this.getId(a.indexOf(e))}zipDiffNNumber(e,r){return e===r?"":null==e?Tn:this.getId(e)}zipDiffNArray(e,r,a){const l=e?e.length?e.map(h=>this.getId(a.indexOf(h))).sort().join(Yr):Wr:Tn;return l===(r?r.length?r.map(h=>this.getId(a.indexOf(h))).sort().join(Yr):Wr:Tn)?"":l}zipDiffNRank(e,r,a){const l=e?e.length?e.map(h=>this.getId(a.indexOf(h))).join(Yr):Wr:Tn;return l===(r?r.length?r.map(h=>this.getId(a.indexOf(h))).join(Yr):Wr:Tn)?"":l}parseString(e){if(null==e?void 0:e.length)return e===Tn?null:e}parseBool(e){if(null==e?void 0:e.length)return e===Tn?null:"1"===e}parseNumber(e){if(null==e?void 0:e.length)return e===Tn?null:Number(e)}parseDisplayRate(e){if(null==e?void 0:e.length)switch(e){case Tn:return null;case"0":return Nt.PerSecond;case"1":return Nt.PerMinute;case"2":return Nt.PerHour}}parseArray(e){if(null==e?void 0:e.length)return e===Tn?null:e===Wr?[]:e.split(Yr)}parseNString(e,r){const a=this.parseString(e);return null==a?a:r[this.getN(a)]}parseNNumber(e){if(null==e?void 0:e.length)return e===Tn?null:this.getN(e)}parseNArray(e,r){const a=this.parseArray(e);return null==a?a:a.map(l=>r[this.getN(l)])}getId(e){return e/KC>=1?this.getId(Math.floor(e/KC))+this.getId(e%KC):er[e]}getN(e){const r=GR[e[0]];return e.length>1?(e=e.substr(1),r*Math.pow(KC,e.length)+this.getN(e)):r}getBase64Code(e){if(e>=this.base64codes.length)throw new Error("Unable to parse base64 string.");const r=this.base64codes[e];if(255===r)throw new Error("Unable to parse base64 string.");return r}bytesToBase64(e){let a,r="";const l=e.length;for(a=2;a<l;a+=3)r+=er[e[a-2]>>2],r+=er[(3&e[a-2])<<4|e[a-1]>>4],r+=er[(15&e[a-1])<<2|e[a]>>6],r+=er[63&e[a]];return a===l+1&&(r+=er[e[a-2]>>2],r+=er[(3&e[a-2])<<4],r+="__"),a===l&&(r+=er[e[a-2]>>2],r+=er[(3&e[a-2])<<4|e[a-1]>>4],r+=er[(15&e[a-1])<<2],r+="_"),r}base64ToBytes(e){if(e.length%4!=0)throw new Error("Unable to parse base64 string.");const r=e.indexOf("_");if(-1!==r&&r<e.length-2)throw new Error("Unable to parse base64 string.");const a=e.endsWith("__")?2:e.endsWith("_")?1:0,l=e.length,f=new Uint8Array(l/4*3);let h;for(let g=0,y=0;g<l;g+=4,y+=3)h=this.getBase64Code(e.charCodeAt(g))<<18|this.getBase64Code(e.charCodeAt(g+1))<<12|this.getBase64Code(e.charCodeAt(g+2))<<6|this.getBase64Code(e.charCodeAt(g+3)),f[y]=h>>16,f[y+1]=h>>8&255,f[y+2]=255&h;return f.subarray(0,f.length-a)}requestHash(e){return this.cache[e]?(0,ot.of)(this.cache[e]):this.http.get(`data/${e}/hash.json`).pipe((0,_t.U)(r=>r),mn(r=>this.cache[e]=r))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(oi),n.LFG(Ce.yh),n.LFG(oa))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XR=(()=>{class t{constructor(e,r){this.router=e,this.store=r,this.store.select(uD).subscribe(a=>{for(const l of a.products)l.viaId&&l.viaId!==l.itemId&&l.rate.nonzero()&&a.rates[l.id].isZero()&&this.store.dispatch(new dC({id:l.id,value:null}))})}checkHash(){this.store.select(yu).pipe((0,ti.h)(e=>!!e.length),(0,go.q)(1),(0,_t.U)(e=>e[0].id)).subscribe(e=>{this.router.requestHash(e).pipe((0,go.q)(1)).subscribe(r=>{this.store.select(ks).pipe((0,go.q)(1)).subscribe(a=>{console.log(e),console.log(JSON.stringify(a.complexRecipeIds.filter(f=>!a.itemEntities[f])));const l=JSON.stringify(r);for(const f of[...a.itemIds].sort().filter(h=>-1===r.items.indexOf(h)))r.items.push(f);for(const f of[...a.beaconIds].sort().filter(h=>-1===r.beacons.indexOf(h)))r.beacons.push(f);for(const f of[...a.beltIds,...a.pipeIds].sort().filter(h=>-1===r.belts.indexOf(h)))r.belts.push(f);if(a.fuelIds[na.Chemical])for(const f of[...a.fuelIds[na.Chemical]].sort().filter(h=>-1===r.fuels.indexOf(h)))r.fuels.push(f);for(const f of[...a.cargoWagonIds,...a.fluidWagonIds].sort().filter(h=>-1===r.wagons.indexOf(h)))r.wagons.push(f);for(const f of[...a.factoryIds].sort().filter(h=>-1===r.factories.indexOf(h)))r.factories.push(f);for(const f of[...a.moduleIds].sort().filter(h=>-1===r.modules.indexOf(h)))r.modules.push(f);for(const f of[...a.recipeIds].sort().filter(h=>-1===r.recipes.indexOf(h)))r.recipes.push(f);l===JSON.stringify(r)?console.log("No change in hash"):(console.log("New hash:"),console.log(JSON.stringify(r)))})})})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(BD),n.LFG(Ce.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eN(t,i){if(1&t&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.name," ")}}function tN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",17),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().$implicit;return n.oxw(2).clickId(a.id)}),n._UZ(1,"div",18),n.TgZ(2,"div"),n._uU(3),n.qZA(),n.qZA()}if(2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.ekj("checked",r.editValue[e.id].show),n.xp6(2),n.Oqu(e.name)}}function nN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"input",23),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw(3).$implicit;return n.oxw(2).changePrecision(l.id,a)}),n.qZA()}if(2&t){const e=n.oxw(3).$implicit,r=n.oxw(2);n.Q6J("value",r.editValue[e.id].precision)}}function iN(t,i){1&t&&n._uU(0,"---")}function rN(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"td"),n.YNc(2,nN,1,1,"input",20),n.YNc(3,iN,1,0,"ng-template",null,21,n.W1O),n.qZA(),n.TgZ(5,"td"),n.TgZ(6,"div",22),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit;return n.oxw(2).clickFraction(a.id)}),n._UZ(7,"div",18),n.TgZ(8,"div"),n._uU(9,"Fractions"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"td"),n._uU(11),n.qZA(),n.BQk()}if(2&t){const e=n.MAs(4),r=n.oxw(2).$implicit,a=n.oxw(2);n.xp6(2),n.Q6J("ngIf",null!=a.editValue[r.id].precision)("ngIfElse",e),n.xp6(5),n.ekj("checked",null==a.editValue[r.id].precision),n.xp6(4),n.hij(" ",a.example(r.id)," ")}}function oN(t,i){1&t&&(n.TgZ(0,"td",24),n._uU(1,"n/a"),n.qZA())}function sN(t,i){if(1&t&&(n.ynx(0),n.YNc(1,rN,12,5,"ng-container",14),n.YNc(2,oN,2,0,"ng-template",null,19,n.W1O),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw().$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("ngIf",-1!==a.PrecisionColumns.indexOf(r.id))("ngIfElse",e)}}function aN(t,i){1&t&&n._UZ(0,"td",24)}function cN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n.YNc(2,eN,2,1,"div",14),n.YNc(3,tN,4,3,"ng-template",null,15,n.W1O),n.qZA(),n.YNc(5,sN,4,2,"ng-container",14),n.YNc(6,aN,1,0,"ng-template",null,16,n.W1O),n.qZA()),2&t){const e=i.$implicit,r=n.MAs(4),a=n.MAs(7),l=n.oxw(2);n.xp6(2),n.Q6J("ngIf",e.id===l.Column.Items||e.id===l.Column.Factories)("ngIfElse",r),n.xp6(3),n.Q6J("ngIf",l.editValue[e.id].show)("ngIfElse",a)}}function lN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-dialog",2),n.NdJ("closeDialog",function(){return n.CHM(e),n.oxw().close()}),n.TgZ(1,"div",3),n.TgZ(2,"div",4),n._uU(3,"Select columns"),n.qZA(),n.TgZ(4,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(5,"i",6),n._uU(6,"close"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"table"),n.TgZ(9,"thead"),n.TgZ(10,"tr"),n.TgZ(11,"th",8),n._uU(12,"Visibility"),n.qZA(),n.TgZ(13,"th",9),n._uU(14,"Precision"),n.qZA(),n.qZA(),n.TgZ(15,"tr"),n.TgZ(16,"td"),n._uU(17,"Decimals"),n.qZA(),n.TgZ(18,"td"),n._uU(19,"Fractions"),n.qZA(),n.TgZ(20,"td"),n._uU(21,"Example"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"tbody"),n.YNc(23,cN,8,4,"tr",10),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"div",11),n.TgZ(25,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(26,"span",12),n._uU(27,"Cancel"),n.qZA(),n.qZA(),n.TgZ(28,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().close()}),n._uU(29," Confirm "),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(23),n.Q6J("ngForOf",e.columnOptions)("ngForTrackBy",e.trackBy)}}const uN=["*"];let mO=(()=>{class t extends gc{constructor(){super(),this.setColumns=new n.vpe,this.PrecisionColumns=ad,this.edited=!1,this.Column=ze}get columnOptions(){return function(t){const i=sd.map(e=>({id:e,name:e}));switch(t){case Xe.Factorio:return i.filter(e=>e.id!==ze.Overclock);case Xe.DysonSphereProgram:return i.filter(e=>e.id!==ze.Wagons&&e.id!==ze.Overclock&&e.id!==ze.Beacons&&e.id!==ze.Pollution);case Xe.Satisfactory:return i.filter(e=>e.id!==ze.Beacons&&e.id!==ze.Pollution)}}(this.game)}clickOpen(){this.open=!0,this.edited=!1,this.editValue=Object.keys(this.columns).reduce((e,r)=>(e[r]=Object.assign({},this.columns[r]),e),{})}close(){this.edited&&this.setColumns.emit(this.editValue),this.open=!1}clickId(e){this.edited=!0,this.editValue[e].show=!this.editValue[e].show}changePrecision(e,r){const l=Number(r.target.value);this.edited=!0,this.editValue[e].precision=l}clickFraction(e){this.edited=!0,this.editValue[e].precision=null==this.editValue[e].precision?1:null}example(e){const r=M.from(1,3),a=this.editValue[e].precision;return null!=a?r.toPrecision(a).toString():r.toFraction()}trackBy(e,r){return r.id}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-columns"]],inputs:{game:"game",columns:"columns"},outputs:{setColumns:"setColumns"},features:[n.qOj],ngContentSelectors:uN,decls:3,vars:1,consts:[["data-test","lab-columns-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[3,"click"],[1,"material-icons"],[1,"panel"],["rowspan","2",1,"header"],["colspan","3",1,"header"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dialog-buttons"],[1,"text"],["data-test","lab-columns-confirm",1,"green",3,"click"],[4,"ngIf","ngIfElse"],["colCheckbox",""],["noShow",""],["data-test","lab-columns-visibility",1,"flex","option",3,"click"],[1,"checkbox"],["noPrecision",""],["type","number","placeholder","Decimals","min","0","step","1","data-test","lab-columns-decimals",3,"value","input",4,"ngIf","ngIfElse"],["noInput",""],["data-test","lab-columns-fractions",1,"flex","option",3,"click"],["type","number","placeholder","Decimals","min","0","step","1","data-test","lab-columns-decimals",3,"value","input"],["colspan","3"]],template:function(e,r){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.NdJ("click",function(){return r.clickOpen()}),n.Hsn(1),n.qZA(),n.YNc(2,lN,30,2,"lab-dialog",1)),2&e&&(n.xp6(2),n.Q6J("ngIf",r.open))},directives:[ae,mc,Ci],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:1;display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}.option[_ngcontent-%COMP%]{cursor:pointer;padding:.375rem 0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.option[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.375rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem;text-align:center}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:last-child), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid var(--color-back)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-left:1px solid var(--color-back)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid var(--color-back);height:45px}"],changeDetection:0}),t})();function dN(t,i){if(1&t&&n._UZ(0,"img",5),2&t){const e=n.oxw();n.Udp("background-position",e.icon.position)("background-image",e.icon.file?"url("+e.icon.file+")":""),n.ekj("shadow",e.hover&&e.hoverIcon)("scale",e.scale),n.Q6J("ngClass",e.iconId)}}function fN(t,i){if(1&t&&(n.TgZ(0,"div",6),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.text)}}function pN(t,i){if(1&t&&(n.TgZ(0,"div",7),n.TgZ(1,"i",8),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.hoverIcon)}}function hN(t,i){if(1&t&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.tooltip," ")}}function _N(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"lab-icon",19),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(3);n.xp6(1),n.Q6J("iconId",e.key)("text",e.value.toString())("data",r.data)}}function gN(t,i){if(1&t&&(n.ynx(0,15),n._UZ(1,"lab-icon",19),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(4);n.xp6(1),n.Q6J("iconId",e.key)("text",e.value.toString())("data",r.data)}}function mN(t,i){if(1&t&&(n.ynx(0),n.YNc(1,gN,2,3,"ng-container",20),n.ALo(2,"keyvalue"),n.BQk()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,e.recipe.out))}}function yN(t,i){if(1&t&&n._UZ(0,"lab-icon",21),2&t){const e=n.oxw(3);n.Q6J("iconId",e.iconId)("data",e.data)}}function vN(t,i){if(1&t&&(n.TgZ(0,"div",15),n._UZ(1,"lab-icon",16),n.YNc(2,_N,2,3,"ng-container",17),n.ALo(3,"keyvalue"),n.TgZ(4,"i",8),n._uU(5,"arrow_forward"),n.qZA(),n.YNc(6,mN,3,3,"ng-container",12),n.YNc(7,yN,1,2,"lab-icon",18),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("text",e.recipe.time.toString())("data",e.data),n.xp6(1),n.Q6J("ngForOf",n.lcZ(3,5,e.recipe.in)),n.xp6(4),n.Q6J("ngIf",e.recipe.out),n.xp6(1),n.Q6J("ngIf",!e.recipe.out)}}function bN(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"div"),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.hij("Cost: ",e.recipe.cost,"")}}function CN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Energy type"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(4),n.Oqu(e.type)}}function xN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Fuel category"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(4),n.Oqu(e.category)}}function wN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Energy consumption"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.Oqu(r.power(e.usage))}}function EN(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"table"),n.TgZ(2,"tr"),n.TgZ(3,"td"),n._uU(4,"Effectivity"),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"tr"),n.TgZ(8,"td"),n._uU(9,"Modules"),n.qZA(),n.TgZ(10,"td"),n._uU(11),n.qZA(),n.qZA(),n.TgZ(12,"tr"),n.TgZ(13,"td"),n._uU(14,"Range"),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA(),n.qZA(),n.YNc(17,CN,5,1,"tr",12),n.YNc(18,xN,5,1,"tr",12),n.YNc(19,wN,5,1,"tr",12),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(6),n.Oqu(r.round(e.effectivity)),n.xp6(5),n.Oqu(e.modules),n.xp6(5),n.Oqu(e.range),n.xp6(1),n.Q6J("ngIf",e.type),n.xp6(1),n.Q6J("ngIf",e.category),n.xp6(1),n.Q6J("ngIf",e.usage)}}function TN(t,i){if(1&t&&(n.TgZ(0,"div",22),n._uU(1),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(1),n.AsE(" ",r.round(e.speed*r.displayRate)," ",r.displayRate===r.DisplayRate.PerSecond?"Items/s":r.displayRate===r.DisplayRate.PerMinute?"Items/m":"Items/h"," ")}}function IN(t,i){if(1&t&&(n.TgZ(0,"div",22),n._uU(1),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(1),n.AsE(" ",r.round(e.speed*r.displayRate)," ",r.displayRate===r.DisplayRate.PerSecond?"Items/s":r.displayRate===r.DisplayRate.PerMinute?"Items/m":"Items/h"," ")}}function SN(t,i){if(1&t&&(n.TgZ(0,"div",22),n._uU(1),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(1),n.hij(" ",r.round(e.size)," Inventory stacks ")}}function DN(t,i){if(1&t&&(n.TgZ(0,"div",22),n._uU(1),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(1),n.hij(" ",r.round(e.capacity)," Fluid capacity ")}}function AN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Modules"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(4),n.Oqu(e.modules)}}function MN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Energy type"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(4),n.Oqu(e.type)}}function ON(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Fuel category"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(4),n.Oqu(e.category)}}function PN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Energy consumption"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.Oqu(r.power(e.usage))}}function RN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Drain"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.hij(" ",r.power(e.drain)," ")}}function NN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Pollution"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.hij("",r.round(e.pollution),"/m")}}function FN(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"tr"),n.TgZ(2,"td"),n._uU(3,"Rocket Parts Required"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"tr"),n.TgZ(7,"td"),n._uU(8,"Launch Time (ticks)"),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf;n.xp6(5),n.Oqu(e.parts),n.xp6(5),n.Oqu(e.launch)}}function kN(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"table"),n.TgZ(2,"tr"),n.TgZ(3,"td"),n._uU(4,"Crafting speed"),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.qZA(),n.YNc(7,AN,5,1,"tr",12),n.YNc(8,MN,5,1,"tr",12),n.YNc(9,ON,5,1,"tr",12),n.YNc(10,PN,5,1,"tr",12),n.YNc(11,RN,5,1,"tr",12),n.YNc(12,NN,5,1,"tr",12),n.YNc(13,FN,11,2,"ng-container",12),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(6),n.Oqu(r.round(e.speed)),n.xp6(1),n.Q6J("ngIf",e.modules),n.xp6(1),n.Q6J("ngIf",e.type),n.xp6(1),n.Q6J("ngIf",e.category),n.xp6(1),n.Q6J("ngIf",e.usage),n.xp6(1),n.Q6J("ngIf",e.drain),n.xp6(1),n.Q6J("ngIf",e.pollution),n.xp6(1),n.Q6J("ngIf",e.silo)}}function LN(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"table"),n.TgZ(2,"tr"),n.TgZ(3,"td"),n._uU(4,"Category"),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"tr"),n.TgZ(8,"td"),n._uU(9,"Value"),n.qZA(),n.TgZ(10,"td"),n._uU(11),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(2);n.xp6(6),n.Oqu(e.category),n.xp6(5),n.hij("",r.round(e.value)," MJ")}}function ZN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Consumption"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.Oqu(r.toBonusPercent(e.consumption))}}function BN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Speed"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.Oqu(r.toBonusPercent(e.speed))}}function VN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Productivity"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.Oqu(r.toBonusPercent(e.productivity))}}function UN(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2,"Pollution"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(4),n.Oqu(r.toBonusPercent(e.pollution))}}function jN(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"table"),n.YNc(2,ZN,5,1,"tr",12),n.YNc(3,BN,5,1,"tr",12),n.YNc(4,VN,5,1,"tr",12),n.YNc(5,UN,5,1,"tr",12),n.qZA(),n.qZA()),2&t){const e=i.ngIf;n.xp6(2),n.Q6J("ngIf",e.consumption),n.xp6(1),n.Q6J("ngIf",e.speed),n.xp6(1),n.Q6J("ngIf",e.productivity),n.xp6(1),n.Q6J("ngIf",e.pollution)}}function qN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",9),n.NdJ("mouseenter",function(){return n.CHM(e),n.oxw().hover=!1}),n.YNc(1,hN,2,1,"div",10),n.YNc(2,vN,8,7,"div",11),n.YNc(3,bN,3,1,"div",12),n.YNc(4,EN,20,6,"div",12),n.YNc(5,TN,2,2,"div",13),n.YNc(6,IN,2,2,"div",13),n.YNc(7,SN,2,1,"div",13),n.YNc(8,DN,2,1,"div",13),n.YNc(9,kN,14,8,"div",12),n.YNc(10,LN,12,2,"div",12),n.YNc(11,jN,6,4,"div",12),n.qZA()}if(2&t){const e=n.oxw();n.Udp("margin-top",e.tooltipMarginTop,"px")("margin-left",-e.scrollLeft,"px"),n.xp6(1),n.Q6J("ngIf",e.tooltip),n.xp6(1),n.Q6J("ngIf",e.recipe),n.xp6(1),n.Q6J("ngIf",null==e.recipe?null:e.recipe.cost),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.beacon),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.belt),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.pipe),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.cargoWagon),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.fluidWagon),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.factory),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.fuel),n.xp6(1),n.Q6J("ngIf",null==e.item?null:e.item.module)}}let Mc=(()=>{class t{constructor(){this.scale=!0,this.scrollTop=0,this.hover=!1,this.tooltipMarginTop=40,this.DisplayRate=Nt,this.EnergyType=ki}ngOnChanges(){if(this.tooltipMarginTop=(this.scale?40:72)-this.scrollTop,this.recipe){const e=this.iconId+"|recipe";if(this.data.iconEntities[e])return void(this.icon=this.data.iconEntities[e])}this.icon=this.data.iconEntities[this.iconId]}mouseenter(){this.hover=!0}mouseleave(){this.hover=!1}round(e){return Number(e.toFixed(2))}power(e){return"string"==typeof e&&(e=M.fromString(e).toNumber()),Math.abs(e)<1e3?`${this.round(e)} kW`:`${this.round(e/1e3)} MW`}toBonusPercent(e){const r=this.round(M.fromNumber(e).mul(M.hundred).toNumber());return e>0?`+${r}%`:e<0?`${r}%`:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-icon"]],hostBindings:function(e,r){1&e&&n.NdJ("mouseenter",function(){return r.mouseenter()})("mouseleave",function(){return r.mouseleave()})},inputs:{data:"data",iconId:"iconId",scale:"scale",text:"text",scrollTop:"scrollTop",scrollLeft:"scrollLeft",tooltip:"tooltip",recipe:"recipe",item:"item",displayRate:"displayRate",hoverIcon:"hoverIcon"},features:[n.TTD],decls:5,vars:4,consts:[[1,"image"],["src","assets/transparent.gif","class","icon",3,"shadow","background-position","background-image","ngClass","scale",4,"ngIf"],["class","icon-text",4,"ngIf"],["class","overlay",4,"ngIf"],["class","tooltip panel dark",3,"marginTop","marginLeft","mouseenter",4,"ngIf"],["src","assets/transparent.gif",1,"icon",3,"ngClass"],[1,"icon-text"],[1,"overlay"],[1,"material-icons"],[1,"tooltip","panel","dark",3,"mouseenter"],["class","header nowrap",4,"ngIf"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","nowrap",4,"ngIf"],[1,"header","nowrap"],[1,"flex"],["iconId","time",3,"text","data"],[4,"ngFor","ngForOf"],["text","1",3,"iconId","data",4,"ngIf"],[3,"iconId","text","data"],["class","flex",4,"ngFor","ngForOf"],["text","1",3,"iconId","data"],[1,"nowrap"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.YNc(1,dN,1,9,"img",1),n.YNc(2,fN,2,1,"div",2),n.qZA(),n.YNc(3,pN,3,1,"div",3),n.YNc(4,qN,12,15,"div",4)),2&e&&(n.xp6(1),n.Q6J("ngIf",r.icon),n.xp6(1),n.Q6J("ngIf",r.text),n.xp6(1),n.Q6J("ngIf",r.hover&&r.hoverIcon),n.xp6(1),n.Q6J("ngIf",r.hover&&(r.recipe||r.item||r.tooltip)))},directives:[ae,Gn,t,Ci],pipes:[kc],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-weight:normal;position:relative;color:var(--color-white)}[_nghost-%COMP%]:not(.module):not(.grid)   .module[_ngcontent-%COMP%]{filter:invert(100%)}.pad[_nghost-%COMP%]{padding:.125rem}.ignored[_nghost-%COMP%] > .image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{opacity:.25}.button[_nghost-%COMP%]:hover{padding:0;filter:none}.button[_nghost-%COMP%]:hover > .image[_ngcontent-%COMP%]{padding:.125rem;box-shadow:var(--shadow-hover);filter:drop-shadow(0 0 2px var(--color-brand-sha))}.button[_nghost-%COMP%]:hover > .image[_ngcontent-%COMP%] > .icon-text[_ngcontent-%COMP%]{bottom:.25rem;right:.25rem}.grid[_nghost-%COMP%]{padding:.125rem;border-radius:.25rem;background-color:var(--color-back);margin:1px;cursor:pointer;box-shadow:var(--shadow-item)}.grid.selected[_nghost-%COMP%]{background-color:var(--color-brand);box-shadow:var(--shadow-hover)}.grid[_nghost-%COMP%]:hover{background-color:var(--color-brand-drk);box-shadow:var(--shadow-hover)}img.shadow[_ngcontent-%COMP%]{opacity:.25}.image[_ngcontent-%COMP%]{display:flex;position:relative}.overlay[_ngcontent-%COMP%]{position:absolute;color:var(--color-black);top:.375rem;left:.375rem}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:var(--color-dark);opacity:.95;padding:.5rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default;box-shadow:var(--shadow-tip)}.tooltip[_ngcontent-%COMP%]   .nowrap[_ngcontent-%COMP%]{white-space:nowrap}.tooltip[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.tooltip[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.25rem}.icon-text[_ngcontent-%COMP%]{position:absolute;bottom:.125rem;right:.125rem;color:var(--color-white);font-weight:bold;text-shadow:0px 1px 1px var(--color-black),0px -1px 1px var(--color-black),1px 0px 1px var(--color-black),-1px 0px 1px var(--color-black);pointer-events:none}td[_ngcontent-%COMP%]{white-space:nowrap}td[_ngcontent-%COMP%] + td[_ngcontent-%COMP%]{padding-left:.5rem;text-align:right}"],changeDetection:0}),t})();function $N(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",11),n.TgZ(1,"lab-icon",12),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2);return a.clickId(a.ItemId.Module)}),n.qZA(),n.qZA()}if(2&t){n.oxw();const e=n.MAs(8),r=n.oxw();n.xp6(1),n.ekj("selected",r.selected===r.ItemId.Module),n.Q6J("data",r.data)("iconId",r.ItemId.Module)("scrollTop",e.scrollTop)}}function HN(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-icon",14),n.NdJ("click",function(){const l=n.CHM(e).$implicit;return n.oxw(3).clickId(l)}),n.qZA(),n.BQk()}if(2&t){const e=i.$implicit;n.oxw(2);const r=n.MAs(8),a=n.oxw();n.xp6(1),n.ekj("selected",e===a.selected),n.Q6J("data",a.data)("iconId",e)("tooltip",(null==a.data.itemEntities[e]?null:a.data.itemEntities[e].name)||(null==a.data.recipeEntities[e]?null:a.data.recipeEntities[e].name)||null)("item",a.selectType===a.IdType.Item?a.data.itemEntities[e]:null)("recipe",a.selectType===a.IdType.Recipe?a.data.recipeEntities[e]:null)("displayRate",a.displayRate)("scrollTop",r.scrollTop)}}function zN(t,i){if(1&t&&(n.TgZ(0,"div",11),n.YNc(1,HN,2,9,"ng-container",13),n.qZA()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("ngForOf",e)}}function QN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-dialog",2),n.NdJ("closeDialog",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(1,"div",3),n.TgZ(2,"div",4),n._uU(3),n.qZA(),n.TgZ(4,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(5,"i",6),n._uU(6,"close"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",7,8),n.YNc(9,$N,2,5,"div",9),n.YNc(10,zN,2,1,"div",10),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(3),n.Oqu(e.header),n.xp6(4),n.Udp("width",e.width,"rem"),n.xp6(2),n.Q6J("ngIf",e.includeEmptyModule),n.xp6(1),n.Q6J("ngForOf",e.rows)}}const JN=["*"];let VD=(()=>{class t extends gc{constructor(){super(),this.selectType=Gc.Item,this.selectId=new n.vpe,this.IdType=Gc,this.ItemId=$e}get options(){return this._options}set options(e){this._options=e,this.updateRows()}get includeEmptyModule(){return this._includeEmptyModule}set includeEmptyModule(e){this._includeEmptyModule=e,this.updateRows()}get width(){if(this.rows.length>1)return 2.375*Math.max(...this.rows.map(e=>e.length));{const e=this.rows[0].length;return 2.375*(e<=4?e:Math.ceil(Math.sqrt(e)))}}updateRows(){this.rows=this.includeEmptyModule?this.moduleRows(this.options):[this.options]}clickId(e){this.selectId.emit(e),this.open=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-select"]],inputs:{data:"data",selected:"selected",options:"options",selectType:"selectType",displayRate:"displayRate",includeEmptyModule:"includeEmptyModule"},outputs:{selectId:"selectId"},features:[n.qOj],ngContentSelectors:JN,decls:3,vars:1,consts:[["data-test","lab-select-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[3,"click"],[1,"material-icons"],[1,"panel","scroll"],["scroll",""],["class","tile",4,"ngIf"],["class","tile",4,"ngFor","ngForOf"],[1,"tile"],["tooltip","No Module","data-test","lab-select-none",1,"grid",3,"data","iconId","scrollTop","click"],[4,"ngFor","ngForOf"],["data-test","lab-select-option",1,"grid",3,"data","iconId","tooltip","item","recipe","displayRate","scrollTop","click"]],template:function(e,r){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.NdJ("click",function(){return r.open=!0}),n.Hsn(1),n.qZA(),n.YNc(2,QN,11,5,"lab-dialog",1)),2&e&&(n.xp6(2),n.Q6J("ngIf",r.open))},directives:[ae,mc,Ci,Mc],styles:["[_nghost-%COMP%]{display:flex}.scroll[_ngcontent-%COMP%]{overflow-y:auto;max-height:16rem;max-width:21.75rem;padding:0}.scroll[_ngcontent-%COMP%] > .tile[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),t})(),UD=(()=>{class t{validate(e){if(null==e.value)return null;try{const r=Number(e.value);if(r>=1&&r<=250)return null}catch(r){}return{validateOverclock:{valid:!1}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","labValidateOverclock","","ngModel",""]],features:[n._Bn([{provide:Cn,useExisting:t,multi:!0}])]}),t})(),WN=(()=>{class t{constructor(){this.minimum=M.zero}set labValidateMinimum(e){this.minimum=M.fromString(e)}validate(e){if(null==e.value)return null;try{if(M.fromString(e.value).gte(this.minimum))return null}catch(r){}return{validateNumber:{valid:!1}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","labValidateNumber","","ngModel",""]],inputs:{labValidateMinimum:"labValidateMinimum"},features:[n._Bn([{provide:Cn,useExisting:t,multi:!0}])]}),t})(),XC=(()=>{class t{constructor(){this._minimum="0",this.setValue=new n.vpe,this.min=M.zero,this.isMinimum=!1}set minimum(e){this._minimum=e,this.min=M.fromString(e)}get minimum(){return this._minimum}set digits(e){t.widthCache[e]?this.width=t.widthCache[e]:(this.width=.75+.625*e,t.widthCache[e]=this.width)}ngOnChanges(){try{this.isMinimum=M.fromString(this.value).eq(this.min)}catch(e){this.isMinimum=!1}}changeValue(e){try{const a=e.target.value;M.fromString(a).gte(this.min)&&this.setValue.emit(a)}catch(r){}}increase(){try{const e=M.fromString(this.value),r=e.isInteger()?e.add(M.one):e.ceil();this.setValue.emit(r.toString())}catch(e){}}decrease(){try{const e=M.fromString(this.value),r=e.isInteger()?e.sub(M.one):e.floor();r.gte(this.min)&&this.setValue.emit(r.toString())}catch(e){}}}return t.widthCache={},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-input"]],inputs:{title:"title",placeholder:"placeholder",value:"value",minimum:"minimum",digits:"digits"},outputs:{setValue:"setValue"},features:[n.TTD],decls:8,vars:7,consts:[["type","text","labValidateNumber","","data-test","lab-input-input",3,"title","placeholder","ngModel","labValidateMinimum","input"],["title","Increase 1","data-test","lab-input-increase",3,"click"],[1,"material-icons"],["title","Decrease 1","data-test","lab-input-decrease",3,"disabled","click"]],template:function(e,r){1&e&&(n.TgZ(0,"input",0),n.NdJ("input",function(l){return r.changeValue(l)}),n.qZA(),n.TgZ(1,"div"),n.TgZ(2,"button",1),n.NdJ("click",function(){return r.increase()}),n.TgZ(3,"i",2),n._uU(4,"arrow_drop_up"),n.qZA(),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return r.decrease()}),n.TgZ(6,"i",2),n._uU(7,"arrow_drop_down"),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.Udp("width",r.width,"rem"),n.Q6J("title",r.title)("placeholder",r.placeholder)("ngModel",r.value)("labValidateMinimum",r.minimum),n.xp6(5),n.Q6J("disabled",r.isMinimum))},directives:[Ti,WN,an,No],styles:["[_nghost-%COMP%]{display:flex}button[_ngcontent-%COMP%]{height:1.125rem;width:1.75rem}button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),t})();function YN(t,i){1&t&&(n.TgZ(0,"th"),n.TgZ(1,"div",7),n._uU(2,"Tree"),n.qZA(),n.qZA())}function GN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).resetIgnore.emit()}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function KN(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).resetBelt.emit()}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function XN(t,i){if(1&t&&(n.TgZ(0,"th",6),n.TgZ(1,"div",7),n._uU(2," Belts "),n.YNc(3,KN,3,0,"button",17),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(3),n.Q6J("ngIf",e.modifiedBelt)}}function eF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).resetWagon.emit()}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function tF(t,i){if(1&t&&(n.TgZ(0,"th",6),n.TgZ(1,"div",7),n._uU(2),n.YNc(3,eF,3,0,"button",19),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.hij(" Wagons",e.rateLabel," "),n.xp6(1),n.Q6J("ngIf",e.modifiedWagon)}}function nF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).resetFactory.emit()}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function iF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).resetOverclock.emit()}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function rF(t,i){if(1&t&&(n.TgZ(0,"th"),n.TgZ(1,"div",7),n._uU(2," Overclock "),n.YNc(3,iF,3,0,"button",22),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(3),n.Q6J("ngIf",e.modifiedOverclock)}}function oF(t,i){1&t&&(n.TgZ(0,"span",27),n._uU(1,"Each"),n.qZA())}function sF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).resetBeacons.emit()}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function aF(t,i){1&t&&(n.TgZ(0,"span",29),n._uU(1,"Total"),n.qZA())}function cF(t,i){if(1&t&&(n.TgZ(0,"th",10),n.TgZ(1,"div",7),n.YNc(2,oF,2,0,"span",24),n.TgZ(3,"span"),n._uU(4,"Beacons"),n.qZA(),n.YNc(5,sF,3,0,"button",25),n.YNc(6,aF,2,0,"span",26),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",e.settings.beaconReceivers),n.xp6(3),n.Q6J("ngIf",e.modifiedBeacons),n.xp6(1),n.Q6J("ngIf",e.settings.beaconReceivers)}}function lF(t,i){1&t&&(n.TgZ(0,"th",30),n.TgZ(1,"div",7),n._uU(2,"Power"),n.qZA(),n.qZA())}function uF(t,i){if(1&t&&(n.TgZ(0,"th"),n.TgZ(1,"div",7),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.hij("Pollution",e.rateLabel,"")}}function dF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"th"),n.TgZ(1,"button",31),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).export()}),n.TgZ(2,"i",5),n._uU(3,"file_download"),n.qZA(),n.qZA(),n.qZA()}}function fF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",39),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().$implicit,l=n.oxw(2);return l.expanded[a.id]=l.details[a.id][0]}),n.TgZ(1,"i",5),n._uU(2,"expand_more"),n.qZA(),n.qZA()}}function pF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",40),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().$implicit;return n.oxw(2).expanded[a.id]=null}),n.TgZ(1,"i",5),n._uU(2,"expand_less"),n.qZA(),n.qZA()}}function hF(t,i){if(1&t&&n._UZ(0,"div",47),2&t){const r=i.last;n.ekj("trail",i.$implicit)("last",r)}}function _F(t,i){if(1&t&&(n.ynx(0),n.YNc(1,hF,1,4,"div",45),n._UZ(2,"div",46),n.BQk()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngForOf",e.indent)}}function gF(t,i){if(1&t&&n._UZ(0,"lab-icon",48),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.Q6J("data",r.data)("iconId",e.itemId)("tooltip",r.data.itemEntities[e.itemId].name)("recipe",r.data.recipeEntities[r.data.itemRecipeIds[e.itemId]])}}function mF(t,i){if(1&t&&n._UZ(0,"lab-icon",48),2&t){const e=n.oxw(3).$implicit,r=n.oxw(2);n.Q6J("data",r.data)("iconId",e.recipeId)("tooltip",r.data.recipeEntities[e.recipeId].name)("recipe",r.data.recipeEntities[e.recipeId])}}function yF(t,i){if(1&t&&n.YNc(0,mF,1,4,"lab-icon",49),2&t){const e=n.oxw(2).$implicit;n.Q6J("ngIf",e.recipeId)}}function vF(t,i){if(1&t&&(n.TgZ(0,"td",41),n.TgZ(1,"div",42),n.YNc(2,_F,3,1,"ng-container",0),n.YNc(3,gF,1,4,"lab-icon",43),n.YNc(4,yF,1,1,"ng-template",null,44,n.W1O),n.qZA(),n.qZA()),2&t){const e=n.MAs(5),r=n.oxw().$implicit;n.xp6(2),n.Q6J("ngIf",null==r.indent?null:r.indent.length),n.xp6(1),n.Q6J("ngIf",r.itemId)("ngIfElse",e)}}function bF(t,i){if(1&t&&(n.TgZ(0,"span",53),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(1),n.hij("(+",r.rate(e.surplus,r.effPrecision[r.Column.Surplus]),")")}}function CF(t,i){if(1&t&&(n.TgZ(0,"span",53),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(1),n.Oqu(r.rate(e.items.sub(e.surplus||r.Rational.zero),r.effPrecision[r.Column.Items]))}}function xF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",50),n.YNc(1,bF,2,1,"span",51),n.YNc(2,CF,2,1,"span",51),n.TgZ(3,"lab-icon",52),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().$implicit;return n.oxw(2).ignoreItem.emit(a.itemId)}),n.qZA(),n.qZA()}if(2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==e.surplus?null:e.surplus.nonzero()),n.xp6(1),n.Q6J("ngIf",e.items),n.xp6(1),n.ekj("ignored",r.itemSettings[e.itemId].ignore),n.Q6J("title",r.itemSettings[e.itemId].ignore?"Click to include":"Click to ignore")("data",r.data)("iconId",e.itemId)("tooltip",null==r.data.itemEntities[e.itemId]?null:r.data.itemEntities[e.itemId].name)("recipe",r.data.recipeEntities[r.data.itemRecipeIds[e.itemId]])("hoverIcon",r.itemSettings[e.itemId].ignore?"visibility":"visibility_off")}}function wF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",57),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).$implicit,f=n.oxw(2);return f.setBelt.emit({id:l.itemId,value:a,def:f.settings.belt})}),n._UZ(1,"lab-icon",58),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.Q6J("data",r.data)("selected",e)("options",r.data.beltIds)("displayRate",r.displayRate),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("displayRate",r.displayRate)}}function EF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",60),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(5).$implicit,f=n.oxw(2);return f.setBelt.emit({id:l.itemId,value:a,def:f.settings.pipe})}),n._UZ(1,"lab-icon",61),n.qZA()}if(2&t){const e=n.oxw(3).ngIf,r=n.oxw(4);n.Q6J("data",r.data)("selected",e)("options",r.data.pipeIds)("displayRate",r.displayRate),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("displayRate",r.displayRate)}}function TF(t,i){if(1&t&&n.YNc(0,EF,2,9,"lab-select",59),2&t){n.oxw();const e=n.MAs(7),r=n.oxw().ngIf,a=n.oxw(4);n.Q6J("ngIf",-1!==a.data.pipeIds.indexOf(r))("ngIfElse",e)}}function IF(t,i){if(1&t&&n._UZ(0,"lab-icon",62),2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.Q6J("iconId",e)("tooltip",(null==r.data.itemEntities[e]?null:r.data.itemEntities[e].name)||r.PIPE)("data",r.data)}}function SF(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.YNc(3,wF,2,9,"lab-select",54),n.YNc(4,TF,1,2,"ng-template",null,55,n.W1O),n.YNc(6,IF,1,3,"ng-template",null,56,n.W1O),n.qZA()),2&t){const e=n.MAs(5),r=n.oxw().ngIf,a=n.oxw(2).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.rate(a.belts,l.effPrecision[l.Column.Belts])),n.xp6(1),n.Q6J("ngIf",-1!==l.data.beltIds.indexOf(r))("ngIfElse",e)}}function DF(t,i){if(1&t&&(n.ynx(0),n.YNc(1,SF,8,3,"div",37),n.BQk()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",e.belts)}}function AF(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,DF,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==r.itemSettings[e.itemId]?null:r.itemSettings[e.itemId].belt)}}function MF(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-select",66),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(5).$implicit,f=n.oxw(2);return f.setWagon.emit({id:l.itemId,value:a,def:f.settings.cargoWagon})}),n._UZ(2,"lab-icon",67),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(3).ngIf,r=n.oxw(4);n.xp6(1),n.Q6J("data",r.data)("selected",e)("options",r.data.cargoWagonIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function OF(t,i){if(1&t&&(n.ynx(0),n.YNc(1,MF,3,7,"ng-container",63),n.BQk()),2&t){n.oxw();const e=n.MAs(7),r=n.oxw(5);n.xp6(1),n.Q6J("ngIf",r.data.cargoWagonIds.length>1)("ngIfElse",e)}}function PF(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-select",68),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(5).$implicit,f=n.oxw(2);return f.setWagon.emit({id:l.itemId,value:a,def:f.settings.fluidWagon})}),n._UZ(2,"lab-icon",69),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(3).ngIf,r=n.oxw(4);n.xp6(1),n.Q6J("data",r.data)("selected",e)("options",r.data.fluidWagonIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function RF(t,i){if(1&t&&n.YNc(0,PF,3,7,"ng-container",63),2&t){n.oxw();const e=n.MAs(7),r=n.oxw(5);n.Q6J("ngIf",r.data.fluidWagonIds.length>1)("ngIfElse",e)}}function NF(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function FF(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.YNc(3,OF,2,2,"ng-container",63),n.YNc(4,RF,1,2,"ng-template",null,64,n.W1O),n.YNc(6,NF,1,4,"ng-template",null,65,n.W1O),n.qZA()),2&t){const e=n.MAs(5),r=n.oxw().ngIf,a=n.oxw(2).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.rate(a.wagons,l.effPrecision[l.Column.Wagons])),n.xp6(1),n.Q6J("ngIf",-1===l.data.fluidWagonIds.indexOf(r))("ngIfElse",e)}}function kF(t,i){if(1&t&&(n.ynx(0),n.YNc(1,FF,8,3,"div",37),n.BQk()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",e.wagons)}}function LF(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,kF,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==r.itemSettings[e.itemId]?null:r.itemSettings[e.itemId].wagon)}}function ZF(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw().$implicit,a=n.oxw(2);n.xp6(2),n.Oqu(a.factoryRate(r.factories,a.effPrecision[a.Column.Factories],e))}}function BF(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-select",76),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).$implicit,f=n.oxw(2);return f.changeFactory(l.recipeId,a,f.setFactory)}),n._UZ(2,"lab-icon",77),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw().ngIf,a=n.oxw(3);n.xp6(1),n.Q6J("data",a.data)("selected",r)("options",e.producers),n.xp6(1),n.Q6J("data",a.data)("iconId",r)("tooltip",a.data.itemEntities[r].name)("item",a.data.itemEntities[r])}}function VF(t,i){if(1&t&&n._UZ(0,"lab-icon",78),2&t){const e=n.oxw(3).ngIf,r=n.oxw(3);n.Q6J("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("data",r.data)}}function UF(t,i){if(1&t&&(n.ynx(0),n.YNc(1,BF,3,7,"ng-container",63),n.YNc(2,VF,1,4,"ng-template",null,75,n.W1O),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw().ngIf;n.xp6(1),n.Q6J("ngIf",r.producers&&r.producers.length>1)("ngIfElse",e)}}function jF(t,i){if(1&t&&(n.ynx(0),n.YNc(1,UF,4,2,"ng-container",0),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw(3);n.xp6(1),n.Q6J("ngIf",r.data.game!==r.Game.DysonSphereProgram||e!==r.ItemId.MiningDrill)}}function qF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",81),n.NdJ("selectId",function(a){const f=n.CHM(e).index,h=n.oxw(3).$implicit,g=n.oxw(2);return g.changeFactoryModules(h.recipeId,a,f,g.recipeSettings[h.recipeId].factoryModules,g.setFactoryModules)}),n._UZ(1,"lab-icon",82),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(3).$implicit,a=n.oxw(2);n.Q6J("data",a.data)("selected",e)("options",a.data.recipeModuleIds[r.recipeId])("includeEmptyModule",a.data.game===a.Game.Factorio)("displayRate",a.displayRate),n.xp6(1),n.Q6J("data",a.data)("iconId",e)("tooltip",null==a.data.itemEntities[e]?null:a.data.itemEntities[e].name)("item",a.data.itemEntities[e])("displayRate",a.displayRate)}}function $F(t,i){if(1&t&&(n.TgZ(0,"div",79),n.YNc(1,qF,2,10,"lab-select",80),n.qZA()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("ngForOf",e)}}function HF(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"td",71),n.YNc(2,ZF,3,1,"div",37),n.qZA(),n.TgZ(3,"td",72),n.TgZ(4,"div"),n.TgZ(5,"div",50),n._UZ(6,"lab-icon",48),n.YNc(7,jF,2,1,"ng-container",0),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"td",73),n.TgZ(9,"div",50),n.YNc(10,$F,2,1,"div",74),n.qZA(),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("id",e.recipeId),n.xp6(1),n.Q6J("ngIf",null==e.factories?null:e.factories.nonzero()),n.xp6(4),n.Q6J("data",r.data)("iconId",e.recipeId)("tooltip",r.data.recipeEntities[e.recipeId].name)("recipe",r.data.recipeEntities[e.recipeId]),n.xp6(1),n.Q6J("ngIf",r.data.recipeEntities[e.recipeId]),n.xp6(3),n.Q6J("ngIf",null==r.recipeSettings[e.recipeId]?null:r.recipeSettings[e.recipeId].factoryModules)}}function zF(t,i){1&t&&n._UZ(0,"td",10)}function QF(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"input",83),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw(2).$implicit,f=n.oxw(2);return f.changeOverclock(l.recipeId,a,f.setOverclock)}),n.qZA(),n._uU(2," % "),n.BQk()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngModel",r.recipeSettings[e.recipeId].overclock)}}function JF(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,QF,3,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.recipeSettings[e.recipeId])}}function WF(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"lab-icon",78),n.BQk()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.xp6(1),n.Q6J("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("data",r.data)}}function YF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",86),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).$implicit,f=n.oxw(2);return f.changeBeacon(l.recipeId,a,f.setBeacon)}),n._UZ(1,"lab-icon",87),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.Q6J("data",r.data)("selected",e)("options",r.data.beaconIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function GF(t,i){if(1&t&&(n.ynx(0),n.YNc(1,WF,2,4,"ng-container",63),n.YNc(2,YF,2,7,"ng-template",null,85,n.W1O),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw(5);n.xp6(1),n.Q6J("ngIf",1===r.data.beaconIds.length)("ngIfElse",e)}}function KF(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",89),n.NdJ("selectId",function(a){const f=n.CHM(e).index,h=n.oxw().ngIf,g=n.oxw(4).$implicit,y=n.oxw(2);return y.changeBeaconModules(g.recipeId,a,f,h,y.setBeaconModules)}),n._UZ(1,"lab-icon",90),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(7);n.Q6J("data",r.data)("selected",e)("options",r.data.beaconModuleIds)("includeEmptyModule",!0),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",null==r.data.itemEntities[e]?null:r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function XF(t,i){if(1&t&&(n.TgZ(0,"div",79),n.YNc(1,KF,2,8,"lab-select",88),n.qZA()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("ngForOf",e)}}function ek(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"lab-input",91),n.NdJ("setValue",function(a){n.CHM(e);const l=n.oxw(4).$implicit;return n.oxw(2).setBeaconTotal.emit({id:l.recipeId,value:a})}),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(4).$implicit;n.xp6(1),n.Q6J("digits",4)("value",e.beacons.toString())}}function tk(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"div",50),n.YNc(2,XF,2,1,"div",74),n.YNc(3,ek,2,2,"div",0),n.qZA(),n.BQk()),2&t){const e=n.oxw(3).$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("ngIf",null==r.recipeSettings[e.recipeId]?null:r.recipeSettings[e.recipeId].beaconModules),n.xp6(1),n.Q6J("ngIf",e.beacons)}}function nk(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"td"),n.TgZ(2,"div",50),n.TgZ(3,"lab-input",84),n.NdJ("setValue",function(a){n.CHM(e);const l=n.oxw(2).$implicit,f=n.oxw(2);return f.changeBeaconCount(l.recipeId,a,f.setBeaconCount)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(4,"td",73),n.TgZ(5,"div",50),n.YNc(6,GF,4,2,"ng-container",0),n.qZA(),n.qZA(),n.TgZ(7,"td",73),n.YNc(8,tk,4,2,"ng-container",0),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(3),n.Q6J("digits",2)("value",r.recipeSettings[e.recipeId].beaconCount),n.xp6(3),n.Q6J("ngIf",r.gtZero(r.recipeSettings[e.recipeId].beaconCount)),n.xp6(2),n.Q6J("ngIf",r.gtZero(r.recipeSettings[e.recipeId].beaconCount))}}function ik(t,i){1&t&&n._UZ(0,"td",10)}function rk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,nk,9,4,"ng-container",0),n.YNc(2,ik,1,0,"td",12),n.BQk()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==r.recipeSettings[e.recipeId]?null:r.recipeSettings[e.recipeId].beacon),n.xp6(1),n.Q6J("ngIf",!(null!=r.recipeSettings[e.recipeId]&&r.recipeSettings[e.recipeId].beacon))}}function ok(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(2),n.Oqu(r.power(e.power))}}function sk(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,ok,3,1,"div",37),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",null==e.power?null:e.power.nonzero())}}function ak(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(2),n.Oqu(r.rate(e.pollution,r.effPrecision[r.Column.Pollution]))}}function ck(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,ak,3,1,"div",37),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",null==e.pollution?null:e.pollution.nonzero())}}function lk(t,i){if(1&t&&(n.TgZ(0,"a",95),n.TgZ(1,"i",96),n._uU(2,"open_in_new"),n.qZA(),n.qZA()),2&t){const e=n.oxw(2).$implicit;n.Q6J("href",e.href,n.LSH)}}function uk(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",97),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit;return n.oxw(2).resetStep(a)}),n.TgZ(1,"i",5),n._uU(2,"undo"),n.qZA(),n.qZA()}}function dk(t,i){if(1&t&&(n.TgZ(0,"td",92),n.TgZ(1,"div",42),n.YNc(2,lk,3,1,"a",93),n.YNc(3,uk,3,0,"button",94),n.qZA(),n.qZA()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("ngIf",e.items),n.xp6(1),n.Q6J("ngIf",r.recipeRaw[e.recipeId]||r.itemRaw[e.itemId])}}function fk(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"li",106),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw(2);return l.expanded[a.id]=l.StepDetailTab.Item}),n.TgZ(1,"span"),n._uU(2,"Item"),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.ekj("active",r.expanded[e.id]===r.StepDetailTab.Item)}}function pk(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"li",106),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw(2);return l.expanded[a.id]=l.StepDetailTab.Recipe}),n.TgZ(1,"span"),n._uU(2,"Recipe"),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.ekj("active",r.expanded[e.id]===r.StepDetailTab.Recipe)}}function hk(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"li",106),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw(2);return l.expanded[a.id]=l.StepDetailTab.Factory}),n.TgZ(1,"span"),n._uU(2,"Factory"),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.ekj("active",r.expanded[e.id]===r.StepDetailTab.Factory)}}function _k(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"li",106),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw(2);return l.expanded[a.id]=l.StepDetailTab.Recipes}),n.TgZ(1,"span"),n._uU(2,"Recipes"),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.ekj("active",r.expanded[e.id]===r.StepDetailTab.Recipes)}}function gk(t,i){if(1&t&&(n.TgZ(0,"tr",110),n._UZ(1,"td",99),n.TgZ(2,"td",111),n.TgZ(3,"span",7),n._uU(4,"Sources"),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw(5);n.xp6(1),n.Q6J("colSpan",e.leftSpan)}}function mk(t,i){if(1&t&&(n.TgZ(0,"span",53),n._uU(1),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(4).$implicit,a=n.oxw(2);n.xp6(1),n.Oqu(a.rate(r.items.mul(e),a.effPrecision[a.Column.Items]))}}function yk(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",116),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw(4).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.rate(a.belts.mul(r),l.effPrecision[l.Column.Belts])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||l.PIPE)("item",l.data.itemEntities[e])("displayRate",l.displayRate)}}function vk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,yk,4,6,"div",37),n.BQk()),2&t){const e=n.oxw(6).$implicit;n.xp6(1),n.Q6J("ngIf",e.belts)}}function bk(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,vk,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(5).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.itemSettings[e.itemId].belt)}}function Ck(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",70),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw(4).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.rate(a.wagons.mul(r),l.effPrecision[l.Column.Wagons])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function xk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Ck,4,5,"div",37),n.BQk()),2&t){const e=n.oxw(6).$implicit;n.xp6(1),n.Q6J("ngIf",e.wagons)}}function wk(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,xk,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(5).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==r.itemSettings[e.itemId]?null:r.itemSettings[e.itemId].wagon)}}function Ek(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).$implicit,a=n.oxw(5);n.xp6(2),n.Oqu(a.factoryRate(r.factories,a.effPrecision[a.Column.Factories],e))}}function Tk(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=n.oxw().ngIf,r=n.oxw(7);n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function Ik(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"td"),n.YNc(2,Ek,3,1,"div",37),n.qZA(),n.TgZ(3,"td",73),n.TgZ(4,"div"),n.TgZ(5,"div",50),n._UZ(6,"lab-icon",48),n.YNc(7,Tk,1,4,"lab-icon",117),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf,r=n.oxw(2).$implicit,a=n.oxw(5);n.xp6(2),n.Q6J("ngIf",null==r.factories?null:r.factories.nonzero()),n.xp6(4),n.Q6J("data",a.data)("iconId",r.recipeId)("tooltip",a.data.recipeEntities[r.recipeId].name)("recipe",a.data.recipeEntities[r.recipeId]),n.xp6(1),n.Q6J("ngIf",a.data.game!==a.Game.DysonSphereProgram||e!==a.ItemId.MiningDrill)}}function Sk(t,i){1&t&&n._UZ(0,"td",118)}function Dk(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"td",99),n.TgZ(2,"td"),n.TgZ(3,"div",50),n.YNc(4,mk,2,1,"span",51),n._UZ(5,"lab-icon",48),n.qZA(),n.qZA(),n.YNc(6,bk,2,1,"td",0),n.YNc(7,wk,2,1,"td",0),n.YNc(8,Ik,8,6,"ng-container",0),n.YNc(9,Sk,1,0,"td",113),n.TgZ(10,"td",114),n.TgZ(11,"div"),n.TgZ(12,"div",115),n.TgZ(13,"i",5),n._uU(14,"arrow_forward"),n.qZA(),n.TgZ(15,"span",53),n._uU(16),n.qZA(),n._UZ(17,"lab-icon",70),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(3).$implicit,l=n.oxw(2);n.xp6(1),n.Q6J("colSpan",l.leftSpan),n.xp6(3),n.Q6J("ngIf",a.items),n.xp6(1),n.Q6J("data",l.data)("iconId",a.itemId)("tooltip",null==l.data.itemEntities[a.itemId]?null:l.data.itemEntities[a.itemId].name)("recipe",l.data.recipeEntities[l.data.itemRecipeIds[a.itemId]]),n.xp6(1),n.Q6J("ngIf",l.columns[l.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",l.columns[l.Column.Wagons].show),n.xp6(1),n.Q6J("ngIf",null==l.recipeSettings[r.recipeId]?null:l.recipeSettings[r.recipeId].factory),n.xp6(1),n.Q6J("ngIf",!(null!=l.recipeSettings[r.recipeId]&&l.recipeSettings[r.recipeId].factory)),n.xp6(7),n.hij("",l.leftPad(l.rate(e,-2)),"%"),n.xp6(1),n.Q6J("data",l.data)("iconId",a.itemId)("tooltip",null==l.data.itemEntities[a.itemId]?null:l.data.itemEntities[a.itemId].name)("item",l.data.itemEntities[a.itemId])}}function Ak(t,i){if(1&t&&(n.TgZ(0,"tr",112),n.YNc(1,Dk,18,15,"ng-container",0),n.qZA()),2&t){const e=i.$implicit,r=i.last,a=n.oxw(3).$implicit;n.ekj("last",r&&!a.parents),n.xp6(1),n.Q6J("ngIf",e.outputs[a.itemId])}}function Mk(t,i){if(1&t&&(n.TgZ(0,"tr",112),n._UZ(1,"td",99),n.TgZ(2,"td",111),n.TgZ(3,"span",7),n._uU(4,"Destinations"),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw(5);n.xp6(1),n.Q6J("colSpan",e.leftSpan)}}function Ok(t,i){if(1&t&&(n.TgZ(0,"span",53),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit,r=n.oxw(3).$implicit,a=n.oxw(2);n.xp6(1),n.Oqu(a.rate(r.items.mul(e.value),a.effPrecision[a.Column.Items]))}}function Pk(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",116),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).$implicit,a=n.oxw(3).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.rate(a.belts.mul(r.value),l.effPrecision[l.Column.Belts])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||l.PIPE)("item",l.data.itemEntities[e])("displayRate",l.displayRate)}}function Rk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Pk,4,6,"div",37),n.BQk()),2&t){const e=n.oxw(5).$implicit;n.xp6(1),n.Q6J("ngIf",e.belts)}}function Nk(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,Rk,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(4).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.itemSettings[e.itemId].belt)}}function Fk(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",70),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).$implicit,a=n.oxw(3).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.rate(a.wagons.mul(r.value),l.effPrecision[l.Column.Wagons])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function kk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Fk,4,5,"div",37),n.BQk()),2&t){const e=n.oxw(5).$implicit;n.xp6(1),n.Q6J("ngIf",e.wagons)}}function Lk(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,kk,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(4).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==r.itemSettings[e.itemId]?null:r.itemSettings[e.itemId].wagon)}}function Zk(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw().$implicit,a=n.oxw(3).$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(l.factoryRate(a.factories.mul(r.value),l.effPrecision[l.Column.Factories],e))}}function Bk(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=n.oxw().ngIf,r=n.oxw(6);n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function Vk(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"td"),n.YNc(2,Zk,3,1,"div",37),n.qZA(),n.TgZ(3,"td",73),n.TgZ(4,"div"),n.TgZ(5,"div",50),n._UZ(6,"lab-icon",48),n.YNc(7,Bk,1,4,"lab-icon",117),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf,r=n.oxw(4).$implicit,a=n.oxw(2);n.xp6(2),n.Q6J("ngIf",null==r.factories?null:r.factories.nonzero()),n.xp6(4),n.Q6J("data",a.data)("iconId",r.recipeId)("tooltip",a.data.recipeEntities[r.recipeId].name)("recipe",a.data.recipeEntities[r.recipeId]),n.xp6(1),n.Q6J("ngIf",a.data.game!==a.Game.DysonSphereProgram||e!==a.ItemId.MiningDrill)}}function Uk(t,i){1&t&&n._UZ(0,"td",118)}function jk(t,i){if(1&t&&(n.TgZ(0,"tr",112),n._UZ(1,"td",99),n.TgZ(2,"td"),n.TgZ(3,"div",50),n.YNc(4,Ok,2,1,"span",51),n._UZ(5,"lab-icon",48),n.qZA(),n.qZA(),n.YNc(6,Nk,2,1,"td",0),n.YNc(7,Lk,2,1,"td",0),n.YNc(8,Vk,8,6,"ng-container",0),n.YNc(9,Uk,1,0,"td",113),n.TgZ(10,"td",114),n.TgZ(11,"div"),n.TgZ(12,"div",115),n.TgZ(13,"span",53),n._uU(14),n.qZA(),n.TgZ(15,"i",5),n._uU(16,"arrow_forward"),n.qZA(),n._UZ(17,"lab-icon",48),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const e=i.$implicit,r=i.last,a=n.oxw(3).$implicit,l=n.oxw(2);n.ekj("last",r),n.xp6(1),n.Q6J("colSpan",l.leftSpan),n.xp6(3),n.Q6J("ngIf",a.items),n.xp6(1),n.Q6J("data",l.data)("iconId",a.itemId)("tooltip",null==l.data.itemEntities[a.itemId]?null:l.data.itemEntities[a.itemId].name)("recipe",l.data.recipeEntities[l.data.itemRecipeIds[a.itemId]]),n.xp6(1),n.Q6J("ngIf",l.columns[l.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",l.columns[l.Column.Wagons].show),n.xp6(1),n.Q6J("ngIf",null==l.recipeSettings[a.recipeId]?null:l.recipeSettings[a.recipeId].factory),n.xp6(1),n.Q6J("ngIf",!(null!=l.recipeSettings[a.recipeId]&&l.recipeSettings[a.recipeId].factory)),n.xp6(5),n.hij("",l.leftPad(l.rate(e.value,-2)),"%"),n.xp6(3),n.Q6J("data",l.data)("iconId",e.key)("tooltip",l.data.recipeEntities[e.key].name)("recipe",l.data.recipeEntities[e.key])}}function qk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,gk,5,1,"tr",107),n.YNc(2,Ak,2,3,"tr",108),n.YNc(3,Mk,5,1,"tr",109),n.YNc(4,jk,18,17,"tr",108),n.ALo(5,"keyvalue"),n.BQk()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.outputs[e.id].length),n.xp6(1),n.Q6J("ngForOf",r.outputs[e.id]),n.xp6(1),n.Q6J("ngIf",e.parents),n.xp6(1),n.Q6J("ngForOf",n.xi3(5,4,e.parents,r.sortKeyValue))}}function $k(t,i){if(1&t&&(n.TgZ(0,"tr",112),n._UZ(1,"td",99),n.TgZ(2,"td"),n.TgZ(3,"div",50),n.TgZ(4,"span",53),n._uU(5),n.qZA(),n._UZ(6,"lab-icon",48),n.qZA(),n.qZA(),n._UZ(7,"td",111),n.qZA()),2&t){const e=i.ngIf,r=n.oxw().ngIf,a=n.oxw().$implicit,l=n.oxw(4).$implicit,f=n.oxw(2);n.xp6(1),n.Q6J("colSpan",f.leftSpan),n.xp6(4),n.Oqu(f.rate(r.items.mul(e).div(f.data.recipeR[l.recipeId].productivity),f.effPrecision[f.Column.Items])),n.xp6(1),n.Q6J("data",f.data)("iconId",a.key)("tooltip",null==f.data.itemEntities[a.key]?null:f.data.itemEntities[a.key].name)("recipe",f.data.recipeEntities[f.data.itemRecipeIds[a.key]])}}function Hk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,$k,8,6,"tr",109),n.BQk()),2&t){const e=n.oxw().$implicit,r=n.oxw(4).$implicit;n.xp6(1),n.Q6J("ngIf",r.outputs[e.key])}}function zk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Hk,2,1,"ng-container",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(6);n.xp6(1),n.Q6J("ngIf",r.findStep(e.key))}}function Qk(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"tr",110),n._UZ(2,"td",99),n.TgZ(3,"td",111),n.TgZ(4,"span",7),n._uU(5,"Depletion"),n.qZA(),n.qZA(),n.qZA(),n.YNc(6,zk,2,1,"ng-container",120),n.ALo(7,"keyvalue"),n.BQk()),2&t){const e=n.oxw(3).$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("colSpan",r.leftSpan),n.xp6(4),n.Q6J("ngForOf",n.xi3(7,2,e.outputs,r.sortKeyValue))}}function Jk(t,i){if(1&t&&(n.TgZ(0,"tr",112),n._UZ(1,"td",99),n.TgZ(2,"td",111),n.TgZ(3,"span",7),n._uU(4,"Inputs"),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw(3).$implicit,r=n.oxw(2);n.ekj("first",r.data.game!==r.Game.Factorio||!r.data.itemEntities[r.recipeSettings[e.recipeId].factory].factory.mining),n.xp6(1),n.Q6J("colSpan",r.leftSpan)}}function Wk(t,i){if(1&t&&(n.TgZ(0,"span",53),n._uU(1),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw().ngIf,a=n.oxw(6);n.xp6(1),n.Oqu(a.rate(r.items.mul(e),a.effPrecision[a.Column.Items]))}}function Yk(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",116),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw().ngIf,l=n.oxw(6);n.xp6(2),n.Oqu(l.rate(a.belts.mul(r),l.effPrecision[l.Column.Belts])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||l.PIPE)("item",l.data.itemEntities[e])("displayRate",l.displayRate)}}function Gk(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Yk,4,6,"div",37),n.BQk()),2&t){const e=n.oxw(3).ngIf;n.xp6(1),n.Q6J("ngIf",e.belts)}}function Kk(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,Gk,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.xp6(1),n.Q6J("ngIf",r.itemSettings[e.itemId].belt)}}function Xk(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",70),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw().ngIf,l=n.oxw(6);n.xp6(2),n.Oqu(l.rate(a.wagons.mul(r),l.effPrecision[l.Column.Wagons])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function e3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Xk,4,5,"div",37),n.BQk()),2&t){const e=n.oxw(3).ngIf;n.xp6(1),n.Q6J("ngIf",e.wagons)}}function t3(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,e3,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.xp6(1),n.Q6J("ngIf",null==r.itemSettings[e.itemId]?null:r.itemSettings[e.itemId].wagon)}}function n3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw().ngIf,a=n.oxw().ngIf,l=n.oxw(6);n.xp6(2),n.Oqu(l.factoryRate(a.factories.mul(r),l.effPrecision[l.Column.Factories],e))}}function i3(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=n.oxw().ngIf,r=n.oxw(8);n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function r3(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"td"),n.YNc(2,n3,3,1,"div",37),n.qZA(),n.TgZ(3,"td",73),n.TgZ(4,"div"),n.TgZ(5,"div",50),n._UZ(6,"lab-icon",48),n.YNc(7,i3,1,4,"lab-icon",117),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf,r=n.oxw(2).ngIf,a=n.oxw(6);n.xp6(2),n.Q6J("ngIf",null==r.factories?null:r.factories.nonzero()),n.xp6(4),n.Q6J("data",a.data)("iconId",r.recipeId)("tooltip",a.data.recipeEntities[r.recipeId].name)("recipe",a.data.recipeEntities[r.recipeId]),n.xp6(1),n.Q6J("ngIf",a.data.game!==a.Game.DysonSphereProgram||e!==a.ItemId.MiningDrill)}}function o3(t,i){1&t&&n._UZ(0,"td",118)}function s3(t,i){if(1&t&&(n.TgZ(0,"tr",112),n._UZ(1,"td",99),n.TgZ(2,"td"),n.TgZ(3,"div",50),n.YNc(4,Wk,2,1,"span",51),n._UZ(5,"lab-icon",48),n.qZA(),n.qZA(),n.YNc(6,Kk,2,1,"td",0),n.YNc(7,t3,2,1,"td",0),n.YNc(8,r3,8,6,"ng-container",0),n.YNc(9,o3,1,0,"td",113),n.TgZ(10,"td",114),n.TgZ(11,"div"),n.TgZ(12,"div",115),n.TgZ(13,"span",53),n._uU(14),n.qZA(),n.TgZ(15,"i",5),n._uU(16,"arrow_forward"),n.qZA(),n._UZ(17,"lab-icon",48),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw().ngIf,a=n.oxw().$implicit,l=n.oxw(3).$implicit,f=n.oxw(2);n.xp6(1),n.Q6J("colSpan",f.leftSpan),n.xp6(3),n.Q6J("ngIf",r.items),n.xp6(1),n.Q6J("data",f.data)("iconId",a.key)("tooltip",null==f.data.itemEntities[a.key]?null:f.data.itemEntities[a.key].name)("recipe",f.data.recipeEntities[f.data.itemRecipeIds[a.key]]),n.xp6(1),n.Q6J("ngIf",f.columns[f.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",f.columns[f.Column.Wagons].show),n.xp6(1),n.Q6J("ngIf",null==f.recipeSettings[r.recipeId]?null:f.recipeSettings[r.recipeId].factory),n.xp6(1),n.Q6J("ngIf",!(null!=f.recipeSettings[r.recipeId]&&f.recipeSettings[r.recipeId].factory)),n.xp6(5),n.hij("",f.leftPad(f.rate(e,-2)),"%"),n.xp6(3),n.Q6J("data",f.data)("iconId",l.recipeId)("tooltip",null==f.data.recipeEntities[l.recipeId]?null:f.data.recipeEntities[l.recipeId].name)("recipe",f.data.recipeEntities[l.recipeId])}}function a3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,s3,18,15,"tr",109),n.BQk()),2&t){const e=i.ngIf,r=n.oxw(4).$implicit;n.xp6(1),n.Q6J("ngIf",null==e.parents?null:e.parents[r.recipeId])}}function c3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,a3,2,1,"ng-container",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(5);n.xp6(1),n.Q6J("ngIf",r.findStep(e.key))}}function l3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",116),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw().ngIf,l=n.oxw(6);n.xp6(2),n.Oqu(l.rate(a.belts.mul(r),l.effPrecision[l.Column.Belts])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||l.PIPE)("item",l.data.itemEntities[e])("displayRate",l.displayRate)}}function u3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,l3,4,6,"div",37),n.BQk()),2&t){const e=n.oxw(3).ngIf;n.xp6(1),n.Q6J("ngIf",e.belts)}}function d3(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,u3,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.xp6(1),n.Q6J("ngIf",r.itemSettings[e.itemId].belt)}}function f3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",70),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw().ngIf,l=n.oxw(6);n.xp6(2),n.Oqu(l.rate(a.wagons.mul(r),l.effPrecision[l.Column.Wagons])),n.xp6(1),n.Q6J("data",l.data)("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function p3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,f3,4,5,"div",37),n.BQk()),2&t){const e=n.oxw(3).ngIf;n.xp6(1),n.Q6J("ngIf",e.wagons)}}function h3(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,p3,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.xp6(1),n.Q6J("ngIf",null==r.itemSettings[e.itemId]?null:r.itemSettings[e.itemId].wagon)}}function _3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(2).ngIf,a=n.oxw(6);n.xp6(2),n.Oqu(a.factoryRate(r.factories,a.effPrecision[a.Column.Factories],e))}}function g3(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=n.oxw().ngIf,r=n.oxw(8);n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function m3(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"td"),n.YNc(2,_3,3,1,"div",37),n.qZA(),n.TgZ(3,"td",73),n.TgZ(4,"div"),n.TgZ(5,"div",50),n._UZ(6,"lab-icon",48),n.YNc(7,g3,1,4,"lab-icon",117),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf,r=n.oxw(2).ngIf,a=n.oxw(6);n.xp6(2),n.Q6J("ngIf",null==r.factories?null:r.factories.nonzero()),n.xp6(4),n.Q6J("data",a.data)("iconId",r.recipeId)("tooltip",a.data.recipeEntities[r.recipeId].name)("recipe",a.data.recipeEntities[r.recipeId]),n.xp6(1),n.Q6J("ngIf",a.data.game!==a.Game.DysonSphereProgram||e!==a.ItemId.MiningDrill)}}function y3(t,i){1&t&&n._UZ(0,"td",118)}function v3(t,i){if(1&t&&(n.TgZ(0,"tr",112),n._UZ(1,"td",99),n.TgZ(2,"td"),n.TgZ(3,"div",50),n.TgZ(4,"span",53),n._uU(5),n.qZA(),n._UZ(6,"lab-icon",48),n.qZA(),n.qZA(),n.YNc(7,d3,2,1,"td",0),n.YNc(8,h3,2,1,"td",0),n.YNc(9,m3,8,6,"ng-container",0),n.YNc(10,y3,1,0,"td",113),n.TgZ(11,"td",114),n.TgZ(12,"div"),n.TgZ(13,"div",115),n.TgZ(14,"i",5),n._uU(15,"arrow_forward"),n.qZA(),n.TgZ(16,"span",53),n._uU(17),n.qZA(),n._UZ(18,"lab-icon",70),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw().ngIf,a=n.oxw(),l=a.last,f=a.$implicit,h=n.oxw(5);n.ekj("last",l),n.xp6(1),n.Q6J("colSpan",h.leftSpan),n.xp6(4),n.Oqu(h.rate(r.items.mul(e),h.effPrecision[h.Column.Items])),n.xp6(1),n.Q6J("data",h.data)("iconId",f.key)("tooltip",null==h.data.itemEntities[f.key]?null:h.data.itemEntities[f.key].name)("recipe",h.data.recipeEntities[h.data.itemRecipeIds[f.key]]),n.xp6(1),n.Q6J("ngIf",h.columns[h.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",h.columns[h.Column.Wagons].show),n.xp6(1),n.Q6J("ngIf",null==h.recipeSettings[r.recipeId]?null:h.recipeSettings[r.recipeId].factory),n.xp6(1),n.Q6J("ngIf",!(null!=h.recipeSettings[r.recipeId]&&h.recipeSettings[r.recipeId].factory)),n.xp6(7),n.hij("",h.leftPad(h.rate(e,-2)),"%"),n.xp6(1),n.Q6J("data",h.data)("iconId",f.key)("tooltip",null==h.data.itemEntities[f.key]?null:h.data.itemEntities[f.key].name)("item",h.data.itemEntities[f.key])}}function b3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,v3,19,17,"tr",121),n.BQk()),2&t){const e=n.oxw().$implicit,r=n.oxw(3).$implicit;n.xp6(1),n.Q6J("ngIf",r.outputs[e.key])}}function C3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,b3,2,1,"ng-container",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(5);n.xp6(1),n.Q6J("ngIf",r.findStep(e.key))}}function x3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Qk,8,5,"ng-container",0),n.YNc(2,Jk,5,3,"tr",119),n.YNc(3,c3,2,1,"ng-container",120),n.ALo(4,"keyvalue"),n.TgZ(5,"tr",112),n._UZ(6,"td",99),n.TgZ(7,"td",111),n.TgZ(8,"span",7),n._uU(9,"Outputs"),n.qZA(),n.qZA(),n.qZA(),n.YNc(10,C3,2,1,"ng-container",120),n.ALo(11,"keyvalue"),n.BQk()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.data.game===r.Game.Factorio&&r.data.itemEntities[r.recipeSettings[e.recipeId].factory].factory.mining),n.xp6(1),n.Q6J("ngIf",r.data.recipeR[e.recipeId].in),n.xp6(1),n.Q6J("ngForOf",n.xi3(4,5,r.data.recipeR[e.recipeId].in,r.sortKeyValue)),n.xp6(3),n.Q6J("colSpan",r.leftSpan),n.xp6(4),n.Q6J("ngForOf",n.xi3(11,8,e.outputs,r.sortKeyValue))}}function w3(t,i){if(1&t&&(n.TgZ(0,"span",53),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).ngIf,r=n.oxw().ngIf,a=n.oxw(4).$implicit,l=n.oxw(2);n.xp6(1),n.Oqu(l.rate(r.items.mul(e).div(a.factories),l.effPrecision[l.Column.Items]))}}function E3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.YNc(1,w3,2,1,"span",51),n._UZ(2,"lab-icon",48),n.qZA()),2&t){const e=n.oxw(2).ngIf,r=n.oxw().$implicit,a=n.oxw(5);n.xp6(1),n.Q6J("ngIf",e.items),n.xp6(1),n.Q6J("data",a.data)("iconId",r.key)("tooltip",null==a.data.itemEntities[r.key]?null:a.data.itemEntities[r.key].name)("recipe",a.data.recipeEntities[a.data.itemRecipeIds[r.key]])}}function T3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",116),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw().ngIf,a=n.oxw().ngIf,l=n.oxw(4).$implicit,f=n.oxw(2);n.xp6(2),n.Oqu(f.rate(a.belts.mul(r).div(l.factories),f.effPrecision[f.Column.Belts])),n.xp6(1),n.Q6J("data",f.data)("iconId",e)("tooltip",(null==f.data.itemEntities[e]?null:f.data.itemEntities[e].name)||f.PIPE)("item",f.data.itemEntities[e])("displayRate",f.displayRate)}}function I3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,T3,4,6,"div",37),n.BQk()),2&t){const e=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngIf",e.belts)}}function S3(t,i){if(1&t&&(n.TgZ(0,"td"),n.TgZ(1,"div",50),n.TgZ(2,"span",53),n._uU(3),n.qZA(),n._UZ(4,"lab-icon",70),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(9);n.xp6(3),n.Oqu(r.rate(e.value,1)),n.xp6(1),n.Q6J("data",r.data)("iconId",e.id)("tooltip",r.data.itemEntities[e.id].name)("item",r.data.itemEntities[e.id])}}function D3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,S3,5,5,"td",0),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw().ngIf,a=n.oxw(4).$implicit,l=n.oxw(2);n.xp6(1),n.Q6J("ngIf",l.inserter(r.items.mul(e).div(a.factories).div(l.DisplayRateVal[l.displayRate])))}}function A3(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n.YNc(2,E3,3,5,"div",37),n.qZA(),n.TgZ(3,"td",99),n.YNc(4,I3,2,1,"ng-container",0),n.qZA(),n.YNc(5,D3,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw().ngIf,r=n.oxw(4).$implicit,a=n.oxw(2);n.xp6(2),n.Q6J("ngIf",r.items),n.xp6(1),n.Q6J("colSpan",a.itemSettings[e.itemId].belt===a.ItemId.Pipe?2:0),n.xp6(1),n.Q6J("ngIf",a.itemSettings[e.itemId].belt),n.xp6(1),n.Q6J("ngIf",a.itemSettings[e.itemId].belt!==a.ItemId.Pipe)}}function M3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,A3,6,4,"tr",0),n.BQk()),2&t){const e=i.ngIf,r=n.oxw(4).$implicit;n.xp6(1),n.Q6J("ngIf",e.parents[r.recipeId])}}function O3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,M3,2,1,"ng-container",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(5);n.xp6(1),n.Q6J("ngIf",r.findStep(e.key))}}function P3(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"div",50),n._UZ(2,"lab-icon",48),n._UZ(3,"lab-icon",70),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(3).$implicit,a=n.oxw(2);n.xp6(2),n.Q6J("data",a.data)("iconId",r.recipeId)("tooltip",a.data.recipeEntities[r.recipeId].name)("recipe",a.data.recipeEntities[r.recipeId]),n.xp6(1),n.Q6J("data",a.data)("iconId",e)("tooltip",a.data.itemEntities[e].name)("item",a.data.itemEntities[e])}}function R3(t,i){if(1&t&&(n.TgZ(0,"td"),n.TgZ(1,"div",50),n.TgZ(2,"span",53),n._uU(3),n.qZA(),n._UZ(4,"lab-icon",70),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(8);n.xp6(3),n.Oqu(r.rate(e.value,1)),n.xp6(1),n.Q6J("data",r.data)("iconId",e.id)("tooltip",r.data.itemEntities[e.id].name)("item",r.data.itemEntities[e.id])}}function N3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,R3,5,5,"td",0),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw(6);n.xp6(1),n.Q6J("ngIf",r.inserter(e))}}function F3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n._UZ(3,"lab-icon",116),n.qZA()),2&t){const e=i.ngIf,r=n.oxw().ngIf,a=n.oxw(6);n.xp6(2),n.Oqu(a.rate(r.div(a.beltSpeed[e]),a.effPrecision[a.Column.Belts])),n.xp6(1),n.Q6J("data",a.data)("iconId",e)("tooltip",(null==a.data.itemEntities[e]?null:a.data.itemEntities[e].name)||a.PIPE)("item",a.data.itemEntities[e])("displayRate",a.displayRate)}}function k3(t,i){if(1&t&&(n.TgZ(0,"tr"),n.YNc(1,N3,2,1,"ng-container",0),n.TgZ(2,"td",99),n.YNc(3,F3,4,6,"div",37),n.qZA(),n.TgZ(4,"td"),n.TgZ(5,"div",50),n.TgZ(6,"span",53),n._uU(7),n.qZA(),n._UZ(8,"lab-icon",48),n.qZA(),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(5);n.xp6(1),n.Q6J("ngIf",a.itemSettings[r.key].belt!==a.ItemId.Pipe),n.xp6(1),n.Q6J("colSpan",a.itemSettings[r.key].belt===a.ItemId.Pipe?2:0),n.xp6(1),n.Q6J("ngIf",a.itemSettings[r.key].belt),n.xp6(4),n.Oqu(a.rate(e.mul(a.DisplayRateVal[a.displayRate]),a.effPrecision[a.Column.Items])),n.xp6(1),n.Q6J("data",a.data)("iconId",r.key)("tooltip",null==a.data.itemEntities[r.key]?null:a.data.itemEntities[r.key].name)("recipe",a.data.recipeEntities[a.data.itemRecipeIds[r.key]])}}function L3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,k3,9,8,"tr",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(3).$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.value.div(a.data.recipeR[r.recipeId].time))}}function Z3(t,i){1&t&&(n.TgZ(0,"div",125),n.TgZ(1,"span"),n._uU(2," * Inserters are calculated using target/capacity settings and 0.18 experimental data from the "),n.TgZ(3,"a",126),n._uU(4,"wiki."),n.qZA(),n.qZA(),n.qZA())}function B3(t,i){if(1&t&&(n.TgZ(0,"tr",122),n._UZ(1,"td",99),n.TgZ(2,"td",123),n.TgZ(3,"div"),n.TgZ(4,"table"),n.YNc(5,O3,2,1,"ng-container",120),n.ALo(6,"keyvalue"),n.qZA(),n.TgZ(7,"i",5),n._uU(8,"arrow_forward"),n.qZA(),n.TgZ(9,"table"),n.TgZ(10,"tr"),n.TgZ(11,"td"),n.TgZ(12,"div",50),n.TgZ(13,"span",53),n._uU(14,"1"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"td",73),n.YNc(16,P3,4,8,"div",0),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"i",5),n._uU(18,"arrow_forward"),n.qZA(),n.TgZ(19,"table"),n.YNc(20,L3,2,1,"ng-container",120),n.ALo(21,"keyvalue"),n.qZA(),n.qZA(),n.YNc(22,Z3,5,0,"div",124),n.qZA(),n.qZA()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("colSpan",r.leftSpan),n.xp6(4),n.Q6J("ngForOf",n.lcZ(6,5,r.data.recipeR[e.recipeId].in)),n.xp6(11),n.Q6J("ngIf",null==r.recipeSettings[e.recipeId]?null:r.recipeSettings[e.recipeId].factory),n.xp6(4),n.Q6J("ngForOf",n.lcZ(21,7,r.data.recipeR[e.recipeId].out)),n.xp6(2),n.Q6J("ngIf",r.data.game===r.Game.Factorio)}}function V3(t,i){1&t&&(n.TgZ(0,"div",132),n._uU(1," Default was ignored due to a detected circular loop. "),n.qZA())}function U3(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-icon",134),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw(3).$implicit;return n.oxw(2).toggleDefaultRecipe(l.itemId,a)}),n.qZA()}if(2&t){const e=n.oxw().ngIf,r=n.oxw().$implicit,a=n.oxw(3).$implicit,l=n.oxw(2);n.ekj("selected",l.data.itemRecipeIds[a.itemId]===r),n.Q6J("data",l.data)("iconId",r)("tooltip",e.name)("recipe",l.data.recipeEntities[r])}}function j3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,U3,1,6,"lab-icon",133),n.BQk()),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(3).$implicit,l=n.oxw(2);n.xp6(1),n.Q6J("ngIf",-1===l.disabledRecipes.indexOf(r)&&e.producesOnly(a.itemId))}}function q3(t,i){if(1&t&&(n.ynx(0),n.YNc(1,j3,2,1,"ng-container",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(5);n.xp6(1),n.Q6J("ngIf",r.data.recipeR[e])}}function $3(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-icon",134),n.NdJ("click",function(){const l=n.CHM(e).$implicit;return n.oxw(5).toggleRecipe(l)}),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(5);n.ekj("ignored",-1!==r.disabledRecipes.indexOf(e)),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.recipeEntities[e].name)("recipe",r.data.recipeEntities[e])}}function H3(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"tr",110),n._UZ(2,"td",99),n.TgZ(3,"td",111),n.TgZ(4,"div"),n.TgZ(5,"div",7),n._uU(6,"Default Recipe"),n.qZA(),n.TgZ(7,"div",125),n._uU(8," Click to set a recipe as the default for this item. If set, the default recipe is treated as the only way to produce this item. "),n.qZA(),n.TgZ(9,"div",125),n._uU(10," The recipe must be enabled and must only produce this item. "),n.qZA(),n.YNc(11,V3,2,0,"div",127),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"tr",112),n._UZ(13,"td",99),n.TgZ(14,"td",128),n.TgZ(15,"div",129),n.YNc(16,q3,2,1,"ng-container",120),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"tr",112),n._UZ(18,"td",99),n.TgZ(19,"td",111),n.TgZ(20,"div"),n.TgZ(21,"div",7),n._uU(22,"Enabled Recipes"),n.qZA(),n.TgZ(23,"div",125),n._uU(24," Click recipes to enable or disable them. Disabled recipes will not be used in the solution. "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"tr",130),n._UZ(26,"td",99),n.TgZ(27,"td",128),n.TgZ(28,"div",129),n.YNc(29,$3,1,6,"lab-icon",131),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=n.oxw(2).$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("colSpan",r.leftSpan),n.xp6(9),n.Q6J("ngIf",null===r.data.itemRecipeIds[e.itemId]),n.xp6(2),n.Q6J("colSpan",r.leftSpan),n.xp6(3),n.Q6J("ngForOf",r.recipes[e.id]),n.xp6(2),n.Q6J("colSpan",r.leftSpan),n.xp6(8),n.Q6J("colSpan",r.leftSpan),n.xp6(3),n.Q6J("ngForOf",r.recipes[e.id])}}function z3(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"tr",98),n.TgZ(2,"td",99),n.TgZ(3,"div",50),n.TgZ(4,"a",100),n.TgZ(5,"i",5),n._uU(6,"link"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"td",101),n.TgZ(8,"ul",102),n.YNc(9,fk,3,2,"li",103),n.YNc(10,pk,3,2,"li",103),n.YNc(11,hk,3,2,"li",103),n.YNc(12,_k,3,2,"li",103),n.qZA(),n.qZA(),n.qZA(),n.YNc(13,qk,6,7,"ng-container",0),n.YNc(14,x3,12,11,"ng-container",0),n.YNc(15,B3,23,9,"tr",104),n.YNc(16,H3,30,7,"ng-container",0),n.TgZ(17,"tr",105),n._UZ(18,"td"),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("colSpan",r.leftSpan),n.xp6(2),n.Q6J("href",r.link(e),n.LSH),n.xp6(5),n.Q6J("ngIf",-1!==r.details[e.id].indexOf(r.StepDetailTab.Item)),n.xp6(1),n.Q6J("ngIf",-1!==r.details[e.id].indexOf(r.StepDetailTab.Recipe)),n.xp6(1),n.Q6J("ngIf",-1!==r.details[e.id].indexOf(r.StepDetailTab.Factory)),n.xp6(1),n.Q6J("ngIf",-1!==r.details[e.id].indexOf(r.StepDetailTab.Recipes)),n.xp6(1),n.Q6J("ngIf",r.expanded[e.id]===r.StepDetailTab.Item),n.xp6(1),n.Q6J("ngIf",r.expanded[e.id]===r.StepDetailTab.Recipe),n.xp6(1),n.Q6J("ngIf",r.expanded[e.id]===r.StepDetailTab.Factory),n.xp6(1),n.Q6J("ngIf",r.expanded[e.id]===r.StepDetailTab.Recipes)}}function Q3(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"tr",32),n.TgZ(2,"td",33),n.TgZ(3,"div"),n.YNc(4,fF,3,0,"button",34),n.YNc(5,pF,3,0,"button",35),n.qZA(),n.qZA(),n.YNc(6,vF,6,3,"td",36),n.TgZ(7,"td"),n.YNc(8,xF,4,10,"div",37),n.qZA(),n.YNc(9,AF,2,1,"td",0),n.YNc(10,LF,2,1,"td",0),n.YNc(11,HF,11,8,"ng-container",0),n.YNc(12,zF,1,0,"td",12),n.YNc(13,JF,2,1,"td",0),n.YNc(14,rk,3,2,"ng-container",0),n.YNc(15,sk,2,1,"td",0),n.YNc(16,ck,2,1,"td",0),n.YNc(17,dk,4,2,"td",38),n.qZA(),n.YNc(18,z3,19,10,"ng-container",0),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("id",e.itemId),n.xp6(2),n.Q6J("ngIf",(null==r.details[e.id]?null:r.details[e.id].length)&&!r.expanded[e.id]),n.xp6(1),n.Q6J("ngIf",r.mode===r.ListMode.All&&r.expanded[e.id]),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Tree].show),n.xp6(2),n.Q6J("ngIf",e.items),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Wagons].show),n.xp6(1),n.Q6J("ngIf",null==r.recipeSettings[e.recipeId]?null:r.recipeSettings[e.recipeId].factory),n.xp6(1),n.Q6J("ngIf",!(null!=r.recipeSettings[e.recipeId]&&r.recipeSettings[e.recipeId].factory)),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Overclock].show),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Beacons].show),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Power].show),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Pollution].show),n.xp6(1),n.Q6J("ngIf",r.columns[r.Column.Link].show),n.xp6(1),n.Q6J("ngIf",r.expanded[e.id])}}function J3(t,i){if(1&t&&n._UZ(0,"lab-icon",116),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(4);n.Q6J("data",a.data)("iconId",r.key)("tooltip",e.name)("item",e)("displayRate",a.displayRate)}}function W3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.YNc(3,J3,1,5,"lab-icon",137),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(4);n.xp6(2),n.Oqu(e.value),n.xp6(1),n.Q6J("ngIf",r.data.itemEntities[e.key])}}function Y3(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,W3,4,2,"div",136),n.ALo(2,"keyvalue"),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",n.xi3(2,1,e.totalBelts,e.sortKeyValue))}}function G3(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(4);n.Q6J("data",a.data)("iconId",r.key)("tooltip",e.name)("item",e)}}function K3(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.YNc(3,G3,1,4,"lab-icon",117),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(4);n.xp6(2),n.Oqu(e.value),n.xp6(1),n.Q6J("ngIf",r.data.itemEntities[e.key])}}function X3(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,K3,4,2,"div",136),n.ALo(2,"keyvalue"),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",n.xi3(2,1,e.totalWagons,e.sortKeyValue))}}function e6(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(3);n.Q6J("data",a.data)("iconId",r.key)("tooltip",e.name)("item",e)}}function t6(t,i){if(1&t&&n._UZ(0,"lab-icon",48),2&t){const e=i.ngIf,r=n.oxw(2).$implicit,a=n.oxw(3);n.Q6J("data",a.data)("iconId",r.key)("tooltip",e.name)("recipe",e)}}function n6(t,i){if(1&t&&n.YNc(0,t6,1,4,"lab-icon",49),2&t){const e=n.oxw().$implicit,r=n.oxw(3);n.Q6J("ngIf",r.data.recipeEntities[e.key])}}function i6(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.YNc(3,e6,1,4,"lab-icon",138),n.YNc(4,n6,1,1,"ng-template",null,139,n.W1O),n.qZA()),2&t){const e=i.$implicit,r=n.MAs(5),a=n.oxw(3);n.xp6(2),n.Oqu(e.value),n.xp6(1),n.Q6J("ngIf",a.data.itemEntities[e.key])("ngIfElse",r)}}function r6(t,i){1&t&&n._UZ(0,"td")}function o6(t,i){if(1&t&&n._UZ(0,"lab-icon",70),2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(4);n.Q6J("data",a.data)("iconId",r.key)("tooltip",e.name)("item",e)}}function s6(t,i){if(1&t&&(n.TgZ(0,"div",50),n.TgZ(1,"span",53),n._uU(2),n.qZA(),n.YNc(3,o6,1,4,"lab-icon",117),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(4);n.xp6(2),n.Oqu(e.value),n.xp6(1),n.Q6J("ngIf",r.data.itemEntities[e.key])}}function a6(t,i){if(1&t&&(n.TgZ(0,"td",10),n.YNc(1,s6,4,2,"div",136),n.ALo(2,"keyvalue"),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",n.xi3(2,1,e.totalBeacons,e.sortKeyValue))}}function c6(t,i){if(1&t&&(n.TgZ(0,"td"),n.TgZ(1,"div",50),n.TgZ(2,"span",53),n._uU(3),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw(3);n.xp6(3),n.Oqu(e.totalPower)}}function l6(t,i){if(1&t&&(n.TgZ(0,"td"),n.TgZ(1,"div",50),n.TgZ(2,"span",53),n._uU(3),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw(3);n.xp6(3),n.Oqu(e.totalPollution)}}function u6(t,i){1&t&&n._UZ(0,"td")}function d6(t,i){if(1&t&&(n.TgZ(0,"tr",32),n.TgZ(1,"td",99),n.TgZ(2,"div",135),n.TgZ(3,"span",53),n._uU(4,"Total:"),n.qZA(),n.qZA(),n.qZA(),n.YNc(5,Y3,3,4,"td",0),n.YNc(6,X3,3,4,"td",0),n.TgZ(7,"td",10),n.YNc(8,i6,6,3,"div",136),n.ALo(9,"keyvalue"),n.qZA(),n.YNc(10,r6,1,0,"td",0),n.YNc(11,a6,3,4,"td",12),n.YNc(12,c6,4,1,"td",0),n.YNc(13,l6,4,1,"td",0),n.YNc(14,u6,1,0,"td",0),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("colSpan",e.leftSpan+1),n.xp6(4),n.Q6J("ngIf",e.columns[e.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Wagons].show),n.xp6(2),n.Q6J("ngForOf",n.xi3(9,9,e.totalFactories,e.sortKeyValue)),n.xp6(2),n.Q6J("ngIf",e.columns[e.Column.Overclock].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Beacons].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Power].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Pollution].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Link].show)}}function f6(t,i){1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",140),n._uU(2,"Select a node to see details"),n.qZA(),n.qZA())}function p6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"table"),n.TgZ(1,"thead"),n.TgZ(2,"tr",1),n.TgZ(3,"th"),n.TgZ(4,"div",2),n.TgZ(5,"lab-columns",3),n.NdJ("setColumns",function(a){return n.CHM(e),n.oxw().setColumns.emit(a)}),n.TgZ(6,"button",4),n.TgZ(7,"i",5),n._uU(8,"settings"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(9,YN,3,0,"th",0),n.TgZ(10,"th",6),n.TgZ(11,"div",7),n._uU(12),n.YNc(13,GN,3,0,"button",8),n.qZA(),n.qZA(),n.YNc(14,XN,4,1,"th",9),n.YNc(15,tF,4,2,"th",9),n.TgZ(16,"th",10),n.TgZ(17,"div",7),n._uU(18," Factories "),n.YNc(19,nF,3,0,"button",11),n.qZA(),n.qZA(),n.YNc(20,rF,4,1,"th",0),n.YNc(21,cF,7,3,"th",12),n.YNc(22,lF,3,0,"th",13),n.YNc(23,uF,3,1,"th",0),n.YNc(24,dF,4,0,"th",0),n.qZA(),n.qZA(),n.TgZ(25,"tbody"),n.YNc(26,Q3,19,15,"ng-container",14),n.YNc(27,d6,15,12,"tr",15),n.YNc(28,f6,3,0,"tr",0),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("game",e.data.game)("columns",e.columns),n.xp6(4),n.Q6J("ngIf",e.columns[e.Column.Tree].show),n.xp6(3),n.hij(" Items",e.rateLabel," "),n.xp6(1),n.Q6J("ngIf",e.modifiedIgnore),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Belts].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Wagons].show),n.xp6(4),n.Q6J("ngIf",e.modifiedFactory),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Overclock].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Beacons].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Power].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Pollution].show),n.xp6(1),n.Q6J("ngIf",e.columns[e.Column.Link].show&&e.mode===e.ListMode.All),n.xp6(2),n.Q6J("ngForOf",e.displayedSteps)("ngForTrackBy",e.trackBy),n.xp6(1),n.Q6J("ngIf",e.mode===e.ListMode.All),n.xp6(1),n.Q6J("ngIf",e.mode===e.ListMode.Focus&&!e.selected)}}var Oc=(()=>(function(t){t[t.None=0]="None",t[t.Item=1]="Item",t[t.Recipe=2]="Recipe",t[t.Factory=3]="Factory",t[t.Recipes=4]="Recipes"}(Oc||(Oc={})),Oc))(),Nu=(()=>(function(t){t[t.kW=0]="kW",t[t.MW=1]="MW"}(Nu||(Nu={})),Nu))();let yO=(()=>{class t extends xu{constructor(e,r,a){super(),this.ref=e,this.route=r,this.routerSvc=a,this._steps=[],this._mode=Po.All,this.ignoreItem=new n.vpe,this.setBelt=new n.vpe,this.setWagon=new n.vpe,this.setFactory=new n.vpe,this.setFactoryModules=new n.vpe,this.setBeaconCount=new n.vpe,this.setBeacon=new n.vpe,this.setBeaconModules=new n.vpe,this.setBeaconTotal=new n.vpe,this.setOverclock=new n.vpe,this.setColumns=new n.vpe,this.resetItem=new n.vpe,this.resetRecipe=new n.vpe,this.resetIgnore=new n.vpe,this.resetBelt=new n.vpe,this.resetWagon=new n.vpe,this.resetFactory=new n.vpe,this.resetOverclock=new n.vpe,this.resetBeacons=new n.vpe,this.setDisabledRecipes=new n.vpe,this.setDefaultRecipe=new n.vpe,this.displayedSteps=[],this.details={},this.recipes={},this.outputs={},this.expanded={},this.leftSpan=2,this.effPrecision={},this.powerUnit=Nu.kW,this.DisplayRateVal=cr,this.ColumnsLeftOfPower=[ze.Belts,ze.Factories,ze.Beacons],this.totalBelts={},this.totalWagons={},this.totalFactories={},this.totalBeacons={},this.Column=ze,this.DisplayRate=Nt,this.ItemId=$e,this.ListMode=Po,this.StepDetailTab=Oc,this.Game=Xe,this.Rational=M,this.PIPE="Pipe"}get steps(){return this._steps}set steps(e){this._steps=[...e],this.routerSvc.requestHash(this.settings.baseId).subscribe(r=>{setTimeout(()=>{this._steps.forEach(a=>{a.href=this.routerSvc.stepHref(a,r)}),this.ref.detectChanges()})}),this.setDetailTabs(),this.setDisplayedSteps(),this.setEffectivePrecision()}get displayRate(){return this._displayRate}set displayRate(e){this._displayRate=e,this.rateLabel=Yc[this.displayRate]}get columns(){return this._columns}set columns(e){this._columns=e,this.leftSpan=e[ze.Tree].show?2:1,this.setEffectivePrecision()}get mode(){return this._mode}set mode(e){this._mode=e,this.setDisplayedSteps()}get selected(){return this._selected}set selected(e){this._selected=e,this.setDisplayedSteps()}ngOnInit(){this.route.fragment.subscribe(e=>{this.fragment=e})}ngOnChanges(){this.totalBelts={};for(const r of this.steps.filter(a=>{var l;return null===(l=a.belts)||void 0===l?void 0:l.nonzero()})){const a=this.itemSettings[r.itemId].belt;this.totalBelts[a]||(this.totalBelts[a]=M.zero),this.totalBelts[a]=this.totalBelts[a].add(r.belts.ceil())}this.totalWagons={};for(const r of this.steps.filter(a=>{var l;return null===(l=a.wagons)||void 0===l?void 0:l.nonzero()})){const a=this.itemSettings[r.itemId].wagon;this.totalWagons[a]||(this.totalWagons[a]=M.zero),this.totalWagons[a]=this.totalWagons[a].add(r.wagons.ceil())}this.totalFactories={};for(const r of this.steps.filter(a=>{var l;return null===(l=a.factories)||void 0===l?void 0:l.nonzero()})){if(!this.data.recipeEntities[r.recipeId].part){let l=this.recipeSettings[r.recipeId].factory;this.data.game===Xe.DysonSphereProgram&&l===$e.MiningDrill&&(l=r.recipeId),this.totalFactories.hasOwnProperty(l)||(this.totalFactories[l]=M.zero),this.totalFactories[l]=this.totalFactories[l].add(r.factories.ceil())}this.totalBeacons={};for(const l of this.steps.filter(f=>{var h;return null===(h=f.beacons)||void 0===h?void 0:h.nonzero()})){const f=this.recipeSettings[l.recipeId].beacon;this.totalBeacons.hasOwnProperty(f)||(this.totalBeacons[f]=M.zero),this.totalBeacons[f]=this.totalBeacons[f].add(l.beacons.ceil())}}let e=M.zero;for(const r of this.steps.filter(a=>a.power))e=e.add(r.power);this.totalPower=this.power(e),e=M.zero;for(const r of this.steps.filter(a=>a.pollution))e=e.add(r.pollution);if(this.totalPollution=this.rate(e,this.effPrecision[ze.Pollution]),this.mode===Po.All&&this.columns[ze.Tree].show){const r={};for(const a of this.steps){let l=[];if(a.parents){const f=Object.keys(a.parents);1===f.length&&null!=r[f[0]]&&(l=new Array(r[f[0]]+1).fill(!1))}a.recipeId&&(r[a.recipeId]=l.length),a.indent=l}this.trailIndents()}}ngAfterViewInit(){var e;try{if(this.fragment){document.querySelector("#"+this.fragment).scrollIntoView();const r=this.steps.find(a=>a.itemId===this.fragment||a.recipeId===this.fragment);r&&(null===(e=this.details[r.id])||void 0===e?void 0:e.length)&&(this.expanded[r.id]=this.details[r.id][0],this.ref.detectChanges())}}catch(r){}}setEffectivePrecision(){var e;if(this.steps&&this.columns){this.effPrecision={},this.effPrecision[ze.Surplus]=this.effPrecFrom(this.columns[ze.Items].precision,r=>r[ze.Surplus.toLowerCase()]);for(const r of ad.filter(a=>this.columns[a].show))this.effPrecision[r]=this.effPrecFrom(this.columns[r].precision,a=>r===ze.Items?(a.items||M.zero).sub(a.surplus||M.zero):a[r.toLowerCase()]);if(this.columns[ze.Power].show){let r=Nu.MW;for(const a of this.steps)if(null===(e=a.power)||void 0===e?void 0:e.lt(M.thousand)){r=Nu.kW;break}this.powerUnit=r}}}effPrecFrom(e,r){var a;if(null==e)return e;let l=0;for(const f of this.steps){const h=null===(a=r(f))||void 0===a?void 0:a.toDecimals();if(h>=e)return e;h>l&&(l=h)}return l}setDetailTabs(){var e,r;this.details={},this.recipes={},this.outputs={};for(const a of this.steps)if(this.details[a.id]=[],a.itemId&&(this.details[a.id].push(Oc.Item),this.outputs[a.id]=this.steps.filter(l=>{var f;return null===(f=l.outputs)||void 0===f?void 0:f[a.itemId]}).sort((l,f)=>f.outputs[a.itemId].sub(l.outputs[a.itemId]).toNumber())),a.recipeId&&this.details[a.id].push(Oc.Recipe),(null===(e=a.factories)||void 0===e?void 0:e.nonzero())&&this.details[a.id].push(Oc.Factory),a.itemId){const l=this.data.complexRecipeIds.filter(f=>this.data.recipeR[f].produces(a.itemId));l.length&&(this.details[a.id].push(Oc.Recipes),this.recipes[a.id]=l)}for(const a of Object.keys(this.expanded).filter(l=>this.expanded[l]))(null===(r=this.details[a])||void 0===r?void 0:r.length)?-1===this.details[a].indexOf(this.expanded[a])&&(this.expanded[a]=this.details[a][0]):delete this.expanded[a]}setDisplayedSteps(){this.mode===Po.All?this.displayedSteps=this.steps:this.selected?(this.displayedSteps=this.steps.filter(e=>e.itemId===this.selected||e.recipeId===this.selected),this.expanded=this.displayedSteps.map(e=>e.id).reduce((e,r)=>(e[r]=this.details[r][0],e),{})):(this.displayedSteps=[],this.expanded={})}trackBy(e,r){return r.id}link(e){return`#${e.itemId||e.recipeId}`}findStep(e){return this.steps.find(r=>r.itemId===e)}sortKeyValue(e,r){return r.value.sub(e.value).toNumber()}factoryRate(e,r,a){return a===$e.Pumpjack?`${this.rate(e.mul(M.hundred),null!=r?Math.max(r-2,0):r)}%`:this.rate(e,r)}rate(e,r){if(null==r)return e.toFraction();{const l=(-2===r?Math.round(e.mul(M.hundred).toNumber()):e.toPrecision(r)).toString();if(r>0){const f=l.split(".");if(!(f.length>1))return e.isInteger()?l+" ".repeat(r+1):l+"."+"0".repeat(r);if(f[1].length<r)return l+"0".repeat(r-f[1].length)}return l}}power(e){return this.powerUnit===Nu.kW?`${this.rate(e,this.effPrecision[ze.Power])} kW`:`${this.rate(e.div(M.thousand),this.effPrecision[ze.Power])} MW`}leftPad(e){return" ".repeat(4-e.length)+e}inserter(e){const r=Zx[this.inserterTarget][this.inserterCapacity].find(a=>a.value.gt(e)||a.id===$e.StackInserter);return this.data.itemEntities[r.id]?{id:r.id,value:e.div(r.value)}:null}resetStep(e){this.resetItem.emit(e.itemId),this.resetRecipe.emit(e.recipeId)}export(){Wg.stepsToCsv(this.steps,this.columns,this.itemSettings,this.recipeSettings,this.data)}toggleDefaultRecipe(e,r){this.setDefaultRecipe.emit(this.itemSettings[e].recipe===r?{id:e,value:null,def:null}:{id:e,value:r,def:wn.defaultRecipe(e,this.disabledRecipes,this.data)})}toggleRecipe(e){-1===this.disabledRecipes.indexOf(e)?this.setDisabledRecipes.emit({value:[...this.disabledRecipes,e],def:this.data.defaults.disabledRecipes}):this.setDisabledRecipes.emit({value:this.disabledRecipes.filter(r=>r!==e),def:this.data.defaults.disabledRecipes})}trailIndents(){for(let e=0;e<this.steps.length;e++){const r=this.steps[e];if(r.indent.length)for(let a=e+1;a<this.steps.length;a++){const l=this.steps[a];if(l.indent.length===r.indent.length){for(let f=e;f<a;f++)this.steps[f].indent[r.indent.length-1]=!0;break}if(l.indent.length<r.indent.length)break}}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(xs),n.Y36(BD))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-list"]],inputs:{itemSettings:"itemSettings",itemRaw:"itemRaw",recipeRaw:"recipeRaw",settings:"settings",beltSpeed:"beltSpeed",steps:"steps",disabledRecipes:"disabledRecipes",displayRate:"displayRate",inserterTarget:"inserterTarget",inserterCapacity:"inserterCapacity",columns:"columns",modifiedIgnore:"modifiedIgnore",modifiedBelt:"modifiedBelt",modifiedWagon:"modifiedWagon",modifiedFactory:"modifiedFactory",modifiedOverclock:"modifiedOverclock",modifiedBeacons:"modifiedBeacons",mode:"mode",selected:"selected"},outputs:{ignoreItem:"ignoreItem",setBelt:"setBelt",setWagon:"setWagon",setFactory:"setFactory",setFactoryModules:"setFactoryModules",setBeaconCount:"setBeaconCount",setBeacon:"setBeacon",setBeaconModules:"setBeaconModules",setBeaconTotal:"setBeaconTotal",setOverclock:"setOverclock",setColumns:"setColumns",resetItem:"resetItem",resetRecipe:"resetRecipe",resetIgnore:"resetIgnore",resetBelt:"resetBelt",resetWagon:"resetWagon",resetFactory:"resetFactory",resetOverclock:"resetOverclock",resetBeacons:"resetBeacons",setDisabledRecipes:"setDisabledRecipes",setDefaultRecipe:"setDefaultRecipe"},features:[n.qOj,n.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"border","col"],[1,"flex","end"],[3,"game","columns","setColumns"],["title","Set columns visibility and precision"],[1,"material-icons"],[1,"num-icon"],[1,"header"],["title","Undo all ignored steps",3,"click",4,"ngIf"],["class","num-icon",4,"ngIf"],["colspan","3"],["title","Undo all factory modifications",3,"click",4,"ngIf"],["colspan","3",4,"ngIf"],["class","num-unit",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","border row col",4,"ngIf"],["title","Undo all ignored steps",3,"click"],["title","Undo all belt modifications",3,"click",4,"ngIf"],["title","Undo all belt modifications",3,"click"],["title","Undo all wagon modifications",3,"click",4,"ngIf"],["title","Undo all wagon modifications",3,"click"],["title","Undo all factory modifications",3,"click"],["title","Undo all overclock modifications",3,"click",4,"ngIf"],["title","Undo all overclock modifications",3,"click"],["class","sub left",4,"ngIf"],["title","Undo all beacon modifications",3,"click",4,"ngIf"],["class","sub right",4,"ngIf"],[1,"sub","left"],["title","Undo all beacon modifications",3,"click"],[1,"sub","right"],[1,"num-unit"],["title","Export to CSV","data-test","lab-list-export",3,"click"],[1,"border","row","col"],[3,"id"],["title","Click to show details",3,"click",4,"ngIf"],["title","Click to hide details",3,"click",4,"ngIf"],["class","tree",4,"ngIf"],["class","flex",4,"ngIf"],["class","nowrap",4,"ngIf"],["title","Click to show details",3,"click"],["title","Click to hide details",3,"click"],[1,"tree"],[1,"flex","links"],[3,"data","iconId","tooltip","recipe",4,"ngIf","ngIfElse"],["recipeIcon",""],["class","connect",3,"trail","last",4,"ngFor","ngForOf"],[1,"indent"],[1,"connect"],[3,"data","iconId","tooltip","recipe"],[3,"data","iconId","tooltip","recipe",4,"ngIf"],[1,"flex"],["class","monospace",4,"ngIf"],[1,"button",3,"title","data","iconId","tooltip","recipe","hoverIcon","click"],[1,"monospace"],["header","Select a belt",3,"data","selected","options","displayRate","selectId",4,"ngIf","ngIfElse"],["pipePicker",""],["pipeIcon",""],["header","Select a belt",3,"data","selected","options","displayRate","selectId"],["title","Click to change belt",1,"button",3,"data","iconId","tooltip","item","displayRate"],["header","Select a pipe",3,"data","selected","options","displayRate","selectId",4,"ngIf","ngIfElse"],["header","Select a pipe",3,"data","selected","options","displayRate","selectId"],["title","Click to change pipe",1,"button",3,"data","iconId","tooltip","item","displayRate"],[3,"iconId","tooltip","data"],[4,"ngIf","ngIfElse"],["fluidWagon",""],["wagonDefault",""],["header","Select a cargo wagon",3,"data","selected","options","selectId"],["title","Click to change cargo wagon",1,"button",3,"data","iconId","tooltip","item"],["header","Select a fluid wagon",3,"data","selected","options","selectId"],["title","Click to change fluid wagon",1,"button",3,"data","iconId","tooltip","item"],[3,"data","iconId","tooltip","item"],[1,"num",3,"id"],[1,"recipe-icon","split-column"],[1,"split-column"],["class","flex mod",4,"ngIf"],["factoryDefault",""],["header","Select a factory",3,"data","selected","options","selectId"],["title","Click to change factory",1,"button",3,"data","iconId","tooltip","item"],[3,"iconId","tooltip","item","data"],[1,"flex","mod"],["header","Select a module",3,"data","selected","options","includeEmptyModule","displayRate","selectId",4,"ngFor","ngForOf"],["header","Select a module",3,"data","selected","options","includeEmptyModule","displayRate","selectId"],["title","Click to change factory modules",1,"button","module",3,"data","iconId","tooltip","item","displayRate"],["type","number","title","Set overclock","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"ngModel","input"],["title","Set number of beacons","placeholder","# Beacons",3,"digits","value","setValue"],["beaconPicker",""],["header","Select a beacon",3,"data","selected","options","selectId"],["title","Click to change beacon",1,"button",3,"data","iconId","tooltip","item"],["header","Select a module",3,"data","selected","options","includeEmptyModule","selectId",4,"ngFor","ngForOf"],["header","Select a module",3,"data","selected","options","includeEmptyModule","selectId"],["title","Click to change beacon modules",1,"button","module",3,"data","iconId","tooltip","item"],["title","Set total beacons","placeholder","# Beacons",3,"digits","value","setValue"],[1,"nowrap"],["class","button","title","Click to open this step in a new tab","target","_blank",3,"href",4,"ngIf"],["title","Undo modifications to this step","data-test","lab-list-reset-step",3,"click",4,"ngIf"],["title","Click to open this step in a new tab","target","_blank",1,"button",3,"href"],[1,"clickable","material-icons"],["title","Undo modifications to this step","data-test","lab-list-reset-step",3,"click"],[1,"detail-header"],[3,"colSpan"],[1,"button",3,"href"],["colspan","100",1,"detail-tabs"],[1,"tabs"],[3,"active","click",4,"ngIf"],["class","details first last",4,"ngIf"],[1,"spacer"],[3,"click"],["class","details first",4,"ngIf"],["class","details",3,"last",4,"ngFor","ngForOf"],["class","details",4,"ngIf"],[1,"details","first"],["colspan","100"],[1,"details"],["colspan","2",4,"ngIf"],["colspan","100",1,"split-column"],[1,"flex","percent"],[3,"data","iconId","tooltip","item","displayRate"],[3,"data","iconId","tooltip","item",4,"ngIf"],["colspan","2"],["class","details",3,"first",4,"ngIf"],[4,"ngFor","ngForOf"],["class","details",3,"last",4,"ngIf"],[1,"details","first","last"],["colspan","100",1,"factory"],["class","info",4,"ngIf"],[1,"info"],["href","https://wiki.factorio.com/Inserters#Inserter_Throughput"],["class","info warn",4,"ngIf"],["colspan","100",1,"recipes"],[1,"list","tile"],[1,"details","last"],["class","button grid",3,"ignored","data","iconId","tooltip","recipe","click",4,"ngFor","ngForOf"],[1,"info","warn"],["class","button grid",3,"selected","data","iconId","tooltip","recipe","click",4,"ngIf"],[1,"button","grid",3,"data","iconId","tooltip","recipe","click"],[1,"flex","summary-label"],["class","flex",4,"ngFor","ngForOf"],[3,"data","iconId","tooltip","item","displayRate",4,"ngIf"],[3,"data","iconId","tooltip","item",4,"ngIf","ngIfElse"],["totalRecipe",""],["colspan","100",1,"message"]],template:function(e,r){1&e&&n.YNc(0,p6,29,17,"table",0),2&e&&n.Q6J("ngIf",r.steps&&r.steps.length)},directives:[ae,mO,Ci,Mc,VD,bl,Fd,ml,Ti,UD,an,No,XC],pipes:[kc],styles:["[_nghost-%COMP%]{display:block}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem .5rem}table[_ngcontent-%COMP%]   th.num[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.num[_ngcontent-%COMP%]{width:5.25rem}table[_ngcontent-%COMP%]   th.num-unit[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.num-unit[_ngcontent-%COMP%]{width:7rem}table[_ngcontent-%COMP%]   th.num-icon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.num-icon[_ngcontent-%COMP%]{width:8rem}table[_ngcontent-%COMP%]   th.split-column[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.split-column[_ngcontent-%COMP%]{padding-left:0}table[_ngcontent-%COMP%]   th.split-column[_ngcontent-%COMP%] > .flex[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.split-column[_ngcontent-%COMP%] > .flex[_ngcontent-%COMP%]{justify-content:flex-start}table[_ngcontent-%COMP%]   th.tree[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.tree[_ngcontent-%COMP%]{padding:0 .25rem}table[_ngcontent-%COMP%]   tr.border.row[_ngcontent-%COMP%]{border-top:1px solid var(--color-back)}table[_ngcontent-%COMP%]   tr.border.col[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child):not(.split-column){border-left:1px solid var(--color-back)}tr.detail-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){background-color:var(--color-back)}tr.detail-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){border-top-left-radius:.375rem}tr.detail-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{border-top-right-radius:.375rem}tr.details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{background-color:var(--color-light)}tr.details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child):not(:nth-child(2)):not(.split-column){border-left:1px solid var(--color-back)}tr.details[_ngcontent-%COMP%]:not(.first) > td[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid var(--color-back)}tr.details.last[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){border-bottom-left-radius:.375rem}tr.details.last[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{border-bottom-right-radius:.375rem}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%]{padding:0}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 .5rem}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:0}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%]   .monospace[_ngcontent-%COMP%]{white-space:normal}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}tr.details[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%]{padding:.5rem}tr.details[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;max-width:38rem}tr.details[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:1px}tr.details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-left:.5rem}tr.details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){background-color:var(--color-dark)}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:2rem;padding:0 .25rem;margin:0 -.25rem}th[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}th[_ngcontent-%COMP%] > div.end[_ngcontent-%COMP%]{justify-content:flex-end}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{align-self:end;font-size:medium;flex-grow:1}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .sub.left[_ngcontent-%COMP%]{text-align:left}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .sub.right[_ngcontent-%COMP%]{text-align:right}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{justify-content:flex-end}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]{justify-content:flex-start}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:0}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{margin-left:1rem;height:2.75rem;border-left:2px dotted transparent}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-color:var(--color-dark)}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){height:1.5rem;margin-bottom:1.25rem;border-color:var(--color-dark)}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:1.5rem}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;width:.625rem;border-top:2px dotted var(--color-dark)}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]{padding:0}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%]{justify-content:flex-start}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%]{border-radius:.25rem}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%]:not(:hover), td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%]:not(:hover){background-color:var(--color-gray-1)}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:0}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *.percent[_ngcontent-%COMP%]{margin-left:0}.summary-label[_ngcontent-%COMP%]{text-align:right}td.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.recipe[_ngcontent-%COMP%]{margin-left:-.5rem;padding:0}.message[_ngcontent-%COMP%]{color:var(--color-header);font-size:large;text-align:center;padding:1rem}tr.spacer[_ngcontent-%COMP%]{height:.25rem}tr[_ngcontent-%COMP%]   td.detail-tabs[_ngcontent-%COMP%]{padding:0}tr[_ngcontent-%COMP%]   td.detail-tabs[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:var(--color-dark);box-shadow:var(--shadow-button-dk)}.info[_ngcontent-%COMP%]{font-size:small;margin-bottom:.25rem}.info.warn[_ngcontent-%COMP%]{color:var(--color-red)}lab-icon[_ngcontent-%COMP%]:not(.button){padding:.125rem}lab-select[_ngcontent-%COMP%]:hover ~ lab-select[_ngcontent-%COMP%]   .button.module[_ngcontent-%COMP%]{background-color:var(--color-brand);box-shadow:var(--shadow-hover);filter:drop-shadow(0 0 2px var(--color-brand-sha))}"],changeDetection:0}),t})(),vO=(()=>{class t{constructor(e){this.store=e,this.mode=Po.All}ngOnInit(){this.steps||(this.steps$=this.store.select(pm)),this.data$=this.store.select(Yi),this.itemSettings$=this.store.select(Wo),this.itemRaw$=this.store.select(fc),this.recipeSettings$=this.store.select(pc),this.recipeRaw$=this.store.select(bo),this.settings$=this.store.select(Rs),this.factories$=this.store.select(dc),this.beltSpeed$=this.store.select(sC),this.disabledRecipes$=this.store.select(lc),this.displayRate$=this.store.select(Ut),this.inserterTarget$=this.store.select(_S),this.inserterCapacity$=this.store.select(tC),this.columns$=this.store.select(uC),this.modifiedIgnore$=this.store.select(s2),this.modifiedBelt$=this.store.select(a2),this.modifiedWagon$=this.store.select(sm),this.modifiedFactory$=this.store.select(l2),this.modifiedOverclock$=this.store.select(iD),this.modifiedBeacons$=this.store.select(u2)}ignoreItem(e){this.store.dispatch(new bu(e))}setBelt(e){this.store.dispatch(new o2(e))}setWagon(e){this.store.dispatch(new hC(e))}setFactory(e){this.store.dispatch(new WS(e))}setFactoryModules(e){this.store.dispatch(new YS(e))}setBeaconCount(e){this.store.dispatch(new GS(e))}setBeacon(e){this.store.dispatch(new KS(e))}setBeaconModules(e){this.store.dispatch(new XS(e))}setBeaconTotal(e){this.store.dispatch(new eD(e))}setOverclock(e){this.store.dispatch(new _C(e))}setColumns(e){this.store.dispatch(new Zb(e))}resetItem(e){this.store.dispatch(new $S(e))}resetRecipe(e){this.store.dispatch(new tD(e))}resetIgnore(){this.store.dispatch(new HS)}resetBelt(){this.store.dispatch(new zS)}resetWagon(){this.store.dispatch(new QS)}resetFactory(){this.store.dispatch(new gC)}resetOverclock(){this.store.dispatch(new cm)}resetBeacons(){this.store.dispatch(new xr)}setDisabledRecipes(e){this.store.dispatch(new Xf(e))}setDefaultRecipe(e){this.store.dispatch(new qS(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Ce.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-list-container"]],viewQuery:function(e,r){if(1&e&&n.Gf(yO,5),2&e){let a;n.iGM(a=n.CRH())&&(r.child=a.first)}},inputs:{mode:"mode",selected:"selected",steps:"steps"},decls:21,vars:62,consts:[[3,"mode","selected","data","itemSettings","itemRaw","recipeSettings","recipeRaw","settings","factories","beltSpeed","steps","disabledRecipes","displayRate","inserterTarget","inserterCapacity","columns","modifiedIgnore","modifiedBelt","modifiedWagon","modifiedFactory","modifiedOverclock","modifiedBeacons","ignoreItem","setBelt","setWagon","setFactory","setFactoryModules","setBeaconCount","setBeacon","setBeaconModules","setBeaconTotal","setOverclock","setColumns","resetItem","resetRecipe","resetIgnore","resetBelt","resetWagon","resetFactory","resetOverclock","resetBeacons","setDisabledRecipes","setDefaultRecipe"]],template:function(e,r){1&e&&(n.TgZ(0,"lab-list",0),n.NdJ("ignoreItem",function(l){return r.ignoreItem(l)})("setBelt",function(l){return r.setBelt(l)})("setWagon",function(l){return r.setWagon(l)})("setFactory",function(l){return r.setFactory(l)})("setFactoryModules",function(l){return r.setFactoryModules(l)})("setBeaconCount",function(l){return r.setBeaconCount(l)})("setBeacon",function(l){return r.setBeacon(l)})("setBeaconModules",function(l){return r.setBeaconModules(l)})("setBeaconTotal",function(l){return r.setBeaconTotal(l)})("setOverclock",function(l){return r.setOverclock(l)})("setColumns",function(l){return r.setColumns(l)})("resetItem",function(l){return r.resetItem(l)})("resetRecipe",function(l){return r.resetRecipe(l)})("resetIgnore",function(){return r.resetIgnore()})("resetBelt",function(){return r.resetBelt()})("resetWagon",function(){return r.resetWagon()})("resetFactory",function(){return r.resetFactory()})("resetOverclock",function(){return r.resetOverclock()})("resetBeacons",function(){return r.resetBeacons()})("setDisabledRecipes",function(l){return r.setDisabledRecipes(l)})("setDefaultRecipe",function(l){return r.setDefaultRecipe(l)}),n.ALo(1,"async"),n.ALo(2,"async"),n.ALo(3,"async"),n.ALo(4,"async"),n.ALo(5,"async"),n.ALo(6,"async"),n.ALo(7,"async"),n.ALo(8,"async"),n.ALo(9,"async"),n.ALo(10,"async"),n.ALo(11,"async"),n.ALo(12,"async"),n.ALo(13,"async"),n.ALo(14,"async"),n.ALo(15,"async"),n.ALo(16,"async"),n.ALo(17,"async"),n.ALo(18,"async"),n.ALo(19,"async"),n.ALo(20,"async"),n.qZA()),2&e&&n.Q6J("mode",r.mode)("selected",r.selected)("data",n.lcZ(1,22,r.data$))("itemSettings",n.lcZ(2,24,r.itemSettings$))("itemRaw",n.lcZ(3,26,r.itemRaw$))("recipeSettings",n.lcZ(4,28,r.recipeSettings$))("recipeRaw",n.lcZ(5,30,r.recipeRaw$))("settings",n.lcZ(6,32,r.settings$))("factories",n.lcZ(7,34,r.factories$))("beltSpeed",n.lcZ(8,36,r.beltSpeed$))("steps",r.steps?r.steps:n.lcZ(9,38,r.steps$))("disabledRecipes",n.lcZ(10,40,r.disabledRecipes$))("displayRate",n.lcZ(11,42,r.displayRate$))("inserterTarget",n.lcZ(12,44,r.inserterTarget$))("inserterCapacity",n.lcZ(13,46,r.inserterCapacity$))("columns",n.lcZ(14,48,r.columns$))("modifiedIgnore",n.lcZ(15,50,r.modifiedIgnore$))("modifiedBelt",n.lcZ(16,52,r.modifiedBelt$))("modifiedWagon",n.lcZ(17,54,r.modifiedWagon$))("modifiedFactory",n.lcZ(18,56,r.modifiedFactory$))("modifiedOverclock",n.lcZ(19,58,r.modifiedOverclock$))("modifiedBeacons",n.lcZ(20,60,r.modifiedBeacons$))},directives:[yO],pipes:[Ys],styles:[""],changeDetection:0}),t})();function h6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){const l=n.CHM(e).ngIf;return n.oxw().export(l)}),n.TgZ(1,"i",10),n._uU(2,"file_download"),n.qZA(),n.qZA()}}let _6=(()=>{class t{constructor(e,r){this.ref=e,this.store=r,this.sankeyAlignOptions=Zi,this.ListMode=Po}ngOnInit(){this.store.select(sp).subscribe(e=>{this.options=function(t){const i=[{id:$t.None,name:"None"},{id:$t.Percent,name:"Percent"},{id:$t.Items,name:"Items"},{id:$t.Belts,name:"Belts"},{id:$t.Wagons,name:"Wagons"},{id:$t.Factories,name:"Factories"}];return t===Xe.DysonSphereProgram?i.filter(e=>e.id!==$t.Wagons):i}(e)}),this.sankeyData$=this.store.select(TC),this.steps$=this.store.select(pm),this.linkText$=this.store.select(tm),this.linkSize$=this.store.select(lC),this.sankeyAlign$=this.store.select(vu)}setSelected(e){const r=e.split("|");this.selected=r[r.length-1],this.ref.detectChanges()}setLinkSize(e){this.store.dispatch(new zg(e))}setLinkText(e){this.store.dispatch(new Rn(e))}setSankeyAlign(e){this.store.dispatch(new QM(e))}export(e){Wg.saveAsJson(JSON.stringify(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(Ce.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-flow-container"]],viewQuery:function(e,r){if(1&e&&n.Gf(zI,5),2&e){let a;n.iGM(a=n.CRH())&&(r.child=a.first)}},decls:24,vars:26,consts:[[1,"flex"],["title","Select flow link text",3,"selected","options","selectId"],["title","Select flow link size",3,"selected","options","selectId"],["href","https://github.com/d3/d3-sankey#alignments","target","_blank"],[1,"material-icons","small"],["title","Select sankey alignment",3,"selected","options","selectId"],["title","Export to JSON","data-test","lab-flow-container-export",3,"click",4,"ngIf"],[3,"sankeyData","sankeyAlign","selectNode"],[3,"mode","steps","selected"],["title","Export to JSON","data-test","lab-flow-container-export",3,"click"],[1,"material-icons"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div"),n._uU(2,"Link text"),n.qZA(),n.TgZ(3,"lab-options",1),n.NdJ("selectId",function(l){return r.setLinkText(l)}),n.ALo(4,"async"),n.qZA(),n.TgZ(5,"div"),n._uU(6,"Link size"),n.qZA(),n.TgZ(7,"lab-options",2),n.NdJ("selectId",function(l){return r.setLinkSize(l)}),n.ALo(8,"async"),n.qZA(),n.TgZ(9,"div",0),n.TgZ(10,"span"),n._uU(11,"Sankey align"),n.qZA(),n.TgZ(12,"a",3),n.TgZ(13,"i",4),n._uU(14,"help"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"lab-options",5),n.NdJ("selectId",function(l){return r.setSankeyAlign(l)}),n.ALo(16,"async"),n.qZA(),n.YNc(17,h6,3,0,"button",6),n.ALo(18,"async"),n.qZA(),n.TgZ(19,"lab-sankey",7),n.NdJ("selectNode",function(l){return r.setSelected(l)}),n.ALo(20,"async"),n.ALo(21,"async"),n.qZA(),n._UZ(22,"lab-list-container",8),n.ALo(23,"async")),2&e&&(n.xp6(3),n.Q6J("selected",n.lcZ(4,12,r.linkText$))("options",r.options),n.xp6(4),n.Q6J("selected",n.lcZ(8,14,r.linkSize$))("options",r.options),n.xp6(8),n.Q6J("selected",n.lcZ(16,16,r.sankeyAlign$))("options",r.sankeyAlignOptions),n.xp6(2),n.Q6J("ngIf",n.lcZ(18,18,r.sankeyData$)),n.xp6(2),n.Q6J("sankeyData",n.lcZ(20,20,r.sankeyData$))("sankeyAlign",n.lcZ(21,22,r.sankeyAlign$)),n.xp6(3),n.Q6J("mode",r.ListMode.Focus)("steps",n.lcZ(23,24,r.steps$))("selected",r.selected))},directives:[yc,ae,zI,vO],pipes:[Ys],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.75rem}"],changeDetection:0}),t})();function g6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"span",3),n.NdJ("mouseenter",function(){return n.CHM(e),n.oxw().hover=!1}),n._uU(1),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.tooltip)}}let bO=(()=>{class t{constructor(){this.hover=!1}mouseenter(){this.hover=!0}mouseleave(){this.hover=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-info"]],hostBindings:function(e,r){1&e&&n.NdJ("mouseenter",function(){return r.mouseenter()})("mouseleave",function(){return r.mouseleave()})},inputs:{text:"text",tooltip:"tooltip"},decls:6,vars:2,consts:[[1,"icon"],[1,"material-icons","small"],["class","tooltip panel dark",3,"mouseenter",4,"ngIf"],[1,"tooltip","panel","dark",3,"mouseenter"]],template:function(e,r){1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA(),n.TgZ(2,"span",0),n.TgZ(3,"i",1),n._uU(4,"info"),n.qZA(),n.YNc(5,g6,2,1,"span",2),n.qZA()),2&e&&(n.xp6(1),n.hij("",r.text," "),n.xp6(4),n.Q6J("ngIf",r.hover))},directives:[ae],styles:["[_nghost-%COMP%]{display:inline-block;position:relative;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.icon[_ngcontent-%COMP%]{position:relative}.material-icons[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-link);vertical-align:middle}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:var(--color-dark);opacity:.95;padding:.5rem;box-shadow:var(--shadow-tip);left:100%;top:100%;white-space:pre;margin-top:.5rem;margin-left:.125rem;text-align:left;color:var(--color-white);font-weight:normal}"],changeDetection:0}),t})();function m6(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",0),n._uU(2,"Runtime"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(4),n.hij("",e.result.time," ms")}}function y6(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",0),n._uU(2,"Pivots"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(4),n.Oqu(e.result.pivots)}}function v6(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",0),n._uU(2,"Size"),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(4),n.AsE("",e.result.A.length," rows, ",e.result.O.length," cols")}}function b6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).resetCost.emit()}),n.TgZ(1,"i",15),n._uU(2,"undo"),n.qZA(),n.qZA()}}function C6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"table"),n.TgZ(1,"tr"),n.TgZ(2,"th",2),n.TgZ(3,"div",3),n._UZ(4,"lab-info",4),n.YNc(5,b6,3,0,"button",5),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"tr"),n.TgZ(7,"td"),n.TgZ(8,"div",3),n._UZ(9,"lab-info",6),n.qZA(),n.qZA(),n.TgZ(10,"td"),n.TgZ(11,"lab-input",7),n.NdJ("setValue",function(a){return n.CHM(e),n.oxw().setCostFactor.emit(a)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"tr"),n.TgZ(13,"td"),n._UZ(14,"lab-info",8),n.qZA(),n.TgZ(15,"td"),n.TgZ(16,"lab-input",9),n.NdJ("setValue",function(a){return n.CHM(e),n.oxw().setCostFactory.emit(a)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"tr"),n.TgZ(18,"td"),n._UZ(19,"lab-info",10),n.qZA(),n.TgZ(20,"td"),n.TgZ(21,"lab-input",11),n.NdJ("setValue",function(a){return n.CHM(e),n.oxw().setCostInput.emit(a)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"tr"),n.TgZ(23,"td"),n._UZ(24,"lab-info",12),n.qZA(),n.TgZ(25,"td"),n.TgZ(26,"lab-input",13),n.NdJ("setValue",function(a){return n.CHM(e),n.oxw().setCostIgnored.emit(a)}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngIf",e.modifiedCost),n.xp6(6),n.Q6J("value",e.costFactor),n.xp6(5),n.Q6J("value",e.costFactory),n.xp6(5),n.Q6J("value",e.costInput),n.xp6(5),n.Q6J("value",e.costIgnored)}}function x6(t,i){if(1&t&&(n.TgZ(0,"th",16),n._uU(1," Inputs "),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("colSpan",e.result.inputs.length)}}function w6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).resetRecipeCost.emit()}),n.TgZ(1,"i",15),n._uU(2,"undo"),n.qZA(),n.qZA()}}function E6(t,i){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"lab-icon",25),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)}}function T6(t,i){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"lab-icon",26),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.recipeEntities[e].name)("recipe",r.data.recipeEntities[e])}}function I6(t,i){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"lab-icon",25),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)}}function S6(t,i){1&t&&(n.TgZ(0,"th",0),n._uU(1,"Objective"),n.qZA())}function D6(t,i){if(1&t&&(n.TgZ(0,"span"),n._UZ(1,"lab-icon",26),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(4);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.recipeEntities[e].name)("recipe",r.data.recipeEntities[e])}}function A6(t,i){if(1&t&&(n.TgZ(0,"span"),n._UZ(1,"lab-icon",25),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(5);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)}}function M6(t,i){if(1&t&&n.YNc(0,A6,2,3,"span",1),2&t){const e=n.oxw(2).index,r=n.oxw(2);n.Q6J("ngIf",r.result.inputs[e-1-r.result.recipes.length])}}function O6(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,D6,2,4,"span",29),n.YNc(2,M6,1,1,"ng-template",null,30,n.W1O),n.qZA()),2&t){const e=n.MAs(3),r=n.oxw().index,a=n.oxw(2);n.xp6(1),n.Q6J("ngIf",a.result.recipes[r-1])("ngIfElse",e)}}function P6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().ngIf;return n.oxw(4).setRecipeCost.emit({id:a,value:null,def:null})}),n.TgZ(1,"i",15),n._uU(2,"undo"),n.qZA(),n.qZA()}}function R6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",3),n.TgZ(1,"lab-input",33),n.NdJ("setValue",function(a){const f=n.CHM(e).ngIf;return n.oxw(4).setRecipeCost.emit({id:f,value:a,def:null})}),n.qZA(),n.YNc(2,P6,3,0,"button",34),n.qZA()}if(2&t){const e=i.ngIf,r=n.oxw().$implicit,a=n.oxw(3);n.xp6(1),n.Q6J("value",r.toString()),n.xp6(1),n.Q6J("ngIf",null==a.recipeRaw[e]?null:a.recipeRaw[e].cost)}}function N6(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Oqu(e.toString())}}function F6(t,i){if(1&t&&(n.TgZ(0,"td"),n.YNc(1,R6,3,2,"div",31),n.YNc(2,N6,2,1,"ng-template",null,32,n.W1O),n.qZA()),2&t){const e=i.last,r=n.MAs(3),a=n.oxw().index,l=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e&&l.result.recipes[a-1])("ngIfElse",r)}}function k6(t,i){if(1&t&&(n.TgZ(0,"tr"),n.YNc(1,S6,2,0,"th",27),n.YNc(2,O6,4,2,"ng-template",null,28,n.W1O),n.YNc(4,F6,4,2,"td",22),n.qZA()),2&t){const e=i.$implicit,r=i.index,a=n.MAs(3),l=n.oxw(2);n.xp6(1),n.Q6J("ngIf",0===r)("ngIfElse",a),n.xp6(3),n.Q6J("ngForOf",e)("ngForTrackBy",l.trackColBy)}}function L6(t,i){if(1&t&&(n.TgZ(0,"th",16),n._uU(1," Inputs "),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("colSpan",e.result.inputs.length)}}function Z6(t,i){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"lab-icon",25),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)}}function B6(t,i){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"lab-icon",26),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.recipeEntities[e].name)("recipe",r.data.recipeEntities[e])}}function V6(t,i){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"lab-icon",25),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)}}function U6(t,i){if(1&t&&(n.TgZ(0,"td"),n._uU(1),n.qZA()),2&t){const e=i.$implicit;n.xp6(1),n.Oqu(e.toString())}}function j6(t,i){if(1&t&&(n.TgZ(0,"table"),n.TgZ(1,"tr"),n.TgZ(2,"th",16),n._uU(3," Simplex Canonical Tableau "),n.qZA(),n.qZA(),n.TgZ(4,"tr"),n._UZ(5,"td",17),n.TgZ(6,"th",18),n._uU(7,"I"),n.qZA(),n.TgZ(8,"th",16),n._uU(9,"Items/s"),n.qZA(),n.TgZ(10,"th",16),n._uU(11,"Recipes"),n.qZA(),n.YNc(12,x6,2,1,"th",19),n.TgZ(13,"th",18),n.TgZ(14,"div",3),n.TgZ(15,"span"),n._uU(16,"Cost"),n.qZA(),n.YNc(17,w6,3,0,"button",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(18,"tr"),n.YNc(19,E6,2,3,"td",21),n.YNc(20,T6,2,4,"td",21),n.YNc(21,I6,2,3,"td",21),n.qZA(),n.YNc(22,k6,5,4,"tr",22),n.TgZ(23,"tr"),n.TgZ(24,"th",16),n._uU(25,"Solution"),n.qZA(),n.qZA(),n.TgZ(26,"tr"),n._UZ(27,"td",23),n.TgZ(28,"th",18),n._uU(29,"I"),n.qZA(),n.TgZ(30,"th",16),n._uU(31,"Surplus/s"),n.qZA(),n.TgZ(32,"th",16),n._uU(33,"Recipes"),n.qZA(),n.YNc(34,L6,2,1,"th",19),n.TgZ(35,"th",18),n._uU(36,"Cost"),n.qZA(),n.qZA(),n.TgZ(37,"tr"),n.YNc(38,Z6,2,3,"td",21),n.YNc(39,B6,2,4,"td",21),n.YNc(40,V6,2,3,"td",21),n.qZA(),n.TgZ(41,"tr"),n.YNc(42,U6,2,1,"td",21),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("colSpan",e.result.O.length+1),n.xp6(6),n.Q6J("colSpan",e.result.items.length),n.xp6(2),n.Q6J("colSpan",e.result.recipes.length),n.xp6(2),n.Q6J("ngIf",e.result.inputs.length),n.xp6(5),n.Q6J("ngIf",e.modifiedRecipeCost),n.xp6(2),n.Q6J("ngForOf",e.result.items),n.xp6(1),n.Q6J("ngForOf",e.result.recipes),n.xp6(1),n.Q6J("ngForOf",e.result.inputs),n.xp6(1),n.Q6J("ngForOf",e.result.A)("ngForTrackBy",e.trackRowBy),n.xp6(2),n.Q6J("colSpan",e.result.O.length+1),n.xp6(6),n.Q6J("colSpan",e.result.items.length),n.xp6(2),n.Q6J("colSpan",e.result.recipes.length),n.xp6(2),n.Q6J("ngIf",e.result.inputs.length),n.xp6(4),n.Q6J("ngForOf",e.result.items),n.xp6(1),n.Q6J("ngForOf",e.result.recipes),n.xp6(1),n.Q6J("ngForOf",e.result.inputs),n.xp6(2),n.Q6J("ngForOf",e.result.O)}}let CO=(()=>{class t{constructor(){this.setCostFactor=new n.vpe,this.setCostFactory=new n.vpe,this.setCostInput=new n.vpe,this.setCostIgnored=new n.vpe,this.setRecipeCost=new n.vpe,this.resetCost=new n.vpe,this.resetRecipeCost=new n.vpe}trackRowBy(e,r){var a,l;return(null===(l=null===(a=this.result)||void 0===a?void 0:a.recipes)||void 0===l?void 0:l[e-1])||e.toString()}trackColBy(e,r){return e.toString()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-matrix"]],inputs:{data:"data",result:"result",costFactor:"costFactor",costFactory:"costFactory",costInput:"costInput",costIgnored:"costIgnored",recipeRaw:"recipeRaw",modifiedCost:"modifiedCost",modifiedRecipeCost:"modifiedRecipeCost"},outputs:{setCostFactor:"setCostFactor",setCostFactory:"setCostFactory",setCostInput:"setCostInput",setCostIgnored:"setCostIgnored",setRecipeCost:"setRecipeCost",resetCost:"resetCost",resetRecipeCost:"resetRecipeCost"},decls:11,vars:6,consts:[[1,"header"],[4,"ngIf"],["colspan","2"],[1,"flex"],["text","Cost Modifiers","tooltip","These values determine the default costs of\neach row in the simplex canonical tableau."],["title","Undo all cost modifiers",3,"click",4,"ngIf"],["text","Recipe","tooltip","Multiplies cost of recipes with a\ndefined cost, usually mining."],["title","Set recipe cost multipler","placeholder","Cost",3,"value","setValue"],["text","Factory","tooltip","Multiplies cost of physical factories running recipes."],["title","Set factory cost multipler","placeholder","Cost",3,"value","setValue"],["text","Input","tooltip","Cost of input items that are produced by no recipes."],["title","Set input item cost","placeholder","Cost",3,"value","setValue"],["text","Ignored","tooltip","Cost of items that have been explicitly ignored."],["title","Set ignored item cost","placeholder","Cost",3,"value","setValue"],["title","Undo all cost modifiers",3,"click"],[1,"material-icons"],[1,"header",3,"colSpan"],["rowspan","2"],["rowspan","2",1,"header"],["class","header",3,"colSpan",4,"ngIf"],["title","Undo all cost modifications",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],["rowspan","3"],["title","Undo all cost modifications",3,"click"],[3,"data","iconId","tooltip"],[3,"data","iconId","tooltip","recipe"],["class","header",4,"ngIf","ngIfElse"],["notObj",""],[4,"ngIf","ngIfElse"],["notRecipe",""],["class","flex",4,"ngIf","ngIfElse"],["valueSpan",""],["title","Set cost","placeholder","Cost",3,"value","setValue"],["title","Undo recipe cost modification",3,"click",4,"ngIf"],["title","Undo recipe cost modification",3,"click"]],template:function(e,r){1&e&&(n.TgZ(0,"table"),n.TgZ(1,"tr"),n.TgZ(2,"td",0),n._uU(3,"Simplex Result"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n.qZA(),n.YNc(6,m6,5,1,"tr",1),n.YNc(7,y6,5,1,"tr",1),n.YNc(8,v6,5,2,"tr",1),n.qZA(),n.YNc(9,C6,27,5,"table",1),n.YNc(10,j6,43,18,"table",1)),2&e&&(n.xp6(5),n.Oqu(r.result.result),n.xp6(1),n.Q6J("ngIf",null!=r.result.time),n.xp6(1),n.Q6J("ngIf",null!=r.result.pivots),n.xp6(1),n.Q6J("ngIf",r.result.A&&r.result.O),n.xp6(1),n.Q6J("ngIf",r.result.A),n.xp6(1),n.Q6J("ngIf",r.result.A))},directives:[ae,bO,XC,Ci,Mc],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid var(--color-back)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:.5rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem}table[_ngcontent-%COMP%] + table[_ngcontent-%COMP%]{margin-top:1rem}"],changeDetection:0}),t})(),q6=(()=>{class t{constructor(e){this.store=e}ngOnInit(){this.data$=this.store.select(Yi),this.result$=this.store.select(_c),this.costFactor$=this.store.select(op),this.costFactory$=this.store.select(Ps),this.costInput$=this.store.select(ac),this.costIgnored$=this.store.select(nC),this.recipeRaw$=this.store.select(bo),this.modifiedCost$=this.store.select(n2),this.modifiedRecipeCost$=this.store.select(d2)}setCostFactor(e){this.store.dispatch(new YM(e))}setCostFactory(e){this.store.dispatch(new GM(e))}setCostInput(e){this.store.dispatch(new Hb(e))}setCostIgnored(e){this.store.dispatch(new KI(e))}setRecipeCost(e){this.store.dispatch(new am(e))}resetCost(){this.store.dispatch(new XI)}resetRecipeCost(){this.store.dispatch(new nD)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Ce.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-matrix-container"]],viewQuery:function(e,r){if(1&e&&n.Gf(CO,5),2&e){let a;n.iGM(a=n.CRH())&&(r.child=a.first)}},decls:10,vars:27,consts:[[3,"data","result","costFactor","costFactory","costInput","costIgnored","recipeRaw","modifiedCost","modifiedRecipeCost","setCostFactor","setCostFactory","setCostInput","setCostIgnored","setRecipeCost","resetCost","resetRecipeCost"]],template:function(e,r){1&e&&(n.TgZ(0,"lab-matrix",0),n.NdJ("setCostFactor",function(l){return r.setCostFactor(l)})("setCostFactory",function(l){return r.setCostFactory(l)})("setCostInput",function(l){return r.setCostInput(l)})("setCostIgnored",function(l){return r.setCostIgnored(l)})("setRecipeCost",function(l){return r.setRecipeCost(l)})("resetCost",function(){return r.resetCost()})("resetRecipeCost",function(){return r.resetRecipeCost()}),n.ALo(1,"async"),n.ALo(2,"async"),n.ALo(3,"async"),n.ALo(4,"async"),n.ALo(5,"async"),n.ALo(6,"async"),n.ALo(7,"async"),n.ALo(8,"async"),n.ALo(9,"async"),n.qZA()),2&e&&n.Q6J("data",n.lcZ(1,9,r.data$))("result",n.lcZ(2,11,r.result$))("costFactor",n.lcZ(3,13,r.costFactor$))("costFactory",n.lcZ(4,15,r.costFactory$))("costInput",n.lcZ(5,17,r.costInput$))("costIgnored",n.lcZ(6,19,r.costIgnored$))("recipeRaw",n.lcZ(7,21,r.recipeRaw$))("modifiedCost",n.lcZ(8,23,r.modifiedCost$))("modifiedRecipeCost",n.lcZ(9,25,r.modifiedRecipeCost$))},directives:[CO],pipes:[Ys],styles:[""],changeDetection:0}),t})(),xO=(()=>{class t{constructor(e){this.el=e}ngOnInit(){const e=this.el.nativeElement;e.focus(),e.select()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","labFocus",""]]}),t})();function $6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"input",18),n.NdJ("ngModelChange",function(a){return n.CHM(e),n.oxw(2).searchValue=a})("input",function(){return n.CHM(e),n.oxw(2).inputSearch()}),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("ngModel",e.searchValue)}}function H6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).search=!0}),n.TgZ(1,"i",9),n._uU(2,"search"),n.qZA(),n.qZA()}}function z6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-icon",21),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().$implicit;return n.oxw(2).tab=a}),n.qZA()}if(2&t){const e=i.ngIf,r=n.oxw().$implicit;n.oxw();const a=n.MAs(12),l=n.oxw();n.ekj("selected",r===l.tab),n.Q6J("data",l.data)("iconId",r)("scale",!1)("scrollLeft",a.scrollLeft)("tooltip",e.name)}}function Q6(t,i){if(1&t&&(n.ynx(0),n.YNc(1,z6,1,7,"lab-icon",20),n.BQk()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.data.categoryEntities[e])}}function J6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-icon",24),n.NdJ("click",function(){const l=n.CHM(e).$implicit,f=n.oxw(3);return f.selectId.emit(l),f.open=!1}),n.qZA()}if(2&t){const e=i.$implicit;n.oxw(2);const r=n.MAs(15),a=n.oxw();n.Q6J("data",a.data)("iconId",e)("scrollTop",r.scrollTop)("tooltip",a.data.itemEntities[e].name)("recipe",a.data.recipeEntities[a.data.itemRecipeIds[e]])}}function W6(t,i){if(1&t&&(n.TgZ(0,"div",22),n.YNc(1,J6,1,5,"lab-icon",23),n.qZA()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("ngForOf",e)}}function Y6(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-dialog",2),n.NdJ("closeDialog",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(1,"div",3),n.TgZ(2,"div",4),n._uU(3,"Select an item to produce"),n.qZA(),n.TgZ(4,"div",5),n.YNc(5,$6,1,1,"input",6),n.YNc(6,H6,3,0,"button",7),n.TgZ(7,"button",8),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(8,"i",9),n._uU(9,"close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",10),n.TgZ(11,"div",11,12),n.YNc(13,Q6,2,1,"ng-container",13),n.qZA(),n.TgZ(14,"div",14,15),n.TgZ(16,"div",16),n.YNc(17,W6,2,1,"div",17),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngIf",e.search),n.xp6(1),n.Q6J("ngIf",!e.search),n.xp6(7),n.Q6J("ngForOf",e.categoryIds),n.xp6(4),n.Q6J("ngForOf",e.categoryItemRows[e.tab])}}const G6=["*"];let K6=(()=>{class t extends gc{constructor(){super(),this.selectId=new n.vpe}get data(){return this._data}set data(e){this._data=e,this.setTab()}get selected(){return this._selected}set selected(e){this._selected=e,this.setTab()}clickOpen(){this.open=!0,this.search=!1,this.searchValue="",this.categoryIds=this.data.categoryIds,this.categoryItemRows=this.data.categoryItemRows}setTab(){var e;this.data&&(this.tab=(null===(e=this.data.itemEntities[this.selected])||void 0===e?void 0:e.category)||this.data.categoryIds[0])}inputSearch(){let e=this.data.itemIds;for(const r of this.searchValue.split(" ")){const a=new RegExp(r,"i");e=e.filter(l=>-1!==this.data.itemEntities[l].name.search(a))}this.categoryIds=this.data.categoryIds.filter(r=>e.some(a=>this.data.itemEntities[a].category===r)),-1===this.categoryIds.indexOf(this.tab)&&(this.tab=this.categoryIds[0]),this.categoryItemRows={};for(const r of this.categoryIds){this.categoryItemRows[r]=[];for(const a of this.data.categoryItemRows[r])this.categoryItemRows[r].push(a.filter(l=>-1!==e.indexOf(l)));this.categoryItemRows[r]=this.categoryItemRows[r].filter(a=>a.length>0)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-picker"]],inputs:{data:"data",selected:"selected"},outputs:{selectId:"selectId"},features:[n.qOj],ngContentSelectors:G6,decls:3,vars:1,consts:[["data-test","lab-picker-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[1,"dialog-menu"],["class","search","data-test","lab-picker-search-value","labFocus","",3,"ngModel","ngModelChange","input",4,"ngIf"],["data-test","lab-picker-search",3,"click",4,"ngIf"],[3,"click"],[1,"material-icons"],[1,"panel"],[1,"tabs"],["tabsScroll",""],[4,"ngFor","ngForOf"],[1,"tab","panel"],["tabScroll",""],[1,"tile"],["class","row",4,"ngFor","ngForOf"],["data-test","lab-picker-search-value","labFocus","",1,"search",3,"ngModel","ngModelChange","input"],["data-test","lab-picker-search",3,"click"],[3,"selected","data","iconId","scale","scrollLeft","tooltip","click",4,"ngIf"],[3,"data","iconId","scale","scrollLeft","tooltip","click"],[1,"row"],["class","grid",3,"data","iconId","scrollTop","tooltip","recipe","click",4,"ngFor","ngForOf"],[1,"grid",3,"data","iconId","scrollTop","tooltip","recipe","click"]],template:function(e,r){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.NdJ("click",function(){return r.clickOpen()}),n.Hsn(1),n.qZA(),n.YNc(2,Y6,18,4,"lab-dialog",1)),2&e&&(n.xp6(2),n.Q6J("ngIf",r.open))},directives:[ae,mc,Ci,Ti,xO,an,No,Mc],styles:["lab-dialog[_ngcontent-%COMP%] > .panel[_ngcontent-%COMP%]{padding:0 0 .75rem}.tabs[_ngcontent-%COMP%]{display:flex;max-width:27rem;overflow-x:auto}.tabs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:inherit;padding:.25rem}.tabs[_ngcontent-%COMP%] > .selected[_ngcontent-%COMP%]{background-color:var(--color-light);margin:.25rem;padding:0}.tabs[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.selected){cursor:pointer;background-color:var(--color-button);box-shadow:var(--shadow-button)}.tabs[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.selected):hover{background-color:var(--color-brand);box-shadow:var(--shadow-hover)}.tab[_ngcontent-%COMP%]{max-height:27rem;overflow-y:auto;margin:.75rem .75rem 0;padding:0}.row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]{padding:.125rem;border-radius:.25rem;background-color:var(--color-back);margin:1px;cursor:pointer;box-shadow:var(--shadow-item)}.row[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]:hover{background-color:var(--color-brand-drk);box-shadow:var(--shadow-hover)}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),t})();function X6(t,i){if(1&t&&n._UZ(0,"lab-icon",18),2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.Q6J("iconId",e)("tooltip",r.data.recipeEntities[e].name)("recipe",r.data.recipeEntities[e])("data",r.data)}}function eL(t,i){if(1&t&&n._UZ(0,"lab-icon",19),2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.Q6J("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("data",r.data)}}function tL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,X6,1,4,"lab-icon",16),n.YNc(2,eL,1,4,"ng-template",null,17,n.W1O),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw(4).$implicit,a=n.oxw();n.xp6(1),n.Q6J("ngIf",r.rateType===a.RateType.Factories)("ngIfElse",e)}}function nL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",22),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(5).$implicit;return n.oxw().setVia.emit({id:l.id,value:a})}),n._UZ(1,"lab-icon",23),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(3).$implicit,a=n.oxw();n.Q6J("data",a.data)("selected",e)("options",a.productOptions[r.id])("selectType",a.IdType.Recipe),n.xp6(1),n.Q6J("data",a.data)("iconId",e)("tooltip",a.data.recipeEntities[e].name)("recipe",a.data.recipeEntities[e])}}function iL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",24),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(5).$implicit;return n.oxw().setVia.emit({id:l.id,value:a})}),n._UZ(1,"lab-icon",25),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(3).$implicit,a=n.oxw();n.Q6J("data",a.data)("selected",e)("options",a.productOptions[r.id]),n.xp6(1),n.Q6J("data",a.data)("iconId",e)("tooltip",a.data.itemEntities[e].name)("item",a.data.itemEntities[e])}}function rL(t,i){if(1&t&&(n.YNc(0,nL,2,8,"lab-select",20),n.YNc(1,iL,2,7,"ng-template",null,21,n.W1O)),2&t){const e=n.MAs(2),r=n.oxw(4).$implicit,a=n.oxw();n.Q6J("ngIf",r.rateType===a.RateType.Factories)("ngIfElse",e)}}function oL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",29),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(3).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.setViaSetting.emit({id:f.id,value:a,def:h.itemSettings[l].belt})}),n._UZ(1,"lab-icon",30),n.qZA()}if(2&t){const e=n.oxw().ngIf,r=n.oxw(6);n.Q6J("data",r.data)("selected",e)("options",r.data.beltIds)("displayRate",r.displayRate),n.xp6(1),n.Q6J("data",r.data)("iconId",e)}}function sL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",32),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.setViaSetting.emit({id:f.id,value:a,def:h.itemSettings[l].belt})}),n._UZ(1,"lab-icon",33),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.Q6J("data",r.data)("selected",e)("options",r.data.pipeIds)("displayRate",r.displayRate),n.xp6(1),n.Q6J("data",r.data)("iconId",e)}}function aL(t,i){if(1&t&&n.YNc(0,sL,2,6,"lab-select",31),2&t){const e=n.oxw().ngIf,r=n.MAs(5),a=n.oxw(6);n.Q6J("ngIf",-1!==a.data.pipeIds.indexOf(e))("ngIfElse",r)}}function cL(t,i){if(1&t&&n._UZ(0,"lab-icon",34),2&t){const e=n.oxw().ngIf,r=n.oxw(6);n.Q6J("iconId",e)("tooltip",(null==r.data.itemEntities[e]?null:r.data.itemEntities[e].name)||r.PIPE)("data",r.data)}}function lL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,oL,2,6,"lab-select",26),n.YNc(2,aL,1,2,"ng-template",null,27,n.W1O),n.YNc(4,cL,1,3,"ng-template",null,28,n.W1O),n.BQk()),2&t){const e=i.ngIf,r=n.MAs(3),a=n.oxw(6);n.xp6(1),n.Q6J("ngIf",-1!==a.data.beltIds.indexOf(e))("ngIfElse",r)}}function uL(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"span"),n._uU(2,"using"),n.qZA(),n.YNc(3,lL,6,2,"ng-container",8),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw(3).$implicit,a=n.oxw();n.xp6(3),n.Q6J("ngIf",r.viaSetting||a.itemSettings[e].belt)}}function dL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"span"),n._uU(2,"using"),n.qZA(),n.TgZ(3,"lab-select",36),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.setViaSetting.emit({id:f.id,value:a,def:h.itemSettings[l].wagon})}),n._UZ(4,"lab-icon",37),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.xp6(3),n.Q6J("data",r.data)("selected",e)("options",r.data.cargoWagonIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function fL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,dL,5,7,"ng-container",8),n.BQk()),2&t){const e=n.oxw(7);n.xp6(1),n.Q6J("ngIf",e.data.cargoWagonIds.length>1)}}function pL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"span"),n._uU(2,"using"),n.qZA(),n.TgZ(3,"lab-select",38),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.setViaSetting.emit({id:f.id,value:a,def:h.itemSettings[l].wagon})}),n._UZ(4,"lab-icon",37),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(6);n.xp6(3),n.Q6J("data",r.data)("selected",e)("options",r.data.fluidWagonIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function hL(t,i){if(1&t&&n.YNc(0,pL,5,7,"ng-container",8),2&t){const e=n.oxw(7);n.Q6J("ngIf",e.data.fluidWagonIds.length>1)}}function _L(t,i){if(1&t&&(n.ynx(0),n.YNc(1,fL,2,1,"ng-container",13),n.YNc(2,hL,1,1,"ng-template",null,35,n.W1O),n.BQk()),2&t){const e=i.ngIf,r=n.MAs(3),a=n.oxw(6);n.xp6(1),n.Q6J("ngIf",-1===a.data.fluidWagonIds.indexOf(e))("ngIfElse",r)}}function gL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,_L,4,2,"ng-container",8),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw(3).$implicit,a=n.oxw();n.xp6(1),n.Q6J("ngIf",r.viaSetting||a.itemSettings[e].wagon)}}function mL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-select",41),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(5).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.changeFactory(l,a,h.setViaSetting,f.id)}),n._UZ(2,"lab-icon",42),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw().ngIf,a=n.oxw(6);n.xp6(1),n.Q6J("data",a.data)("selected",r)("options",e.producers),n.xp6(1),n.Q6J("data",a.data)("iconId",r)("tooltip",a.data.itemEntities[r].name)("item",a.data.itemEntities[r])}}function yL(t,i){if(1&t&&n._UZ(0,"lab-icon",43),2&t){const e=n.oxw(3).ngIf,r=n.oxw(6);n.Q6J("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("data",r.data)}}function vL(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"span"),n._uU(2,"using"),n.qZA(),n.YNc(3,mL,3,7,"ng-container",13),n.YNc(4,yL,1,4,"ng-template",null,40,n.W1O),n.BQk()),2&t){const e=n.MAs(5),r=n.oxw().ngIf;n.xp6(3),n.Q6J("ngIf",r.producers&&r.producers.length>1)("ngIfElse",e)}}function bL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",46),n.NdJ("selectId",function(a){const f=n.CHM(e).index,h=n.oxw(5).ngIf,g=n.oxw(3).$implicit,y=n.oxw();return y.changeFactoryModules(h,a,f,g.viaFactoryModules,y.setViaFactoryModules,g.id,g.viaSetting)}),n._UZ(1,"lab-icon",47),n.qZA()}if(2&t){const e=i.$implicit,r=i.first,a=n.oxw(5).ngIf,l=n.oxw(4);n.Q6J("data",l.data)("selected",e)("options",l.data.recipeModuleIds[a])("includeEmptyModule",l.data.game===l.Game.Factorio)("displayRate",l.displayRate),n.xp6(1),n.ekj("module",!r),n.Q6J("data",l.data)("iconId",e)("tooltip",null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)("item",l.data.itemEntities[e])("displayRate",l.displayRate)}}function CL(t,i){if(1&t&&(n.TgZ(0,"div",44),n.YNc(1,bL,2,12,"lab-select",45),n.qZA()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("ngForOf",e)}}function xL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",44),n.TgZ(1,"input",48),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw(4).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.changeOverclock(l,a,h.setViaOverclock,f.id,f.viaSetting)}),n.qZA(),n.TgZ(2,"span",49),n._uU(3,"%"),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(7).$implicit;n.xp6(1),n.Q6J("ngModel",e.viaOverclock)}}function wL(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"lab-icon",43),n.BQk()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(8);n.xp6(1),n.Q6J("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])("data",r.data)}}function EL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",52),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(6).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.changeBeacon(l,a,h.setViaBeacon,f.id,f.viaSetting)}),n._UZ(1,"lab-icon",53),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(8);n.Q6J("data",r.data)("selected",e)("options",r.data.beaconIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function TL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",55),n.NdJ("selectId",function(a){const f=n.CHM(e).index,h=n.oxw().ngIf,g=n.oxw(6).ngIf,y=n.oxw(3).$implicit,b=n.oxw();return b.changeBeaconModules(g,a,f,h,b.setViaBeaconModules,y.id,y.viaSetting,y.viaBeacon)}),n._UZ(1,"lab-icon",56),n.qZA()}if(2&t){const e=i.$implicit,r=i.first,a=n.oxw(11);n.Q6J("data",a.data)("selected",e)("options",a.data.beaconModuleIds)("includeEmptyModule",!0),n.xp6(1),n.ekj("module",!r),n.Q6J("data",a.data)("iconId",e)("tooltip",null==a.data.itemEntities[e]?null:a.data.itemEntities[e].name)("item",a.data.itemEntities[e])}}function IL(t,i){if(1&t&&(n.TgZ(0,"div",44),n.YNc(1,TL,2,10,"lab-select",54),n.qZA()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("ngForOf",e)}}function SL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,wL,2,4,"ng-container",13),n.YNc(2,EL,2,7,"ng-template",null,51,n.W1O),n.YNc(4,IL,2,1,"div",39),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw(8).$implicit,a=n.oxw();n.xp6(1),n.Q6J("ngIf",1===a.data.beaconIds.length)("ngIfElse",e),n.xp6(3),n.Q6J("ngIf",r.viaBeaconModules)}}function DL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-input",50),n.NdJ("setValue",function(a){n.CHM(e);const l=n.oxw(4).ngIf,f=n.oxw(3).$implicit,h=n.oxw();return h.changeBeaconCount(l,a,h.setViaBeaconCount,f.id,f.viaSetting)}),n.qZA(),n.YNc(2,SL,5,3,"ng-container",8),n.BQk()}if(2&t){const e=n.oxw(7).$implicit,r=n.oxw();n.xp6(1),n.Q6J("digits",2)("value",e.viaBeaconCount),n.xp6(1),n.Q6J("ngIf",r.gtZero(e.viaBeaconCount))}}function AL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,vL,6,2,"ng-container",8),n.YNc(2,CL,2,1,"div",39),n.YNc(3,xL,4,1,"div",39),n.YNc(4,DL,3,3,"ng-container",8),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw(5).$implicit,a=n.oxw();n.xp6(1),n.Q6J("ngIf",a.data.game!==a.Game.DysonSphereProgram||e!==a.ItemId.MiningDrill),n.xp6(1),n.Q6J("ngIf",r.viaFactoryModules),n.xp6(1),n.Q6J("ngIf",r.viaOverclock),n.xp6(1),n.Q6J("ngIf",r.viaBeacon)}}function ML(t,i){if(1&t&&(n.ynx(0),n.YNc(1,AL,5,4,"ng-container",8),n.BQk()),2&t){const e=n.oxw(2).ngIf,r=n.oxw(4);n.xp6(1),n.Q6J("ngIf",r.data.recipeEntities[e])}}function OL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,ML,2,1,"ng-container",8),n.BQk()),2&t){const e=n.oxw(4).$implicit;n.xp6(1),n.Q6J("ngIf",e.viaSetting)}}function PL(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"span"),n._uU(2,"of"),n.qZA(),n.YNc(3,tL,4,2,"ng-container",13),n.YNc(4,rL,3,2,"ng-template",null,15,n.W1O),n.YNc(6,uL,4,1,"ng-container",8),n.YNc(7,gL,2,1,"ng-container",8),n.YNc(8,OL,2,1,"ng-container",8),n.BQk()),2&t){const e=n.MAs(5),r=n.oxw(3).$implicit,a=n.oxw();n.xp6(3),n.Q6J("ngIf",1===a.productSteps[r.itemId].length)("ngIfElse",e),n.xp6(3),n.Q6J("ngIf",r.rateType===a.RateType.Belts),n.xp6(1),n.Q6J("ngIf",r.rateType===a.RateType.Wagons),n.xp6(1),n.Q6J("ngIf",r.rateType===a.RateType.Factories)}}function RL(t,i){if(1&t&&(n.ynx(0),n.YNc(1,PL,9,5,"ng-container",8),n.BQk()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",e.viaId)}}function NL(t,i){1&t&&(n.TgZ(0,"div",57),n._uU(1,"No matching enabled recipes"),n.qZA())}function FL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",9),n.NdJ("click",function(){n.CHM(e);const a=n.oxw().$implicit;return n.oxw().removeProduct.emit(a.id)}),n.TgZ(2,"i",4),n._uU(3,"remove"),n.qZA(),n.qZA(),n.TgZ(4,"span"),n._uU(5,"Produce"),n.qZA(),n.TgZ(6,"lab-picker",2),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw().$implicit;return n.oxw().changeItem(l,a)}),n._UZ(7,"lab-icon",10),n.qZA(),n.TgZ(8,"span"),n._uU(9,"from"),n.qZA(),n.TgZ(10,"lab-input",11),n.NdJ("setValue",function(a){n.CHM(e);const l=n.oxw().$implicit;return n.oxw().setRate.emit({id:l.id,value:a})}),n.qZA(),n.TgZ(11,"lab-options",12),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw().$implicit;return n.oxw().setRateType.emit({id:l.id,value:a})}),n.qZA(),n.YNc(12,RL,2,1,"ng-container",13),n.YNc(13,NL,2,0,"ng-template",null,14,n.W1O),n.BQk()}if(2&t){const e=n.MAs(14),r=n.oxw().$implicit,a=n.oxw();n.xp6(6),n.Q6J("data",a.data)("selected",r.itemId),n.xp6(1),n.Q6J("data",a.data)("iconId",r.itemId)("tooltip",a.data.itemEntities[r.itemId].name)("item",a.data.itemEntities[r.itemId])("displayRate",a.displayRate),n.xp6(3),n.Q6J("value",r.rate),n.xp6(1),n.Q6J("selected",r.rateType)("options",a.rateTypeOptions),n.xp6(1),n.Q6J("ngIf",a.productSteps[r.itemId].length>0)("ngIfElse",e)}}function kL(t,i){if(1&t&&(n.TgZ(0,"div",7),n.YNc(1,FL,15,12,"ng-container",8),n.qZA()),2&t){const e=i.$implicit,r=n.oxw();n.xp6(1),n.Q6J("ngIf",e&&r.data.itemEntities[e.itemId])}}let wO=(()=>{class t extends xu{constructor(){super(),this.products=[],this.removeProduct=new n.vpe,this.setItem=new n.vpe,this.setRate=new n.vpe,this.setRateType=new n.vpe,this.setVia=new n.vpe,this.setViaSetting=new n.vpe,this.setViaFactoryModules=new n.vpe,this.setViaBeaconCount=new n.vpe,this.setViaBeacon=new n.vpe,this.setViaBeaconModules=new n.vpe,this.setViaOverclock=new n.vpe,this.addProduct=new n.vpe,this.setDisplayRate=new n.vpe,this.DisplayRateOptions=ss,this.IdType=Gc,this.ItemId=$e,this.RateType=bt,this.Game=Xe,this.RecipeUtility=wn,this.PIPE="Pipe"}ngOnChanges(){this.rateTypeOptions=function(t,i){const e=[{id:bt.Items,name:`Items${Yc[t]}`},{id:bt.Belts,name:"Belts"},{id:bt.Wagons,name:`Wagons${Yc[t]}`},{id:bt.Factories,name:"Factories"}];return i===Xe.DysonSphereProgram?e.filter(r=>r.id!==bt.Wagons):e}(this.displayRate,this.data.game),this.productOptions={};for(const e of this.products)this.productOptions[e.id]=this.productSteps[e.itemId].map(r=>r[0])}trackBy(e,r){return r.id}changeItem(e,r){e.rateType===bt.Factories&&!this.data.itemRecipeIds[r]&&this.setRateType.emit({id:e.id,value:bt.Items}),this.setItem.emit({id:e.id,value:r})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-products"]],inputs:{productSteps:"productSteps",products:"products",itemSettings:"itemSettings",displayRate:"displayRate"},outputs:{removeProduct:"removeProduct",setItem:"setItem",setRate:"setRate",setRateType:"setRateType",setVia:"setVia",setViaSetting:"setViaSetting",setViaFactoryModules:"setViaFactoryModules",setViaBeaconCount:"setViaBeaconCount",setViaBeacon:"setViaBeacon",setViaBeaconModules:"setViaBeaconModules",setViaOverclock:"setViaOverclock",addProduct:"addProduct",setDisplayRate:"setDisplayRate"},features:[n.qOj,n.TTD],decls:12,vars:6,consts:[[1,"panel"],["class","product-row",4,"ngFor","ngForOf","ngForTrackBy"],[3,"data","selected","selectId"],["title","Add a product"],[1,"material-icons"],[1,"text"],["title","Select display rate",3,"selected","options","selectId"],[1,"product-row"],[4,"ngIf"],["title","Remove product",3,"click"],["title","Change item","hoverIcon","settings",1,"button",3,"data","iconId","tooltip","item","displayRate"],["title","Set output rate","placeholder","Rate",3,"value","setValue"],["title","Change rate type",1,"ratetype",3,"selected","options","selectId"],[4,"ngIf","ngIfElse"],["recipeNone",""],["viaPicker",""],["class","pad",3,"iconId","tooltip","recipe","data",4,"ngIf","ngIfElse"],["singleItem",""],[1,"pad",3,"iconId","tooltip","recipe","data"],[1,"pad",3,"iconId","tooltip","item","data"],["header","Select a step to calculate by",3,"data","selected","options","selectType","selectId",4,"ngIf","ngIfElse"],["itemPicker",""],["header","Select a step to calculate by",3,"data","selected","options","selectType","selectId"],["title","Change rate step","hoverIcon","settings",1,"button",3,"data","iconId","tooltip","recipe"],["header","Select a step to calculate by",3,"data","selected","options","selectId"],["title","Change rate step","hoverIcon","settings",1,"button",3,"data","iconId","tooltip","item"],["header","Select a belt",3,"data","selected","options","displayRate","selectId",4,"ngIf","ngIfElse"],["pipePicker",""],["pipeIcon",""],["header","Select a belt",3,"data","selected","options","displayRate","selectId"],["tooltip","Change rate step belt",1,"button",3,"data","iconId"],["header","Select a pipe",3,"data","selected","options","displayRate","selectId",4,"ngIf","ngIfElse"],["header","Select a pipe",3,"data","selected","options","displayRate","selectId"],["tooltip","Change rate step pipe",1,"button",3,"data","iconId"],[3,"iconId","tooltip","data"],["fluidWagon",""],["header","Select a cargo wagon",3,"data","selected","options","selectId"],["title","Change rate step wagon",1,"button",3,"data","iconId","tooltip","item"],["header","Select a fluid wagon",3,"data","selected","options","selectId"],["class","flex",4,"ngIf"],["factoryDefault",""],["header","Select a factory",3,"data","selected","options","selectId"],["title","Change rate step factory",1,"button",3,"data","iconId","tooltip","item"],[3,"iconId","tooltip","item","data"],[1,"flex"],["header","Select a module",3,"data","selected","options","includeEmptyModule","displayRate","selectId",4,"ngFor","ngForOf"],["header","Select a module",3,"data","selected","options","includeEmptyModule","displayRate","selectId"],["title","Change rate step factory module",1,"button",3,"data","iconId","tooltip","item","displayRate"],["type","number","title","Set rate step overclock","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"ngModel","input"],[2,"margin-left","0.25rem"],["title","Set rate step number of beacons","placeholder","# Beacons",3,"digits","value","setValue"],["beaconPicker",""],["header","Select a beacon",3,"data","selected","options","selectId"],["title","Set rate step beacon",1,"button",3,"data","iconId","tooltip","item"],["header","Select a module",3,"data","selected","options","includeEmptyModule","selectId",4,"ngFor","ngForOf"],["header","Select a module",3,"data","selected","options","includeEmptyModule","selectId"],["title","Change rate step beacon module",1,"button",3,"data","iconId","tooltip","item"],[1,"invalid"]],template:function(e,r){1&e&&(n.TgZ(0,"h2"),n._uU(1,"Products"),n.qZA(),n.TgZ(2,"div",0),n.YNc(3,kL,2,1,"div",1),n.TgZ(4,"div"),n.TgZ(5,"lab-picker",2),n.NdJ("selectId",function(l){return r.addProduct.emit(l)}),n.TgZ(6,"button",3),n.TgZ(7,"i",4),n._uU(8,"add"),n.qZA(),n.TgZ(9,"div",5),n._uU(10,"Add a product"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"lab-options",6),n.NdJ("selectId",function(l){return r.setDisplayRate.emit({value:l,prev:r.displayRate})}),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngForOf",r.products)("ngForTrackBy",r.trackBy),n.xp6(2),n.Q6J("data",r.data)("selected",r.data.itemIds[0]),n.xp6(6),n.Q6J("selected",r.displayRate)("options",r.DisplayRateOptions))},directives:[Ci,K6,yc,ae,Mc,XC,VD,bl,Fd,ml,Ti,UD,an,No],styles:["body[_ngcontent-%COMP%]{--color-white: #fff;--color-button: #8e8e8e;--color-disabled: #585858;--color-dark: #242324;--color-back: #313031;--color-light: #403f40;--color-black: #000;--color-link: #7dcaed;--color-link-alt: #9ad1ea;--color-input: #828282;--color-input-alt: #f0dab4;--color-brand: #fca000;--color-brand-alt: #f1be64;--color-brand-drk: #b26e00;--color-brand-sha: #f9b44b;--color-brand-che: #e39827;--color-header: #ffe6c0;--color-scroll: #201810;--color-green: #5eb663;--color-green-alt: #34be3c;--color-red: #fe5a5a;--shadow-button: inset 8px 0 4px -8px #000, inset -8px 0 4px -8px #000, inset 0 10px 2px -8px #e3e3e3, inset 0 10px 2px -8px #282828, inset 0 -9px 2px -8px #000, 0 0 4px 0 #000;--shadow-button-sm: inset 4px 0 2px -4px #150802, inset -4px 0 2px -4px #150802, inset 0 4px 2px -4px #969490, inset 0 -4px 2px -3px #000, 0 -1px 2px 0px #000, 0 1px 2px 0px #7e7b79;--shadow-button-ac: inset 8px 0 4px -8px #000, inset -8px 0 4px -8px #000, inset 0 10px 2px -8px #969490, inset 0 10px 2px -8px #282828, 0 10px 4px -1px #403f40;--shadow-button-dk: inset 8px 0 4px -8px #000, inset -8px 0 4px -8px #000, inset 0 10px 2px -8px #969490, inset 0 10px 2px -8px #282828;--shadow-button-gr: inset 8px 0 4px -8px #000, inset 0 10px 2px -8px #95df99, inset 0 10px 2px -8px #163218, inset 0 -9px 2px -8px #000, 0 0 4px 0 #000;--shadow-input: inset 0 4px 1px -2px #000, inset 0 -4px 1px -2px #c5c5c5, inset 2px 0 1px 0 #5f5f5f, inset -2px 0 1px 0 #5f5f5f, inset 0 -2px 2px 0 #5f5f5f, 0 0 4px 1px #2e2521;--shadow-check: inset 0 4px 2.5px -2.5px #111, inset 2px 0 2px 0 #323232, inset -2px 0 2px 0 #323232, inset 0 -1px 1px 0 #fff, inset 0 -4px 2px -2px #8e8e8e, 0 0 4px 1px #2e2521;--shadow-panel: inset 0 0 3px 0 #000, 0 -2px 2px -1px #000, -2px 0 2px -2px #28221f, -2px 0 2px -2px #28221f, 2px 0 2px -2px #28221f, 2px 0 2px -2px #28221f, 0 3px 3px -3px #8f8c8b, 0 2px 2px -2px #8f8c8b, 0 1px 1px -1px #8f8c8b;--shadow-hole: inset 0 2px 2px -2px #000, inset 0 2px 2px -2px #000, inset 0 0 2px 0 #33302f, inset 0 0 2px 0 #33302f, inset 0 -2px 2px -2px #fff, 0 0 2px 0 #2b2b2b;--shadow-inner: inset 0 0 4px 0 #2d2d2d, 0 -2px 2px -2px #888, 0 -2px 2px -2px #888, -2px 0 2px -2px #000, 2px 0 2px -2px #000, 0 2px 2px -2px #000;--shadow-hover: inset 8px 0 4px -8px #000, inset -8px 0 4px -8px #000, inset 0 9px 2px -8px #fff, inset 0 8px 4px -8px #000, inset 0 -8px 4px -8px #000, inset 0 -9px 2px -8px #432400, 0 0 4px 0 #000, inset 0 0 4px 2px #f9b44b;--shadow-hover-sm: inset 4px 0 2px -4px #000, inset -4px 0 2px -4px #000, inset 0 5px 1px -4px #fff, inset 0 4px 2px -4px #000, inset 0 -4px 4px -4px #000, inset 0 -5px 1px -4px #432400, 0 0 2px 0 #000, inset 0 0 2px 1px #f9b44b;--shadow-hover-ch: inset 0 4px 2px -2px #412a07, inset 2px 0 2px 0 #5a3c10, inset -2px 0 2px 0 #5a3c10, inset 0 -2px 2px 0 #d0ae79, inset 0 -2px 4px 0 #c78627, 0 0 4px 1px #786b4f;--shadow-active: inset 0 10px 2px -8px #000, inset 0 9px 2px -8px #000, inset 8px 0 4px -8px #563a10, inset 8px 0 4px -8px #563a10, inset -8px 0 4px -8px #563a10, inset -8px 0 4px -8px #563a10, inset 0 9px 2px -8px #563a10, inset 0 -9px 2px -8px #563a10, inset 0 -8.5px 0 -8px #563a10, 0 0 4px 0 #000;--shadow-active-sm: inset 0 5px 1px -4px #000, inset 0 5px 1px -4px #000, inset 4px 0 2px -4px #563a10, inset 4px 0 2px -4px #563a10, inset -4px 0 2px -4px #563a10, inset -4px 0 2px -4px #563a10, inset 0 5px 1px -4px #563a10, inset 0 -5px 1px -4px #563a10, inset 0 -4px 0 -4px #563a10, 0 0 2px 0 #000;--shadow-main: inset 3px 0 3px -3px #201815, inset 2px 0 2px -2px #201815, inset 1px 0 1px -1px #201815, inset 0 3px 3px -3px #8f8c8b, inset 0 2px 2px -2px #8f8c8b, inset 0 1px 1px -1px #8f8c8b, inset -3px 0 3px -3px #201815, inset -2px 0 2px -2px #201815, inset -2px 0 1px -1px #201815, inset 0 -3px 3px -3px #000, inset 0 -2px 2px -2px #000, inset 0 -1px 1px -1px #000, 0 0 2px 0 #201815, 0 0 4px 0 #201815;--shadow-tip: inset 4px 0 2px -4px #000, inset -4px 0 2px -4px #000, inset 0 5px 1px -4px #e3e3e3, inset 0 5px 1px -4px #282828, inset 0 -5px 1px -4px #000, 0 0 2px 0 #000;--shadow-item: inset 0 -4px .5px -2px #121212, inset 5px 0 2px -2.5px #1f1f1f, inset -3px 0 1px -1.5px #292929, inset 0 4px 1px -2px #515050}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.ratetype[_ngcontent-%COMP%]{width:7.5rem}"],changeDetection:0}),t})(),LL=(()=>{class t{constructor(e){this.store=e}ngOnInit(){this.data$=this.store.select(Yi),this.productSteps$=this.store.select(hc),this.products$=this.store.select(pp),this.itemSettings$=this.store.select(Wo),this.recipeSettings$=this.store.select(pc),this.factories$=this.store.select(dc),this.displayRate$=this.store.select(Ut)}removeProduct(e){this.store.dispatch(new Qn(e))}setItem(e){this.store.dispatch(new IS(e))}setRate(e){this.store.dispatch(new SS(e))}setRateType(e){this.store.dispatch(new im(e))}setVia(e){this.store.dispatch(new dC(e))}setViaSetting(e){this.store.dispatch(new DS(e))}setViaFactoryModules(e){this.store.dispatch(new AS(e))}setViaBeaconCount(e){this.store.dispatch(new MS(e))}setViaBeacon(e){this.store.dispatch(new OS(e))}setViaBeaconModules(e){this.store.dispatch(new PS(e))}setViaOverclock(e){this.store.dispatch(new rm(e))}addProduct(e){this.store.dispatch(new TS(e))}setDisplayRate(e){this.store.dispatch(new $b(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Ce.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-products-container"]],viewQuery:function(e,r){if(1&e&&n.Gf(wO,5),2&e){let a;n.iGM(a=n.CRH())&&(r.child=a.first)}},decls:8,vars:21,consts:[[3,"data","productSteps","products","itemSettings","recipeSettings","factories","displayRate","removeProduct","setItem","setRate","setRateType","setVia","setViaSetting","setViaFactoryModules","setViaBeaconCount","setViaBeacon","setViaBeaconModules","setViaOverclock","addProduct","setDisplayRate"]],template:function(e,r){1&e&&(n.TgZ(0,"lab-products",0),n.NdJ("removeProduct",function(l){return r.removeProduct(l)})("setItem",function(l){return r.setItem(l)})("setRate",function(l){return r.setRate(l)})("setRateType",function(l){return r.setRateType(l)})("setVia",function(l){return r.setVia(l)})("setViaSetting",function(l){return r.setViaSetting(l)})("setViaFactoryModules",function(l){return r.setViaFactoryModules(l)})("setViaBeaconCount",function(l){return r.setViaBeaconCount(l)})("setViaBeacon",function(l){return r.setViaBeacon(l)})("setViaBeaconModules",function(l){return r.setViaBeaconModules(l)})("setViaOverclock",function(l){return r.setViaOverclock(l)})("addProduct",function(l){return r.addProduct(l)})("setDisplayRate",function(l){return r.setDisplayRate(l)}),n.ALo(1,"async"),n.ALo(2,"async"),n.ALo(3,"async"),n.ALo(4,"async"),n.ALo(5,"async"),n.ALo(6,"async"),n.ALo(7,"async"),n.qZA()),2&e&&n.Q6J("data",n.lcZ(1,7,r.data$))("productSteps",n.lcZ(2,9,r.productSteps$))("products",n.lcZ(3,11,r.products$))("itemSettings",n.lcZ(4,13,r.itemSettings$))("recipeSettings",n.lcZ(5,15,r.recipeSettings$))("factories",n.lcZ(6,17,r.factories$))("displayRate",n.lcZ(7,19,r.displayRate$))},directives:[wO],pipes:[Ys],styles:[""],changeDetection:0}),t})();const ZL=["scrollContainer"];function BL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"input",19),n.NdJ("ngModelChange",function(a){return n.CHM(e),n.oxw(2).searchValue=a})("input",function(){return n.CHM(e),n.oxw(2).inputSearch()}),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("ngModel",e.searchValue)}}function VL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).search=!0}),n.TgZ(1,"i",10),n._uU(2,"search"),n.qZA(),n.qZA()}}function UL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-icon",21),n.NdJ("click",function(){const l=n.CHM(e).$implicit;return n.oxw(2).clickId(l)}),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(2);n.ekj("ignored",-1!==r.editValue.indexOf(e)),n.Q6J("data",r.data)("iconId",e)("scrollTop",r.scrollTop)("tooltip",r.data.recipeEntities[e].name)("recipe",r.data.recipeEntities[e])}}function jL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-dialog",3),n.NdJ("closeDialog",function(){return n.CHM(e),n.oxw().close()}),n.TgZ(1,"div",4),n.TgZ(2,"div",5),n._uU(3,"Select recipes"),n.qZA(),n.TgZ(4,"div",6),n.YNc(5,BL,1,1,"input",7),n.YNc(6,VL,3,0,"button",8),n.TgZ(7,"button",9),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(8,"i",10),n._uU(9,"close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",11,12),n.NdJ("scroll",function(){return n.CHM(e),n.oxw().scrollPanel()}),n.TgZ(12,"div",13),n.TgZ(13,"button",14),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return a.edited=!0,a.editValue=[]}),n.TgZ(14,"span",1),n._uU(15,"Enable all"),n.qZA(),n.qZA(),n.TgZ(16,"button",14),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return a.edited=!0,a.editValue=a.data.complexRecipeIds}),n.TgZ(17,"span",1),n._uU(18,"Disable all"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",15),n.YNc(20,UL,1,7,"lab-icon",16),n.qZA(),n.qZA(),n.TgZ(21,"div",17),n.TgZ(22,"button",9),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(23,"span",1),n._uU(24,"Cancel"),n.qZA(),n.qZA(),n.TgZ(25,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw().close()}),n._uU(26," Confirm "),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.Udp("width",e.width,"rem"),n.xp6(5),n.Q6J("ngIf",e.search),n.xp6(1),n.Q6J("ngIf",!e.search),n.xp6(7),n.Q6J("disabled",!e.editValue.length),n.xp6(3),n.Q6J("disabled",e.editValue.length===e.data.complexRecipeIds.length),n.xp6(4),n.Q6J("ngForOf",e.complexRecipeIds)}}let qL=(()=>{class t extends gc{constructor(){super(),this.selectIds=new n.vpe,this.edited=!1,this.scrollTop=0}get width(){return 2.375*Math.ceil(Math.sqrt(this.data.complexRecipeIds.length)+2)+3}clickOpen(){this.open=!0,this.edited=!1,this.search=!1,this.searchValue="",this.complexRecipeIds=this.data.complexRecipeIds,this.editValue=[...this.selected]}close(){this.edited&&this.selectIds.emit(this.editValue),this.open=!1}clickId(e){this.edited=!0,-1===this.editValue.indexOf(e)?this.editValue.push(e):this.editValue=this.editValue.filter(r=>r!==e)}inputSearch(){let e=this.data.complexRecipeIds;for(const r of this.searchValue.split(" ")){const a=new RegExp(r,"i");e=e.filter(l=>-1!==this.data.recipeEntities[l].name.search(a))}this.complexRecipeIds=e}scrollPanel(){this.scrollTop=this.scrollContainer.nativeElement.scrollTop}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-toggle"]],viewQuery:function(e,r){if(1&e&&n.Gf(ZL,5),2&e){let a;n.iGM(a=n.CRH())&&(r.scrollContainer=a.first)}},inputs:{data:"data",selected:"selected"},outputs:{selectIds:"selectIds"},features:[n.qOj],decls:4,vars:3,consts:[["title","Select disabled recipes","data-test","lab-toggle-open",3,"click"],[1,"text"],[3,"width","closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[1,"dialog-menu"],["class","search","data-test","lab-toggle-search-value","labFocus","",3,"ngModel","ngModelChange","input",4,"ngIf"],["data-test","lab-toggle-search",3,"click",4,"ngIf"],[3,"click"],[1,"material-icons"],[1,"panel","scroll",3,"scroll"],["scrollContainer",""],[1,"flex","buttons"],[3,"disabled","click"],[1,"flex","panel","dark","tile"],["class","button grid","data-test","lab-toggle-recipe",3,"ignored","data","iconId","scrollTop","tooltip","recipe","click",4,"ngFor","ngForOf"],[1,"dialog-buttons"],["data-test","lab-toggle-close",1,"green",3,"click"],["data-test","lab-toggle-search-value","labFocus","",1,"search",3,"ngModel","ngModelChange","input"],["data-test","lab-toggle-search",3,"click"],["data-test","lab-toggle-recipe",1,"button","grid",3,"data","iconId","scrollTop","tooltip","recipe","click"]],template:function(e,r){1&e&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return r.clickOpen()}),n.TgZ(1,"span",1),n._uU(2),n.qZA(),n.qZA(),n.YNc(3,jL,27,7,"lab-dialog",2)),2&e&&(n.xp6(2),n.AsE("",r.selected.length," Recipe",1===r.selected.length?"":"s",""),n.xp6(1),n.Q6J("ngIf",r.open))},directives:[ae,mc,Ci,Ti,xO,an,No,Mc],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%] > lab-dialog[_ngcontent-%COMP%]{max-width:25.5rem;max-height:24.5rem;display:flex;flex-direction:column}.scroll[_ngcontent-%COMP%]{overflow-y:auto;padding-bottom:0}.tile[_ngcontent-%COMP%]{flex-wrap:wrap;margin-bottom:.75rem}.buttons[_ngcontent-%COMP%]{margin-bottom:.5rem}.buttons[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),t})();function $L(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-icon",14),n.NdJ("click",function(){const l=n.CHM(e).$implicit;return n.oxw(3).clickId(l)}),n.qZA()}if(2&t){const e=i.$implicit;n.oxw(2);const r=n.MAs(8),a=n.oxw();n.ekj("disabled",!a.canAdd(e))("selected",-1!==a.editValue.indexOf(e)),n.Q6J("data",a.data)("iconId",e)("text",a.text(e))("tooltip",a.data.itemEntities[e]?a.data.itemEntities[e].name:null)("item",a.data.itemEntities[e])("scrollTop",r.scrollTop)("displayRate",a.displayRate)}}function HL(t,i){if(1&t&&(n.TgZ(0,"div",9),n.YNc(1,$L,1,11,"lab-icon",13),n.qZA()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("ngForOf",e)}}function zL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",15),n._uU(2," (Optional) Select another module to use as a fallback "),n.qZA(),n.TgZ(3,"div",16),n.TgZ(4,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).cancel()}),n.TgZ(5,"span",17),n._uU(6,"Cancel"),n.qZA(),n.qZA(),n.TgZ(7,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).close()}),n._uU(8," Confirm "),n.qZA(),n.qZA(),n.BQk()}}function QL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-dialog",2),n.NdJ("closeDialog",function(){return n.CHM(e),n.oxw().close()}),n.TgZ(1,"div",3),n.TgZ(2,"div",4),n._uU(3,"Select modules"),n.qZA(),n.TgZ(4,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.TgZ(5,"i",6),n._uU(6,"close"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",7,8),n.TgZ(9,"div",9),n.TgZ(10,"lab-icon",10),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return a.clickId(a.ItemId.Module)}),n.qZA(),n.qZA(),n.YNc(11,HL,2,1,"div",11),n.qZA(),n.YNc(12,zL,9,0,"ng-container",12),n.qZA()}if(2&t){const e=n.MAs(8),r=n.oxw();n.xp6(7),n.Udp("width",r.width,"rem"),n.xp6(3),n.ekj("disabled",!r.canAdd(r.ItemId.Module))("selected",!r.editValue.length),n.Q6J("data",r.data)("iconId",r.ItemId.Module)("text",r.text(r.ItemId.Module))("scrollTop",e.scrollTop),n.xp6(1),n.Q6J("ngForOf",r.rows),n.xp6(1),n.Q6J("ngIf",r.edited)}}const JL=["*"];let WL=(()=>{class t extends gc{constructor(){super(),this.selectIds=new n.vpe,this.edited=!1,this.ItemId=$e}set options(e){this.rows=this.moduleRows(e)}get width(){const e=2.375*Math.max(...this.rows.map(r=>r.length));return this.rows.length>5?e+1.125:e}text(e){return this.editValue.length>0&&-1!==this.editValue.indexOf(e)?(this.editValue.indexOf(e)+1).toString():null}canAdd(e){if(!this.edited||e===$e.Module)return!0;if(-1!==this.editValue.indexOf(e))return!1;const r=this.data.itemEntities[e].module.limitation;return!r||!this.editValue.some(a=>this.data.itemEntities[a].module.limitation===r)}clickOpen(){this.open=!0,this.edited=!1,this.editValue=[...this.selected]}close(){this.edited&&this.selectIds.emit(this.editValue),this.open=!1}clickId(e){e===$e.Module?(this.selectIds.emit(this.edited?this.editValue:[]),this.cancel()):this.canAdd(e)&&(this.edited?this.editValue.push(e):(this.edited=!0,this.editValue=[e]),this.data.itemEntities[e].module.limitation||(this.selectIds.emit(this.editValue),this.cancel()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-ranker"]],inputs:{data:"data",selected:"selected",options:"options",displayRate:"displayRate"},outputs:{selectIds:"selectIds"},features:[n.qOj],ngContentSelectors:JL,decls:3,vars:1,consts:[["data-test","lab-ranker-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[3,"click"],[1,"material-icons"],[1,"panel","scroll"],["scroll",""],[1,"tile"],["tooltip","No Module","data-test","lab-ranker-none",1,"grid",3,"data","iconId","text","scrollTop","click"],["class","tile",4,"ngFor","ngForOf"],[4,"ngIf"],["class","grid","data-test","lab-ranker-option",3,"disabled","selected","data","iconId","text","tooltip","item","scrollTop","displayRate","click",4,"ngFor","ngForOf"],["data-test","lab-ranker-option",1,"grid",3,"data","iconId","text","tooltip","item","scrollTop","displayRate","click"],[1,"info"],[1,"dialog-buttons"],[1,"text"],["data-test","lab-toggle-close",1,"green",3,"click"]],template:function(e,r){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.NdJ("click",function(){return r.clickOpen()}),n.Hsn(1),n.qZA(),n.YNc(2,QL,13,12,"lab-dialog",1)),2&e&&(n.xp6(2),n.Q6J("ngIf",r.open))},directives:[ae,mc,Mc,Ci],styles:["[_nghost-%COMP%]{display:flex}lab-dialog[_ngcontent-%COMP%]{max-width:24rem}.scroll[_ngcontent-%COMP%]{overflow-y:auto;max-height:16rem;padding:0}.scroll[_ngcontent-%COMP%] > .tile[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0}lab-icon.grid.disabled[_ngcontent-%COMP%]{cursor:default;background-color:inherit;box-shadow:inherit}lab-icon.grid.disabled[_ngcontent-%COMP%]:hover{background-color:inherit;box-shadow:inherit}.info[_ngcontent-%COMP%]{margin-top:.5rem;font-size:small}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),t})();function YL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",42),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).clickRemoveState()}),n.TgZ(1,"i",3),n._uU(2,"delete"),n.qZA(),n.qZA()}}function GL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",43),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).toggleEditState()}),n.TgZ(1,"i",3),n._uU(2,"edit"),n.qZA(),n.qZA()}}function KL(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-options",39),n.NdJ("selectId",function(a){return n.CHM(e),n.oxw().setState(a)}),n.qZA(),n.YNc(2,YL,3,0,"button",40),n.YNc(3,GL,3,0,"button",41),n.BQk()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("selected",e.state)("options",e.savedStates),n.xp6(1),n.Q6J("ngIf",e.state),n.xp6(1),n.Q6J("ngIf",e.BrowserUtility.search)}}function XL(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",47),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).clickSaveState()}),n.TgZ(1,"i",3),n._uU(2,"save"),n.qZA(),n.qZA()}}function eZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"input",44),n.NdJ("ngModelChange",function(a){return n.CHM(e),n.oxw().tempState=a}),n.qZA(),n.YNc(1,XL,3,0,"button",45),n.TgZ(2,"button",46),n.NdJ("click",function(){return n.CHM(e),n.oxw().toggleEditState()}),n.TgZ(3,"i",3),n._uU(4,"close"),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("ngModel",e.tempState),n.xp6(1),n.Q6J("ngIf",e.tempState&&e.BrowserUtility.search)}}function tZ(t,i){1&t&&(n.TgZ(0,"a",48),n._uU(1,"Request a mod"),n.qZA())}function nZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",49),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"lab-options",50),n.NdJ("selectId",function(a){return n.CHM(e),n.oxw().setBase.emit(a)}),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(4),n.Q6J("selected",e.settings.baseId)("options",e.baseOptions)}}function iZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",51),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"lab-options",52),n.NdJ("selectId",function(a){return n.CHM(e),n.oxw().setExpensive.emit(a)}),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(4),n.Q6J("selected",e.settings.expensive)("options",e.difficultyOptions)}}function rZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",59),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4);return l.addFactory.emit({value:a,def:l.data.defaults.factoryRank})}),n.TgZ(1,"button",60),n.TgZ(2,"i",3),n._uU(3,"add"),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(4);n.Q6J("data",e.data)("options",e.factoryOptions)("data",e.data)}}function oZ(t,i){if(1&t&&(n.ynx(0),n.YNc(1,rZ,4,3,"lab-select",58),n.BQk()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.factoryOptions.length)}}function sZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",61),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw();return l.removeFactory.emit({value:a,def:l.data.defaults.factoryRank})}),n.TgZ(1,"i",3),n._uU(2,"remove"),n.qZA(),n.qZA()}}function aZ(t,i){if(1&t&&n._UZ(0,"lab-icon",62),2&t){const e=n.oxw(2).$implicit,r=n.oxw();n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function cZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",63),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(2).$implicit,f=n.oxw();return f.setFactory.emit({id:l,value:a,def:f.data.defaults.factoryRank})}),n._UZ(1,"lab-icon",64),n.qZA()}if(2&t){const e=n.oxw(2).$implicit,r=n.oxw();n.Q6J("data",r.data)("selected",e)("options",r.factoryOptions)("data",r.data),n.xp6(1),n.Q6J("data",r.data)("iconId",e)("tooltip",r.data.itemEntities[e].name)("item",r.data.itemEntities[e])}}function lZ(t,i){if(1&t&&n._UZ(0,"lab-icon",65),2&t){const e=n.oxw(3);n.Q6J("data",e.data)}}function uZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-ranker",68),n.NdJ("selectIds",function(a){n.CHM(e);const l=n.oxw(3).$implicit,f=n.oxw();return f.setModuleRank.emit({id:l,value:a,def:""===l?f.data.defaults.moduleRank:f.factories.entities[""].moduleRank})}),n._UZ(1,"lab-icon",69),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(2);n.Q6J("data",r.data)("selected",e.moduleRank)("options",r.data.moduleIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e.moduleRank.length?e.moduleRank[0]:r.ItemId.Module)("text",e.moduleRank.length>1?e.moduleRank.length.toString():null)}}function dZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",70),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(3).$implicit,f=n.oxw();return f.setModuleRank.emit({id:l,value:[a],def:""===l?f.data.defaults.moduleRank:f.factories.entities[""].moduleRank})}),n._UZ(1,"lab-icon",69),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(2);n.Q6J("data",r.data)("selected",e.moduleRank[0])("options",r.data.moduleIds)("displayRate",r.settings.displayRate),n.xp6(1),n.Q6J("data",r.data)("iconId",e.moduleRank.length?e.moduleRank[0]:r.ItemId.Module)("text",e.moduleRank.length>1?e.moduleRank.length.toString():null)}}function fZ(t,i){if(1&t&&(n.ynx(0),n.YNc(1,uZ,2,6,"lab-ranker",66),n.YNc(2,dZ,2,7,"ng-template",null,67,n.W1O),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw(3);n.xp6(1),n.Q6J("ngIf",r.data.game===r.Game.Factorio)("ngIfElse",e)}}function pZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",71),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw(2).$implicit;return n.oxw().changeOverclock(l,a)}),n.qZA(),n._uU(2," % "),n.qZA()}if(2&t){const e=n.oxw().ngIf;n.xp6(1),n.Q6J("ngModel",e.overclock)}}function hZ(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"lab-input",73),n.NdJ("setValue",function(a){n.CHM(e);const l=n.oxw(3).$implicit;return n.oxw().changeBeaconCount(l,a)}),n.qZA(),n.BQk()}if(2&t){const e=n.oxw(2).ngIf;n.xp6(1),n.Q6J("digits",2)("value",e.beaconCount)}}function _Z(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"lab-icon",62),n.BQk()),2&t){const e=n.oxw(3).ngIf,r=n.oxw(2);n.xp6(1),n.Q6J("data",r.data)("iconId",e.beacon)("tooltip",r.data.itemEntities[e.beacon].name)("item",r.data.itemEntities[e.beacon])}}function gZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",75),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(4).$implicit,f=n.oxw();return f.setBeacon.emit({id:l,value:a,def:""===l?f.data.defaults.beacon:f.factories.entities[""].beacon})}),n._UZ(1,"lab-icon",76),n.qZA()}if(2&t){const e=n.oxw(3).ngIf,r=n.oxw(2);n.Q6J("data",r.data)("selected",e.beacon)("options",r.data.beaconIds),n.xp6(1),n.Q6J("data",r.data)("iconId",e.beacon)}}function mZ(t,i){if(1&t&&(n.ynx(0),n.YNc(1,_Z,2,4,"ng-container",9),n.YNc(2,gZ,2,5,"ng-template",null,74,n.W1O),n.BQk()),2&t){const e=n.MAs(3),r=n.oxw(4);n.xp6(1),n.Q6J("ngIf",1===r.data.beaconIds.length)("ngIfElse",e)}}function yZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-select",77),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw(3).$implicit,f=n.oxw();return f.setBeaconModule.emit({id:l,value:a,def:""===l?f.data.defaults.beaconModule:f.factories.entities[""].beaconModule})}),n._UZ(1,"lab-icon",78),n.qZA()}if(2&t){const e=n.oxw(2).ngIf,r=n.oxw(2);n.Q6J("data",r.data)("selected",e.beaconModule)("options",r.data.beaconModuleIds)("includeEmptyModule",!0),n.xp6(1),n.Q6J("data",r.data)("iconId",e.beaconModule)}}function vZ(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"td"),n.YNc(2,hZ,2,2,"ng-container",16),n.qZA(),n.TgZ(3,"td"),n.YNc(4,mZ,4,2,"ng-container",16),n.qZA(),n.TgZ(5,"td"),n.YNc(6,yZ,2,6,"lab-select",72),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf,r=n.oxw(2);n.xp6(2),n.Q6J("ngIf",null!=e.beaconCount),n.xp6(2),n.Q6J("ngIf",r.gtZero(e.beaconCount)),n.xp6(2),n.Q6J("ngIf",r.gtZero(e.beaconCount))}}function bZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",79),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2).$implicit,l=n.oxw();return l.raiseFactory.emit({value:a,def:l.data.defaults.factoryRank})}),n.TgZ(1,"i",3),n._uU(2,"arrow_drop_up"),n.qZA(),n.qZA()}}function CZ(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n.YNc(2,oZ,2,1,"ng-container",16),n.YNc(3,sZ,3,0,"button",53),n.qZA(),n.TgZ(4,"td"),n.YNc(5,aZ,1,4,"lab-icon",54),n.YNc(6,cZ,2,8,"lab-select",55),n.YNc(7,lZ,1,1,"lab-icon",56),n.qZA(),n.TgZ(8,"td"),n.YNc(9,fZ,4,2,"ng-container",16),n.qZA(),n.YNc(10,pZ,3,1,"td",16),n.YNc(11,vZ,7,3,"ng-container",16),n.TgZ(12,"td"),n.YNc(13,bZ,3,0,"button",57),n.qZA(),n.qZA()),2&t){const e=i.ngIf,r=n.oxw(),a=r.$implicit,l=r.index,f=n.oxw();n.xp6(2),n.Q6J("ngIf",!a),n.xp6(1),n.Q6J("ngIf",a),n.xp6(2),n.Q6J("ngIf",a&&!f.factoryOptions.length),n.xp6(1),n.Q6J("ngIf",a&&f.factoryOptions.length),n.xp6(1),n.Q6J("ngIf",!a),n.xp6(2),n.Q6J("ngIf",e.moduleRank),n.xp6(1),n.Q6J("ngIf",f.data.game===f.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",f.data.game===f.Game.Factorio),n.xp6(2),n.Q6J("ngIf",l>1)}}function xZ(t,i){if(1&t&&(n.ynx(0),n.YNc(1,CZ,14,9,"tr",16),n.BQk()),2&t){const e=i.$implicit,r=n.oxw();n.xp6(1),n.Q6J("ngIf",r.factories.entities[e])}}function wZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",84),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"div"),n.TgZ(5,"lab-input",85),n.NdJ("setValue",function(a){return n.CHM(e),n.oxw(2).setBeaconReceivers.emit(a)}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(5),n.Q6J("digits",2)("value",e.settings.beaconReceivers)}}function EZ(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"tr"),n.TgZ(2,"td",80),n.TgZ(3,"div",81),n.NdJ("click",function(){return n.CHM(e),n.oxw().toggleBeaconPower()}),n._UZ(4,"div",82),n._UZ(5,"lab-info",83),n.qZA(),n.qZA(),n.qZA(),n.YNc(6,wZ,6,2,"tr",16),n.BQk()}if(2&t){const e=n.oxw();n.xp6(4),n.ekj("checked",e.settings.beaconReceivers),n.xp6(2),n.Q6J("ngIf",e.settings.beaconReceivers)}}function TZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",86),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"div"),n.TgZ(5,"lab-select",87),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw();return l.setPipe.emit({value:a,def:l.data.defaults.pipe})}),n._UZ(6,"lab-icon",88),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("data",e.data)("selected",e.settings.pipe)("options",e.data.pipeIds)("displayRate",e.settings.displayRate),n.xp6(1),n.Q6J("data",e.data)("iconId",e.settings.pipe)}}function IZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",89),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"div"),n.TgZ(5,"lab-select",90),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw();return l.setCargoWagon.emit({value:a,def:l.data.defaults.cargoWagon})}),n._UZ(6,"lab-icon",91),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("data",e.data)("selected",e.settings.cargoWagon)("options",e.data.cargoWagonIds),n.xp6(1),n.Q6J("iconId",e.settings.cargoWagon)("data",e.data)}}function SZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",92),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"div"),n.TgZ(5,"lab-select",93),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw();return l.setFluidWagon.emit({value:a,def:l.data.defaults.fluidWagon})}),n._UZ(6,"lab-icon",94),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("data",e.data)("selected",e.settings.fluidWagon)("options",e.data.fluidWagonIds),n.xp6(1),n.Q6J("iconId",e.settings.fluidWagon)("data",e.data)}}function DZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",95),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"div"),n.TgZ(5,"lab-select",96),n.NdJ("selectId",function(a){n.CHM(e);const l=n.oxw();return l.setFuel.emit({value:a,def:l.data.defaults.fuel})}),n._UZ(6,"lab-icon",97),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("data",e.data)("selected",e.settings.fuel)("options",e.sortedFuels),n.xp6(1),n.Q6J("iconId",e.settings.fuel)("data",e.data)}}function AZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"table",13),n.TgZ(1,"tr"),n.TgZ(2,"td"),n._uU(3,"Pipe flow rate"),n.qZA(),n.TgZ(4,"td"),n.TgZ(5,"div",0),n.TgZ(6,"input",98),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw();return l.emitNumber(l.setFlowRate,a,0)}),n.qZA(),n.TgZ(7,"div"),n._uU(8," u/sec "),n.TgZ(9,"a",99),n._uU(10,"Wiki"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"tr"),n.TgZ(12,"td"),n._uU(13," Inserter target "),n.TgZ(14,"a",100),n._uU(15,"Wiki"),n.qZA(),n.qZA(),n.TgZ(16,"td"),n.TgZ(17,"lab-options",101),n.NdJ("selectId",function(a){return n.CHM(e),n.oxw().setInserterTarget.emit(a)}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(6),n.Q6J("formControl",e.ctrlFlowRate)("value",e.settings.flowRate),n.xp6(11),n.Q6J("selected",e.settings.inserterTarget)("options",e.InserterTargetOptions)}}function MZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",102),n.qZA(),n.TgZ(3,"td",103),n._uU(4," + "),n.TgZ(5,"input",104),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw(2);return l.emitNumber(l.setMiningBonus,a,0)}),n.qZA(),n._uU(6," % "),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(5),n.Q6J("formControl",e.ctrlMiningProductivity)("value",e.settings.miningBonus)}}function OZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",105),n.qZA(),n.TgZ(3,"td",103),n.TgZ(4,"input",106),n.NdJ("input",function(a){n.CHM(e);const l=n.oxw(2);return l.emitNumber(l.setMiningBonus,a,0,-100)}),n.qZA(),n._uU(5," % "),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(4),n.Q6J("formControl",e.ctrlMiningSpeed)("value",e.settings.miningBonus+100)}}function PZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",107),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"lab-options",108),n.NdJ("selectId",function(a){return n.CHM(e),n.oxw(2).setResearchSpeed.emit(a)}),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(4),n.Q6J("selected",e.settings.researchSpeed)("options",e.ResearchSpeedOptions)}}function RZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"lab-info",109),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"lab-options",110),n.NdJ("selectId",function(a){return n.CHM(e),n.oxw(2).setInserterCapacity.emit(a)}),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(4),n.Q6J("selected",e.settings.inserterCapacity)("options",e.InserterCapacityOptions)}}function NZ(t,i){if(1&t&&(n.TgZ(0,"div",6),n.TgZ(1,"div"),n.TgZ(2,"div",1),n._uU(3,"Bonuses"),n.qZA(),n.TgZ(4,"table",36),n.YNc(5,MZ,7,2,"tr",16),n.YNc(6,OZ,6,2,"tr",16),n.YNc(7,PZ,5,2,"tr",16),n.YNc(8,RZ,5,2,"tr",16),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngIf",e.data.game===e.Game.Factorio),n.xp6(1),n.Q6J("ngIf",e.data.game===e.Game.DysonSphereProgram),n.xp6(1),n.Q6J("ngIf",e.data.game===e.Game.Factorio),n.xp6(1),n.Q6J("ngIf",e.data.game===e.Game.Factorio)}}function FZ(t,i){1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",80),n.TgZ(2,"span",111),n._uU(3,"Disabling simplex improves performance but usually results in an incomplete solution."),n.qZA(),n.qZA(),n.qZA())}let EO=(()=>{class t{constructor(e,r,a){this.ref=e,this.router=r,this.routerSvc=a,this.resetSettings=new n.vpe,this.closeSettings=new n.vpe,this.saveState=new n.vpe,this.removeState=new n.vpe,this.setPreset=new n.vpe,this.setBase=new n.vpe,this.setDisabledRecipes=new n.vpe,this.setExpensive=new n.vpe,this.addFactory=new n.vpe,this.removeFactory=new n.vpe,this.raiseFactory=new n.vpe,this.setFactory=new n.vpe,this.setModuleRank=new n.vpe,this.setBeaconCount=new n.vpe,this.setBeacon=new n.vpe,this.setBeaconModule=new n.vpe,this.setOverclock=new n.vpe,this.setBeaconReceivers=new n.vpe,this.setBelt=new n.vpe,this.setPipe=new n.vpe,this.setFuel=new n.vpe,this.setFlowRate=new n.vpe,this.setCargoWagon=new n.vpe,this.setFluidWagon=new n.vpe,this.setMiningBonus=new n.vpe,this.setResearchSpeed=new n.vpe,this.setInserterTarget=new n.vpe,this.setInserterCapacity=new n.vpe,this.setDisplayRate=new n.vpe,this.setColumns=new n.vpe,this.setSimplex=new n.vpe,this.initial=fn,this.sortedFuels=[],this.state="",this.tempState="",this.editState=!1,this.difficultyOptions=[{id:!1,name:"Normal"},{id:!0,name:"Expensive"}],this.enabledOptions=[{id:!0,name:"Enabled"},{id:!1,name:"Disabled"}],this.baseOptions=[],this.GameOptions=ea,this.ResearchSpeedOptions=Yp,this.InserterCapacityOptions=pA,this.InserterTargetOptions=on,this.DisplayRateOptions=ss,this.BrowserUtility=Qi,this.ItemId=$e,this.Game=Xe,this.ctrlFlowRate=new hs("",xy.min(0)),this.ctrlMiningProductivity=new hs("",xy.min(0)),this.ctrlMiningSpeed=new hs("",xy.min(100))}get data(){return this._data}set data(e){var r;this._data=e,this.sortedFuels=(null===(r=e.fuelIds)||void 0===r?void 0:r[na.Chemical])||[]}ngOnInit(){this.state=Object.keys(this.preferences.states).find(e=>this.preferences.states[e]===Qi.search)||"",this.router.events.subscribe(e=>this.ref.detectChanges())}ngOnChanges(){this.ctrlFlowRate.setValue(this.settings.flowRate),this.ctrlMiningProductivity.setValue(this.settings.miningBonus),this.ctrlMiningSpeed.setValue(this.settings.miningBonus+100),this.presetOptions=function(t){return t===Xe.Factorio?[{id:Mn.Minimum,name:"Minimum"},{id:Mn.Modules,name:"Modules"},{id:Mn.Beacon8,name:"8 Beacons"},{id:Mn.Beacon12,name:"12 Beacons"}]:[{id:Mn.Minimum,name:"Minimum"},{id:Mn.Modules,name:"Maximum"}]}(this.data.game),this.factoryOptions=this.data.factoryIds.filter(r=>-1===this.factories.ids.indexOf(r)),this.factoryRows=["",...this.factories.ids],this.savedStates=Object.keys(this.preferences.states).map(r=>({id:r,name:r}));const e=Object.keys(this.columns).filter(r=>this.columns[r].show).length;this.columnsButton=`${e} Visible`,this.baseOptions=this.base.filter(r=>r.game===this.data.game)}scroll(){this.ref.detectChanges()}setGame(e){switch(e){case Xe.Factorio:this.setBase.emit(fn.baseId);break;case Xe.DysonSphereProgram:this.setBase.emit("dsp");break;case Xe.Satisfactory:this.setBase.emit("sfy")}}changeBeaconCount(e,r){this.setBeaconCount.emit({id:e,value:r,def:""===e?this.data.defaults.beaconCount:this.factories.entities[""].beaconCount})}changeOverclock(e,r){const l=r.target.valueAsNumber;l>=1&&l<=250&&this.setOverclock.emit({id:e,value:l,def:""===e?100:this.factories.entities[""].overclock})}emitNumber(e,r,a,l=0){const h=Number(r.target.value)+l;h>=a&&e.emit(h)}setState(e){const r=this.preferences.states[e];if(r){const a=this.routerSvc.getParams(r);this.state=e,this.router.navigate([],{queryParams:a})}}clickSaveState(){this.saveState.emit({id:this.tempState,value:Qi.search}),this.editState=!1,this.state=this.tempState}clickRemoveState(){this.removeState.emit(this.state),this.state=""}toggleEditState(){this.editState=!this.editState,this.tempState=this.state}clickResetSettings(){confirm("\u26a0 Warning:\nThis will delete ALL saved Factorio Lab settings in this browser, are you sure?")&&(localStorage.clear(),this.resetSettings.emit())}gtZero(e){try{return M.fromString(e).gt(M.zero)}catch(r){}return!1}toggleBeaconPower(){this.setBeaconReceivers.emit(this.settings.beaconReceivers?null:"1")}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(oi),n.Y36(BD))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-settings"]],hostBindings:function(e,r){1&e&&n.NdJ("scroll",function(l){return r.scroll(l)})},inputs:{data:"data",base:"base",factories:"factories",settings:"settings",preferences:"preferences",columns:"columns"},outputs:{resetSettings:"resetSettings",closeSettings:"closeSettings",saveState:"saveState",removeState:"removeState",setPreset:"setPreset",setBase:"setBase",setDisabledRecipes:"setDisabledRecipes",setExpensive:"setExpensive",addFactory:"addFactory",removeFactory:"removeFactory",raiseFactory:"raiseFactory",setFactory:"setFactory",setModuleRank:"setModuleRank",setBeaconCount:"setBeaconCount",setBeacon:"setBeacon",setBeaconModule:"setBeaconModule",setOverclock:"setOverclock",setBeaconReceivers:"setBeaconReceivers",setBelt:"setBelt",setPipe:"setPipe",setFuel:"setFuel",setFlowRate:"setFlowRate",setCargoWagon:"setCargoWagon",setFluidWagon:"setFluidWagon",setMiningBonus:"setMiningBonus",setResearchSpeed:"setResearchSpeed",setInserterTarget:"setInserterTarget",setInserterCapacity:"setInserterCapacity",setDisplayRate:"setDisplayRate",setColumns:"setColumns",setSimplex:"setSimplex"},features:[n.TTD],decls:94,vars:33,consts:[[1,"flex"],[1,"header"],["title","Delete all settings",1,"dialog-button",3,"click"],[1,"material-icons"],[1,"dialog-button",3,"click"],[1,"panel"],[1,"hole"],["text","Saved states","tooltip","Click edit to name and save the current calculator state.\nSelect a saved state from the dropdown to load it into the calculator."],[1,"flex","states"],[4,"ngIf","ngIfElse"],["stateInput",""],[1,"flex","tween"],["class","small","href","https://github.com/factoriolab/factorio-lab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank",4,"ngIf"],[1,"thin"],["text","Game","tooltip","Select which game calculator to use,\nor use the links in the title bar."],["title","Select game",3,"selected","options","selectId"],[4,"ngIf"],["text","Disabled","tooltip","Click to modify which recipes are disabled.\nDisabled recipes will not be used in the solution."],[3,"data","selected","selectIds"],[1,"x-wide"],["text","Columns & precision","tooltip","Click to select the visible columns and decimal\nor fractional precision for visible columns."],[1,"relative",3,"game","columns","setColumns"],["title","Set columns visibility and precision",1,"grow"],[1,"text"],["text","Display rates as","tooltip","Set the unit of time to use in rates."],["title","Select display rate",3,"selected","options","selectId"],["text","Preset","tooltip","Select a default preset of factory settings to use."],["title","Select preset factory",3,"selected","options","selectId"],[1,"factories"],[4,"ngFor","ngForOf"],[1,"icons"],["text","Default transport belt","tooltip","Select the default belt to be used by all items."],["header","Select a belt",3,"data","selected","options","displayRate","selectId"],["tooltip","Select default belt",1,"button",3,"data","iconId"],["class","thin",4,"ngIf"],["class","hole",4,"ngIf"],[1,"wide"],["text","Simplex solver","tooltip","Select to enable/disable the simplex solver.\nDisable simplex to more easily modify settings\nwhen simplex is slow and causes lag."],["title","Disable to get a faster but incomplete result",3,"selected","options","selectId"],["title","Select saved state",3,"selected","options","selectId"],["title","Delete saved state",3,"click",4,"ngIf"],["title","Name and save state",3,"click",4,"ngIf"],["title","Delete saved state",3,"click"],["title","Name and save state",3,"click"],["type","text","placeholder","Enter a name...",3,"ngModel","ngModelChange"],["title","Save state",3,"click",4,"ngIf"],["title","Cancel",3,"click"],["title","Save state",3,"click"],["href","https://github.com/factoriolab/factorio-lab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank",1,"small"],["text","Mod set","tooltip","Select which version or set of mods in Factorio to use."],["title","Select base recipe set",3,"selected","options","selectId"],["text","Difficulty","tooltip","Select whether to use Normal or\nExpensive difficulty recipes."],["title","Select recipe difficulty",3,"selected","options","selectId"],["title","Remove factory preference",3,"click",4,"ngIf"],["class","pad",3,"data","iconId","tooltip","item",4,"ngIf"],["header","Select a factory",3,"data","selected","options","selectId",4,"ngIf"],["class","pad","tooltip","Factory defaults","iconId","production",3,"data",4,"ngIf"],["title","Raise factory rank",3,"click",4,"ngIf"],["header","Select a factory",3,"data","options","selectId",4,"ngIf"],["header","Select a factory",3,"data","options","selectId"],["title","Add factory preference"],["title","Remove factory preference",3,"click"],[1,"pad",3,"data","iconId","tooltip","item"],["header","Select a factory",3,"data","selected","options","selectId"],[1,"button",3,"data","iconId","tooltip","item"],["tooltip","Factory defaults","iconId","production",1,"pad",3,"data"],[3,"data","selected","options","selectIds",4,"ngIf","ngIfElse"],["moduleSelect",""],[3,"data","selected","options","selectIds"],["tooltip","Module preferences",1,"button",3,"data","iconId","text"],["header","Select a module",3,"data","selected","options","displayRate","selectId"],["type","number","title","Default overclock","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"ngModel","input"],["header","Select a module",3,"data","selected","options","includeEmptyModule","selectId",4,"ngIf"],["title","Default number of beacons","placeholder","# Beacons",3,"digits","value","setValue"],["beaconPicker",""],["header","Select a beacon",3,"data","selected","options","selectId"],["tooltip","Select default beacon",1,"button",3,"data","iconId"],["header","Select a module",3,"data","selected","options","includeEmptyModule","selectId"],["tooltip","Beacon module",1,"button",3,"data","iconId"],["title","Raise factory rank",3,"click"],["colspan","2"],[1,"flex","option",3,"click"],[1,"checkbox"],["text","Estimate beacon power usage","tooltip","Enable to estimate power usage of beacons as well as factories.\nRequires an estimated average number of receivers per beacon."],["text","Average beacon receivers","tooltip","The average number of factories affected by each beacon.\nMinimum possible value is 1."],["title","Set average beacon receivers","placeholder","# Receivers","minimum","1",3,"digits","value","setValue"],["text","Default pipe","tooltip","Select the default pipe to be used by all fluids."],["header","Select a pipe",3,"data","selected","options","displayRate","selectId"],["tooltip","Select default pipe",1,"button",3,"data","iconId"],["text","Default cargo wagon","tooltip","Select the default cargo wagon to be used by all items."],["header","Select a cargo wagon",3,"data","selected","options","selectId"],["tooltip","Select default cargo wagon",1,"button",3,"iconId","data"],["text","Default fluid wagon","tooltip","Select the default fluid wagon to be used by all fluids."],["header","Select a fluid wagon",3,"data","selected","options","selectId"],["tooltip","Select default fluid wagon",1,"button",3,"iconId","data"],["text","Chemical fuel","tooltip","Select the default chemical to be used where applicable.\nThis does not affect burners that use non-chemical fuels."],["header","Select a fuel",3,"data","selected","options","selectId"],["tooltip","Select fuel",1,"button",3,"iconId","data"],["type","number","title","Enter pipe flow rate","placeholder","1500","min","0","step","1","data-test","lab-settings-flow-rate",3,"formControl","value","input"],["href","https://wiki.factorio.com/Fluid_system#Pipelines","target","_blank"],["href","https://wiki.factorio.com/Inserters#Inserter_Throughput","target","_blank"],["title","Select inserter target",3,"selected","options","selectId"],["text","Mining productivity","tooltip","Enter the current mining productivity bonus percent.\nDefault is 0%."],[1,"right"],["type","number","title","Enter mining productivity bonus","placeholder","Mining productivity","min","0","step","10","data-test","lab-settings-mining-bonus",3,"formControl","value","input"],["text","Mining speed","tooltip","Enter the current mining speed with bonus.\nDefault is 100%."],["type","number","title","Enter mining speed","placeholder","Mining speed","min","100","step","10","data-test","lab-settings-mining-bonus",3,"formControl","value","input"],["text","Research speed","tooltip","Enter the current level of research speed bonus.\nThis setting only affects research products."],["title","Select research speed bonus",3,"selected","options","selectId"],["text","Inserter capacity","tooltip","Enter the current level of inserter capacity bonus.\nThis setting only affects inserter estimates."],["title","Select inserter capacity bonus",3,"selected","options","selectId"],[1,"invalid"]],template:function(e,r){if(1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"h2",1),n._uU(2,"Settings"),n.qZA(),n.TgZ(3,"div",0),n.TgZ(4,"button",2),n.NdJ("click",function(){return r.clickResetSettings()}),n.TgZ(5,"i",3),n._uU(6,"delete"),n.qZA(),n.qZA(),n.TgZ(7,"button",4),n.NdJ("click",function(){return r.closeSettings.emit()}),n.TgZ(8,"i",3),n._uU(9,"close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",5),n.TgZ(11,"div",6),n.TgZ(12,"div"),n.TgZ(13,"div",1),n._UZ(14,"lab-info",7),n.qZA(),n.TgZ(15,"div",8),n.YNc(16,KL,4,4,"ng-container",9),n.YNc(17,eZ,5,2,"ng-template",null,10,n.W1O),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",6),n.TgZ(20,"div"),n.TgZ(21,"div",11),n.TgZ(22,"div",1),n._uU(23,"Recipes"),n.qZA(),n.YNc(24,tZ,2,0,"a",12),n.qZA(),n.TgZ(25,"table",13),n.TgZ(26,"tr"),n.TgZ(27,"td"),n._UZ(28,"lab-info",14),n.qZA(),n.TgZ(29,"td"),n.TgZ(30,"lab-options",15),n.NdJ("selectId",function(l){return r.setGame(l)}),n.qZA(),n.qZA(),n.qZA(),n.YNc(31,nZ,5,2,"tr",16),n.TgZ(32,"tr"),n.TgZ(33,"td"),n._UZ(34,"lab-info",17),n.qZA(),n.TgZ(35,"td"),n.TgZ(36,"lab-toggle",18),n.NdJ("selectIds",function(l){return r.setDisabledRecipes.emit({value:l,def:r.data.defaults.disabledRecipes})}),n.qZA(),n.qZA(),n.qZA(),n.YNc(37,iZ,5,2,"tr",16),n.qZA(),n.qZA(),n.qZA(),n.TgZ(38,"div",6),n.TgZ(39,"div"),n.TgZ(40,"div",1),n._uU(41,"Display"),n.qZA(),n.TgZ(42,"table",19),n.TgZ(43,"tr"),n.TgZ(44,"td"),n._UZ(45,"lab-info",20),n.qZA(),n.TgZ(46,"td"),n.TgZ(47,"lab-columns",21),n.NdJ("setColumns",function(l){return r.setColumns.emit(l)}),n.TgZ(48,"button",22),n.TgZ(49,"span",23),n._uU(50),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(51,"tr"),n.TgZ(52,"td"),n._UZ(53,"lab-info",24),n.qZA(),n.TgZ(54,"td"),n.TgZ(55,"lab-options",25),n.NdJ("selectId",function(l){return r.setDisplayRate.emit({value:l,prev:r.settings.displayRate})}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(56,"div",6),n.TgZ(57,"div"),n.TgZ(58,"div",1),n._uU(59,"Factory"),n.qZA(),n.TgZ(60,"table",13),n.TgZ(61,"tr"),n.TgZ(62,"td"),n._UZ(63,"lab-info",26),n.qZA(),n.TgZ(64,"td"),n.TgZ(65,"lab-options",27),n.NdJ("selectId",function(l){return r.setPreset.emit(l)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(66,"table",28),n.YNc(67,xZ,2,1,"ng-container",29),n.qZA(),n.TgZ(68,"table",30),n.YNc(69,EZ,7,3,"ng-container",16),n.TgZ(70,"tr"),n.TgZ(71,"td"),n._UZ(72,"lab-info",31),n.qZA(),n.TgZ(73,"td"),n.TgZ(74,"div"),n.TgZ(75,"lab-select",32),n.NdJ("selectId",function(l){return r.setBelt.emit({value:l,def:r.data.defaults.belt})}),n._UZ(76,"lab-icon",33),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(77,TZ,7,6,"tr",16),n.YNc(78,IZ,7,5,"tr",16),n.YNc(79,SZ,7,5,"tr",16),n.YNc(80,DZ,7,5,"tr",16),n.qZA(),n.YNc(81,AZ,18,4,"table",34),n.qZA(),n.qZA(),n.YNc(82,NZ,9,4,"div",35),n.TgZ(83,"div",6),n.TgZ(84,"div"),n.TgZ(85,"div",1),n._uU(86,"Advanced"),n.qZA(),n.TgZ(87,"table",36),n.TgZ(88,"tr"),n.TgZ(89,"td"),n._UZ(90,"lab-info",37),n.qZA(),n.TgZ(91,"td"),n.TgZ(92,"lab-options",38),n.NdJ("selectId",function(l){return r.setSimplex.emit(l)}),n.qZA(),n.qZA(),n.qZA(),n.YNc(93,FZ,4,0,"tr",16),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const a=n.MAs(18);n.xp6(16),n.Q6J("ngIf",!r.editState)("ngIfElse",a),n.xp6(8),n.Q6J("ngIf",r.data.game===r.Game.Factorio),n.xp6(6),n.Q6J("selected",r.data.game)("options",r.GameOptions),n.xp6(1),n.Q6J("ngIf",r.data.game===r.Game.Factorio),n.xp6(5),n.Q6J("data",r.data)("selected",r.settings.disabledRecipes),n.xp6(1),n.Q6J("ngIf",r.data.game===r.Game.Factorio),n.xp6(10),n.Q6J("game",r.data.game)("columns",r.columns),n.xp6(3),n.Oqu(r.columnsButton),n.xp6(5),n.Q6J("selected",r.settings.displayRate)("options",r.DisplayRateOptions),n.xp6(10),n.Q6J("selected",r.settings.preset)("options",r.presetOptions),n.xp6(2),n.Q6J("ngForOf",r.factoryRows),n.xp6(2),n.Q6J("ngIf",r.data.game===r.Game.Factorio),n.xp6(6),n.Q6J("data",r.data)("selected",r.settings.belt)("options",r.data.beltIds)("displayRate",r.settings.displayRate),n.xp6(1),n.Q6J("data",r.data)("iconId",r.settings.belt),n.xp6(1),n.Q6J("ngIf",r.data.pipeIds.length),n.xp6(1),n.Q6J("ngIf",r.data.cargoWagonIds.length>1),n.xp6(1),n.Q6J("ngIf",r.data.fluidWagonIds.length>1),n.xp6(1),n.Q6J("ngIf",r.sortedFuels.length&&r.data.game!==r.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",r.data.game===r.Game.Factorio),n.xp6(1),n.Q6J("ngIf",r.data.game!==r.Game.Satisfactory),n.xp6(10),n.Q6J("selected",r.preferences.simplex)("options",r.enabledOptions),n.xp6(1),n.Q6J("ngIf",!r.preferences.simplex)}},directives:[bO,ae,yc,qL,mO,Ci,VD,Mc,Ti,an,No,WL,bl,Fd,ml,UD,XC,ao],styles:["[_nghost-%COMP%]{flex-grow:1;width:20.75rem}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:.75rem}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%] > .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.25rem}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%]{padding:.125rem}.hole[_ngcontent-%COMP%]{padding:.125rem;margin:.25rem;background-color:var(--color-back);box-shadow:var(--shadow-hole)}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem;margin:1px 0;background-color:var(--color-light);box-shadow:var(--shadow-inner)}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:.25rem}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.factories[_ngcontent-%COMP%]{width:auto}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.factories[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{min-width:2.5rem}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.thin[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:35%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.wide[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:42%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.x-wide[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:50%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.icons[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child:not(:first-child) > div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.small[_ngcontent-%COMP%]{font-size:small}.states[_ngcontent-%COMP%]{flex-grow:1}.states[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex-grow:1}.states[_ngcontent-%COMP%]   lab-options[_ngcontent-%COMP%]{display:flex}.states[_ngcontent-%COMP%]   lab-options[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex-grow:1}.states[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.25rem}table[_ngcontent-%COMP%] + table[_ngcontent-%COMP%]{margin-top:.5rem}.right[_ngcontent-%COMP%]{text-align:right}.option[_ngcontent-%COMP%]{cursor:pointer;padding:.375rem 0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.option[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.375rem}"],changeDetection:0}),t})(),kZ=(()=>{class t{constructor(e,r){this.ref=e,this.store=r,this.closeSettings=new n.vpe,this.opening=!0}get isInOverlayMode(){return window.getComputedStyle(this.ref.nativeElement).marginRight.startsWith("-")}ngOnInit(){this.data$=this.store.select(ks),this.base$=this.store.select(Gg),this.factories$=this.store.select(dc),this.settings$=this.store.select(Rs),this.preferences$=this.store.select(uc),this.columns$=this.store.select(uC)}click(e){this.opening?this.opening=!1:!this.ref.nativeElement.contains(e.target)&&document.contains(e.target)&&this.isInOverlayMode&&this.closeSettings.emit()}resetSettings(){this.store.dispatch(new Gf)}saveState(e){this.store.dispatch(new HM(e))}removeState(e){this.store.dispatch(new zM(e))}setPreset(e){this.store.dispatch(new Ms(e))}setBase(e){this.store.dispatch(new jb(e))}setDisabledRecipes(e){this.store.dispatch(new Xf(e))}setExpensive(e){this.store.dispatch(new Qg(e))}addFactory(e){this.store.dispatch(new om(e))}removeFactory(e){this.store.dispatch(new FS(e))}raiseFactory(e){this.store.dispatch(new r2(e))}setFactory(e){this.store.dispatch(new kS(e))}setModuleRank(e){this.store.dispatch(new LS(e))}setBeaconCount(e){this.store.dispatch(new ZS(e))}setBeacon(e){this.store.dispatch(new BS(e))}setBeaconModule(e){this.store.dispatch(new VS(e))}setOverclock(e){this.store.dispatch(new US(e))}setBeaconReceivers(e){this.store.dispatch(new JI(e))}setBelt(e){this.store.dispatch(new ep(e))}setPipe(e){this.store.dispatch(new WI(e))}setFuel(e){this.store.dispatch(new Jg(e))}setFlowRate(e){this.store.dispatch(new qb(e))}setCargoWagon(e){this.store.dispatch(new Fn(e))}setFluidWagon(e){this.store.dispatch(new JM(e))}setInserterTarget(e){this.store.dispatch(new tp(e))}setMiningBonus(e){this.store.dispatch(new YI(e))}setResearchSpeed(e){this.store.dispatch(new WM(e))}setInserterCapacity(e){this.store.dispatch(new GI(e))}setDisplayRate(e){this.store.dispatch(new $b(e))}setColumns(e){this.store.dispatch(new Zb(e))}setSimplex(e){this.store.dispatch(new Bb(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Ce.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-settings-container"]],viewQuery:function(e,r){if(1&e&&n.Gf(EO,5),2&e){let a;n.iGM(a=n.CRH())&&(r.child=a.first)}},hostBindings:function(e,r){1&e&&n.NdJ("click",function(l){return r.click(l)},!1,n.evT)},outputs:{closeSettings:"closeSettings"},decls:7,vars:18,consts:[[3,"data","base","factories","settings","preferences","columns","resetSettings","closeSettings","saveState","removeState","setPreset","setBase","setDisabledRecipes","setExpensive","addFactory","removeFactory","raiseFactory","setFactory","setModuleRank","setBeaconCount","setBeacon","setBeaconModule","setOverclock","setBeaconReceivers","setBelt","setPipe","setFuel","setFlowRate","setCargoWagon","setFluidWagon","setMiningBonus","setResearchSpeed","setInserterTarget","setInserterCapacity","setDisplayRate","setColumns","setSimplex"]],template:function(e,r){1&e&&(n.TgZ(0,"lab-settings",0),n.NdJ("resetSettings",function(){return r.resetSettings()})("closeSettings",function(){return r.closeSettings.emit()})("saveState",function(l){return r.saveState(l)})("removeState",function(l){return r.removeState(l)})("setPreset",function(l){return r.setPreset(l)})("setBase",function(l){return r.setBase(l)})("setDisabledRecipes",function(l){return r.setDisabledRecipes(l)})("setExpensive",function(l){return r.setExpensive(l)})("addFactory",function(l){return r.addFactory(l)})("removeFactory",function(l){return r.removeFactory(l)})("raiseFactory",function(l){return r.raiseFactory(l)})("setFactory",function(l){return r.setFactory(l)})("setModuleRank",function(l){return r.setModuleRank(l)})("setBeaconCount",function(l){return r.setBeaconCount(l)})("setBeacon",function(l){return r.setBeacon(l)})("setBeaconModule",function(l){return r.setBeaconModule(l)})("setOverclock",function(l){return r.setOverclock(l)})("setBeaconReceivers",function(l){return r.setBeaconReceivers(l)})("setBelt",function(l){return r.setBelt(l)})("setPipe",function(l){return r.setPipe(l)})("setFuel",function(l){return r.setFuel(l)})("setFlowRate",function(l){return r.setFlowRate(l)})("setCargoWagon",function(l){return r.setCargoWagon(l)})("setFluidWagon",function(l){return r.setFluidWagon(l)})("setMiningBonus",function(l){return r.setMiningBonus(l)})("setResearchSpeed",function(l){return r.setResearchSpeed(l)})("setInserterTarget",function(l){return r.setInserterTarget(l)})("setInserterCapacity",function(l){return r.setInserterCapacity(l)})("setDisplayRate",function(l){return r.setDisplayRate(l)})("setColumns",function(l){return r.setColumns(l)})("setSimplex",function(l){return r.setSimplex(l)}),n.ALo(1,"async"),n.ALo(2,"async"),n.ALo(3,"async"),n.ALo(4,"async"),n.ALo(5,"async"),n.ALo(6,"async"),n.qZA()),2&e&&n.Q6J("data",n.lcZ(1,6,r.data$))("base",n.lcZ(2,8,r.base$))("factories",n.lcZ(3,10,r.factories$))("settings",n.lcZ(4,12,r.settings$))("preferences",n.lcZ(5,14,r.preferences$))("columns",n.lcZ(6,16,r.columns$))},directives:[EO],pipes:[Ys],styles:["[_nghost-%COMP%]{z-index:3;display:flex;margin:.75rem 0 1rem 1rem;align-self:flex-start}"],changeDetection:0}),t})();const LZ=[{path:"list",component:vO},{path:"flow",component:_6},{path:"matrix",component:q6},{path:"factorio",redirectTo:"/list?s=&v=1"},{path:"dsp",redirectTo:"/list?s=dsp&v=1"},{path:"satisfactory",redirectTo:"/list?s=sfy&v=1"},{path:"**",redirectTo:"list"}];let ZZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[ET.forRoot(LZ)],ET]}),t})();function BZ(t,i){1&t&&(n.ynx(0),n.TgZ(1,"span",6),n._uU(2,"|"),n.qZA(),n.TgZ(3,"a",13),n._uU(4,"Factorio"),n.qZA(),n.BQk())}function VZ(t,i){1&t&&(n.ynx(0),n.TgZ(1,"span",6),n._uU(2,"|"),n.qZA(),n.TgZ(3,"a",14),n._uU(4,"Dyson Sphere Program"),n.qZA(),n.BQk())}function UZ(t,i){1&t&&(n.ynx(0),n.TgZ(1,"span",6),n._uU(2,"|"),n.qZA(),n.TgZ(3,"a",15),n._uU(4,"Satisfactory"),n.qZA(),n.BQk())}function jZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"lab-settings-container",20),n.NdJ("closeSettings",function(){n.CHM(e);const a=n.oxw(3);return a.showSettings=!a.showSettings}),n.qZA()}2&t&&n.Q6J("@slideLeftRight",void 0)}function qZ(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",21),n.TgZ(1,"h2"),n._uU(2,"Poll"),n.qZA(),n.TgZ(3,"div",22),n.TgZ(4,"a",23),n._uU(5,"Have a minute to answer a poll?"),n.qZA(),n.TgZ(6,"div",24),n.TgZ(7,"button",25),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).hidePoll(!0)}),n.TgZ(8,"span",26),n._uU(9,"Don't show again"),n.qZA(),n.qZA(),n.TgZ(10,"button",25),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).hidePoll()}),n.TgZ(11,"span",26),n._uU(12,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(4),n.Q6J("href",e.poll,n.LSH)}}function $Z(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"li",25),n.NdJ("click",function(){return n.CHM(e),n.oxw(4).showSettings=!0}),n.TgZ(1,"span"),n._uU(2,"Settings"),n.qZA(),n.qZA()}}function HZ(t,i){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"ul",27),n.TgZ(2,"li",28),n.TgZ(3,"span"),n._uU(4,"List"),n.qZA(),n.qZA(),n.TgZ(5,"li",29),n.TgZ(6,"span"),n._uU(7,"Flow"),n.qZA(),n.qZA(),n.TgZ(8,"li",30),n.TgZ(9,"span"),n._uU(10,"Matrix"),n.qZA(),n.qZA(),n.YNc(11,$Z,3,0,"li",31),n.qZA(),n.TgZ(12,"div",22),n._UZ(13,"router-outlet"),n.qZA(),n.qZA()),2&t){const e=n.oxw(3);n.xp6(11),n.Q6J("ngIf",!e.showSettings)}}function zZ(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n._UZ(2,"br"),n._uU(3),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(1),n.lnq("Simplex ",e.result,": ",e.time,"ms, ",e.pivots," pivots"),n.xp6(2),n.lnq(" Size: ",e.A.length," x ",e.A[0].length,", Cost: ",e.O[e.O.length-1].toPrecision(2)," ")}}function QZ(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(1),n.hij("Simplex ",e.result,"")}}function JZ(t,i){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,zZ,4,6,"span",10),n.YNc(2,QZ,2,1,"ng-template",null,32,n.W1O),n.qZA()),2&t){const e=i.ngIf,r=n.MAs(3),a=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.result===a.MatrixResultType.Solved||e.result===a.MatrixResultType.Cached)("ngIfElse",r)}}function WZ(t,i){if(1&t&&(n.TgZ(0,"main"),n.YNc(1,jZ,1,1,"lab-settings-container",16),n.TgZ(2,"div",17),n.YNc(3,qZ,13,1,"div",18),n._UZ(4,"lab-products-container"),n.YNc(5,HZ,14,1,"div",4),n.ALo(6,"async"),n.TgZ(7,"div"),n.TgZ(8,"div",19),n.YNc(9,JZ,4,2,"div",4),n.ALo(10,"async"),n.TgZ(11,"span"),n._uU(12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.showSettings),n.xp6(2),n.Q6J("ngIf",e.showPoll),n.xp6(2),n.Q6J("ngIf",n.lcZ(6,5,e.products$).length),n.xp6(4),n.Q6J("ngIf",n.lcZ(10,7,e.result$)),n.xp6(3),n.Oqu(e.version)}}function YZ(t,i){if(1&t&&(n.ynx(0),n.YNc(1,WZ,13,9,"main",10),n.BQk()),2&t){const e=n.oxw(),r=n.MAs(30);n.xp6(1),n.Q6J("ngIf",!e.error.message)("ngIfElse",r)}}function GZ(t,i){1&t&&(n.TgZ(0,"div",33),n.TgZ(1,"div"),n.TgZ(2,"div",22),n._uU(3,"Loading data, please wait..."),n.qZA(),n.qZA(),n.qZA())}function KZ(t,i){if(1&t&&(n.TgZ(0,"div",34),n.TgZ(1,"div"),n.TgZ(2,"h2"),n._uU(3,"Error"),n.qZA(),n.TgZ(4,"div",35),n.TgZ(5,"div"),n._uU(6,"The application has encountered an error:"),n.qZA(),n._UZ(7,"br"),n.TgZ(8,"div"),n._uU(9),n.qZA(),n._UZ(10,"br"),n.TgZ(11,"a",3),n._uU(12,"Click here to reset"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw();n.xp6(9),n.Oqu(e.error.message),n.xp6(2),n.Q6J("href",e.homeHref,n.LSH)}}let XZ=(()=>{class t{constructor(e,r,a,l){this.error=e,this.store=r,this.titleService=a,this.state=l,this.ItemId=$e,this.MatrixResultType=pi,this.Game=Xe,this.poll="https://www.survey-maker.com/Q62LJFYVL",this.pollKey="poll1",this.showPoll=!1,this.version=`${ry} 1.3.81`}get lsHidePoll(){return!!localStorage.getItem(this.pollKey)}ngOnInit(){this.datasets$=this.store.select(yu),this.products$=this.store.select(pp),this.result$=this.store.select(_c),this.store.select(sp).subscribe(e=>{switch(this.game=e,e){case Xe.Factorio:this.title="Factorio Calculator",this.homeHref="factorio";break;case Xe.DysonSphereProgram:this.title="Dyson Sphere Program Calculator",this.homeHref="dsp";break;case Xe.Satisfactory:this.title="Satisfactory Calculator",this.homeHref="satisfactory"}this.titleService.setTitle(`${ry} | ${this.title}`)}),this.lsHidePoll&&(this.showPoll=!1)}hidePoll(e=!1){e&&localStorage.setItem(this.pollKey,"hide"),this.showPoll=!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(gp),n.Y36(Ce.yh),n.Y36(Sx),n.Y36(XR))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lab-root"]],decls:31,vars:9,consts:[[1,"top-bar"],[1,"links"],[1,"header"],[3,"href"],[4,"ngIf"],["target","_blank","href","https://github.com/factoriolab/factorio-lab/wiki"],[1,"separator"],["target","_blank","href","https://github.com/factoriolab/factorio-lab"],["target","_blank","href","https://discord.gg/N4FKV687x2"],["target","_blank","href","https://ko-fi.com/dcbroad3"],[4,"ngIf","ngIfElse"],["loading",""],["errorTile",""],["href","factorio"],["href","dsp"],["href","satisfactory"],[3,"closeSettings",4,"ngIf"],[1,"view"],["class","poll",4,"ngIf"],[1,"panel","dark","flex","tween"],[3,"closeSettings"],[1,"poll"],[1,"panel"],["target","_blank",3,"href"],[1,"flex","buttons"],[3,"click"],[1,"text"],["role","navigation",1,"tabs"],["routerLink","/list","routerLinkActive","active","queryParamsHandling","preserve"],["routerLink","/flow","routerLinkActive","active","queryParamsHandling","preserve"],["routerLink","/matrix","routerLinkActive","active","queryParamsHandling","preserve"],[3,"click",4,"ngIf"],["notSolved",""],[1,"view","msg","load"],[1,"view","msg","err"],[1,"panel","invalid"]],template:function(e,r){if(1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div"),n.TgZ(2,"div",1),n.TgZ(3,"div",2),n.TgZ(4,"a",3),n.TgZ(5,"h1"),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.YNc(7,BZ,5,0,"ng-container",4),n.YNc(8,VZ,5,0,"ng-container",4),n.YNc(9,UZ,5,0,"ng-container",4),n.qZA(),n.TgZ(10,"div",1),n.TgZ(11,"a",5),n._uU(12,"Wiki"),n.qZA(),n.TgZ(13,"span",6),n._uU(14,"|"),n.qZA(),n.TgZ(15,"a",7),n._uU(16,"Source"),n.qZA(),n.TgZ(17,"span",6),n._uU(18,"|"),n.qZA(),n.TgZ(19,"a",8),n._uU(20,"Discord"),n.qZA(),n.TgZ(21,"span",6),n._uU(22,"|"),n.qZA(),n.TgZ(23,"a",9),n._uU(24,"Support"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(25,YZ,2,2,"ng-container",10),n.ALo(26,"async"),n.YNc(27,GZ,4,0,"ng-template",null,11,n.W1O),n.YNc(29,KZ,13,2,"ng-template",null,12,n.W1O)),2&e){const a=n.MAs(28);n.xp6(4),n.Q6J("href",r.homeHref,n.LSH),n.xp6(2),n.Oqu(r.title),n.xp6(1),n.Q6J("ngIf",r.game!==r.Game.Factorio),n.xp6(1),n.Q6J("ngIf",r.game!==r.Game.DysonSphereProgram),n.xp6(1),n.Q6J("ngIf",r.game!==r.Game.Satisfactory),n.xp6(16),n.Q6J("ngIf",n.lcZ(26,7,r.datasets$).length)("ngIfElse",a)}},directives:[ae,LL,kZ,Mf,og,Q_],pipes:[Ys],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}.top-bar[_ngcontent-%COMP%]{background-color:#00000080;padding:1rem;font-size:110%}.top-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 1rem;margin:auto;display:flex;justify-content:space-between;flex-wrap:wrap}.top-bar[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]{margin:-.5rem .5rem -.5rem 0}.top-bar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:larger}.top-bar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .top-bar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-header);text-decoration:none}.top-bar[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;align-items:center}.top-bar[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%] + .links[_ngcontent-%COMP%]{margin-left:1rem}.top-bar[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--color-link);margin:0 .5rem}main[_ngcontent-%COMP%]{flex-grow:1;display:flex;margin:0 auto 5rem}.view[_ngcontent-%COMP%]{margin-top:.75rem;padding:0 1rem}.view[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.75rem}.view[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], lab-settings-container[_ngcontent-%COMP%]{background-color:var(--color-back);box-shadow:var(--shadow-main);padding:.75rem}.msg[_ngcontent-%COMP%]{align-self:center}.msg.load[_ngcontent-%COMP%]{width:20rem}.poll[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.buttons[_ngcontent-%COMP%]{margin-top:.5rem}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}@media screen and (max-width: 1000px){lab-settings-container[_ngcontent-%COMP%]{margin-right:-23.25rem}}"],data:{animation:[Ih("slideLeftRight",[Cl(":enter",[_s({marginLeft:"-23.25rem",marginRight:"1rem",opacity:0}),Sh("300ms ease",_s({marginLeft:"*",marginRight:"*",opacity:1}))]),Cl(":leave",[_s({marginLeft:"*",marginRight:"*",opacity:1}),Sh("300ms ease",_s({marginLeft:"-23.25rem",marginRight:"1rem",opacity:0}))])])]}}),t})(),eB=(()=>{class t{constructor(e){this.error=e}handleError(e){console.error(e),this.error.message=e}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(gp))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();E(4921);function IO(t){let i=!0;return function(e,r){const a=t(e,r);return i?(i=!1,Qi.mergeState(a)):(Qi.saveState(a),a)}}const tB={datasetsState:function(t=XM,i){return"[Datasets] Load Mod Data"===i.type?Object.assign(Object.assign({},t),{dataEntities:Object.assign(Object.assign({},t.dataEntities),{[i.payload.id]:i.payload.value})}):t},productsState:function(t=NS,i){switch(i.type){case Nn.LOAD:return i.payload.productsState?i.payload.productsState:t;case"[Products] Reset":{const e="0";return{ids:[e],entities:{[e]:{id:e,itemId:i.payload,rate:"60",rateType:bt.Items}},index:1}}case"[Products] Add":{let e="60",r=bt.Items;if(t.ids.length>0){const a=t.ids[t.ids.length-1];e=t.entities[a].rate,r=t.entities[a].rateType}return Object.assign(Object.assign({},t),{ids:[...t.ids,t.index.toString()],entities:Object.assign(Object.assign({},t.entities),{[t.index]:{id:t.index.toString(),itemId:i.payload,rate:e,rateType:r}}),index:t.index+1})}case"[Products] Remove":{const e=Object.assign({},t.entities);return delete e[i.payload],Object.assign(Object.assign({},t),{ids:t.ids.filter(r=>r!==i.payload),entities:e})}case"[Products] Set Item":return Object.assign(Object.assign({},t),{entities:Ge.resetFields(Ge.assignValue(t.entities,wt.ItemId,i.payload),[wt.ViaId,wt.ViaSetting,wt.ViaFactoryModules,wt.ViaBeaconCount,wt.ViaBeacon,wt.ViaBeaconModules],i.payload.id)});case"[Products] Set Rate":return Object.assign(Object.assign({},t),{entities:Ge.assignValue(t.entities,wt.Rate,i.payload)});case"[Products] Set Rate Type":return Object.assign(Object.assign({},t),{entities:Ge.resetFields(Ge.assignValue(t.entities,wt.RateType,i.payload),[wt.ViaId,wt.ViaSetting,wt.ViaFactoryModules,wt.ViaBeaconCount,wt.ViaBeacon,wt.ViaBeaconModules],i.payload.id)});case"[Products] Set Via":return Object.assign(Object.assign({},t),{entities:Ge.resetFields(Ge.assignValue(t.entities,wt.ViaId,i.payload),[wt.ViaSetting,wt.ViaFactoryModules,wt.ViaBeaconCount,wt.ViaBeacon,wt.ViaBeaconModules],i.payload.id)});case"[Products] Set Via Setting":return Object.assign(Object.assign({},t),{entities:Ge.resetFields(Ge.compareReset(t.entities,wt.ViaSetting,i.payload),[wt.ViaFactoryModules,wt.ViaBeaconCount,wt.ViaBeacon,wt.ViaBeaconModules],i.payload.id)});case"[Products] Set Via Factory Modules":return Object.assign(Object.assign({},t),{entities:Ge.compareReset(t.entities,wt.ViaFactoryModules,i.payload)});case"[Products] Set Via Beacon Count":return Object.assign(Object.assign({},t),{entities:Ge.compareReset(t.entities,wt.ViaBeaconCount,i.payload)});case"[Products] Set Via Beacon":return Object.assign(Object.assign({},t),{entities:Ge.resetField(Ge.compareReset(t.entities,wt.ViaBeacon,i.payload),wt.ViaBeaconModules,i.payload.id)});case"[Products] Set Via Beacon Modules":return Object.assign(Object.assign({},t),{entities:Ge.compareReset(t.entities,wt.ViaBeaconModules,i.payload)});case"[Products] Set Via Overclock":return Object.assign(Object.assign({},t),{entities:Ge.compareReset(t.entities,wt.ViaOverclock,i.payload)});case"[Products] Adjust Display Rate":{const e=M.fromString(i.payload),r=Object.assign({},t.entities);for(const a of t.ids.filter(l=>t.entities[l].rateType===bt.Items||t.entities[l].rateType===bt.Wagons)){const l=M.fromString(t.entities[a].rate).mul(e).toString();r[a]=Object.assign(Object.assign({},t.entities[a]),{rate:l})}return Object.assign(Object.assign({},t),{entities:r})}default:return t}},itemsState:function(t=up,i){var e;switch(i.type){case Nn.LOAD:return Object.assign(Object.assign({},up),i.payload.itemsState);case Nn.RESET:case"[Settings] Set Base":return up;case"[Items] Ignore Item":return Ge.compareReset(t,wi.Ignore,{id:i.payload,value:!(null===(e=t[i.payload])||void 0===e?void 0:e.ignore),def:!1});case"[Items] Set Belt":return Ge.compareReset(t,wi.Belt,i.payload);case"[Items] Set Wagon":return Ge.compareReset(t,wi.Wagon,i.payload);case"[Items] Set Recipe":return Ge.compareReset(t,wi.Recipe,i.payload);case"[Items] Reset Item":{const r=Object.assign({},t);return delete r[i.payload],r}case"[Items] Reset Ignore":return Ge.resetField(t,wi.Ignore);case"[Items] Reset Belt":return Ge.resetField(t,wi.Belt);case"[Items] Reset Wagon":return Ge.resetField(t,wi.Wagon);default:return t}},recipesState:function(t=dp,i){switch(i.type){case Nn.LOAD:return Object.assign(Object.assign({},dp),i.payload.recipesState);case Nn.RESET:case"[Settings] Set Base":return dp;case"[Recipes] Set Factory":return Ge.resetFields(Ge.compareReset(t,mt.Factory,i.payload),[mt.FactoryModules,mt.BeaconCount,mt.Beacon,mt.BeaconModules],i.payload.id);case"[Recipes] Set Modules":return Ge.compareReset(t,mt.FactoryModules,i.payload);case"[Recipes] Set Beacon Count":return Ge.compareReset(t,mt.BeaconCount,i.payload);case"[Recipes] Set Beacon":return Ge.resetField(Ge.compareReset(t,mt.Beacon,i.payload),mt.BeaconModules,i.payload.id);case"[Recipes] Set Beacon Modules":return Ge.compareReset(t,mt.BeaconModules,i.payload);case"[Recipes] Set Beacon Total":return Ge.assignValue(t,mt.BeaconTotal,i.payload);case"[Recipes] Set Overclock":return Ge.compareReset(t,mt.Overclock,i.payload);case"[Recipes] Set Cost":return Ge.compareReset(t,mt.Cost,i.payload);case"[Recipes] Reset Recipe":{const e=Object.assign({},t);return delete e[i.payload],e}case"[Recipes] Reset Recipe Modules":return Ge.resetFields(t,[mt.FactoryModules,mt.BeaconCount,mt.Beacon,mt.BeaconModules,mt.BeaconTotal],i.payload);case"[Recipes] Reset Factory":return Ge.resetFields(t,[mt.Factory,mt.FactoryModules,mt.BeaconCount,mt.Beacon,mt.BeaconModules,mt.BeaconTotal]);case"[Recipes] Reset Beacons":return Ge.resetFields(t,[mt.BeaconCount,mt.Beacon,mt.BeaconModules,mt.BeaconTotal]);case"[Recipes] Reset Overclock":return Ge.resetFields(t,[mt.Overclock]);case"[Recipes] Reset Cost":return Ge.resetFields(t,[mt.Cost]);default:return t}},factoriesState:function(t=Jo,i){switch(i.type){case Nn.LOAD:return Object.assign(Object.assign({},Jo),i.payload.factoriesState);case Nn.RESET:case"[Settings] Set Base":case"[Settings] Set Preset":return Jo;case"[Factories] Add":{const e=[...t.ids||i.payload.def,i.payload.value],r=Ge.compareRank(e,i.payload.def);return Object.assign(Object.assign({},t),{ids:r})}case"[Factories] Remove":{const e=(t.ids||i.payload.def).filter(l=>l!==i.payload.value),r=Ge.compareRank(e,i.payload.def),a=Object.assign(Object.assign({},t),{ids:r,entities:Object.assign({},t.entities)});return delete a.entities[i.payload.value],a}case"[Factories] Raise":{const e=[...t.ids||i.payload.def],r=e.indexOf(i.payload.value);if(-1!==r&&r>0){e.splice(r-1,0,e.splice(r,1)[0]);const a=Ge.compareRank(e,i.payload.def);return Object.assign(Object.assign({},t),{ids:a})}return t}case"[Factories] Set Factory":{const e=[...t.ids||i.payload.def],r=e.indexOf(i.payload.id);if(-1!==r){e[r]=i.payload.value;const a=Ge.compareRank(e,i.payload.def),l=Object.assign(Object.assign({},t),{ids:a,entities:Object.assign({},t.entities)});return l.entities[i.payload.value]=l.entities[i.payload.id],delete l.entities[i.payload.id],l}return t}case"[Factories] Set Module Rank":{const e=Ge.compareReset(t.entities,kn.ModuleRank,i.payload,!0);return Object.assign(Object.assign({},t),{entities:e})}case"[Factories] Set Beacon Count":{const e=Ge.compareReset(t.entities,kn.BeaconCount,i.payload);return Object.assign(Object.assign({},t),{entities:e})}case"[Factories] Set Beacon":{const e=Ge.compareReset(t.entities,kn.Beacon,i.payload);return Object.assign(Object.assign({},t),{entities:e})}case"[Factories] Set Beacon Module":{const e=Ge.compareReset(t.entities,kn.BeaconModule,i.payload);return Object.assign(Object.assign({},t),{entities:e})}case"[Factories] Set Overclock":{const e=Ge.compareReset(t.entities,kn.Overclock,i.payload);return Object.assign(Object.assign({},t),{entities:e})}default:return t}},settingsState:function(t=fn,i){switch(i.type){case Nn.LOAD:return i.payload.settingsState?Object.assign(Object.assign({},fn),i.payload.settingsState):fn;case Nn.RESET:return fn;case"[Settings] Set Preset":return Object.assign(Object.assign({},t),{preset:i.payload});case"[Settings] Set Base":return Object.assign(Object.assign({},t),{baseId:i.payload,disabledRecipes:null,expensive:!1,preset:Mn.Minimum,belt:null,pipe:null,fuel:null,cargoWagon:null,fluidWagon:null,miningBonus:0,researchSpeed:We.Speed6});case"[Settings] Set Disabled Recipes":return Object.assign(Object.assign({},t),{disabledRecipes:Ge.compareValues(i.payload)});case"[Settings] Set Expensive":return Object.assign(Object.assign({},t),{expensive:i.payload});case"[Settings] Set Beacon Receivers":return Object.assign(Object.assign({},t),{beaconReceivers:i.payload});case"[Settings] Set Belt":return Object.assign(Object.assign({},t),{belt:Ge.compareValue(i.payload)});case"[Settings] Set Pipe":return Object.assign(Object.assign({},t),{pipe:Ge.compareValue(i.payload)});case"[Settings] Set Fuel":return Object.assign(Object.assign({},t),{fuel:Ge.compareValue(i.payload)});case"[Settings] Set Flow Rate":return Object.assign(Object.assign({},t),{flowRate:i.payload});case"[Settings] Set Cargo Wagon":return Object.assign(Object.assign({},t),{cargoWagon:Ge.compareValue(i.payload)});case"[Settings] Set Fluid Wagon":return Object.assign(Object.assign({},t),{fluidWagon:Ge.compareValue(i.payload)});case"[Settings] Set Display Rate":return Object.assign(Object.assign({},t),{displayRate:i.payload.value});case"[Settings] Set Mining Bonus":return Object.assign(Object.assign({},t),{miningBonus:i.payload});case"[Settings] Set Research Speed":return Object.assign(Object.assign({},t),{researchSpeed:i.payload});case"[Settings] Set Inserter Target":return Object.assign(Object.assign({},t),{inserterTarget:i.payload});case"[Settings] Set Inserter Capacity":return Object.assign(Object.assign({},t),{inserterCapacity:i.payload});case"[Settings] Set Cost Factor":return Object.assign(Object.assign({},t),{costFactor:i.payload});case"[Settings] Set Factory Cost":return Object.assign(Object.assign({},t),{costFactory:i.payload});case"[Settings] Set Input Cost":return Object.assign(Object.assign({},t),{costInput:i.payload});case"[Settings] Set Ignored Cost":return Object.assign(Object.assign({},t),{costIgnored:i.payload});case"[Settings] Reset Cost Modifiers":return Object.assign(Object.assign({},t),{costFactor:fn.costFactor,costFactory:fn.costFactory,costInput:fn.costInput,costIgnored:fn.costIgnored});default:return t}},preferencesState:function(t=Vb,i){switch(i.type){case Nn.RESET:return Vb;case"[Preferences] Save State":{const e=Object.assign(Object.assign({},t.states),{[i.payload.id]:i.payload.value});return Object.assign(Object.assign({},t),{states:e})}case"[Preferences] Remove State":{const e=Object.assign({},t.states);return delete e[i.payload],Object.assign(Object.assign({},t),{states:e})}case"[Preferences] Set Columns":return Object.assign(Object.assign({},t),{columns:i.payload});case"[Preferences] Set Link Size":return Object.assign(Object.assign({},t),{linkSize:i.payload});case"[Preferences] Set Link Text":return Object.assign(Object.assign({},t),{linkText:i.payload});case"[Preferences] Set Sankey Align":return Object.assign(Object.assign({},t),{sankeyAlign:i.payload});case"[Preferences] Set Simplex Enabled":return Object.assign(Object.assign({},t),{simplex:i.payload});default:return t}}},nB=[IO];class iB{constructor(i){this.payload=i,this.type="[Datasets] Load Mod Data"}}let rB=(()=>{class t{constructor(e,r,a){this.actions$=e,this.http=r,this.store=a,this.cache={},this.appLoad$=Ra(()=>this.actions$.pipe(Zl(Nn.LOAD),(0,Di.w)(l=>{var f;const h=(null===(f=l.payload.settingsState)||void 0===f?void 0:f.baseId)||fn.baseId;return this.requestData(h).pipe(mn(g=>this.loadModsForBase(g.defaults.modIds)),mn(g=>{l.payload.productsState||this.store.dispatch(new nm(g.items[0].id))}))})),{dispatch:!1}),this.appReset$=Ra(()=>this.actions$.pipe(Zl(Nn.RESET),(0,Di.w)(()=>this.requestData(fn.baseId).pipe(mn(l=>this.loadModsForBase(l.defaults.modIds)),(0,_t.U)(l=>new nm(l.items[0].id)))))),this.setBaseId$=Ra(()=>this.actions$.pipe(Zl("[Settings] Set Base"),(0,Di.w)(l=>this.requestData(l.payload).pipe(mn(f=>this.loadModsForBase(f.defaults.modIds)),(0,_t.U)(f=>new nm(f.items[0].id)))))),this.load(Qi.zip,Qi.storedState,fn)}loadModsForBase(e){e.forEach(r=>this.requestData(r).subscribe(()=>{}))}requestData(e){return this.cache[e]?(0,ot.of)(this.cache[e]):this.http.get(`data/${e}/data.json`).pipe((0,_t.U)(r=>r),mn(r=>this.cache[e]=r),mn(r=>this.store.dispatch(new iB({id:e,value:r}))))}load(e,r,a){var l;if(!e){const f=(null===(l=null==r?void 0:r.settingsState)||void 0===l?void 0:l.baseId)||a.baseId;this.requestData(f).subscribe(h=>{this.loadModsForBase(h.defaults.modIds),(null==r?void 0:r.productsState)||this.store.dispatch(new nm(h.items[0].id))})}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(g_),n.LFG(oa),n.LFG(Ce.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),oB=(()=>{class t{constructor(e){this.actions$=e,this.adjustDisplayRate$=Ra(()=>this.actions$.pipe(Zl("[Settings] Set Display Rate"),(0,_t.U)(r=>{const a=cr[r.payload.value].div(cr[r.payload.prev]);return new RS(a.toString())})))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(g_))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),sB=(()=>{class t{constructor(e,r){this.actions$=e,this.store=r,this.resetRecipeSettings$=Ra(()=>this.actions$.pipe(Zl("[Factories] Add","[Factories] Remove","[Factories] Raise","[Factories] Set Factory"),(0,Di.w)(()=>df([this.store.select(bo),this.store.select(pc),this.store.select(Fs)]).pipe((0,go.q)(1))),(0,Di.w)(([a,l,f])=>{const h=[];for(const g of Object.keys(a)){const y=a[g];if(y&&(null!=y.factoryModules||null!=y.beaconCount||null!=y.beacon||null!=y.beaconModules)){const b=f.itemEntities[l[g].factory].factory;(!wn.allowsModules(f.recipeEntities[g],b)||y.factoryModules&&y.factoryModules.length!==b.modules)&&h.push(new Jn(g))}}return h})))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(g_),n.LFG(Ce.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),aB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t,bootstrap:[XZ]}),t.\u0275inj=n.cJS({providers:[{provide:ve,useValue:"/"},{provide:n.qLn,useClass:eB}],imports:[[Ym,Hn,ZZ,my,r1,o1,Ce.Aw.forRoot(tB,{metaReducers:nB}),x_.FT.instrument({logOnly:true}),d0.forRoot([rB,oB,sB])]]}),t})();(0,n.G48)(),console.log(`${ry} 1.3.81`),jc().bootstrapModule(aB).catch(t=>console.error(t))},9162:(j,N,E)=>{"use strict";function F(te,de,me,be){return new(me||(me=Promise))(function(fe,ht){function Zt(At){try{gt(be.next(At))}catch(xt){ht(xt)}}function ci(At){try{gt(be.throw(At))}catch(xt){ht(xt)}}function gt(At){At.done?fe(At.value):function(fe){return fe instanceof me?fe:new me(function(ht){ht(fe)})}(At.value).then(Zt,ci)}gt((be=be.apply(te,de||[])).next())})}function Ve(te){return this instanceof Ve?(this.v=te,this):new Ve(te)}function le(te,de,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,be=me.apply(te,de||[]),fe=[];return Re={},ht("next"),ht("throw"),ht("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function ht(vn){be[vn]&&(Re[vn]=function(nr){return new Promise(function(Er,zt){fe.push([vn,nr,Er,zt])>1||Zt(vn,nr)})})}function Zt(vn,nr){try{!function(vn){vn.value instanceof Ve?Promise.resolve(vn.value.v).then(gt,At):xt(fe[0][2],vn)}(be[vn](nr))}catch(Er){xt(fe[0][3],Er)}}function gt(vn){Zt("next",vn)}function At(vn){Zt("throw",vn)}function xt(vn,nr){vn(nr),fe.shift(),fe.length&&Zt(fe[0][0],fe[0][1])}}function Te(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,de=te[Symbol.asyncIterator];return de?de.call(te):(te=function(te){var de="function"==typeof Symbol&&Symbol.iterator,me=de&&te[de],be=0;if(me)return me.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&be>=te.length&&(te=void 0),{value:te&&te[be++],done:!te}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),me={},be("next"),be("throw"),be("return"),me[Symbol.asyncIterator]=function(){return this},me);function be(fe){me[fe]=te[fe]&&function(ht){return new Promise(function(Zt,ci){!function(fe,ht,Zt,ci){Promise.resolve(ci).then(function(gt){fe({value:gt,done:Zt})},ht)}(Zt,ci,(ht=te[fe](ht)).done,ht.value)})}}}E.d(N,{mG:()=>F,qq:()=>Ve,FC:()=>le,KL:()=>Te})},3668:(j,N,E)=>{"use strict";E.d(N,{deG:()=>$e,tb:()=>yb,AFp:()=>gb,ip1:()=>Og,CZH:()=>ic,hGG:()=>Gg,z2F:()=>rc,sBO:()=>qI,Sil:()=>kg,_Vd:()=>ws,EJc:()=>bb,SBq:()=>qr,qLn:()=>pa,vpe:()=>Hi,tBr:()=>Mr,XFs:()=>Ye,OlP:()=>on,zs3:()=>en,ZZ4:()=>np,aQg:()=>Ge,soG:()=>Jf,YKP:()=>lg,h0i:()=>Ts,PXZ:()=>Oi,R0b:()=>Mi,FiY:()=>Lt,Lbi:()=>mb,g9A:()=>Rg,Qsj:()=>ST,FYo:()=>Pf,JOm:()=>fr,Tiy:()=>ag,q3G:()=>Xt,PiD:()=>us,tp0:()=>Or,Rgc:()=>Ss,dDg:()=>Sb,GfV:()=>OT,s_b:()=>Ds,ifc:()=>Je,eFA:()=>Pb,G48:()=>NI,Gpc:()=>U,X6Q:()=>Ug,_c5:()=>iS,VLi:()=>RI,c2e:()=>vb,zSh:()=>Ta,wAp:()=>tt,vHH:()=>ke,EiD:()=>uh,mCW:()=>ol,qzn:()=>ca,JVY:()=>rl,pB0:()=>yy,eBb:()=>Gx,L6k:()=>ii,LAX:()=>Kx,cg1:()=>z_,Tjo:()=>YI,kL8:()=>Ql,yhl:()=>la,dqk:()=>Ft,sIi:()=>Nl,CqO:()=>D_,QGY:()=>S_,F4k:()=>Di,RDi:()=>ax,AaK:()=>F,z3N:()=>Pr,qOj:()=>d_,TTD:()=>Lc,_Bn:()=>Of,xp6:()=>wh,uIk:()=>ho,ekj:()=>k_,Suo:()=>Hf,Xpm:()=>es,lG2:()=>Uu,Yz7:()=>zt,cJS:()=>tn,oAB:()=>ns,Yjl:()=>ju,Y36:()=>ri,_UZ:()=>Bl,BQk:()=>pf,ynx:()=>Vl,qZA:()=>E_,TgZ:()=>ff,EpF:()=>I_,n5z:()=>ze,LFG:()=>Ht,$8M:()=>ad,$Z:()=>Fa,NdJ:()=>hf,CRH:()=>Xv,oxw:()=>vs,ALo:()=>Vv,lcZ:()=>$T,xi3:()=>HT,Hsn:()=>Zr,F$t:()=>v0,Q6J:()=>w_,iGM:()=>au,MAs:()=>cf,evT:()=>ha,CHM:()=>Ks,LSH:()=>cl,Udp:()=>qi,YNc:()=>Ra,W1O:()=>Bn,_uU:()=>k0,Oqu:()=>$l,hij:()=>Cs,AsE:()=>yf,lnq:()=>vf,Gf:()=>$f});var n=E(273),q=E(7908),H=E(8305),ee=E(3719),V=E(3174);function J(o){for(let s in o)if(o[s]===J)return s;throw Error("Could not find renamed property on target object.")}function k(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function F(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(F).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Z(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const L=J({__forward_ref__:J});function U(o){return o.__forward_ref__=U,o.toString=function(){return F(this())},o}function z(o){return pe(o)?o():o}function pe(o){return"function"==typeof o&&o.hasOwnProperty(L)&&o.__forward_ref__===U}class ke extends Error{constructor(s,c){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,c)),this.code=s}}function le(o){return"string"==typeof o?o:null==o?"":String(o)}function ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():le(o)}function Be(o,s){const c=s?` in ${s}`:"";throw new ke("201",`No provider for ${ve(o)} found${c}`)}function At(o,s){null==o&&function(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function zt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function tn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Wn(o){return Pc(o,js)||Pc(o,qs)}function Pc(o,s){return o.hasOwnProperty(s)?o[s]:null}function Rc(o){return o&&(o.hasOwnProperty(Gr)||o.hasOwnProperty(Zu))?o[Gr]:null}const js=J({\u0275prov:J}),Gr=J({\u0275inj:J}),qs=J({ngInjectableDef:J}),Zu=J({ngInjectorDef:J});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let jn;function Tr(o){const s=jn;return jn=o,s}function $s(o,s,c){const u=Wn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Ye.Optional?null:void 0!==s?s:void Be(F(o),"Injector")}function Ir(o){return{toString:o}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),Je=(()=>{return(o=Je||(Je={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Je;var o})();const lt="undefined"!=typeof globalThis&&globalThis,Fc="undefined"!=typeof window&&window,Xo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=lt||"undefined"!=typeof global&&global||Fc||Xo,Bt={},St=[],Dt=J({\u0275cmp:J}),Hs=J({\u0275dir:J}),Sr=J({\u0275pipe:J}),Bu=J({\u0275mod:J}),li=J({\u0275fac:J}),So=J({__NG_ELEMENT_ID__:J});let Ap=0;function es(o){return Ir(()=>{const c={},u={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||St,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Je.Emulated,id:"c",styles:o.styles||St,_:null,setInput:null,schemas:o.schemas||null,tView:null},d=o.directives,p=o.features,_=o.pipes;return u.id+=Ap++,u.inputs=Vu(o.inputs,c),u.outputs=Vu(o.outputs),p&&p.forEach(m=>m(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(zs):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(Mp):null,u})}function zs(o){return Dn(o)||function(o){return o[Hs]||null}(o)}function Mp(o){return function(o){return o[Sr]||null}(o)}const ts={};function ns(o){return Ir(()=>{const s={type:o.type,bootstrap:o.bootstrap||St,declarations:o.declarations||St,imports:o.imports||St,exports:o.exports||St,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ts[o.id]=o.type),s})}function Vu(o,s){if(null==o)return Bt;const c={};for(const u in o)if(o.hasOwnProperty(u)){let d=o[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),c[d]=u,s&&(s[d]=p)}return c}const Uu=es;function ju(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Dn(o){return o[Dt]||null}function hn(o,s){const c=o[Bu]||null;if(!c&&!0===s)throw new Error(`Type ${F(o)} does not have '\u0275mod' property.`);return c}function at(o){return Array.isArray(o)&&"object"==typeof o[1]}function It(o){return Array.isArray(o)&&!0===o[1]}function Qt(o){return 0!=(8&o.flags)}function An(o){return 2==(2&o.flags)}function Mt(o){return 1==(1&o.flags)}function Gt(o){return null!==o.template}function Rp(o){return 0!=(512&o[2])}function is(o,s){return o.hasOwnProperty(li)?o[li]:null}class qu{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Lc(){return Fm}function Fm(o){return o.type.prototype.ngOnChanges&&(o.setInput=ix),oA}function oA(){const o=km(this),s=null==o?void 0:o.current;if(s){const c=o.previous;if(c===Bt)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function ix(o,s,c,u){const d=km(o)||function(o,s){return o[Np]=s}(o,{previous:Bt,current:null}),p=d.current||(d.current={}),_=d.previous,m=this.declaredInputs[c],v=_[m];p[m]=new qu(v&&v.currentValue,s,_===Bt),o[u]=s}Lc.ngInherit=!0;const Np="__ngSimpleChanges__";function km(o){return o[Np]||null}let Lm;function ax(o){Lm=o}function nn(o){return!!o.listen}const lx={createRenderer:(o,s)=>void 0!==Lm?Lm:"undefined"!=typeof document?document:void 0};function gn(o){for(;Array.isArray(o);)o=o[0];return o}function Hu(o,s){return gn(s[o])}function Kn(o,s){return gn(s[o.index])}function zu(o,s){return o.data[s]}function Gs(o,s){return o[s]}function xi(o,s){const c=s[o];return at(c)?c:c[0]}function Qu(o){return 4==(4&o[2])}function Zp(o){return 128==(128&o[2])}function Ao(o,s){return null==s?null:o[s]}function fx(o){o[18]=0}function Bm(o,s){o[5]+=s;let c=o,u=o[3];for(;null!==u&&(1===s&&1===c[5]||-1===s&&0===c[5]);)u[5]+=s,c=u,u=u[3]}const it={lFrame:Qm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Um(){return it.bindingsEnabled}function Ie(){return it.lFrame.lView}function Et(){return it.lFrame.tView}function Ks(o){return it.lFrame.contextLView=o,o[8]}function rn(){let o=Ju();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ju(){return it.lFrame.currentTNode}function fi(o,s){const c=it.lFrame;c.currentTNode=o,c.isParent=s}function Wu(){return it.lFrame.isParent}function Zc(){it.lFrame.isParent=!1}function Bc(){return it.isInCheckNoChangesMode}function Yu(o){it.isInCheckNoChangesMode=o}function Xn(){const o=it.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function io(){return it.lFrame.bindingIndex}function ro(){return it.lFrame.bindingIndex++}function Dr(o){const s=it.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}function Bp(o,s){const c=it.lFrame;c.bindingIndex=c.bindingRootIndex=o,Gu(s)}function Gu(o){it.lFrame.currentDirectiveIndex=o}function Hm(){return it.lFrame.currentQueryIndex}function Up(o){it.lFrame.currentQueryIndex=o}function yx(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Ku(o,s,c){if(c&Ye.SkipSelf){let d=s,p=o;for(;!(d=d.parent,null!==d||c&Ye.Host||(d=yx(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,o=p}const u=it.lFrame=zm();return u.currentTNode=s,u.lView=o,!0}function Uc(o){const s=zm(),c=o[1];it.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function zm(){const o=it.lFrame,s=null===o?null:o.child;return null===s?Qm(o):s}function Qm(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Jm(){const o=it.lFrame;return it.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const vx=Jm;function Xu(){const o=Jm();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ei(){return it.lFrame.selectedIndex}function Mo(o){it.lFrame.selectedIndex=o}function Kt(){const o=it.lFrame;return zu(o.tView,o.selectedIndex)}function ed(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:C,ngOnDestroy:w}=p;_&&(o.contentHooks||(o.contentHooks=[])).push(-c,_),m&&((o.contentHooks||(o.contentHooks=[])).push(c,m),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,m)),v&&(o.viewHooks||(o.viewHooks=[])).push(-c,v),C&&((o.viewHooks||(o.viewHooks=[])).push(c,C),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,C)),null!=w&&(o.destroyHooks||(o.destroyHooks=[])).push(c,w)}}function td(o,s,c){Ex(o,s,3,c)}function nd(o,s,c,u){(3&o[2])===c&&Ex(o,s,c,u)}function $p(o,s){let c=o[2];(3&c)===s&&(c&=2047,c+=1,o[2]=c)}function Ex(o,s,c,u){const p=null!=u?u:-1,_=s.length-1;let m=0;for(let v=void 0!==u?65535&o[18]:0;v<_;v++)if("number"==typeof s[v+1]){if(m=s[v],null!=u&&m>=u)break}else s[v]<0&&(o[18]+=65536),(m<p||-1==p)&&(uA(o,c,s,v),o[18]=(4294901760&o[18])+v+2),v++}function uA(o,s,c,u){const d=c[u]<0,p=c[u+1],m=o[d?-c[u]:c[u]];if(d){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{p.call(m)}finally{}}}else try{p.call(m)}finally{}}class jc{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function rd(o,s,c){const u=nn(o);let d=0;for(;d<c.length;){const p=c[d];if("number"==typeof p){if(0!==p)break;d++;const _=c[d++],m=c[d++],v=c[d++];u?o.setAttribute(s,m,v,_):s.setAttributeNS(_,m,v)}else{const _=p,m=c[++d];qc(_)?u&&o.setProperty(s,_,m):u?o.setAttribute(s,_,m):s.setAttribute(_,m),d++}}return d}function Gm(o){return 3===o||4===o||6===o}function qc(o){return 64===o.charCodeAt(0)}function $c(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?c=d:0===c||Dx(o,c,d,null,-1===c||2===c?s[++u]:null)}}return o}function Dx(o,s,c,u,d){let p=0,_=o.length;if(-1===s)_=-1;else for(;p<o.length;){const m=o[p++];if("number"==typeof m){if(m===s){_=-1;break}if(m>s){_=p-1;break}}}for(;p<o.length;){const m=o[p];if("number"==typeof m)break;if(m===c){if(null===u)return void(null!==d&&(o[p+1]=d));if(u===o[p+1])return void(o[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==_&&(o.splice(_,0,s),p=_+1),o.splice(p++,0,c),null!==u&&o.splice(p++,0,u),null!==d&&o.splice(p++,0,d)}function Ax(o){return-1!==o}function Hc(o){return 32767&o}function zc(o,s){let c=function(o){return o>>16}(o),u=s;for(;c>0;)u=u[15],c--;return u}let zp=!0;function Qp(o){const s=zp;return zp=o,s}let fA=0;function Qc(o,s){const c=Ar(o,s);if(-1!==c)return c;const u=s[1];u.firstCreatePass&&(o.injectorIndex=s.length,os(u.data,o),os(s,null),os(u.blueprint,null));const d=Jc(o,s),p=o.injectorIndex;if(Ax(d)){const _=Hc(d),m=zc(d,s),v=m[1].data;for(let C=0;C<8;C++)s[p+C]=m[_+C]|v[_+C]}return s[p+8]=d,p}function os(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Ar(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Jc(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,d=s;for(;null!==d;){const p=d[1],_=p.type;if(u=2===_?p.declTNode:1===_?d[6]:null,null===u)return-1;if(c++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return-1}function M(o,s,c){!function(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(So)&&(u=c[So]),null==u&&(u=c[So]=fA++);const d=255&u;s.data[o+(d>>5)]|=1<<d}(o,s,c)}function Jp(o,s,c){if(c&Ye.Optional)return o;Be(s,"NodeInjector")}function ey(o,s,c,u){if(c&Ye.Optional&&void 0===u&&(u=null),0==(c&(Ye.Self|Ye.Host))){const d=o[9],p=Tr(void 0);try{return d?d.get(s,u,c&Ye.Optional):$s(s,u,c&Ye.Optional)}finally{Tr(p)}}return Jp(u,s,c)}function ty(o,s,c,u=Ye.Default,d){if(null!==o){const p=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(So)?o[So]:void 0;return"number"==typeof s?s>=0?255&s:Rx:s}(c);if("function"==typeof p){if(!Ku(s,o,u))return u&Ye.Host?Jp(d,c,u):ey(s,c,u,d);try{const _=p(u);if(null!=_||u&Ye.Optional)return _;Be(c)}finally{vx()}}else if("number"==typeof p){let _=null,m=Ar(o,s),v=-1,C=u&Ye.Host?s[16][6]:null;for((-1===m||u&Ye.SkipSelf)&&(v=-1===m?Jc(o,s):s[m+8],-1!==v&&Xe(u,!1)?(_=s[1],m=Hc(v),s=zc(v,s)):m=-1);-1!==m;){const w=s[1];if(Wp(p,m,w.data)){const S=Nx(m,s,c,_,u,C);if(S!==ny)return S}v=s[m+8],-1!==v&&Xe(u,s[1].data[m+8]===C)&&Wp(p,m,s)?(_=w,m=Hc(v),s=zc(v,s)):m=-1}}}return ey(s,c,u,d)}const ny={};function Rx(){return new ea(rn(),Ie())}function Nx(o,s,c,u,d,p){const _=s[1],m=_.data[o+8],w=od(m,_,c,null==u?An(m)&&zp:u!=_&&0!=(3&m.type),d&Ye.Host&&p===m);return null!==w?Wc(s,_,w,m):ny}function od(o,s,c,u,d){const p=o.providerIndexes,_=s.data,m=1048575&p,v=o.directiveStart,w=p>>20,A=d?m+w:o.directiveEnd;for(let P=u?m:m+w;P<A;P++){const B=_[P];if(P<v&&c===B||P>=v&&B.type===c)return P}if(d){const P=_[v];if(P&&Gt(P)&&P.type===c)return v}return null}function Wc(o,s,c,u){let d=o[c];const p=s.data;if(function(o){return o instanceof jc}(d)){const _=d;_.resolving&&function(o,s){throw new ke("200",`Circular dependency in DI detected for ${o}`)}(ve(p[c]));const m=Qp(_.canSeeViewProviders);_.resolving=!0;const v=_.injectImpl?Tr(_.injectImpl):null;Ku(o,u,Ye.Default);try{d=o[c]=_.factory(void 0,p,o,u),s.firstCreatePass&&c>=u.directiveStart&&function(o,s,c){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(u){const _=Fm(s);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,_)}d&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,d),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],s)}finally{null!==v&&Tr(v),Qp(m),_.resolving=!1,vx()}}return d}function Wp(o,s,c){return!!(c[s+(o>>5)]&1<<o)}function Xe(o,s){return!(o&Ye.Self||o&Ye.Host&&s)}class ea{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return ty(this._tNode,this._lView,s,u,c)}}function ze(o){return Ir(()=>{const s=o.prototype.constructor,c=s[li]||sd(s),u=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==u;){const p=d[li]||sd(d);if(p&&p!==c)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function sd(o){return pe(o)?()=>{const s=sd(z(o));return s&&s()}:is(o)}function ad(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let d=0;for(;d<u;){const p=c[d];if(Gm(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof c[d];)d++;else{if(p===s)return c[d+1];d+=2}}}return null}(rn(),o)}const Nt="__parameters__";function ki(o,s,c){return Ir(()=>{const u=function(o){return function(...c){if(o){const u=o(...c);for(const d in u)this[d]=u[d]}}}(s);function d(...p){if(this instanceof d)return u.apply(this,p),this;const _=new d(...p);return m.annotation=_,m;function m(v,C,w){const S=v.hasOwnProperty(Nt)?v[Nt]:Object.defineProperty(v,Nt,{value:[]})[Nt];for(;S.length<=w;)S.push(null);return(S[w]=S[w]||[]).push(_),v}}return c&&(d.prototype=Object.create(c.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class on{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=zt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $e=new on("AnalyzeForEntryComponents");function Zi(o,s){void 0===s&&(s=o);for(let c=0;c<o.length;c++){let u=o[c];Array.isArray(u)?(s===o&&(s=o.slice(0,c)),Zi(u,s)):s!==o&&s.push(u)}return s}function kn(o,s){o.forEach(c=>Array.isArray(c)?kn(c,s):s(c))}function wi(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function mt(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ro(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function Ei(o,s,c){let u=ia(o,s);return u>=0?o[1|u]=c:(u=~u,function(o,s,c,u){let d=o.length;if(d==s)o.push(c,u);else if(1===d)o.push(u,o[0]),o[0]=c;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function Kp(o,s){const c=ia(o,s);if(c>=0)return o[1|c]}function ia(o,s){return function(o,s,c){let u=0,d=o.length>>c;for(;d!==u;){const p=u+(d-u>>1),_=o[p<<c];if(s===_)return p<<c;_>s?d=p:u=p+1}return~(d<<c)}(o,s,1)}const ti={},_t="__NG_DI_FLAG__",as="ngTempTokenPath",oo=/\n/gm,Xp="__source",eh=J({provide:String,useValue:J});let el;function cs(o){const s=el;return el=o,s}function uy(o,s=Ye.Default){if(void 0===el)throw new Error("inject() must be called from an injection context");return null===el?$s(o,void 0,s):el.get(o,s&Ye.Optional?null:void 0,s)}function Ht(o,s=Ye.Default){return(jn||uy)(z(o),s)}function ls(o){const s=[];for(let c=0;c<o.length;c++){const u=z(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,p=Ye.Default;for(let _=0;_<u.length;_++){const m=u[_],v=dy(m);"number"==typeof v?-1===v?d=m.token:p|=v:d=m}s.push(Ht(d,p))}else s.push(Ht(u))}return s}function ra(o,s){return o[_t]=s,o.prototype[_t]=s,o}function dy(o){return o[_t]}function th(o,s,c,u){const d=o[as];throw s[Xp]&&d.unshift(s[Xp]),o.message=function(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let d=F(s);if(Array.isArray(s))d=s.map(F).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let m=s[_];p.push(_+":"+("string"==typeof m?JSON.stringify(m):F(m)))}d=`{${p.join(", ")}}`}return`${c}${u?"("+u+")":""}[${d}]: ${o.replace(oo,"\n  ")}`}("\n"+o.message,d,c,u),o.ngTokenPath=d,o[as]=null,o}const Mr=ra(ki("Inject",o=>({token:o})),-1),Lt=ra(ki("Optional"),8),us=ra(ki("Self"),2),Or=ra(ki("SkipSelf"),4);let sa;function ds(o){var s;return(null==(s=function(){if(void 0===sa&&(sa=null,Ft.trustedTypes))try{sa=Ft.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return sa}())?void 0:s.createHTML(o))||o}class aa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ni extends aa{getTypeName(){return"HTML"}}class Qx extends aa{getTypeName(){return"Style"}}class Jx extends aa{getTypeName(){return"Script"}}class Wx extends aa{getTypeName(){return"URL"}}class Yx extends aa{getTypeName(){return"ResourceURL"}}function Pr(o){return o instanceof aa?o.changingThisBreaksApplicationSecurity:o}function ca(o,s){const c=la(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===s}function la(o){return o instanceof aa&&o.getTypeName()||null}function rl(o){return new ni(o)}function ii(o){return new Qx(o)}function Gx(o){return new Jx(o)}function Kx(o){return new Wx(o)}function yy(o){return new Yx(o)}class Xx{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(ds(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class vy{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const u=this.inertDocument.createElement("body");c.appendChild(u)}}getInertBodyElement(s){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ds(s),c;const u=this.inertDocument.createElement("body");return u.innerHTML=ds(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const c=s.attributes;for(let d=c.length-1;0<d;d--){const _=c.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,by=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ol(o){return(o=String(o)).match(Rr)||o.match(by)?o:"unsafe:"+o}function Nr(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function Ti(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const so=Nr("area,br,col,hr,img,wbr"),ah=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cn=Nr("rp,rt"),ud=Ti(so,Ti(ah,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ti(Cn,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ti(Cn,ah)),dd=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fd=Nr("srcset"),ch=Ti(dd,fd,Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wy=Nr("script,style,template");class Ey{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let d=this.checkClobberedElement(c,c.nextSibling);if(d){c=d;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!ud.hasOwnProperty(c))return this.sanitizedSomething=!0,!wy.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),_=p.name,m=_.toLowerCase();if(!ch.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let v=p.value;dd[m]&&(v=ol(v)),fd[m]&&(o=v,v=(o=String(o)).split(",").map(s=>ol(s.trim())).join(", ")),this.buf.push(" ",_,'="',lh(v),'"')}var o;return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();ud.hasOwnProperty(c)&&!so.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(lh(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const sl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ty=/([^\#-~ |!])/g;function lh(o){return o.replace(/&/g,"&amp;").replace(sl,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ty,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let al;function uh(o,s){let c=null;try{al=al||function(o){const s=new vy(o);return function(){try{return!!(new window.DOMParser).parseFromString(ds(""),"text/html")}catch(o){return!1}}()?new Xx(s):s}(o);let u=s?String(s):"";c=al.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=c.innerHTML,c=al.getInertBodyElement(u)}while(u!==p);return ds((new Ey).sanitizeChildren(dh(c)||c))}finally{if(c){const u=dh(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function dh(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function cl(o){const s=function(){const o=Ie();return o&&o[12]}();return s?s.sanitize(Xt.URL,o)||"":ca(o,"URL")?Pr(o):ol(le(o))}const ow="__ngContext__";function an(o,s){o[ow]=s}function ul(o){const s=function(o){return o[ow]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function fa(o){return o.ngOriginalError}function uw(o,...s){o.error(...s)}class pa{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s),u=this._findContext(s),d=(o=s)&&o.ngErrorLogger||uw;var o;d(this._console,"ERROR",s),c&&d(this._console,"ORIGINAL ERROR",c),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(fa(s)):null}_findOriginalError(s){let c=s&&fa(s);for(;c&&fa(c);)c=fa(c);return c||null}}const dl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function ha(o){return o.ownerDocument}function hi(o){return o instanceof Function?o():o}var fr=(()=>((fr=fr||{})[fr.Important=1]="Important",fr[fr.DashCase=2]="DashCase",fr))();function pl(o,s){return undefined(o,s)}function hl(o){const s=o[3];return It(s)?s[3]:s}function _l(o){return hw(o[13])}function Ed(o){return hw(o[4])}function hw(o){for(;null!==o&&!It(o);)o=o[4];return o}function gl(o,s,c,u,d){if(null!=u){let p,_=!1;It(u)?p=u:at(u)&&(_=!0,u=u[0]);const m=gn(u);0===o&&null!==c?null==d?zy(s,c,m):ao(s,c,m,d||null,!0):1===o&&null!==c?ao(s,c,m,d||null,!0):2===o?function(o,s,c){const u=ga(o,s);u&&function(o,s,c,u){nn(o)?o.removeChild(s,c,u):s.removeChild(c)}(o,u,s,c)}(s,m,_):3===o&&s.destroyNode(m),null!=p&&function(o,s,c,u,d){const p=c[7];p!==gn(c)&&gl(s,o,u,p,d);for(let m=10;m<c.length;m++){const v=c[m];vl(v[1],v,o,s,u,p)}}(s,o,p,c,d)}}function mh(o,s,c){return nn(o)?o.createElement(s,c):null===c?o.createElement(s):o.createElementNS(c,s)}function yw(o,s){const c=o[9],u=c.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Bm(d,-1)),c.splice(u,1)}function Td(o,s){if(o.length<=10)return;const c=10+s,u=o[c];if(u){const d=u[17];null!==d&&d!==o&&yw(d,u),s>0&&(o[c-1][4]=u[4]);const p=mt(o,10+s);!function(o,s){vl(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function qy(o,s){if(!(256&s[2])){const c=s[11];nn(c)&&c.destroyNode&&vl(o,s,c,3,null,null),function(o){let s=o[13];if(!s)return Id(o[1],o);for(;s;){let c=null;if(at(s))c=s[13];else{const u=s[10];u&&(c=u)}if(!c){for(;s&&!s[4]&&s!==o;)at(s)&&Id(s[1],s),s=s[3];null===s&&(s=o),at(s)&&Id(s[1],s),c=s&&s[4]}s=c}}(s)}}function Id(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const d=s[c[u]];if(!(d instanceof jc)){const p=c[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const m=d[p[_]],v=p[_+1];try{v.call(m)}finally{}}else try{p.call(d)}finally{}}}}(o,s),function(o,s){const c=o.cleanup,u=s[7];let d=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const _=c[p+1],m="function"==typeof _?_(s):gn(s[_]),v=u[d=c[p+2]],C=c[p+3];"boolean"==typeof C?m.removeEventListener(c[p],v,C):C>=0?u[d=C]():u[d=-C].unsubscribe(),p+=2}else{const _=u[d=c[p+1]];c[p].call(_)}if(null!==u){for(let p=d+1;p<u.length;p++)u[p]();s[7]=null}}(o,s),1===s[1].type&&nn(s[11])&&s[11].destroy();const c=s[17];if(null!==c&&It(s[3])){c!==s[3]&&yw(c,s);const u=s[19];null!==u&&u.detachView(o)}}}function Sd(o,s,c){return function(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[0];if(2&u.flags){const d=o.data[u.directiveStart].encapsulation;if(d===Je.None||d===Je.Emulated)return null}return Kn(u,c)}(o,s.parent,c)}function ao(o,s,c,u,d){nn(o)?o.insertBefore(s,c,u,d):s.insertBefore(c,u,d)}function zy(o,s,c){nn(o)?o.appendChild(s,c):s.appendChild(c)}function Dd(o,s,c,u,d){null!==u?ao(o,s,c,u,d):zy(o,s,c)}function ga(o,s){return nn(o)?o.parentNode(s):s.parentNode}function Ad(o,s,c){return Qy(o,s,c)}let Qy=function(o,s,c){return 40&o.type?Kn(o,c):null};function yl(o,s,c,u){const d=Sd(o,u,s),p=s[11],m=Ad(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(c))for(let v=0;v<c.length;v++)Dd(p,d,c[v],m,!1);else Dd(p,d,c,m,!1)}function Od(o,s){if(null!==s){const c=s.type;if(3&c)return Kn(s,o);if(4&c)return vh(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return Od(o,u);{const d=o[s.index];return It(d)?vh(-1,d):gn(d)}}if(32&c)return pl(s,o)()||gn(o[s.index]);{const u=Pd(o,s);return null!==u?Array.isArray(u)?u[0]:Od(hl(o[16]),u):Od(o,s.next)}}return null}function Pd(o,s){return null!==s?o[16][6].projection[s.projection]:null}function vh(o,s){const c=10+o+1;if(c<s.length){const u=s[c],d=u[1].firstChild;if(null!==d)return Od(u,d)}return s[7]}function Rd(o,s,c,u,d,p,_){for(;null!=c;){const m=u[c.index],v=c.type;if(_&&0===s&&(m&&an(gn(m),u),c.flags|=4),64!=(64&c.flags))if(8&v)Rd(o,s,c.child,u,d,p,!1),gl(s,o,d,m,p);else if(32&v){const C=pl(c,u);let w;for(;w=C();)gl(s,o,d,w,p);gl(s,o,d,m,p)}else 16&v?Nd(o,s,u,c,d,p):gl(s,o,d,m,p);c=_?c.projectionNext:c.next}}function vl(o,s,c,u,d,p){Rd(c,u,o.firstChild,s,d,p,!1)}function Nd(o,s,c,u,d,p){const _=c[16],v=_[6].projection[u.projection];if(Array.isArray(v))for(let C=0;C<v.length;C++)gl(s,o,d,v[C],p);else Rd(o,s,v,_[3],d,p,!0)}function bh(o,s,c){nn(o)?o.setAttribute(s,"style",c):s.style.cssText=c}function ma(o,s,c){nn(o)?""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c):s.className=c}function Gy(o,s,c){let u=o.length;for(;;){const d=o.indexOf(s,c);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const p=s.length;if(d+p===u||o.charCodeAt(d+p)<=32)return d}c=d+1}}const Ky="ng-template";function bl(o,s,c){let u=0;for(;u<o.length;){let d=o[u++];if(c&&"class"===d){if(d=o[u],-1!==Gy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<o.length&&"string"==typeof(d=o[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Xy(o){return 4===o.type&&o.value!==Ky}function ww(o,s,c){return s===(4!==o.type||c?o.value:Ky)}function Ch(o,s,c){let u=4;const d=o.attrs||[],p=function(o){for(let s=0;s<o.length;s++)if(Gm(o[s]))return s;return o.length}(d);let _=!1;for(let m=0;m<s.length;m++){const v=s[m];if("number"!=typeof v){if(!_)if(4&u){if(u=2|1&u,""!==v&&!ww(o,v,c)||""===v&&1===s.length){if(Bi(u))return!1;_=!0}}else{const C=8&u?v:s[++m];if(8&u&&null!==o.attrs){if(!bl(o.attrs,C,c)){if(Bi(u))return!1;_=!0}continue}const S=Ew(8&u?"class":v,d,Xy(o),c);if(-1===S){if(Bi(u))return!1;_=!0;continue}if(""!==C){let A;A=S>p?"":d[S+1].toLowerCase();const P=8&u?A:null;if(P&&-1!==Gy(P,C,0)||2&u&&C!==A){if(Bi(u))return!1;_=!0}}}}else{if(!_&&!Bi(u)&&!Bi(v))return!1;if(_&&Bi(v))continue;_=!1,u=v|1&u}}return Bi(u)||_}function Bi(o){return 0==(1&o)}function Ew(o,s,c,u){if(null===s)return-1;let d=0;if(u||!c){let p=!1;for(;d<s.length;){const _=s[d];if(_===o)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let m=s[++d];for(;"string"==typeof m;)m=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function xh(o,s,c=!1){for(let u=0;u<s.length;u++)if(Ch(o,s[u],c))return!0;return!1}function t1(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let d=0;d<o.length;d++)if(o[d]!==u[d])continue e;return!0}}return!1}function n1(o,s){return o?":not("+s.trim()+")":s}function i1(o){let s=o[0],c=1,u=2,d="",p=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&u){const m=o[++c];d+="["+_+(m.length>0?'="'+m+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!Bi(_)&&(s+=n1(p,d),d=""),u=_,p=p||!Bi(u);c++}return""!==d&&(s+=n1(p,d)),s}const ft={};function wh(o){r1(Et(),Ie(),ei()+o,Bc())}function r1(o,s,c,u){if(!u)if(3==(3&s[2])){const p=o.preOrderCheckHooks;null!==p&&td(s,p,c)}else{const p=o.preOrderHooks;null!==p&&nd(s,p,0,c)}Mo(c)}function Eh(o,s){return o<<17|s<<2}function Fr(o){return o>>17&32767}function Th(o){return 2|o}function Ln(o){return(131068&o)>>2}function Ih(o,s){return-131069&o|s<<2}function a1(o){return 1|o}function Fw(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const d=c[u],p=c[u+1];if(-1!==p){const _=o.data[p];Up(d),_.contentQueries(2,s[p],p)}}}function Ca(o,s,c,u,d,p,_,m,v,C){const w=s.blueprint.slice();return w[0]=d,w[2]=140|u,fx(w),w[3]=w[15]=o,w[8]=c,w[10]=_||o&&o[10],w[11]=m||o&&o[11],w[12]=v||o&&o[12]||null,w[9]=C||o&&o[9]||null,w[6]=p,w[16]=2==s.type?o[16]:w,w}function ko(o,s,c,u,d){let p=o.data[s];if(null===p)p=function(o,s,c,u,d){const p=Ju(),_=Wu(),v=o.data[s]=function(o,s,c,u,d,p){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,c,s,u,d);return null===o.firstChild&&(o.firstChild=v),null!==p&&(_?null==p.child&&null!==v.parent&&(p.child=v):null===p.next&&(p.next=v)),v}(o,s,c,u,d),it.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=u,p.attrs=d;const _=function(){const o=it.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return fi(p,!0),p}function Lo(o,s,c,u){if(0===c)return-1;const d=s.length;for(let p=0;p<c;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return d}function Zo(o,s,c){Uc(s);try{const u=o.viewQuery;null!==u&&O1(1,u,c);const d=o.template;null!==d&&Fh(o,s,d,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Fw(o,s),o.staticViewQueries&&O1(2,o.viewQuery,c);const p=o.components;null!==p&&function(o,s){for(let c=0;c<s.length;c++)qh(o,s[c])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[2]&=-5,Xu()}}function xa(o,s,c,u){const d=s[2];if(256==(256&d))return;Uc(s);const p=Bc();try{fx(s),function(o){it.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Fh(o,s,c,2,u);const _=3==(3&d);if(!p)if(_){const C=o.preOrderCheckHooks;null!==C&&td(s,C,null)}else{const C=o.preOrderHooks;null!==C&&nd(s,C,0,null),$p(s,0)}if(function(o){for(let s=_l(o);null!==s;s=Ed(s)){if(!s[2])continue;const c=s[9];for(let u=0;u<c.length;u++){const d=c[u],p=d[3];0==(1024&d[2])&&Bm(p,1),d[2]|=1024}}}(s),function(o){for(let s=_l(o);null!==s;s=Ed(s))for(let c=10;c<s.length;c++){const u=s[c],d=u[1];Zp(u)&&xa(d,u,d.template,u[8])}}(s),null!==o.contentQueries&&Fw(o,s),!p)if(_){const C=o.contentCheckHooks;null!==C&&td(s,C)}else{const C=o.contentHooks;null!==C&&nd(s,C,1),$p(s,1)}!function(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const d=c[u];if(d<0)Mo(~d);else{const p=d,_=c[++u],m=c[++u];Bp(_,p),m(2,s[p])}}}finally{Mo(-1)}}(o,s);const m=o.components;null!==m&&function(o,s){for(let c=0;c<s.length;c++)qw(o,s[c])}(s,m);const v=o.viewQuery;if(null!==v&&O1(2,v,u),!p)if(_){const C=o.viewCheckHooks;null!==C&&td(s,C)}else{const C=o.viewHooks;null!==C&&nd(s,C,2),$p(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Bm(s[3],-1))}finally{Xu()}}function wa(o,s,c,u){const d=s[10],p=!Bc(),_=Qu(s);try{p&&!_&&d.begin&&d.begin(),_&&Zo(o,s,u),xa(o,s,c,u)}finally{p&&!_&&d.end&&d.end()}}function Fh(o,s,c,u,d){const p=ei(),_=2&u;try{Mo(-1),_&&s.length>20&&r1(o,s,20,Bc()),c(u,d)}finally{Mo(p)}}function uo(o,s,c){if(Qt(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=o.data[p];_.contentQueries&&_.contentQueries(1,c[p],p)}}}function jd(o,s,c){!Um()||(function(o,s,c,u){const d=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||Qc(c,s),an(u,s);const _=c.initialInputs;for(let m=d;m<p;m++){const v=o.data[m],C=Gt(v);C&&zd(s,c,v);const w=Wc(s,o,m,c);an(w,s),null!==_&&Bh(0,m-d,w,v,0,_),C&&(xi(c.index,s)[8]=w)}}(o,s,c,Kn(c,s)),128==(128&c.flags)&&function(o,s,c){const u=c.directiveStart,d=c.directiveEnd,_=c.index,m=it.lFrame.currentDirectiveIndex;try{Mo(_);for(let v=u;v<d;v++){const C=o.data[v],w=s[v];Gu(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Hd(C,w)}}finally{Mo(-1),Gu(m)}}(o,s,c))}function qd(o,s,c=Kn){const u=s.localNames;if(null!==u){let d=s.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],m=-1===_?c(s,o):o[_];o[d++]=m}}}function pr(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=kr(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function kr(o,s,c,u,d,p,_,m,v,C){const w=20+u,S=w+d,A=function(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:ft);return c}(w,S),P="function"==typeof C?C():C;return A[1]={type:o,blueprint:A,template:c,queries:null,viewQuery:m,declTNode:s,data:A.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:v,consts:P,incompleteFirstPass:!1}}function Il(o,s,c,u){const d=P1(s);null===c?d.push(u):(d.push(c),o.firstCreatePass&&zh(o).push(u,d.length-1))}function v1(o,s,c){for(let u in o)if(o.hasOwnProperty(u)){const d=o[u];(c=null===c?{}:c).hasOwnProperty(u)?c[u].push(s,d):c[u]=[s,d]}return c}function Ea(o,s,c,u){let d=!1;if(Um()){const p=function(o,s,c){const u=o.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];xh(c,_.selectors,!1)&&(d||(d=[]),M(Qc(c,s),o,_.type),Gt(_)?(I1(o,c),d.unshift(_)):d.push(_))}return d}(o,s,c),_=null===u?null:{"":-1};if(null!==p){d=!0,S1(c,o.data.length,p.length);for(let w=0;w<p.length;w++){const S=p[w];S.providersResolver&&S.providersResolver(S)}let m=!1,v=!1,C=Lo(o,s,p.length,null);for(let w=0;w<p.length;w++){const S=p[w];c.mergedAttrs=$c(c.mergedAttrs,S.hostAttrs),D1(o,c,s,C,S),Vw(C,S,_),null!==S.contentQueries&&(c.flags|=8),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=128);const A=S.type.prototype;!m&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),m=!0),!v&&(A.ngOnChanges||A.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),v=!0),C++}!function(o,s){const u=s.directiveEnd,d=o.data,p=s.attrs,_=[];let m=null,v=null;for(let C=s.directiveStart;C<u;C++){const w=d[C],S=w.inputs,A=null===p||Xy(s)?null:Vh(S,p);_.push(A),m=v1(S,C,m),v=v1(w.outputs,C,v)}null!==m&&(m.hasOwnProperty("class")&&(s.flags|=16),m.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=m,s.outputs=v}(o,c)}_&&function(o,s,c){if(s){const u=o.localNames=[];for(let d=0;d<s.length;d+=2){const p=c[s[d+1]];if(null==p)throw new ke("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],p)}}}(c,u,_)}return c.mergedAttrs=$c(c.mergedAttrs,c.attrs),d}function Sl(o,s,c,u,d,p){const _=p.hostBindings;if(_){let m=o.hostBindingOpCodes;null===m&&(m=o.hostBindingOpCodes=[]);const v=~s.index;(function(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(m)!=v&&m.push(v),m.push(u,d,_)}}function Hd(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function I1(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function Vw(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;Gt(s)&&(c[""]=o)}}function S1(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}function D1(o,s,c,u,d){o.data[u]=d;const p=d.factory||(d.factory=is(d.type)),_=new jc(p,Gt(d),null);o.blueprint[u]=_,c[u]=_,Sl(o,s,0,u,Lo(o,c,d.hostVars,ft),d)}function zd(o,s,c){const u=Kn(s,o),d=pr(c),p=o[10],_=ms(o,Ca(o,d,null,c.onPush?64:16,u,s,p,p.createRenderer(u,c),null,null));o[s.index]=_}function Lr(o,s,c,u,d,p){const _=Kn(o,s);!function(o,s,c,u,d,p,_){if(null==p)nn(o)?o.removeAttribute(s,d,c):s.removeAttribute(d);else{const m=null==_?le(p):_(p,u||"",d);nn(o)?o.setAttribute(s,d,m,c):c?s.setAttributeNS(c,d,m):s.setAttribute(d,m)}}(s[11],_,p,o.value,c,u,d)}function Bh(o,s,c,u,d,p){const _=p[s];if(null!==_){const m=u.setInput;for(let v=0;v<_.length;){const C=_[v++],w=_[v++],S=_[v++];null!==m?u.setInput(c,S,C,w):c[w]=S}}}function Vh(o,s){let c=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;o.hasOwnProperty(d)&&(null===c&&(c=[]),c.push(d,o[d],s[u+1])),u+=2}else u+=2;else u+=4}return c}function A1(o,s,c,u){return new Array(o,!0,!1,s,null,0,u,c,null,null)}function qw(o,s){const c=xi(s,o);if(Zp(c)){const u=c[1];80&c[2]?xa(u,c,u.template,c[8]):c[5]>0&&jh(c)}}function jh(o){for(let u=_l(o);null!==u;u=Ed(u))for(let d=10;d<u.length;d++){const p=u[d];if(1024&p[2]){const _=p[1];xa(_,p,_.template,p[8])}else p[5]>0&&jh(p)}const c=o[1].components;if(null!==c)for(let u=0;u<c.length;u++){const d=xi(c[u],o);Zp(d)&&d[5]>0&&jh(d)}}function qh(o,s){const c=xi(s,o),u=c[1];(function(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(u,c),Zo(u,c,c[8])}function ms(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Dl(o){for(;o;){o[2]|=64;const s=hl(o);if(Rp(o)&&!s)return o;o=s}return null}function Jd(o,s,c){const u=s[10];u.begin&&u.begin();try{xa(o,s,o.template,c)}catch(d){throw Qh(s,d),d}finally{u.end&&u.end()}}function M1(o){!function(o){for(let s=0;s<o.components.length;s++){const c=o.components[s],u=ul(c),d=u[1];wa(d,u,d.template,c)}}(o[8])}function O1(o,s,c){Up(0),s(o,c)}const Hw=(()=>Promise.resolve(null))();function P1(o){return o[7]||(o[7]=[])}function zh(o){return o.cleanup||(o.cleanup=[])}function Qh(o,s){const c=o[9],u=c?c.get(pa,null):null;u&&u.handleError(s)}function R1(o,s,c,u,d){for(let p=0;p<c.length;){const _=c[p++],m=c[p++],v=s[_],C=o.data[_];null!==C.setInput?C.setInput(v,d,u,m):v[m]=d}}function po(o,s,c){const u=Hu(s,o);!function(o,s,c){nn(o)?o.setValue(s,c):s.textContent=c}(o[11],u,c)}function Yd(o,s,c){let u=c?o.styles:null,d=c?o.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const m=s[_];"number"==typeof m?p=m:1==p?d=Z(d,m):2==p&&(u=Z(u,m+": "+s[++_]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=d:o.classesWithoutHost=d}const Al=new on("INJECTOR",-1);class N1{get(s,c=ti){if(c===ti){const u=new Error(`NullInjectorError: No provider for ${F(s)}!`);throw u.name="NullInjectorError",u}return c}}const Ta=new on("Set Injector scope."),Ml={},F1={};let Gd;function k1(){return void 0===Gd&&(Gd=new N1),Gd}function L1(o,s=null,c=null,u){return new Z1(o,c,s||k1(),u)}class Z1{constructor(s,c,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&kn(c,m=>this.processProvider(m,s,c)),kn([s],m=>this.processInjectorType(m,[],p)),this.records.set(Al,Bo(void 0,this));const _=this.records.get(Ta);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:F(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,c=ti,u=Ye.Default){this.assertNotDestroyed();const d=cs(this),p=Tr(void 0);try{if(!(u&Ye.SkipSelf)){let m=this.records.get(s);if(void 0===m){const v=("function"==typeof(o=s)||"object"==typeof o&&o instanceof on)&&Wn(s);m=v&&this.injectableDefInScope(v)?Bo(Jh(s),Ml):null,this.records.set(s,m)}if(null!=m)return this.hydrate(s,m)}return(u&Ye.Self?k1():this.parent).get(s,c=u&Ye.Optional&&c===ti?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[as]=_[as]||[]).unshift(F(s)),d)throw _;return th(_,s,"R3InjectorError",this.source)}throw _}finally{Tr(p),cs(d)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(F(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,c,u){if(!(s=z(s)))return!1;let d=Rc(s);const p=null==d&&s.ngModule||void 0,_=void 0===p?s:p,m=-1!==u.indexOf(_);if(void 0!==p&&(d=Rc(p)),null==d)return!1;if(null!=d.imports&&!m){let w;u.push(_);try{kn(d.imports,S=>{this.processInjectorType(S,c,u)&&(void 0===w&&(w=[]),w.push(S))})}finally{}if(void 0!==w)for(let S=0;S<w.length;S++){const{ngModule:A,providers:P}=w[S];kn(P,B=>this.processProvider(B,A,P||St))}}this.injectorDefTypes.add(_);const v=is(_)||(()=>new _);this.records.set(_,Bo(v,Ml));const C=d.providers;if(null!=C&&!m){const w=s;kn(C,S=>this.processProvider(S,w,C))}return void 0!==p&&void 0!==s.providers}processProvider(s,c,u){let d=Sa(s=z(s))?s:z(s&&s.provide);const p=(o=s,B1(o)?Bo(void 0,o.useValue):Bo(Ia(o),Ml));var o;if(Sa(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Bo(void 0,Ml,!0),_.factory=()=>ls(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,p)}hydrate(s,c){return c.value===Ml&&(c.value=F1,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const c=z(s.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Jh(o){const s=Wn(o),c=null!==s?s.factory:is(o);if(null!==c)return c;if(o instanceof on)throw new Error(`Token ${F(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const u=Ro(s,"?");throw new Error(`Can't resolve all parameters for ${F(o)}: (${u.join(", ")}).`)}const c=function(o){const s=o&&(o[js]||o[qs]);if(s){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),s}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function Ia(o,s,c){let u;if(Sa(o)){const d=z(o);return is(d)||Jh(d)}if(B1(o))u=()=>z(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...ls(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))u=()=>Ht(z(o.useExisting));else{const d=z(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return is(d)||Jh(d);u=()=>new d(...ls(o.deps))}return u}function Bo(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function B1(o){return null!==o&&"object"==typeof o&&eh in o}function Sa(o){return"function"==typeof o}const Ol=function(o,s,c){return function(o,s=null,c=null,u){const d=L1(o,s,c,u);return d._resolveInjectorDefTypes(),d}({name:c},s,o,c)};let en=(()=>{class o{static create(c,u){return Array.isArray(c)?Ol(c,u,""):Ol(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=ti,o.NULL=new N1,o.\u0275prov=zt({token:o,providedIn:"any",factory:()=>Ht(Al)}),o.__NG_ELEMENT_ID__=-1,o})();function uE(o,s){ed(ul(o)[1],rn())}function d_(o){let s=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let d;if(Gt(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(c){u.push(d);const _=o;_.inputs=tf(o.inputs),_.declaredInputs=tf(o.declaredInputs),_.outputs=tf(o.outputs);const m=d.hostBindings;m&&pE(o,m);const v=d.viewQuery,C=d.contentQueries;if(v&&nf(o,v),C&&W1(o,C),k(o.inputs,d.inputs),k(o.declaredInputs,d.declaredInputs),k(o.outputs,d.outputs),Gt(d)&&d.data.animation){const w=o.data;w.animation=(w.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const m=p[_];m&&m.ngInherit&&m(o),m===d_&&(c=!1)}}s=Object.getPrototypeOf(s)}!function(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const d=o[u];d.hostVars=s+=d.hostVars,d.hostAttrs=$c(d.hostAttrs,c=$c(c,d.hostAttrs))}}(u)}function tf(o){return o===Bt?{}:o===St?[]:o}function nf(o,s){const c=o.viewQuery;o.viewQuery=c?(u,d)=>{s(u,d),c(u,d)}:s}function W1(o,s){const c=o.contentQueries;o.contentQueries=c?(u,d,p)=>{s(u,d,p),c(u,d,p)}:s}function pE(o,s){const c=o.hostBindings;o.hostBindings=c?(u,d)=>{s(u,d),c(u,d)}:s}let rf=null;function Da(){if(!rf){const o=Ft.Symbol;if(o&&o.iterator)rf=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<s.length;++c){const u=s[c];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(rf=u)}}}return rf}function Nl(o){return!!sf(o)&&(Array.isArray(o)||!(o instanceof Map)&&Da()in o)}function sf(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function _r(o,s,c){return o[s]=c}function Hn(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function Aa(o,s,c,u){const d=Hn(o,s,c);return Hn(o,s+1,u)||d}function ho(o,s,c,u){const d=Ie();return Hn(d,ro(),s)&&(Et(),Lr(Kt(),d,o,s,c,u)),ho}function ji(o,s,c,u,d,p,_,m){const C=function(o,s,c,u,d){const p=Aa(o,s,c,u);return Hn(o,s+2,d)||p}(o,io(),c,d,_);return Dr(3),C?s+le(c)+u+le(d)+p+le(_)+m:ft}function Ra(o,s,c,u,d,p,_,m){const v=Ie(),C=Et(),w=o+20,S=C.firstCreatePass?function(o,s,c,u,d,p,_,m,v){const C=s.consts,w=ko(s,o,4,_||null,Ao(C,m));Ea(s,c,w,Ao(C,v)),ed(s,w);const S=w.tViews=kr(2,w,u,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,w),S.queries=s.queries.embeddedTView(w)),w}(w,C,v,s,c,u,d,p,_):C.data[w];fi(S,!1);const A=v[11].createComment("");yl(C,v,A,S),an(A,v),ms(v,v[w]=A1(A,v,A,S)),Mt(S)&&jd(C,v,S),null!=_&&qd(v,S,m)}function cf(o){return Gs(it.lFrame.contextLView,20+o)}function ri(o,s=Ye.Default){const c=Ie();return null===c?Ht(o,s):ty(rn(),c,z(o),s)}function Fa(){throw new Error("invalid")}function w_(o,s,c){const u=Ie();return Hn(u,ro(),s)&&function(o,s,c,u,d,p,_,m){const v=Kn(s,c);let w,C=s.inputs;!m&&null!=C&&(w=C[u])?(R1(o,c,w,u,d),An(s)&&function(o,s){const c=xi(s,o);16&c[2]||(c[2]|=64)}(c,s.index)):3&s.type&&(u=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),d=null!=_?_(d,s.value||"",u):d,nn(p)?p.setProperty(v,u,d):qc(u)||(v.setProperty?v.setProperty(u,d):v[u]=d))}(Et(),Kt(),u,o,s,u[11],c,!1),w_}function df(o,s,c,u,d){const _=d?"class":"style";R1(o,c,s.inputs[_],_,u)}function ff(o,s,c,u){const d=Ie(),p=Et(),_=20+o,m=d[11],v=d[_]=mh(m,s,it.lFrame.currentNamespace),C=p.firstCreatePass?function(o,s,c,u,d,p,_){const m=s.consts,C=ko(s,o,2,d,Ao(m,p));return Ea(s,c,C,Ao(m,_)),null!==C.attrs&&Yd(C,C.attrs,!1),null!==C.mergedAttrs&&Yd(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(_,p,d,0,s,c,u):p.data[_];fi(C,!0);const w=C.mergedAttrs;null!==w&&rd(m,v,w);const S=C.classes;null!==S&&ma(m,v,S);const A=C.styles;null!==A&&bh(m,v,A),64!=(64&C.flags)&&yl(p,d,v,C),0===it.lFrame.elementDepthCount&&an(v,d),it.lFrame.elementDepthCount++,Mt(C)&&(jd(p,d,C),uo(p,C,d)),null!==u&&qd(d,C)}function E_(){let o=rn();Wu()?Zc():(o=o.parent,fi(o,!1));const s=o;it.lFrame.elementDepthCount--;const c=Et();c.firstCreatePass&&(ed(c,o),Qt(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&df(c,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&df(c,s,Ie(),s.stylesWithoutHost,!1)}function Bl(o,s,c,u){ff(o,s,c,u),E_()}function Vl(o,s,c){const u=Ie(),d=Et(),p=o+20,_=d.firstCreatePass?function(o,s,c,u,d){const p=s.consts,_=Ao(p,u),m=ko(s,o,8,"ng-container",_);return null!==_&&Yd(m,_,!0),Ea(s,c,m,Ao(p,d)),null!==s.queries&&s.queries.elementStart(s,m),m}(p,d,u,s,c):d.data[p];fi(_,!0);const m=u[p]=u[11].createComment("");yl(d,u,m,_),an(m,u),Mt(_)&&(jd(d,u,_),uo(d,_,u)),null!=c&&qd(u,_)}function pf(){let o=rn();const s=Et();Wu()?Zc():(o=o.parent,fi(o,!1)),s.firstCreatePass&&(ed(s,o),Qt(o)&&s.queries.elementEnd(o))}function I_(){return Ie()}function S_(o){return!!o&&"function"==typeof o.then}function Di(o){return!!o&&"function"==typeof o.subscribe}const D_=Di;function hf(o,s,c,u){const d=Ie(),p=Et(),_=rn();return function(o,s,c,u,d,p,_,m){const v=Mt(u),w=o.firstCreatePass&&zh(o),S=s[8],A=P1(s);let P=!0;if(3&u.type||m){const Q=Kn(u,s),Ae=m?m(Q):Q,_e=A.length,je=m?Ke=>m(gn(Ke[u.index])):u.index;if(nn(c)){let Ke=null;if(!m&&v&&(Ke=function(o,s,c,u){const d=o.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===c&&d[p+1]===u){const m=s[7],v=d[p+2];return m.length>v?m[v]:null}"string"==typeof _&&(p+=2)}return null}(o,s,d,u.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=p,Ke.__ngLastListenerFn__=p,P=!1;else{p=M_(u,s,S,p,!1);const pt=c.listen(Ae,d,p);A.push(p,pt),w&&w.push(d,je,_e,_e+1)}}else p=M_(u,s,S,p,!0),Ae.addEventListener(d,p,_),A.push(p),w&&w.push(d,je,_e,_)}else p=M_(u,s,S,p,!1);const B=u.outputs;let ne;if(P&&null!==B&&(ne=B[d])){const Q=ne.length;if(Q)for(let Ae=0;Ae<Q;Ae+=2){const En=s[ne[Ae]][ne[Ae+1]].subscribe(p),Gi=A.length;A.push(p,En),w&&w.push(d,u.index,Gi,-(Gi+1))}}}(p,d,d[11],_,o,s,!!c,u),hf}function A_(o,s,c,u){try{return!1!==c(u)}catch(d){return Qh(o,d),!1}}function M_(o,s,c,u,d){return function p(_){if(_===Function)return u;const m=2&o.flags?xi(o.index,s):s;0==(32&s[2])&&Dl(m);let v=A_(s,0,u,_),C=p.__ngNextListenerFn__;for(;C;)v=A_(s,0,C,_)&&v,C=C.__ngNextListenerFn__;return d&&!1===v&&(_.preventDefault(),_.returnValue=!1),v}}function vs(o=1){return function(o){return(it.lFrame.contextLView=function(o,s){for(;o>0;)s=s[15],o--;return s}(o,it.lFrame.contextLView))[8]}(o)}function mn(o,s){let c=null;const u=function(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(0==(1&c))return s[c+1]}return null}(o);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===u?xh(o,p,!0):t1(u,p))return d}else c=d}return c}function v0(o){const s=Ie()[16][6];if(!s.projection){const u=s.projection=Ro(o?o.length:1,null),d=u.slice();let p=s.child;for(;null!==p;){const _=o?mn(p,o):0;null!==_&&(d[_]?d[_].projectionNext=p:u[_]=p,d[_]=p),p=p.next}}}function Zr(o,s=0,c){const u=Ie(),d=Et(),p=ko(d,20+o,16,null,c||null);null===p.projection&&(p.projection=s),Zc(),64!=(64&p.flags)&&function(o,s,c){Nd(s[11],0,s,c,Sd(o,c,s),Ad(c.parent||s[6],c,s))}(d,u,p)}function I0(o,s,c,u,d){const p=o[c+1],_=null===s;let m=u?Fr(p):Ln(p),v=!1;for(;0!==m&&(!1===v||_);){const w=o[m+1];NE(o[m],s)&&(v=!0,o[m+1]=u?a1(w):Th(w)),m=u?Fr(w):Ln(w)}v&&(o[c+1]=u?Th(p):a1(p))}function NE(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&ia(o,s)>=0}function qi(o,s,c){return $i(o,s,c,!1),qi}function k_(o,s){return $i(o,s,null,!0),k_}function $i(o,s,c,u){const d=Ie(),p=Et(),_=Dr(2);p.firstUpdatePass&&function(o,s,c,u){const d=o.data;if(null===d[c+1]){const p=d[ei()],_=function(o,s){return s>=o.expandoStartIndex}(o,c);(function(o,s){return 0!=(o.flags&(s?16:32))})(p,u)&&null===s&&!_&&(s=!1),s=function(o,s,c,u){const d=function(o){const s=it.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let p=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(c=mr(c=B_(null,o,s,c,u),s.attrs,u),p=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==d)if(c=B_(d,o,s,c,u),null===p){let v=function(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==Ln(u))return o[Fr(u)]}(o,s,u);void 0!==v&&Array.isArray(v)&&(v=B_(null,o,s,v[1],u),v=mr(v,s.attrs,u),function(o,s,c,u){o[Fr(c?s.classBindings:s.styleBindings)]=u}(o,s,u,v))}else p=function(o,s,c){let u;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)u=mr(u,o[p].hostAttrs,c);return mr(u,s.attrs,c)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),c}(d,p,s,u),function(o,s,c,u,d,p){let _=p?s.classBindings:s.styleBindings,m=Fr(_),v=Ln(_);o[u]=c;let w,C=!1;if(Array.isArray(c)){const S=c;w=S[1],(null===w||ia(S,w)>0)&&(C=!0)}else w=c;if(d)if(0!==v){const A=Fr(o[m+1]);o[u+1]=Eh(A,m),0!==A&&(o[A+1]=Ih(o[A+1],u)),o[m+1]=function(o,s){return 131071&o|s<<17}(o[m+1],u)}else o[u+1]=Eh(m,0),0!==m&&(o[m+1]=Ih(o[m+1],u)),m=u;else o[u+1]=Eh(v,0),0===m?m=u:o[v+1]=Ih(o[v+1],u),v=u;C&&(o[u+1]=Th(o[u+1])),I0(o,w,u,!0),I0(o,w,u,!1),function(o,s,c,u,d){const p=d?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&ia(p,s)>=0&&(c[u+1]=a1(c[u+1]))}(s,w,o,u,p),_=Eh(m,v),p?s.classBindings=_:s.styleBindings=_}(d,p,s,c,_,u)}}(p,o,_,u),s!==ft&&Hn(d,_,s)&&function(o,s,c,u,d,p,_,m){if(!(3&s.type))return;const v=o.data,C=v[m+1];$o(function(o){return 1==(1&o)}(C)?jl(v,s,c,d,Ln(C),_):void 0)||($o(p)||function(o){return 2==(2&o)}(C)&&(p=jl(v,null,c,d,m,_)),function(o,s,c,u,d){const p=nn(o);if(s)d?p?o.addClass(c,u):c.classList.add(u):p?o.removeClass(c,u):c.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:fr.DashCase;if(null==d)p?o.removeStyle(c,u,_):c.style.removeProperty(u);else{const m="string"==typeof d&&d.endsWith("!important");m&&(d=d.slice(0,-10),_|=fr.Important),p?o.setStyle(c,u,d,_):c.style.setProperty(u,d,m?"important":"")}}}(u,_,Hu(ei(),c),d,p))}(p,p.data[ei()],d,d[11],o,d[_+1]=function(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=F(Pr(o)))),o}(s,c),u,_)}function B_(o,s,c,u,d){let p=null;const _=c.directiveEnd;let m=c.directiveStylingLast;for(-1===m?m=c.directiveStart:m++;m<_&&(p=s[m],u=mr(u,p.hostAttrs,d),p!==o);)m++;return null!==o&&(c.directiveStylingLast=m),u}function mr(o,s,c){const u=c?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ei(o,_,!!c||s[++p]))}return void 0===o?null:o}function jl(o,s,c,u,d,p){const _=null===s;let m;for(;d>0;){const v=o[d],C=Array.isArray(v),w=C?v[1]:v,S=null===w;let A=c[d+1];A===ft&&(A=S?St:void 0);let P=S?Kp(A,u):w===u?A:void 0;if(C&&!$o(P)&&(P=Kp(v,u)),$o(P)&&(m=P,_))return m;const B=o[d+1];d=_?Fr(B):Ln(B)}if(null!==s){let v=p?s.residualClasses:s.residualStyles;null!=v&&(m=Kp(v,u))}return m}function $o(o){return void 0!==o}function k0(o,s=""){const c=Ie(),u=Et(),d=o+20,p=u.firstCreatePass?ko(u,d,1,s,null):u.data[d],_=c[d]=function(o,s){return nn(o)?o.createText(s):o.createTextNode(s)}(c[11],s);yl(u,c,_,p),fi(p,!1)}function $l(o){return Cs("",o,""),$l}function Cs(o,s,c){const u=Ie(),d=function(o,s,c,u){return Hn(o,ro(),c)?s+le(c)+u:ft}(u,o,s,c);return d!==ft&&po(u,ei(),d),Cs}function yf(o,s,c,u,d){const p=Ie(),_=function(o,s,c,u,d,p){const m=Aa(o,io(),c,d);return Dr(2),m?s+le(c)+u+le(d)+p:ft}(p,o,s,c,u,d);return _!==ft&&po(p,ei(),_),yf}function vf(o,s,c,u,d,p,_){const m=Ie(),v=ji(m,o,s,c,u,d,p,_);return v!==ft&&po(m,ei(),v),vf}const Ho=void 0;var H_=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Ua={};function z_(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=K0(s);if(c)return c;const u=s.split("-")[0];if(c=K0(u),c)return c;if("en"===u)return H_;throw new Error(`Missing locale data for the locale "${o}".`)}function Ql(o){return z_(o)[tt.PluralCase]}function K0(o){return o in Ua||(Ua[o]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[o]),Ua[o]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const Ef="en-US";let nv=Ef;function ig(o,s,c,u,d){if(o=z(o),Array.isArray(o))for(let p=0;p<o.length;p++)ig(o[p],s,c,u,d);else{const p=Et(),_=Ie();let m=Sa(o)?o:z(o.provide),v=Ia(o);const C=rn(),w=1048575&C.providerIndexes,S=C.directiveStart,A=C.providerIndexes>>20;if(Sa(o)||!o.multi){const P=new jc(v,d,ri),B=rg(m,s,d?w:w+A,S);-1===B?(M(Qc(C,_),p,m),Af(p,o,s.length),s.push(m),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),c.push(P),_.push(P)):(c[B]=P,_[B]=P)}else{const P=rg(m,s,w+A,S),B=rg(m,s,w,w+A),ne=P>=0&&c[P],Q=B>=0&&c[B];if(d&&!Q||!d&&!ne){M(Qc(C,_),p,m);const Ae=function(o,s,c,u,d){const p=new jc(o,c,ri);return p.multi=[],p.index=s,p.componentProviders=0,xv(p,d,u&&!c),p}(d?xT:oi,c.length,d,u,v);!d&&Q&&(c[B].providerFactory=Ae),Af(p,o,s.length,0),s.push(m),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),c.push(Ae),_.push(Ae)}else Af(p,o,P>-1?P:B,xv(c[d?B:P],v,!d&&u));!d&&u&&Q&&c[B].componentProviders++}}}function Af(o,s,c,u){const d=Sa(s);if(d||function(o){return!!o.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const m=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const v=m.indexOf(c);-1===v?m.push(c,[u,_]):m[v+1].push(u,_)}else m.push(c,_)}}}function xv(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function rg(o,s,c,u){for(let d=c;d<u;d++)if(s[d]===o)return d;return-1}function oi(o,s,c,u){return Ya(this.multi,[])}function xT(o,s,c,u){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,m=Wc(c,c[1],this.providerFactory.index,u);p=m.slice(0,_),Ya(d,p);for(let v=_;v<m.length;v++)p.push(m[v])}else p=[],Ya(d,p);return p}function Ya(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function Of(o,s=[]){return c=>{c.providersResolver=(u,d)=>function(o,s,c){const u=Et();if(u.firstCreatePass){const d=Gt(o);ig(c,u.data,u.blueprint,d,!0),ig(s,u.data,u.blueprint,d,!1)}}(u,d?d(o):o,s)}}class og{}const sg="ngComponent";class Ev{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${F(o)}. Did you add it to @NgModule.entryComponents?`);return s[sg]=o,s}(s)}}let ws=(()=>{class o{}return o.NULL=new Ev,o})();function jr(...o){}function Ka(o,s){return new qr(Kn(o,s))}const TT=function(){return Ka(rn(),Ie())};let qr=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=TT,o})();function Dv(o){return o instanceof qr?o.nativeElement:o}class Pf{}let ST=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>AT(),o})();const AT=function(){const o=Ie(),c=xi(rn().index,o);return function(o){return o[11]}(at(c)?c:o)};let ag=(()=>{class o{}return o.\u0275prov=zt({token:o,providedIn:"root",factory:()=>null}),o})();class OT{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Rf=new OT("13.0.2"),Es={};function nu(o,s,c,u,d=!1){for(;null!==c;){const p=s[c.index];if(null!==p&&u.push(gn(p)),It(p))for(let m=10;m<p.length;m++){const v=p[m],C=v[1].firstChild;null!==C&&nu(v[1],v,C,u)}const _=c.type;if(8&_)nu(o,s,c.child,u);else if(32&_){const m=pl(c,s);let v;for(;v=m();)u.push(v)}else if(16&_){const m=Pd(s,c);if(Array.isArray(m))u.push(...m);else{const v=hl(s[16]);nu(v[1],v,m,u,!0)}}c=d?c.projectionNext:c.next}return u}class iu{constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,c=s[1];return nu(c,s,c.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(It(s)){const c=s[8],u=c?c.indexOf(this):-1;u>-1&&(Td(s,u),mt(c,u))}this._attachedToViewContainer=!1}qy(this._lView[1],this._lView)}onDestroy(s){Il(this._lView[1],this._lView,null,s)}markForCheck(){Dl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,c){Yu(!0);try{Jd(o,s,c)}finally{Yu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,vl(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class PT extends iu{constructor(s){super(s),this._view=s}detectChanges(){M1(this._view)}checkNoChanges(){!function(o){Yu(!0);try{M1(o)}finally{Yu(!1)}}(this._view)}get context(){return null}}class Ov extends ws{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=Dn(s);return new Ff(c,this.ngModule)}}function cg(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}const Nf=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dl});class Ff extends og{constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=s.selectors.map(i1).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return cg(this.componentDef.inputs)}get outputs(){return cg(this.componentDef.outputs)}create(s,c,u,d){const p=(d=d||this.ngModule)?function(o,s){return{get:(c,u,d)=>{const p=o.get(c,Es,d);return p!==Es||u===Es?p:s.get(c,u,d)}}}(s,d.injector):s,_=p.get(Pf,lx),m=p.get(ag,null),v=_.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",w=u?function(o,s,c){if(nn(o))return o.selectRootElement(s,c===Je.ShadowDom);let u="string"==typeof s?o.querySelector(s):s;return u.textContent="",u}(v,u,this.componentDef.encapsulation):mh(_.createRenderer(null,this.componentDef),C,function(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(C)),S=this.componentDef.onPush?576:528,A=function(o,s){return{components:[],scheduler:o||dl,clean:Hw,playerHandler:s||null,flags:0}}(),P=kr(0,null,null,1,0,null,null,null,null,null),B=Ca(null,P,A,S,null,null,_,v,m,p);let ne,Q;Uc(B);try{const Ae=function(o,s,c,u,d,p){const _=c[1];c[20]=o;const v=ko(_,20,2,"#host",null),C=v.mergedAttrs=s.hostAttrs;null!==C&&(Yd(v,C,!0),null!==o&&(rd(d,o,C),null!==v.classes&&ma(d,o,v.classes),null!==v.styles&&bh(d,o,v.styles)));const w=u.createRenderer(o,s),S=Ca(c,pr(s),null,s.onPush?64:16,c[20],v,u,w,p||null,null);return _.firstCreatePass&&(M(Qc(v,c),_,s.type),I1(_,v),S1(v,c.length,1)),ms(c,S),c[20]=S}(w,this.componentDef,B,_,v);if(w)if(u)rd(v,w,["ng-version",Rf.full]);else{const{attrs:_e,classes:je}=function(o){const s=[],c=[];let u=1,d=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===d?""!==p&&s.push(p,o[++u]):8===d&&c.push(p);else{if(!Bi(d))break;d=p}u++}return{attrs:s,classes:c}}(this.componentDef.selectors[0]);_e&&rd(v,w,_e),je&&je.length>0&&ma(v,w,je.join(" "))}if(Q=zu(P,20),void 0!==c){const _e=Q.projection=[];for(let je=0;je<this.ngContentSelectors.length;je++){const Ke=c[je];_e.push(null!=Ke?Array.from(Ke):null)}}ne=function(o,s,c,u,d){const p=c[1],_=function(o,s,c){const u=rn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),D1(o,u,s,Lo(o,s,1,null),c));const d=Wc(s,o,u.directiveStart,u);an(d,s);const p=Kn(u,s);return p&&an(p,s),d}(p,c,s);if(u.components.push(_),o[8]=_,d&&d.forEach(v=>v(_,s)),s.contentQueries){const v=rn();s.contentQueries(1,_,v.directiveStart)}const m=rn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Mo(m.index),Sl(c[1],m,0,m.directiveStart,m.directiveEnd,s),Hd(s,_)),_}(Ae,this.componentDef,B,A,[uE]),Zo(P,B,null)}finally{Xu()}return new NT(this.componentType,ne,Ka(Q,B),B,Q)}}class NT extends class{}{constructor(s,c,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new PT(d),this.componentType=s}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ts{}class lg{}const Is=new Map;class Fv extends Ts{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ov(this);const u=hn(s);this._bootstrapComponents=hi(u.bootstrap),this._r3Injector=L1(s,c,[{provide:Ts,useValue:this},{provide:ws,useValue:this.componentFactoryResolver}],F(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,c=en.THROW_IF_NOT_FOUND,u=Ye.Default){return s===en||s===Ts||s===Al?this:this._r3Injector.get(s,c,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zf extends lg{constructor(s){super(),this.moduleType=s,null!==hn(s)&&function(o){const s=new Set;!function c(u){const d=hn(u,!0),p=d.id;null!==p&&(function(o,s,c){if(s&&s!==c)throw new Error(`Duplicate module registered for ${o} - ${F(s)} vs ${F(s.name)}`)}(p,Is.get(p),u),Is.set(p,u));const _=hi(d.imports);for(const m of _)s.has(m)||(s.add(m),c(m))}(o)}(s)}create(s){return new Fv(this.moduleType,s)}}function Bf(o,s){const c=o[s];return c===ft?void 0:c}function Vv(o,s){const c=Et();let u;const d=o+20;c.firstCreatePass?(u=function(o,s){if(s)for(let c=s.length-1;c>=0;c--){const u=s[c];if(o===u.name)return u}throw new ke("302",`The pipe '${o}' could not be found!`)}(s,c.pipeRegistry),c.data[d]=u,u.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(d,u.onDestroy)):u=c.data[d];const p=u.factory||(u.factory=is(u.type)),_=Tr(ri);try{const m=Qp(!1),v=p();return Qp(m),function(o,s,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=u}(c,Ie(),d,v),v}finally{Tr(_)}}function $T(o,s,c){const u=o+20,d=Ie(),p=Gs(d,u);return Vf(d,u)?function(o,s,c,u,d,p){const _=s+c;return Hn(o,_,d)?_r(o,_+1,p?u.call(p,d):u(d)):Bf(o,_+1)}(d,Xn(),s,p.transform,c,p):p.transform(c)}function HT(o,s,c,u){const d=o+20,p=Ie(),_=Gs(p,d);return Vf(p,d)?function(o,s,c,u,d,p,_){const m=s+c;return Aa(o,m,d,p)?_r(o,m+2,_?u.call(_,d,p):u(d,p)):Bf(o,m+2)}(p,Xn(),s,_.transform,c,u,_):_.transform(c,u)}function Vf(o,s){return o[1].data[s].pure}function ou(o){return s=>{setTimeout(o,void 0,s)}}const Hi=class extends n.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){var v,C,w;let d=s,p=c||(()=>null),_=u;if(s&&"object"==typeof s){const S=s;d=null==(v=S.next)?void 0:v.bind(S),p=null==(C=S.error)?void 0:C.bind(S),_=null==(w=S.complete)?void 0:w.bind(S)}this.__isAsync&&(p=ou(p),d&&(d=ou(d)),_&&(_=ou(_)));const m=super.subscribe({next:d,error:p,complete:_});return s instanceof q.w0&&s.add(m),m}};function uM(){return this._results[Da()]()}class Uf{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Da(),u=Uf.prototype;u[c]||(u[c]=uM)}get changes(){return this._changes||(this._changes=new Hi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const d=Zi(s);(this._changesDetected=!function(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let d=o[u],p=s[u];if(c&&(d=c(d),p=c(p)),p!==d)return!1}return!0}(u._results,d,c))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const fM=function(){return ec(rn(),Ie())};let Ss=(()=>{class o{}return o.__NG_ELEMENT_ID__=fM,o})();const qv=Ss,$v=class extends qv{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(s){const c=this._declarationTContainer.tViews,u=Ca(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(c)),Zo(c,u,s),new iu(u)}};function ec(o,s){return 4&o.type?new $v(s,o,Ka(o,s)):null}const Hv=function(){return su(rn(),Ie())};let Ds=(()=>{class o{}return o.__NG_ELEMENT_ID__=Hv,o})();const zT=Ds,Qv=class extends zT{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return Ka(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const s=Jc(this._hostTNode,this._hostLView);if(Ax(s)){const c=zc(s,this._hostLView),u=Hc(s);return new ea(c[1].data[u+8],c)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=mg(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,c,u){const d=s.createEmbeddedView(c||{});return this.insert(d,u),d}createComponent(s,c,u,d,p){const _=s&&!("function"==typeof s);let m;if(_)m=c;else{const S=c||{};m=S.index,u=S.injector,d=S.projectableNodes,p=S.ngModuleRef}const v=_?s:new Ff(Dn(s)),C=u||this.parentInjector;if(!p&&null==v.ngModule&&C){const S=C.get(Ts,null);S&&(p=S)}const w=v.create(C,d,void 0,p);return this.insert(w.hostView,m),w}insert(s,c){const u=s._lView,d=u[1];if(It(u[3])){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const S=u[3],A=new Qv(S,S[6],S[3]);A.detach(A.indexOf(s))}}const p=this._adjustIndex(c),_=this._lContainer;!function(o,s,c,u){const d=10+u,p=c.length;u>0&&(c[d-1][4]=s),u<p-10?(s[4]=c[d],wi(c,10+u,s)):(c.push(s),s[4]=null),s[3]=c;const _=s[17];null!==_&&c!==_&&function(o,s){const c=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===c?o[9]=[s]:c.push(s)}(_,s);const m=s[19];null!==m&&m.insertView(o),s[2]|=128}(d,u,_,p);const m=vh(p,_),v=u[11],C=ga(v,_[7]);return null!==C&&function(o,s,c,u,d,p){u[0]=d,u[6]=s,vl(o,u,c,1,d,p)}(d,_[6],v,u,C,m),s.attachToViewContainerRef(),wi(jf(_),p,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=mg(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=Td(this._lContainer,c);u&&(mt(jf(this._lContainer),c),qy(u[1],u))}detach(s){const c=this._adjustIndex(s,-1),u=Td(this._lContainer,c);return u&&null!=mt(jf(this._lContainer),c)?new iu(u):null}_adjustIndex(s,c=0){return null==s?this.length+c:s}};function mg(o){return o[8]}function jf(o){return o[8]||(o[8]=[])}function su(o,s){let c;const u=s[o.index];if(It(u))c=u;else{let d;if(8&o.type)d=gn(u);else{const p=s[11];d=p.createComment("");const _=Kn(o,s);ao(p,ga(p,_),d,function(o,s){return nn(o)?o.nextSibling(s):s.nextSibling}(p,_),!1)}s[o.index]=c=A1(u,s,d,o),ms(s,c)}return new Qv(c,o,s)}class yg{constructor(s){this.queryList=s,this.matches=null}clone(){return new yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class vg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,d=[];for(let p=0;p<u;p++){const _=c.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new vg(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==Cg(s,c).matches&&this.queries[c].setDirty()}}class Jv{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class Wv{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const d=null!==c?c.length:0,p=this.getByIndex(u).embeddedTView(s,d);p&&(p.indexInDeclarationView=u,null!==c?c.push(p):c=[p])}return null!==c?new Wv(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Yv{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new Yv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(s,c,JT(c,p)),this.matchTNodeWithReadOption(s,c,od(c,s,p,!1,!1))}else u===Ss?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,od(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===qr||d===Ds||d===Ss&&4&c.type)this.addMatch(c.index,-2);else{const p=od(c,s,d,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function JT(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function qf(o,s,c,u){return-1===c?function(o,s){return 11&o.type?Ka(o,s):4&o.type?ec(o,s):null}(s,o):-2===c?function(o,s,c){return c===qr?Ka(s,o):c===Ss?ec(s,o):c===Ds?su(s,o):void 0}(o,s,u):Wc(o,o[1],c,s)}function Kv(o,s,c,u){const d=s[19].queries[u];if(null===d.matches){const p=o.data,_=c.matches,m=[];for(let v=0;v<_.length;v+=2){const C=_[v];m.push(C<0?null:qf(s,p[C],_[v+1],c.metadata.read))}d.matches=m}return d.matches}function bg(o,s,c,u){const d=o.queries.getByIndex(c),p=d.matches;if(null!==p){const _=Kv(o,s,d,c);for(let m=0;m<p.length;m+=2){const v=p[m];if(v>0)u.push(_[m/2]);else{const C=p[m+1],w=s[-v];for(let S=10;S<w.length;S++){const A=w[S];A[17]===A[3]&&bg(A[1],A,C,u)}if(null!==w[9]){const S=w[9];for(let A=0;A<S.length;A++){const P=S[A];bg(P[1],P,C,u)}}}}}return u}function au(o){const s=Ie(),c=Et(),u=Hm();Up(u+1);const d=Cg(c,u);if(o.dirty&&Qu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const p=d.crossesNgTemplate?bg(c,s,u,[]):Kv(c,s,d,u);o.reset(p,Dv),o.notifyOnChanges()}return!0}return!1}function $f(o,s,c){const u=Et();u.firstCreatePass&&(tb(u,new Jv(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),eb(u,Ie(),s)}function Hf(o,s,c,u){const d=Et();if(d.firstCreatePass){const p=rn();tb(d,new Jv(s,c,u),p.index),function(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(d,o),2==(2&c)&&(d.staticContentQueries=!0)}eb(d,Ie(),c)}function Xv(){return o=Ie(),s=Hm(),o[19].queries[s].queryList;var o,s}function eb(o,s,c){const u=new Uf(4==(4&c));Il(o,s,u,u.destroy),null===s[19]&&(s[19]=new vg),s[19].queries.push(new yg(u))}function tb(o,s,c){null===o.queries&&(o.queries=new Wv),o.queries.track(new Yv(s,c))}function Cg(o,s){return o.queries.getByIndex(s)}function Bn(o,s){return ec(o,s)}const Og=new on("Application Initializer");let ic=(()=>{class o{constructor(c){this.appInits=c,this.resolve=jr,this.reject=jr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(S_(p))c.push(p);else if(D_(p)){const _=new Promise((m,v)=>{p.subscribe({complete:m,error:v})});c.push(_)}}Promise.all(c).then(()=>{u()}).catch(d=>{this.reject(d)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Ht(Og,8))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();const gb=new on("AppId"),Pg={provide:gb,useFactory:function(){return`${Qf()}${Qf()}${Qf()}`},deps:[]};function Qf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rg=new on("Platform Initializer"),mb=new on("Platform ID"),yb=new on("appBootstrapListener");let vb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();const Jf=new on("LocaleId"),bb=new on("DefaultCurrencyCode");class vI{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}const Ng=function(o){return new Zf(o)},bI=Ng,wb=function(o){return Promise.resolve(Ng(o))},Fg=function(o){const s=Ng(o),u=hi(hn(o).declarations).reduce((d,p)=>{const _=Dn(p);return _&&d.push(new Ff(_)),d},[]);return new vI(s,u)},wI=Fg,EI=function(o){return Promise.resolve(Fg(o))};let kg=(()=>{class o{constructor(){this.compileModuleSync=bI,this.compileModuleAsync=wb,this.compileModuleAndAllComponentsSync=wI,this.compileModuleAndAllComponentsAsync=EI}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();const SI=(()=>Promise.resolve(0))();function Lg(o){"undefined"==typeof Zone?SI.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Mi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hi(!1),this.onMicrotaskEmpty=new Hi(!1),this.onStable=new Hi(!1),this.onError=new Hi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&c,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let o=Ft.requestAnimationFrame,s=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ft,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Bg(o),o.isCheckStableRunning=!0,Zg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Bg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,d,p,_,m)=>{try{return Eb(o),c.invokeTask(d,p,_,m)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),Tb(o)}},onInvoke:(c,u,d,p,_,m,v)=>{try{return Eb(o),c.invoke(d,p,_,m,v)}finally{o.shouldCoalesceRunChangeDetection&&s(),Tb(o)}},onHasTask:(c,u,d,p)=>{c.hasTask(d,p),u===d&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,Bg(o),Zg(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,u,d,p)=>(c.handleError(d,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,AI,jr,jr);try{return p.runTask(_,c,u)}finally{p.cancelTask(_)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const AI={};function Zg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Bg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Eb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Tb(o){o._nesting--,Zg(o)}class Ib{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hi,this.onMicrotaskEmpty=new Hi,this.onStable=new Hi,this.onError=new Hi}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,d){return s.apply(c,u)}}let Sb=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mi.assertNotInAngularZone(),Lg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lg(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:d})}whenStable(c,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,u,d){return[]}}return o.\u0275fac=function(c){return new(c||o)(Ht(Mi))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})(),Db=(()=>{class o{constructor(){this._applications=new Map,Vg.addToWindow(this)}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return Vg.findTestabilityInTree(this,c,u)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();class PI{addToWindow(s){}findTestabilityInTree(s,c,u){return null}}function RI(o){Vg=o}let Vg=new PI,Ab=!0,Mb=!1;function Ug(){return Mb=!0,Ab}function NI(){if(Mb)throw new Error("Cannot enable prod mode after platform setup.");Ab=!1}let vr;const jg=new on("AllowMultipleToken");class Oi{constructor(s,c){this.name=s,this.token=c}}function Pb(o,s,c=[]){const u=`Platform: ${s}`,d=new on(u);return(p=[])=>{let _=Rb();if(!_||_.injector.get(jg,!1))if(o)o(c.concat(p).concat({provide:d,useValue:!0}));else{const m=c.concat(p).concat({provide:d,useValue:!0},{provide:Ta,useValue:"platform"});!function(o){if(vr&&!vr.destroyed&&!vr.injector.get(jg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vr=o.get(qg);const s=o.get(Rg,null);s&&s.forEach(c=>c())}(en.create({providers:m,name:u}))}return function(o){const s=Rb();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function Rb(){return vr&&!vr.destroyed?vr:null}let qg=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const m=function(o,s){let c;return c="noop"===o?new Ib:("zone.js"===o?void 0:o)||new Mi({enableLongStackTrace:Ug(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),c}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),v=[{provide:Mi,useValue:m}];return m.run(()=>{const C=en.create({providers:v,parent:this.injector,name:c.moduleType.name}),w=c.create(C),S=w.injector.get(pa,null);if(!S)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const A=m.onError.subscribe({next:P=>{S.handleError(P)}});w.onDestroy(()=>{$g(this._modules,w),A.unsubscribe()})}),function(o,s,c){try{const u=c();return S_(u)?u.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(S,m,()=>{const A=w.injector.get(ic);return A.runInitializers(),A.donePromise.then(()=>(function(o){At(o,"Expected localeId to be defined"),"string"==typeof o&&(nv=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Jf,Ef)||Ef),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,u=[]){const d=Nb({},u);return function(o,s,c){const u=new Zf(c);return Promise.resolve(u)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(c){const u=c.injector.get(rc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${F(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Ht(en))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();function Nb(o,s){return Array.isArray(s)?s.reduce(Nb,o):qe(qe({},o),s)}let rc=(()=>{class o{constructor(c,u,d,p,_){this._zone=c,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new H.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new H.y(C=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Mi.assertNotInAngularZone(),Lg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{w.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ee.T)(m,v.pipe((0,V.B)()))}bootstrap(c,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=c instanceof og?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(d.componentType);const p=function(o){return o.isBoundToModule}(d)?void 0:this._injector.get(Ts),m=d.create(en.NULL,[],u||d.selector,p),v=m.location.nativeElement,C=m.injector.get(Sb,null),w=C&&m.injector.get(Db);return C&&w&&w.registerApplication(v,C),m.onDestroy(()=>{this.detachView(m.hostView),$g(this.components,m),w&&w.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;$g(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(yb,[]).concat(this._bootstrapListeners).forEach(d=>d(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(Ht(Mi),Ht(en),Ht(pa),Ht(ws),Ht(ic))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();function $g(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}const jI=function(o){return function(o,s,c){if(An(o)&&!c){const u=xi(o.index,s);return new iu(u,u)}return 47&o.type?new iu(s[16],s):null}(rn(),Ie(),16==(16&o))};let qI=(()=>{class o{}return o.__NG_ELEMENT_ID__=jI,o})();const YI=function(o){return null};class Hb{constructor(){}supports(s){return Nl(s)}create(s){return new XI(s)}}const KI=(o,s)=>s;class XI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||KI}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,d=0,p=null;for(;c||u;){const _=!u||c&&c.currentIndex<Qb(u,d,p)?c:u,m=Qb(_,d,p),v=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(c=c._next,null==_.previousIndex)d++;else{p||(p=[]);const C=m-d,w=v-d;if(C!=w){for(let A=0;A<C;A++){const P=A<p.length?p[A]:p[A]=0,B=P+A;w<=B&&B<C&&(p[A]=P+1)}p[_.previousIndex]=w-C}}m!==v&&s(_,m,v)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Nl(s))throw new Error(`Error trying to diff '${F(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)p=s[m],_=this._trackByFn(m,p),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,p,_,m)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,_,m),u=!0),c=c._next}else d=0,function(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Da()]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,m=>{_=this._trackByFn(d,m),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,m,_,d)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,_,d),u=!0),c=c._next,d++}),this.length=d;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,p,d)):s=this._addAfter(new Qi(c,u),p,d),s}_verifyReinsertion(s,c,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const d=null===c?this._itHead:c._next;return s._next=d,s._prev=c,null===d?this._itTail=s:d._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new wn),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wn),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Qi{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class wn{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new zb,this.map.set(c,u)),u.add(s)}get(s,c){const d=this.map.get(s);return d?d.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qb(o,s,c){const u=o.previousIndex;if(null===u)return u;let d=0;return c&&u<c.length&&(d=c[u]),u+s+d}class Jb{constructor(){}supports(s){return s instanceof Map||sf(s)}create(){return new eS}}class eS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||sf(s)))throw new Error(`Error trying to diff '${F(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(c&&c.key===d)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(d,u);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,c);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const u=new tS(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class tS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wg(){return new np([new Hb])}let np=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const d=u.factories.slice();c=c.concat(d)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Wg()),deps:[[o,new Or,new Lt]]}}find(c){const u=this.factories.find(d=>d.supports(c));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=zt({token:o,providedIn:"root",factory:Wg}),o})();function Yg(){return new Ge([new Jb])}let Ge=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const d=u.factories.slice();c=c.concat(d)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Yg()),deps:[[o,new Or,new Lt]]}}find(c){const u=this.factories.find(d=>d.supports(c));if(u)return u;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=zt({token:o,providedIn:"root",factory:Yg}),o})();const fn=[new Jb],KM=new np([new Hb]),hu=new Ge(fn),iS=Pb(null,"core",[{provide:mb,useValue:"unknown"},{provide:qg,deps:[en]},{provide:Db,deps:[]},{provide:vb,deps:[]}]),aS=[{provide:rc,useClass:rc,deps:[Mi,en,pa,ws,ic]},{provide:Nf,deps:[Mi],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(c){s.push(c)}}},{provide:ic,useClass:ic,deps:[[new Lt,Og]]},{provide:kg,useClass:kg,deps:[]},Pg,{provide:np,useFactory:function(){return KM},deps:[]},{provide:Ge,useFactory:function(){return hu},deps:[]},{provide:Jf,useFactory:function(o){return o||"undefined"!=typeof $localize&&$localize.locale||Ef},deps:[[new Mr(Jf),new Lt,new Or]]},{provide:bb,useValue:"USD"}];let Gg=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Ht(rc))},o.\u0275mod=ns({type:o}),o.\u0275inj=tn({providers:aS}),o})()},7687:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3668),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3139),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5583),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8305),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2997),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3719),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5766),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(559),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3174),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(461),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4753),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4799),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4522),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9463),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2835),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9468),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6263),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3067),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9661),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4763),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(9952),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9495);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(j){const N={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},E="function"==typeof j?j():j,H=Object.assign({},N,{features:E.features||!!E.logOnly&&{pause:!0,export:!0,test:!0}||N.features},E);if(H.maxAge&&H.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${H.maxAge}`);return H}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(N,E){if(this.action=N,this.timestamp=E,this.type=PERFORM_ACTION,void 0===N.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(N){this.timestamp=N,this.type=RESET}}class Rollback{constructor(N){this.timestamp=N,this.type=ROLLBACK}}class Commit{constructor(N){this.timestamp=N,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(N){this.id=N,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(N,E,n=!0){this.start=N,this.end=E,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(N){this.index=N,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(N){this.actionId=N,this.type=JUMP_TO_ACTION}}class ImportState{constructor(N){this.nextLiftedState=N,this.type=IMPORT_STATE}}class LockChanges{constructor(N){this.status=N,this.type=LOCK_CHANGES}}class PauseRecording{constructor(N){this.status=N,this.type=PAUSE_RECORDING}}function difference(j,N){return j.filter(E=>N.indexOf(E)<0)}function unliftState(j){const{computedStates:N,currentStateIndex:E}=j;if(E>=N.length){const{state:q}=N[N.length-1];return q}const{state:n}=N[E];return n}function unliftAction(j){return j.actionsById[j.nextActionId-1]}function liftAction(j){return new PerformAction(j,+Date.now())}function sanitizeActions(j,N){return Object.keys(N).reduce((E,n)=>{const q=Number(n);return E[q]=sanitizeAction(j,N[q],q),E},{})}function sanitizeAction(j,N,E){return qt(qe({},N),{action:j(N.action,E)})}function sanitizeStates(j,N){return N.map((E,n)=>({state:sanitizeState(j,E.state,n),error:E.error}))}function sanitizeState(j,N,E){return j(N,E)}function shouldFilterActions(j){return j.predicate||j.actionsSafelist||j.actionsBlocklist}function filterLiftedState(j,N,E,n){const q=[],H={},ee=[];return j.stagedActionIds.forEach((V,J)=>{const k=j.actionsById[V];!k||J&&isActionFiltered(j.computedStates[J],k,N,E,n)||(H[V]=k,q.push(V),ee.push(j.computedStates[J]))}),qt(qe({},j),{stagedActionIds:q,actionsById:H,computedStates:ee})}function isActionFiltered(j,N,E,n,q){const H=E&&!E(j,N.action),ee=n&&!N.action.type.match(n.map(J=>escapeRegExp(J)).join("|")),V=q&&N.action.type.match(q.map(J=>escapeRegExp(J)).join("|"));return H||ee||V}function escapeRegExp(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(j,N,E,n,q){if(n)return{state:E,error:"Interrupted by an error up the chain"};let ee,H=E;try{H=j(E,N)}catch(V){ee=V.toString(),q.handleError(V)}return{state:H,error:ee}}function recomputeStates(j,N,E,n,q,H,ee,V,J){if(N>=j.length&&j.length===H.length)return j;const k=j.slice(0,N),F=H.length-(J?1:0);for(let Z=N;Z<F;Z++){const L=H[Z],U=q[L].action,z=k[Z-1],pe=z?z.state:n,ge=z?z.error:void 0,we=ee.indexOf(L)>-1?z:computeNextEntry(E,U,pe,ge,V);k.push(we)}return J&&k.push(j[j.length-1]),k}function liftInitialState(j,N){return{monitorState:N(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:j,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(j,N,E,n,q={}){return H=>(ee,V)=>{let{monitorState:J,actionsById:k,nextActionId:F,stagedActionIds:Z,skippedActionIds:L,committedState:U,currentStateIndex:z,computedStates:pe,isLocked:ge,isPaused:ke}=ee||N;function we(ve){let Te=ve,ye=Z.slice(1,Te+1);for(let Oe=0;Oe<ye.length;Oe++){if(pe[Oe+1].error){Te=Oe,ye=Z.slice(1,Te+1);break}delete k[ye[Oe]]}L=L.filter(Oe=>-1===ye.indexOf(Oe)),Z=[0,...Z.slice(Te+1)],U=pe[Te].state,pe=pe.slice(Te),z=z>Te?z-Te:0}function Ve(){k={0:liftAction(INIT_ACTION)},F=1,Z=[0],L=[],U=pe[z].state,z=0,pe=[]}ee||(k=Object.create(k));let le=0;switch(V.type){case LOCK_CHANGES:ge=V.status,le=1/0;break;case PAUSE_RECORDING:ke=V.status,ke?(Z=[...Z,F],k[F]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),F++,le=Z.length-1,pe=pe.concat(pe[pe.length-1]),z===Z.length-2&&z++,le=1/0):Ve();break;case RESET:k={0:liftAction(INIT_ACTION)},F=1,Z=[0],L=[],U=j,z=0,pe=[];break;case COMMIT:Ve();break;case ROLLBACK:k={0:liftAction(INIT_ACTION)},F=1,Z=[0],L=[],z=0,pe=[];break;case TOGGLE_ACTION:{const{id:ve}=V;L=-1===L.indexOf(ve)?[ve,...L]:L.filter(ye=>ye!==ve),le=Z.indexOf(ve);break}case SET_ACTIONS_ACTIVE:{const{start:ve,end:Te,active:ye}=V,Oe=[];for(let Be=ve;Be<Te;Be++)Oe.push(Be);L=ye?difference(L,Oe):[...L,...Oe],le=Z.indexOf(ve);break}case JUMP_TO_STATE:z=V.index,le=1/0;break;case JUMP_TO_ACTION:{const ve=Z.indexOf(V.actionId);-1!==ve&&(z=ve),le=1/0;break}case SWEEP:Z=difference(Z,L),L=[],z=Math.min(z,Z.length-1);break;case PERFORM_ACTION:{if(ge)return ee||N;if(ke||ee&&isActionFiltered(ee.computedStates[z],V,q.predicate,q.actionsSafelist,q.actionsBlocklist)){const Te=pe[pe.length-1];pe=[...pe.slice(0,-1),computeNextEntry(H,V.action,Te.state,Te.error,E)],le=1/0;break}q.maxAge&&Z.length===q.maxAge&&we(1),z===Z.length-1&&z++;const ve=F++;k[ve]=V,Z=[...Z,ve],le=Z.length-1;break}case IMPORT_STATE:({monitorState:J,actionsById:k,nextActionId:F,stagedActionIds:Z,skippedActionIds:L,committedState:U,currentStateIndex:z,computedStates:pe,isLocked:ge,isPaused:ke}=V.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:le=0,q.maxAge&&Z.length>q.maxAge&&(pe=recomputeStates(pe,le,H,U,k,Z,L,E,ke),we(Z.length-q.maxAge),le=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(pe.filter(Te=>Te.error).length>0)le=0,q.maxAge&&Z.length>q.maxAge&&(pe=recomputeStates(pe,le,H,U,k,Z,L,E,ke),we(Z.length-q.maxAge),le=1/0);else{if(!ke&&!ge){z===Z.length-1&&z++;const Te=F++;k[Te]=new PerformAction(V,+Date.now()),Z=[...Z,Te],le=Z.length-1,pe=recomputeStates(pe,le,H,U,k,Z,L,E,ke)}pe=pe.map(Te=>qt(qe({},Te),{state:H(Te.state,RECOMPUTE_ACTION)})),z=Z.length-1,q.maxAge&&Z.length>q.maxAge&&we(Z.length-q.maxAge),le=1/0}break;default:le=1/0}return pe=recomputeStates(pe,le,H,U,k,Z,L,E,ke),J=n(J,V),{monitorState:J,actionsById:k,nextActionId:F,stagedActionIds:Z,skippedActionIds:L,committedState:U,currentStateIndex:z,computedStates:pe,isLocked:ge,isPaused:ke}}}let DevtoolsDispatcher=(()=>{class j extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return j.\u0275fac=function(){let N;return function(n){return(N||(N=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(j)))(n||j)}}(),j.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:j,factory:j.\u0275fac}),j})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(j,N,E){this.config=N,this.dispatcher=E,this.devtoolsExtension=j,this.createActionStreams()}notify(j,N){if(this.devtoolsExtension)if(j.type===PERFORM_ACTION){if(N.isLocked||N.isPaused)return;const E=unliftState(N);if(shouldFilterActions(this.config)&&isActionFiltered(E,j,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const n=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,E,N.currentStateIndex):E,q=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,j,N.nextActionId):j;this.sendToReduxDevtools(()=>this.extensionConnection.send(q,n))}else{const E=qt(qe({},N),{stagedActionIds:N.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,N.actionsById):N.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,N.computedStates):N.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,E,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(j=>{const N=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=N,N.init(),N.subscribe(E=>j.next(E)),N.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const j=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),N=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.START)),E=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.STOP)),n=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(V=>this.unwrapAction(V.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(V=>V.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(J=>J.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>V),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(V)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(V))),H=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(V=>this.unwrapAction(V.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),ee=n.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E));this.start$=N.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>H)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(j){var E;const N={name:j.name,features:j.features,serialize:j.serialize,autoPause:null!=(E=j.autoPause)&&E};return!1!==j.maxAge&&(N.maxAge=j.maxAge),N}sendToReduxDevtools(j){try{j()}catch(N){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",N)}}}return DevtoolsExtension.\u0275fac=function(N){return new(N||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class j{constructor(E,n,q,H,ee,V,J,k){const F=liftInitialState(J,k.monitor),Z=liftReducerWith(J,F,V,k.monitor,k),L=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(n.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),H.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),E,H.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),U=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Z)),z=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),pe=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(U),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ve},[le,ve])=>{let Te=ve(Ve,le);return le.type!==PERFORM_ACTION&&shouldFilterActions(k)&&(Te=filterLiftedState(Te,k.predicate,k.actionsSafelist,k.actionsBlocklist)),H.notify(le,Te),{state:Te,action:le}},{state:F,action:null})).subscribe(({state:Ve,action:le})=>{z.next(Ve),le.type===PERFORM_ACTION&&ee.next(le.action)}),ge=H.start$.subscribe(()=>{this.refresh()}),ke=z.asObservable(),we=ke.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=ge,this.stateSubscription=pe,this.dispatcher=E,this.liftedState=ke,this.state=we}dispatch(E){this.dispatcher.next(E)}next(E){this.dispatcher.next(E)}error(E){}complete(){}performAction(E){this.dispatch(new PerformAction(E,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(E){this.dispatch(new ToggleAction(E))}jumpToAction(E){this.dispatch(new JumpToAction(E))}jumpToState(E){this.dispatch(new JumpToState(E))}importState(E){this.dispatch(new ImportState(E))}lockChanges(E){this.dispatch(new LockChanges(E))}pauseRecording(E){this.dispatch(new PauseRecording(E))}}return j.\u0275fac=function(E){return new(E||j)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},j.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:j,factory:j.\u0275fac}),j})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(j,N){return Boolean(j)||N.monitor!==noMonitor}function createReduxDevtoolsExtension(){const j="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[j]?window[j]:null}function createStateObservable(j){return j.state}let StoreDevtoolsModule=(()=>{class j{static instrument(E={}){return{ngModule:j,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:E},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return j.\u0275fac=function(E){return new(E||j)},j.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:j}),j.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),j})()},3139:(j,N,E)=>{"use strict";E.d(N,{UO:()=>Be,qg:()=>Oe,Y6:()=>te,mK:()=>qs,n$:()=>Gr,Y$:()=>Io,FR:()=>$s,yh:()=>Nc,CK:()=>eo,Aw:()=>to,cr:()=>Fi,wb:()=>Zu,qC:()=>Lu,PH:()=>le,P1:()=>ns});var n=E(3668),q=E(4499),H=E(8305),ee=E(273),V=E(5766),J=E(4753),F=E(4623),Z=E(9947),L=E(8889);function z(O,ae){return O===ae}var pe=E(4763),ge=E(9952),ke=E(9495);const we={};function le(O,ae){if(we[O]=(we[O]||0)+1,"function"==typeof ae)return ye(O,(...re)=>qt(qe({},ae(...re)),{type:O}));switch(ae?ae._as:"empty"){case"empty":return ye(O,()=>({type:O}));case"props":return ye(O,re=>qt(qe({},re),{type:O}));default:throw new Error("Unexpected config.")}}function ye(O,ae){return Object.defineProperty(ae,"type",{value:O,writable:!1})}const Oe="@ngrx/store/init";let Be=(()=>{class O extends q.X{constructor(){super({type:Oe})}next(W){if("function"==typeof W)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===W)throw new TypeError("Actions must be objects");if(void 0===W.type)throw new TypeError("Actions must have a type property");super.next(W)}complete(){}ngOnDestroy(){super.complete()}}return O.\u0275fac=function(W){return new(W||O)},O.\u0275prov=n.Yz7({token:O,factory:O.\u0275fac}),O})();const Pe=[Be],Qe=new n.OlP("@ngrx/store Internal Root Guard"),rt=new n.OlP("@ngrx/store Internal Initial State"),te=new n.OlP("@ngrx/store Initial State"),de=new n.OlP("@ngrx/store Reducer Factory"),me=new n.OlP("@ngrx/store Internal Reducer Factory Provider"),be=new n.OlP("@ngrx/store Initial Reducers"),Re=new n.OlP("@ngrx/store Internal Initial Reducers"),fe=new n.OlP("@ngrx/store Store Features"),ht=new n.OlP("@ngrx/store Internal Store Reducers"),Zt=new n.OlP("@ngrx/store Internal Feature Reducers"),ci=new n.OlP("@ngrx/store Internal Feature Configs"),gt=new n.OlP("@ngrx/store Internal Store Features"),At=new n.OlP("@ngrx/store Internal Feature Reducers Token"),xt=new n.OlP("@ngrx/store Feature Reducers"),vn=new n.OlP("@ngrx/store User Provided Meta Reducers"),nr=new n.OlP("@ngrx/store Meta Reducers"),Er=new n.OlP("@ngrx/store Internal Resolved Meta Reducers"),zt=new n.OlP("@ngrx/store User Runtime Checks Config"),Us=new n.OlP("@ngrx/store Internal User Runtime Checks Config"),tn=new n.OlP("@ngrx/store Internal Runtime Checks"),Wn=new n.OlP("@ngrx/store Check if Action types are unique");function Pc(O,ae={}){const W=Object.keys(O),re={};for(let Fe=0;Fe<W.length;Fe++){const at=W[Fe];"function"==typeof O[at]&&(re[at]=O[at])}const De=Object.keys(re);return function(at,It){at=void 0===at?ae:at;let Qt=!1;const An={};for(let Mt=0;Mt<De.length;Mt++){const Gt=De[Mt],Rm=at[Gt],di=(0,re[Gt])(Rm,It);An[Gt]=di,Qt=Qt||di!==Rm}return Qt?An:at}}function Lu(...O){return function(ae){if(0===O.length)return ae;const W=O[O.length-1];return O.slice(0,-1).reduceRight((De,Fe)=>Fe(De),W(ae))}}function Rc(O,ae){return Array.isArray(ae)&&ae.length>0&&(O=Lu.apply(null,[...ae,O])),(W,re)=>{const De=O(W);return(Fe,at)=>De(Fe=void 0===Fe?re:Fe,at)}}class Gr extends H.y{}class qs extends Be{}const Zu="@ngrx/store/update-reducers";let Ye=(()=>{class O extends q.X{constructor(W,re,De,Fe){super(Fe(De,re)),this.dispatcher=W,this.initialState=re,this.reducers=De,this.reducerFactory=Fe}get currentReducers(){return this.reducers}addFeature(W){this.addFeatures([W])}addFeatures(W){const re=W.reduce((De,{reducers:Fe,reducerFactory:at,metaReducers:It,initialState:Qt,key:An})=>{const Mt="function"==typeof Fe?function(O){const ae=Array.isArray(O)&&O.length>0?Lu(...O):W=>W;return(W,re)=>(W=ae(W),(De,Fe)=>W(De=void 0===De?re:De,Fe))}(It)(Fe,Qt):Rc(at,It)(Fe,Qt);return De[An]=Mt,De},{});this.addReducers(re)}removeFeature(W){this.removeFeatures([W])}removeFeatures(W){this.removeReducers(W.map(re=>re.key))}addReducer(W,re){this.addReducers({[W]:re})}addReducers(W){this.reducers=qe(qe({},this.reducers),W),this.updateReducers(Object.keys(W))}removeReducer(W){this.removeReducers([W])}removeReducers(W){W.forEach(re=>{this.reducers=function(O,ae){return Object.keys(O).filter(W=>W!==ae).reduce((W,re)=>Object.assign(W,{[re]:O[re]}),{})}(this.reducers,re)}),this.updateReducers(W)}updateReducers(W){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Zu,features:W})}ngOnDestroy(){this.complete()}}return O.\u0275fac=function(W){return new(W||O)(n.LFG(qs),n.LFG(te),n.LFG(be),n.LFG(de))},O.\u0275prov=n.Yz7({token:O,factory:O.\u0275fac}),O})();const jn=[Ye,{provide:Gr,useExisting:Ye},{provide:qs,useExisting:Be}];let Io=(()=>{class O extends ee.x{ngOnDestroy(){this.complete()}}return O.\u0275fac=function(){let ae;return function(re){return(ae||(ae=n.n5z(O)))(re||O)}}(),O.\u0275prov=n.Yz7({token:O,factory:O.\u0275fac}),O})();const Tr=[Io];class $s extends H.y{}let Dp=(()=>{class O extends q.X{constructor(W,re,De,Fe){super(Fe);const An=W.pipe((0,pe.Q)(V.N)).pipe((0,ge.M)(re)).pipe((0,ke.R)(Ir,{state:Fe}));this.stateSubscription=An.subscribe(({state:Mt,action:Gt})=>{this.next(Mt),De.next(Gt)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return O.INIT=Oe,O.\u0275fac=function(W){return new(W||O)(n.LFG(Be),n.LFG(Gr),n.LFG(Io),n.LFG(te))},O.\u0275prov=n.Yz7({token:O,factory:O.\u0275fac}),O})();function Ir(O={state:void 0},[ae,W]){const{state:re}=O;return{state:W(re,ae),action:ae}}const Sn=[Dp,{provide:$s,useExisting:Dp}];let Nc=(()=>{class O extends H.y{constructor(W,re,De){super(),this.actionsObserver=re,this.reducerManager=De,this.source=W}select(W,...re){return Je.call(null,W,...re)(this)}lift(W){const re=new O(this,this.actionsObserver,this.reducerManager);return re.operator=W,re}dispatch(W){this.actionsObserver.next(W)}next(W){this.actionsObserver.next(W)}error(W){this.actionsObserver.error(W)}complete(){this.actionsObserver.complete()}addReducer(W,re){this.reducerManager.addReducer(W,re)}removeReducer(W){this.reducerManager.removeReducer(W)}}return O.\u0275fac=function(W){return new(W||O)(n.LFG($s),n.LFG(Be),n.LFG(Ye))},O.\u0275prov=n.Yz7({token:O,factory:O.\u0275fac}),O})();const pn=[Nc];function Je(O,ae,...W){return function(De){let Fe;if("string"==typeof O){const at=[ae,...W].filter(Boolean);Fe=De.pipe(function(...O){const ae=O.length;if(0===ae)throw new Error("list of properties cannot be empty.");return(0,J.U)(W=>{let re=W;for(let De=0;De<ae;De++){const Fe=null==re?void 0:re[O[De]];if(void 0===Fe)return;re=Fe}return re})}(O,...at))}else{if("function"!=typeof O)throw new TypeError(`Unexpected type '${typeof O}' in select operator, expected 'string' or 'function'`);Fe=De.pipe((0,J.U)(at=>O(at,ae)))}return Fe.pipe(function(O,ae=F.y){return O=null!=O?O:z,(0,Z.e)((W,re)=>{let De,Fe=!0;W.subscribe(new L.Q(re,at=>{const It=ae(at);(Fe||!O(De,It))&&(Fe=!1,De=It,re.next(at))}))})}())}}const Fc="https://ngrx.io/guide/store/configuration/runtime-checks";function Xo(O){return void 0===O}function ir(O){return null===O}function Ft(O){return Array.isArray(O)}function St(O){return"object"==typeof O&&null!==O}function Sr(O){return"function"==typeof O}function Do(O,ae){return O===ae}function zs(O,ae,W){for(let re=0;re<O.length;re++)if(!W(O[re],ae[re]))return!0;return!1}function ts(O,ae=Do,W=Do){let Fe,re=null,De=null;return{memoized:function(){if(void 0!==Fe)return Fe.result;if(!re)return De=O.apply(null,arguments),re=arguments,De;if(!zs(arguments,re,ae))return De;const Mt=O.apply(null,arguments);return re=arguments,W(De,Mt)?De:(De=Mt,Mt)},reset:function(){re=null,De=null},setResult:function(Mt){Fe={result:Mt}},clearResult:function(){Fe=void 0}}}function ns(...O){return function(O,ae={stateFn:Op}){return function(...W){let re=W;if(Array.isArray(re[0])){const[Mt,...Gt]=re;re=[...Mt,...Gt]}const De=re.slice(0,re.length-1),Fe=re[re.length-1],at=De.filter(Mt=>Mt.release&&"function"==typeof Mt.release),It=O(function(...Mt){return Fe.apply(null,Mt)}),Qt=ts(function(Mt,Gt){return ae.stateFn.apply(null,[Mt,De,Gt,It])});return Object.assign(Qt.memoized,{release:function(){Qt.reset(),It.reset(),at.forEach(Mt=>Mt.release())},projector:It.memoized,setResult:Qt.setResult,clearResult:Qt.clearResult})}}(ts)(...O)}function Op(O,ae,W,re){if(void 0===W){const Fe=ae.map(at=>at(O));return re.memoized.apply(null,Fe)}const De=ae.map(Fe=>Fe(O,W));return re.memoized.apply(null,[...De,W])}function hn(O){Object.freeze(O);const ae=Sr(O);return Object.getOwnPropertyNames(O).forEach(W=>{if(!W.startsWith("\u0275")&&function(O,ae){return Object.prototype.hasOwnProperty.call(O,ae)}(O,W)&&(!ae||"caller"!==W&&"callee"!==W&&"arguments"!==W)){const re=O[W];(St(re)||Sr(re))&&!Object.isFrozen(re)&&hn(re)}}),O}function Ue(O,ae=[]){return(Xo(O)||ir(O))&&0===ae.length?{path:["root"],value:O}:Object.keys(O).reduce((re,De)=>{if(re)return re;const Fe=O[De];return function(O){return Sr(O)&&O.hasOwnProperty("\u0275cmp")}(Fe)?re:!(Xo(Fe)||ir(Fe)||function(O){return"number"==typeof O}(Fe)||function(O){return"boolean"==typeof O}(Fe)||function(O){return"string"==typeof O}(Fe)||Ft(Fe))&&(function(O){if(!function(O){return St(O)&&!Ft(O)}(O))return!1;const ae=Object.getPrototypeOf(O);return ae===Object.prototype||null===ae}(Fe)?Ue(Fe,[...ae,De]):{path:[...ae,De],value:Fe})},!1)}function ut(O,ae){if(!1===O)return;const W=O.path.join("."),re=new Error(`Detected unserializable ${ae} at "${W}". ${Fc}#strict${ae}serializability`);throw re.value=O.value,re.unserializablePath=W,re}function Yn(O){return(0,n.X6Q)()?qe({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},O):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function or({strictActionSerializability:O,strictStateSerializability:ae}){return W=>O||ae?function(O,ae){return function(W,re){ae.action(re)&&ut(Ue(re),"action");const De=O(W,re);return ae.state()&&ut(Ue(De),"state"),De}}(W,{action:re=>O&&!sr(re),state:()=>ae}):W}function _n({strictActionImmutability:O,strictStateImmutability:ae}){return W=>O||ae?function(O,ae){return function(W,re){const De=ae.action(re)?hn(re):re,Fe=O(W,De);return ae.state()?hn(Fe):Fe}}(W,{action:re=>O&&!sr(re),state:()=>ae}):W}function sr(O){return O.type.startsWith("@ngrx")}function Yt({strictActionWithinNgZone:O}){return ae=>O?function(O,ae){return function(W,re){if(ae.action(re)&&!n.R0b.isInAngularZone())throw new Error(`Action '${re.type}' running outside NgZone. ${Fc}#strictactionwithinngzone`);return O(W,re)}}(ae,{action:W=>O&&!sr(W)}):ae}function Kr(O){return[{provide:Us,useValue:O},{provide:zt,useFactory:dt,deps:[Us]},{provide:tn,deps:[zt],useFactory:Yn},{provide:nr,multi:!0,deps:[tn],useFactory:_n},{provide:nr,multi:!0,deps:[tn],useFactory:or},{provide:nr,multi:!0,deps:[tn],useFactory:Yt}]}function Xr(){return[{provide:Wn,multi:!0,deps:[tn],useFactory:Qs}]}function dt(O){return O}function Qs(O){if(!O.strictActionTypeUniqueness)return;const ae=Object.entries(we).filter(([,W])=>W>1).map(([W])=>W);if(ae.length)throw new Error(`Action types are registered more than once, ${ae.map(W=>`"${W}"`).join(", ")}. ${Fc}#strictactiontypeuniqueness`)}let Fi=(()=>{class O{constructor(W,re,De,Fe,at,It){}}return O.\u0275fac=function(W){return new(W||O)(n.LFG(Be),n.LFG(Gr),n.LFG(Io),n.LFG(Nc),n.LFG(Qe,8),n.LFG(Wn,8))},O.\u0275mod=n.oAB({type:O}),O.\u0275inj=n.cJS({}),O})(),eo=(()=>{class O{constructor(W,re,De,Fe,at){this.features=W,this.featureReducers=re,this.reducerManager=De;const It=W.map((Qt,An)=>{const Gt=re.shift()[An];return qt(qe({},Qt),{reducers:Gt,initialState:Gn(Qt.initialState)})});De.addFeatures(It)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return O.\u0275fac=function(W){return new(W||O)(n.LFG(gt),n.LFG(xt),n.LFG(Ye),n.LFG(Fi),n.LFG(Wn,8))},O.\u0275mod=n.oAB({type:O}),O.\u0275inj=n.cJS({}),O})(),to=(()=>{class O{static forRoot(W,re={}){return{ngModule:Fi,providers:[{provide:Qe,useFactory:Pp,deps:[[Nc,new n.FiY,new n.tp0]]},{provide:rt,useValue:re.initialState},{provide:te,useFactory:Gn,deps:[rt]},{provide:Re,useValue:W},{provide:ht,useExisting:W instanceof n.OlP?W:Re},{provide:be,deps:[n.zs3,Re,[new n.tBr(ht)]],useFactory:qn},{provide:vn,useValue:re.metaReducers?re.metaReducers:[]},{provide:Er,deps:[nr,vn],useFactory:kt},{provide:me,useValue:re.reducerFactory?re.reducerFactory:Pc},{provide:de,deps:[me,Er],useFactory:Rc},Pe,jn,Tr,Sn,pn,Kr(re.runtimeChecks),Xr()]}}static forFeature(W,re,De={}){return{ngModule:eo,providers:[{provide:ci,multi:!0,useValue:W instanceof Object?{}:De},{provide:fe,multi:!0,useValue:{key:W instanceof Object?W.name:W,reducerFactory:De instanceof n.OlP||!De.reducerFactory?Pc:De.reducerFactory,metaReducers:De instanceof n.OlP||!De.metaReducers?[]:De.metaReducers,initialState:De instanceof n.OlP||!De.initialState?void 0:De.initialState}},{provide:gt,deps:[n.zs3,ci,fe],useFactory:Js},{provide:Zt,multi:!0,useValue:W instanceof Object?W.reducer:re},{provide:At,multi:!0,useExisting:re instanceof n.OlP?re:Zt},{provide:xt,multi:!0,deps:[n.zs3,Zt,[new n.tBr(At)]],useFactory:no},Xr()]}}}return O.\u0275fac=function(W){return new(W||O)},O.\u0275mod=n.oAB({type:O}),O.\u0275inj=n.cJS({}),O})();function qn(O,ae){return ae instanceof n.OlP?O.get(ae):ae}function Js(O,ae,W){return W.map((re,De)=>{if(ae[De]instanceof n.OlP){const Fe=O.get(ae[De]);return{key:re.key,reducerFactory:Fe.reducerFactory?Fe.reducerFactory:Pc,metaReducers:Fe.metaReducers?Fe.metaReducers:[],initialState:Fe.initialState}}return re})}function no(O,ae){return ae.map(re=>re instanceof n.OlP?O.get(re):re)}function Gn(O){return"function"==typeof O?O():O}function kt(O,ae){return O.concat(ae)}function Pp(O){if(O)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}}},j=>{j(j.s=533)}]);