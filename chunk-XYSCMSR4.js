import{$ as U,$d as de,Aa as T,Ad as W,Ba as g,Bb as Z,Ca as l,Dc as te,Fa as x,Ga as Q,Jc as ie,Ka as a,La as o,Ma as h,Md as le,Nd as ce,Oa as C,Ob as j,Pa as u,Qa as c,Qb as N,Ra as O,Sa as F,Ta as A,Tc as ne,Ua as y,Ud as P,Va as b,Vc as re,Vd as pe,W as H,Wa as v,Wc as ae,X as q,Xc as oe,Y as M,Za as G,_a as K,ba as S,be as ue,ca as R,cb as L,eb as p,fa as _,fb as d,ga as f,ja as $,je as me,ke as _e,nb as J,nc as ee,ob as X,oe as fe,pb as Y,pe as he,rc as z,rd as V,ta as r,tb as k,ua as E,va as D,xa as B,ye as be,zd as se}from"./chunk-SFIBMCNB.js";var ye=["input"],Ie=(n,m,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":m,"p-radiobutton-label-focus":e});function ke(n,m){if(n&1){let e=C();a(0,"label",7),u("click",function(t){_(e);let s=c();return f(s.select(t))}),b(1),o()}if(n&2){let e=c(),i=y(3);x(e.labelStyleClass),l("ngClass",L(6,Ie,i.checked,e.disabled,e.focused)),g("for",e.inputId)("data-pc-section","label"),r(),v(e.label)}}var we=(n,m,e)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":m,"p-radiobutton-focused":e}),Se=(n,m,e)=>({"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":m,"p-focus":e}),Ee={provide:ne,useExisting:H(()=>Ve),multi:!0},Te=(()=>{class n{accessors=[];add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return e[0].control?e[0].control.root===i.control.control.root&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ve=(()=>{class n{cd;injector;registry;value;formControlName;name;disabled;label;tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;onClick=new B;onFocus=new B;onBlur=new B;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,i,t){this.cd=e,this.injector=i,this.registry=t}ngOnInit(){this.control=this.injector.get(re),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,t){e.preventDefault(),!this.disabled&&(this.select(e),t&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(i){return new(i||n)(E(D),E($),E(Te))};static \u0275cmp=S({type:n,selectors:[["p-radioButton"]],viewQuery:function(i,t){if(i&1&&O(ye,5),i&2){let s;F(s=A())&&(t.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[G([Ee])],decls:7,vars:29,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","value","focus","blur"],["input",""],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(i,t){if(i&1){let s=C();a(0,"div",0),u("click",function(w){_(s);let xe=y(3);return f(t.handleClick(w,xe,!0))}),a(1,"div",1)(2,"input",2,3),u("focus",function(w){return t.onInputFocus(w)})("blur",function(w){return t.onInputBlur(w)}),o()(),a(4,"div",4),h(5,"span",5),o()(),T(6,ke,2,10,"label",6)}i&2&&(x(t.styleClass),l("ngStyle",t.style)("ngClass",L(21,we,t.checked,t.disabled,t.focused)),g("data-pc-name","radiobutton")("data-pc-section","root"),r(),g("data-pc-section","hiddenInputWrapper"),r(),l("checked",t.checked)("disabled",t.disabled)("value",t.value),g("id",t.inputId)("name",t.name)("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("tabindex",t.tabindex)("aria-checked",t.checked)("data-pc-section","hiddenInput"),r(2),l("ngClass",L(25,Se,t.checked,t.disabled,t.focused)),g("data-pc-section","input"),r(),g("data-pc-section","icon"),r(),l("ngIf",t.label))},dependencies:[J,X,Y],encapsulation:2,changeDetection:0})}return n})(),ge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=R({type:n});static \u0275inj=M({imports:[k]})}return n})();var Ce=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=R({type:n});static \u0275inj=M({imports:[k,z,P,z,P]})}return n})();function Me(n,m){if(n&1){let e=C();a(0,"div"),b(1),p(2,"translate"),o(),h(3,"p-divider"),a(4,"span"),b(5),p(6,"translate"),o(),a(7,"button",2),u("click",function(){_(e);let t=y(10),s=c();return f(t.clickOpen("item",s.itemIds()))}),p(8,"translate"),o(),a(9,"lab-picker",3,4),u("selectId",function(t){_(e);let s=c();return f(s.selectId(t,"item"))}),p(11,"translate"),o(),h(12,"p-divider"),a(13,"span"),b(14),p(15,"translate"),o(),a(16,"button",5),u("click",function(){_(e);let t=y(19),s=c();return f(t.clickOpen("recipe",s.recipeIds()))}),p(17,"translate"),o(),a(18,"lab-picker",3,6),u("selectId",function(t){_(e);let s=c();return f(s.selectId(t,"recipe"))}),p(20,"translate"),o(),h(21,"p-divider")}n&2&&(r(),v(d(2,7,"wizard.objectiveType")),r(4),v(d(6,9,"wizard.produceItems")),r(2),l("label",d(8,11,"wizard.produceItemsButton")),r(2),l("header",d(11,13,"wizard.produceItemsButton")),r(5),v(d(15,15,"wizard.runMachines")),r(2),l("label",d(17,17,"wizard.runMachinesButton")),r(2),l("header",d(20,19,"wizard.runMachinesButton")))}function Re(n,m){if(n&1){let e=C();a(0,"div"),b(1),p(2,"translate"),o(),h(3,"p-divider"),a(4,"div",7)(5,"i"),p(6,"iconClass"),o(),a(7,"span",8),b(8),o()(),a(9,"lab-input-number",9),u("setValue",function(t){_(e);let s=c();return f(s.rate=t)}),o(),a(10,"p-dropdown",10),u("onChange",function(t){_(e);let s=c();return f(s.setDisplayRate(t.value,s.displayRate()))}),p(11,"translate"),o(),a(12,"button",11),u("click",function(){_(e);let t=c();return f(t.createItemObjective(t.id,t.rate,t.ObjectiveUnit.Items))}),p(13,"translate"),o(),h(14,"p-divider"),a(15,"button",12),u("click",function(){_(e);let t=c();return f(t.state="type")}),p(16,"translate"),o()}if(n&2){let e=c();r(),v(d(2,10,"wizard.itemObjectiveItems")),r(4),x(d(6,12,e.id)),r(3),v(e.data().itemEntities[e.id].name),r(),l("value",e.rate),r(),l("tooltip",d(11,14,"objectives.selectDisplayRate"))("ngModel",e.displayRate())("options",e.displayRateOptions),r(2),l("label",d(13,16,"ok")),r(3),l("label",d(16,18,"wizard.back"))}}function Be(n,m){if(n&1){let e=C();a(0,"div"),b(1),p(2,"translate"),o(),h(3,"p-divider"),a(4,"div",7)(5,"i"),p(6,"iconClass"),o(),a(7,"span",8),b(8),o()(),a(9,"lab-input-number",9),u("setValue",function(t){_(e);let s=c();return f(s.count=t)}),o(),a(10,"button",11),u("click",function(){_(e);let t=c();return f(t.createRecipeObjective(t.id,t.count))}),p(11,"translate"),o(),h(12,"p-divider"),a(13,"button",12),u("click",function(){_(e);let t=c();return f(t.state="type")}),p(14,"translate"),o()}if(n&2){let e=c();r(),v(d(2,7,"wizard.recipeObjectiveMachines")),r(4),x(d(6,9,e.id)),r(3),v(e.data().recipeEntities[e.id].name),r(),l("value",e.count),r(),l("label",d(11,11,"ok")),r(3),l("label",d(14,13,"wizard.back"))}}var It=(()=>{let m=class m{constructor(){this.store=U(te),this.itemIds=this.store.selectSignal(se.getAvailableItems),this.data=this.store.selectSignal(V.getDataset),this.recipeIds=this.store.selectSignal(V.getAvailableRecipes),this.displayRate=this.store.selectSignal(V.getDisplayRate),this.id="",this.rate="1",this.count="1",this.state="type",this.displayRateOptions=Z,this.ObjectiveUnit=N}selectId(i,t){this.id=i,this.state=t}setDisplayRate(i,t){this.store.dispatch(new V.SetDisplayRateAction({value:i,prev:t}))}createItemObjective(i,t,s){this.store.dispatch(new W.CreateAction({id:"0",targetId:i,value:t,unit:s,type:j.Output}))}createRecipeObjective(i,t){this.store.dispatch(new W.CreateAction({id:"0",targetId:i,value:t,unit:N.Machines,type:j.Output}))}};m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=S({type:m,selectors:[["ng-component"]],standalone:!0,features:[K],decls:7,vars:4,consts:[[1,"d-flex","flex-column","p-fluid"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark","routerLink","/","queryParamsHandling","preserve",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",1,"mt-2",3,"label","click"],[3,"header","selectId"],["addItemObjectivePicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],["addRecipePicker",""],[1,"d-flex","align-items-center","justify-content-center"],[1,"ms-2"],["tooltipPosition","top",1,"mt-2","w-100",3,"value","setValue"],["labDropdownTranslate","","styleClass","mt-2 h-100",3,"tooltip","ngModel","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check","routerLink","/list",1,"mt-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-left",1,"mb-2","p-button-outlined",3,"label","click"]],template:function(t,s){if(t&1&&(a(0,"p-card")(1,"div",0),T(2,Me,22,21)(3,Re,17,20)(4,Be,15,15),h(5,"button",1),p(6,"translate"),o()()),t&2){let I;r(2),Q(2,(I=s.state)==="type"?2:I==="item"?3:I==="recipe"?4:-1),r(3),l("label",d(6,2,"cancel"))}},dependencies:[k,ge,Ce,ee,be,ae,oe,ce,fe,he,pe,le,de,me,_e,ie,ue],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0});let n=m;return n})();export{It as WizardComponent};
