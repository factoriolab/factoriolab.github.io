"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[905],{9905:(q,m,o)=>{o.r(m),o.d(m,{MainModule:()=>X});var r=o(6814),f=o(1254),g=o(4190),u=o(2572),v=o(7398),l=o(601),c=o(8528),t=o(5879),d=o(8345),x=o(4221),h=o(5219),Z=o(707),T=o(4532),M=o(7213),C=o(7680),y=o(4480),_=o(5779),A=o(6471),I=o(8496),O=o(7866),U=o(9515);function L(n,i){if(1&n&&(t._UZ(0,"span",13),t.TgZ(1,"span",14),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n){const e=i.$implicit;t.Tol(e.icon),t.xp6(2),t.Oqu(t.lcZ(3,3,e.label))}}const S=function(n,i,e){return{resultType:n,time:i,cost:e}};function Y(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.hij(" ",t.xi3(2,1,"app.simplexSolved",t.kEZ(4,S,e.result.resultType.toLowerCase(),e.result.time,null==e.result.cost?null:e.result.cost.toPrecision(2)))," ")}}const b=function(n){return{resultType:n}};function J(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.hij(" ",t.xi3(2,1,"app.simplexUnsolved",t.VKq(4,b,e.result.resultType.toLowerCase()))," ")}}function N(n,i){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Y,3,8,"div",2),t.YNc(2,J,3,6,"ng-template",null,16,t.W1O),t.TgZ(4,"span"),t._uU(5),t.qZA()()),2&n){const e=t.MAs(3),a=t.oxw(3).ngIf,s=t.oxw();t.xp6(1),t.Q6J("ngIf",a.result.resultType===s.MatrixResultType.Solved)("ngIfElse",e),t.xp6(4),t.Oqu(s.contentSvc.version)}}function H(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"lab-objectives"),t.TgZ(2,"p-card",9),t.ALo(3,"translate"),t.TgZ(4,"p-tabMenu",10),t.YNc(5,L,4,5,"ng-template",11),t.qZA(),t._UZ(6,"router-outlet"),t.YNc(7,N,6,3,"ng-template",12),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("header",t.lcZ(3,2,"app.factory")),t.xp6(2),t.Q6J("model",e.tabItems)}}function Q(n,i){1&n&&(t.TgZ(0,"div",17),t._UZ(1,"p-progressSpinner"),t.qZA())}function j(n,i){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"lab-settings",4),t.TgZ(2,"div",5),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.contentSvc.toggleSettings())}),t.qZA(),t.TgZ(3,"div",6)(4,"main",7),t.YNc(5,H,8,4,"ng-container",2),t.YNc(6,Q,2,0,"ng-template",null,8,t.W1O),t.qZA()(),t.BQk()}if(2&n){const e=t.MAs(7),a=t.oxw().ngIf;t.xp6(1),t.Q6J("active",a.settingsActive)("hidden",a.settingsXlHidden),t.xp6(1),t.ekj("active",a.settingsActive),t.xp6(1),t.ekj("settings-xl-hidden",a.settingsXlHidden),t.xp6(2),t.Q6J("ngIf",null!=a.mod)("ngIfElse",e)}}function P(n,i){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"i",25),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"app.error")))}function $(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-dialog",18),t.YNc(1,P,5,3,"ng-template",19),t.TgZ(2,"div",20)(3,"div"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",21),t._uU(7),t.qZA(),t.TgZ(8,"div",22)(9,"button",23),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().ngIf,p=t.oxw();return t.KtG(p.reset(s.game))}),t.ALo(10,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw().ngIf,a=t.oxw();t.Q6J("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),t.xp6(4),t.Oqu(t.lcZ(5,10,"app.errorDetail")),t.xp6(3),t.Oqu(e.errorMsg),t.xp6(2),t.Q6J("label",t.lcZ(10,12,"reset"))("loading",a.isResetting)}}function E(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"lab-header",1),t.YNc(2,j,8,8,"ng-container",2),t.YNc(3,$,11,14,"ng-template",null,3,t.W1O),t.BQk()),2&n){const e=i.ngIf,a=t.MAs(4);t.xp6(1),t.Q6J("sticky",e.scrollTop>16)("settingsXlHidden",e.settingsXlHidden),t.xp6(1),t.Q6J("ngIf",null==e.errorMsg)("ngIfElse",a)}}const B=g.Bz.forChild([{path:"",component:(()=>{class n{constructor(e,a,s,p,F,z){this.contentSvc=e,this.ngZone=a,this.ref=s,this.router=p,this.store=F,this.errorSvc=z,this.vm$=(0,u.a)([this.store.select(c.Zr.cF),this.store.select(c.Zr.IK),this.store.select(c.VJ.p5),this.contentSvc.settingsActive$,this.contentSvc.settingsXlHidden$,this.contentSvc.scrollTop$,this.errorSvc.message$]).pipe((0,v.U)(([G,V,D,K,W,w,k])=>({game:G,mod:V,result:D,settingsActive:K,settingsXlHidden:W,scrollTop:w,errorMsg:k}))),this.isResetting=!1,this.tabItems=[{label:"app.list",icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:"app.flow",icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:"app.data",icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}],this.Game=l.lA,this.ItemId=l.bN,this.MatrixResultType=l.xN}ngAfterViewInit(){this.errorSvc.message$.subscribe(()=>this.ref.detectChanges())}reset(e){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message$.next(null),this.router.navigateByUrl(l.dL[e].route),this.store.dispatch(new c.gV.rc),this.isResetting=!1})},10)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d._s),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(g.F0),t.Y36(x.yh),t.Y36(d.T_))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-main"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"sticky","settingsXlHidden"],[4,"ngIf","ngIfElse"],["errorDialog",""],[3,"active","hidden"],[1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-1","px-sm-4","py-4"],["loading",""],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","item"],["pTemplate","footer"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],[1,"d-flex","align-items-center","justify-content-between"],["notSolved",""],[1,"d-flex","flex-column","align-items-center","mt-5"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",3,"label","loading","click"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(e,a){1&e&&(t.YNc(0,E,5,4,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,a.vm$))},dependencies:[r.O5,h.jx,g.lC,Z.Hq,T.Z,M.V,C.G,y.H,_.d,A.G,I.P,O.f,r.Ov,U.X$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;z-index:3;top:0;left:0;width:100%;height:100%;background-color:var(--maskbg)}}"],changeDetection:0}),n})(),children:[{path:"list",loadComponent:()=>o.e(181).then(o.bind(o,1181)).then(n=>n.ListComponent)},{path:"flow",loadComponent:()=>o.e(71).then(o.bind(o,5071)).then(n=>n.FlowComponent)},{path:"data",loadChildren:()=>o.e(661).then(o.bind(o,2661)).then(n=>n.DataModule)}]}]);let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,f.o,B]}),n})()}}]);