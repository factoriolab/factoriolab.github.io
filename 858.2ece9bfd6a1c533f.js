"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[858],{4858:(go,y,l)=>{l.r(y),l.d(y,{ListComponent:()=>to});var I=l(6814),Y=l(2572),R=l(7398),U=l(9397),O=l(1374),W=l(2181),P=l(1254),x=l(601),t=l(5879);let J=(()=>{class e{static transform(n){return n.itemId??n.recipeObjectiveId??n.recipeId??n.id}transform(n){return e.transform(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"stepId",type:e,pure:!0}),e})();var s=l(8528),Z=l(7346),S=l(4190),A=l(8345),$=l(4221),M=l(6223),G=l(5219),D=l(3259),V=l(707),H=l(8057),K=l(3965),z=l(9653),X=l(4480),B=l(1764),tt=l(5779),nt=l(6160),et=l(860),_t=l(9515);let ot=(()=>{class e{transform(n){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"asStep",type:e,pure:!0}),e})();var it=l(6881),ct=l(2852),at=l(207),pt=l(9249),st=l(912),q=l(3689),lt=l(5383);let rt=(()=>{class e{transform(n){return null==n?"":" ".repeat(4-n.length)+n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"leftPad",type:e,pure:!0}),e})();var gt=l(2087),mt=l(9168),dt=l(2142),ut=l(1134),ft=l(8393),xt=l(6675),It=l(3541);const Tt=["stepsTable"];function wt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.resetChecked())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.checkedUndoTooltip"))}function vt(e,o){if(1&e&&(t.TgZ(0,"th")(1,"div",17),t._UZ(2,"i",18),t.YNc(3,wt,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Q6J("ngIf",n.itemsModified.checked||n.recipesModified.checked)}}function ht(e,o){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"options.column.tree")," "))}function Zt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.resetExcluded())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.itemsUndoTooltip"))}function Ct(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.resetBelts())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.beltsUndoTooltip"))}function Lt(e,o){if(1&e&&(t.TgZ(0,"th",12)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Ct,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"options.column.belts")),t.xp6(2),t.Q6J("ngIf",n.itemsModified.belts)}}function bt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.resetWagons())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.wagonsUndoTooltip"))}function At(e,o){if(1&e&&(t.TgZ(0,"th",12)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,bt,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,n.dispRateInfo.wagonsLabel)),t.xp6(2),t.Q6J("ngIf",n.itemsModified.wagons)}}function Qt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.resetMachines())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.machinesUndoTooltip"))}function Jt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.resetBeacons())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.beaconsUndoTooltip"))}function Nt(e,o){if(1&e&&(t.TgZ(0,"th",12)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Jt,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"options.column.beacons")),t.xp6(2),t.Q6J("ngIf",n.recipesModified.beacons)}}function kt(e,o){1&e&&(t.TgZ(0,"th")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"options.column.power")))}function yt(e,o){if(1&e&&(t.TgZ(0,"th")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(2),t.Oqu(t.lcZ(3,1,n.dispRateInfo.pollutionLabel))}}function Yt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",10)(1,"button",20),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw();return t.KtG(c.export(i.steps,i.itemsState,i.recipesState,i.columnsState,i.data))}),t.ALo(2,"translate"),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("pTooltip",t.lcZ(2,1,"list.downloadTooltip")))}function Ot(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"th",10)(2,"button",11),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.contentSvc.showColumns$.next())}),t.ALo(3,"translate"),t.qZA()(),t.YNc(4,vt,4,1,"th",0),t.YNc(5,ht,3,3,"th",0),t.TgZ(6,"th",12)(7,"div",13)(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Zt,2,3,"button",14),t.qZA()(),t.YNc(12,Lt,6,4,"th",15),t.YNc(13,At,6,4,"th",15),t.TgZ(14,"th",12)(15,"div",13)(16,"span"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,Qt,2,3,"button",14),t.qZA()(),t.YNc(20,Nt,6,4,"th",15),t.YNc(21,kt,4,3,"th",0),t.YNc(22,yt,4,3,"th",0),t.YNc(23,Yt,3,3,"th",16),t.qZA()}if(2&e){const n=t.oxw().ngIf;t.xp6(2),t.Q6J("pTooltip",t.lcZ(3,13,"list.openColumnSettings")),t.xp6(2),t.Q6J("ngIf",n.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.tree.show),t.xp6(4),t.Oqu(t.lcZ(10,15,n.dispRateInfo.itemsLabel)),t.xp6(2),t.Q6J("ngIf",n.itemsModified.excluded),t.xp6(1),t.Q6J("ngIf",n.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.wagons.show),t.xp6(4),t.Oqu(t.lcZ(18,17,"options.column.machines")),t.xp6(2),t.Q6J("ngIf",n.recipesModified.machines),t.xp6(1),t.Q6J("ngIf",n.columnsState.beacons.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",n.columnsState.link.show)}}function St(e,o){if(1&e&&t._UZ(0,"div",22),2&e){const n=o.$implicit,_=t.oxw().ngIf;t.Q6J("id","step_"+_.id+"_"+n.label)}}function Mt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td")(1,"div",29)(2,"p-checkbox",30),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw().ngIf,a=t.oxw(3);return t.KtG(a.changeStepChecked(c,i.checked))}),t.qZA()()()}if(2&e){const n=t.oxw().ngIf;t.xp6(2),t.Q6J("binary",!0)("ngModel",n.checked)}}function Bt(e,o){if(1&e&&t._UZ(0,"div",38),2&e){const _=o.last;t.ekj("trail",o.$implicit)("last",_)}}function qt(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Bt,1,4,"div",36),t._UZ(2,"div",37),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",_.stepTree[n.id])}}function Ft(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw(2).ngIf,a=t.oxw();return t.KtG(a.setItemExcluded(i.itemId,!c.itemsState[i.itemId].excluded))}),t.ALo(1,"iconSmClass"),t.ALo(2,"itemTooltip"),t._UZ(3,"i",40),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.ekj("hover-active",_.itemsState[n.itemId].excluded),t.Q6J("icon",t.lcZ(1,5,n.itemId))("pTooltip",t.xi3(2,7,n.itemId,_.data))("escape",!1)}}function Et(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(3).ngIf;t.xp6(1),t.hij("#",n.recipeObjectiveId,"")}}function jt(e,o){if(1&e&&(t.TgZ(0,"i",41),t.ALo(1,"iconSmClass"),t.ALo(2,"recipeTooltip"),t.YNc(3,Et,2,1,"span",0),t.qZA()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.Tol(t.xi3(1,5,n.recipeId,"recipe")),t.Q6J("pTooltip",t.xi3(2,8,n.recipeId,_.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",null!=n.recipeObjectiveId)}}function Rt(e,o){if(1&e&&(t.TgZ(0,"td",31)(1,"div",32),t.YNc(2,qt,3,1,"ng-container",0),t.TgZ(3,"div",33),t.YNc(4,Ft,4,10,"button",34),t.YNc(5,jt,4,11,"ng-template",null,35,t.W1O),t.qZA()()()),2&e){const n=t.MAs(6),_=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",null==i.stepTree[_.id]?null:i.stepTree[_.id].length),t.xp6(2),t.Q6J("ngIf",_.itemId&&null==_.recipeObjectiveId)("ngIfElse",n)}}function Ut(e,o){if(1&e&&(t.TgZ(0,"span",44),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.xp6(1),t.hij("(+",t.xi3(2,1,n.surplus,_.columnsState.items.precision),") ")}}function Wt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"td",42),t.YNc(2,Ut,3,4,"span",43),t.TgZ(3,"span",44),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",45)(7,"div",13)(8,"span",46),t._uU(9),t.qZA(),t.TgZ(10,"button",39),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().ngIf,c=t.oxw(2).ngIf,a=t.oxw();return t.KtG(a.setItemExcluded(i.itemId,!c.itemsState[i.itemId].excluded))}),t.ALo(11,"iconSmClass"),t.ALo(12,"itemTooltip"),t._UZ(13,"i",40),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngIf",n.surplus&&n.surplus.nonzero()),t.xp6(2),t.Oqu(t.xi3(5,8,n.items.sub(n.surplus||i.Rational.zero),_.columnsState.items.precision)),t.xp6(5),t.Oqu(_.data.itemEntities[n.itemId].name),t.xp6(1),t.ekj("hover-active",_.itemsState[n.itemId].excluded),t.Q6J("icon",t.lcZ(11,11,n.itemId))("pTooltip",t.xi3(12,13,n.itemId,_.data))("escape",!1)}}function Pt(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}const w=function(e,o,n){return{name:e,speed:o,suffix:n}};function $t(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"i"),t.ALo(4,"iconSmClass"),t.qZA(),t.TgZ(5,"div",54),t._uU(6),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.belt",t.kEZ(12,w,_.data.itemEntities[n.value].name,_.beltSpeedTxt[n.value],t.lcZ(2,8,_.dispRateInfo.suffix))))("escape",!1),t.xp6(3),t.Tol(t.lcZ(4,10,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Gt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",50),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setBelt(c.itemId,i.value,a.settings.beltId))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.YNc(3,Pt,3,4,"ng-template",51),t.YNc(4,$t,7,16,"ng-template",52),t.qZA()}if(2&e){const n=t.oxw().ngIf,_=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.belt",t.kEZ(9,w,_.data.itemEntities[n].name,_.beltSpeedTxt[n],t.lcZ(2,7,_.dispRateInfo.suffix))))("escape",!1)("ngModel",n)("options",_.options.belts)}}function Dt(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function Vt(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"i"),t.ALo(4,"iconSmClass"),t.qZA(),t.TgZ(5,"div",54),t._uU(6),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(8).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.pipe",t.kEZ(12,w,_.data.itemEntities[n.value].name,_.beltSpeedTxt[n.value],t.lcZ(2,8,_.dispRateInfo.suffix))))("escape",!1),t.xp6(3),t.Tol(t.lcZ(4,10,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Ht(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",50),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(5).ngIf,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setBelt(c.itemId,i.value,a.settings.pipeId))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.YNc(3,Dt,3,4,"ng-template",51),t.YNc(4,Vt,7,16,"ng-template",52),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.pipe",t.kEZ(9,w,_.data.itemEntities[n].name,_.beltSpeedTxt[n],t.lcZ(2,7,_.dispRateInfo.suffix))))("escape",!1)("ngModel",n)("options",_.options.pipes)}}function Kt(e,o){if(1&e&&t.YNc(0,Ht,5,13,"p-dropdown",47),2&e){const n=t.oxw().ngIf,_=t.MAs(11),i=t.oxw(5).ngIf;t.Q6J("ngIf",-1!==i.data.pipeIds.indexOf(n)&&i.settings.pipeId)("ngIfElse",_)}}function zt(e,o){if(1&e&&(t.TgZ(0,"i",41),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw(5).ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"tooltip.pipe",t.kEZ(11,w,_.data.itemEntities[n].name,_.beltSpeedTxt[n],t.lcZ(3,9,_.dispRateInfo.suffix))))("escape",!1)}}function Xt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",42)(2,"span",44),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",45)(6,"div",13),t.YNc(7,Gt,5,13,"p-dropdown",47),t.YNc(8,Kt,1,2,"ng-template",null,48,t.W1O),t.YNc(10,zt,4,15,"ng-template",null,49,t.W1O),t.qZA()(),t.BQk()),2&e){const n=o.ngIf,_=t.MAs(9),i=t.oxw(3).ngIf,c=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,i.belts,c.columnsState.belts.precision)),t.xp6(4),t.Q6J("ngIf",-1!==c.data.beltIds.indexOf(n)&&c.settings.beltId)("ngIfElse",_)}}function tn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Xt,12,6,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_.itemsState[n.itemId].beltId)}}function nn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,tn,2,1,"ng-container",27),t.BQk()),2&e){const n=t.oxw().ngIf;t.oxw(2);const _=t.MAs(7);t.xp6(1),t.Q6J("ngIf",n.itemId&&n.belts)("ngIfElse",_)}}function en(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}const v=function(e,o){return{name:e,size:o}};function _n(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"translate"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(6).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.cargoWagon",t.WLB(10,v,_.data.itemEntities[n.value].name,_.data.cargoWagonEntities[n.value].size)))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function on(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",50),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(3).ngIf,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setWagon(c.itemId,i.value,a.settings.cargoWagonId))}),t.ALo(1,"translate"),t.YNc(2,en,3,4,"ng-template",51),t.YNc(3,_n,6,13,"ng-template",52),t.qZA()}if(2&e){const n=t.oxw().ngIf,_=t.oxw(4).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.cargoWagon",t.WLB(7,v,_.data.itemEntities[n].name,_.data.cargoWagonEntities[n].size)))("escape",!1)("ngModel",n)("options",_.options.cargoWagons)}}function cn(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function an(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"translate"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.fluidWagon",t.WLB(10,v,_.data.itemEntities[n.value].name,_.data.fluidWagonEntities[n.value].capacity)))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function pn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",50),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setWagon(c.itemId,i.value,a.settings.fluidWagonId))}),t.ALo(1,"translate"),t.YNc(2,cn,3,4,"ng-template",51),t.YNc(3,an,6,13,"ng-template",52),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw(4).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"tooltip.fluidWagon",t.WLB(7,v,_.data.itemEntities[n].name,_.data.fluidWagonEntities[n].capacity)))("escape",!1)("ngModel",n)("options",_.options.fluidWagons)}}function sn(e,o){if(1&e&&t.YNc(0,pn,4,10,"p-dropdown",56),2&e){const n=t.oxw().ngIf,_=t.oxw(4).ngIf;t.Q6J("ngIf",-1!==_.data.fluidWagonIds.indexOf(n)&&_.settings.fluidWagonId)}}function ln(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",42)(2,"span",44),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",45)(6,"div",13),t.YNc(7,on,4,10,"p-dropdown",47),t.YNc(8,sn,1,1,"ng-template",null,55,t.W1O),t.qZA()(),t.BQk()),2&e){const n=o.ngIf,_=t.MAs(9),i=t.oxw(2).ngIf,c=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,i.wagons,c.columnsState.wagons.precision)),t.xp6(4),t.Q6J("ngIf",-1!==c.data.cargoWagonIds.indexOf(n)&&c.settings.cargoWagonId)("ngIfElse",_)}}function rn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ln,10,6,"ng-container",27),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf,i=t.MAs(7);t.xp6(1),t.Q6J("ngIf",n.itemId&&n.wagons&&_.itemsState[n.itemId].wagonId)("ngIfElse",i)}}function gn(e,o){if(1&e&&(t.TgZ(0,"span",44),t._uU(1),t.ALo(2,"machineRate"),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,_.machines,i.columnsState.machines.precision,n))}}function mn(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(4).ngIf;t.xp6(1),t.hij("#",n.recipeObjectiveId,"")}}function dn(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function un(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"machineTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(6).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,_.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function fn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-inputNumber",61,62),t.NdJ("onBlur",function(){t.CHM(n);const i=t.MAs(1),c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,p=t.oxw();let r;return t.KtG(p.changeRecipeField(c,null!==(r=i.value)&&void 0!==r?r:0,a.machinesState,a.data,p.RecipeField.Overclock))}),t.ALo(2,"translate"),t.qZA()}if(2&e){const n=t.oxw(4).ngIf;t.Q6J("min",1)("max",250)("step",10)("maxFractionDigits",2)("size",2)("pTooltip",t.lcZ(2,7,"list.overclockTooltip"))("ngModel",n.recipeSettings.overclock)}}function xn(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}const F=function(e,o,n){return{name:e,category:o,value:n}};function In(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"translate"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,"tooltip.fuel",t.kEZ(10,F,_.data.itemEntities[n.value].name,_.data.fuelEntities[n.value].category,_.data.fuelEntities[n.value].value)))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}const N=function(){return[]};function Tn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"p-dropdown",50),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(4).ngIf,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.changeRecipeField(c,i.value,a.machinesState,a.data,p.RecipeField.Fuel))}),t.ALo(2,"translate"),t.YNc(3,xn,3,4,"ng-template",51),t.YNc(4,In,6,14,"ng-template",52),t.qZA(),t.BQk()}if(2&e){const n=o.ngIf,_=t.oxw(4).ngIf,i=t.oxw(2).ngIf;let c;t.xp6(1),t.Q6J("pTooltip",t.xi3(2,4,"tooltip.fuel",t.kEZ(7,F,i.data.itemEntities[n].name,i.data.fuelEntities[n].category,i.data.fuelEntities[n].value)))("escape",!1)("ngModel",n)("options",null!==(c=_.recipeSettings.fuelOptions)&&void 0!==c?c:t.DdM(11,N))}}function wn(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function vn(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"moduleTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(8).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,_.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function hn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",64),t.NdJ("onChange",function(i){const a=t.CHM(n).index,p=t.oxw(5).ngIf,r=t.oxw(2).ngIf,g=t.oxw();return t.KtG(g.changeRecipeField(p,i.value,r.machinesState,r.data,g.RecipeField.MachineModules,a))}),t.ALo(1,"moduleTooltip"),t.YNc(2,wn,3,4,"ng-template",51),t.YNc(3,vn,6,10,"ng-template",52),t.qZA()}if(2&e){const n=o.$implicit,_=o.last,i=t.oxw(5).ngIf,c=t.oxw(2).ngIf;let a;t.ekj("last",_),t.Q6J("pTooltip",t.xi3(1,6,n,c.data))("escape",!1)("options",null!==(a=i.recipeSettings.machineModuleOptions)&&void 0!==a?a:t.DdM(9,N))("ngModel",n)}}function Zn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,hn,4,10,"p-dropdown",63),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}function Cn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",13)(1,"span",46),t._uU(2),t.qZA(),t.TgZ(3,"i",58),t.ALo(4,"iconSmClass"),t.ALo(5,"recipeTooltip"),t.YNc(6,mn,2,1,"span",0),t.qZA(),t.TgZ(7,"p-dropdown",59),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw(3).ngIf,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.changeRecipeField(c,i.value,a.machinesState,a.data,p.RecipeField.Machine))}),t.ALo(8,"machineTooltip"),t.ALo(9,"options"),t.YNc(10,dn,3,4,"ng-template",51),t.YNc(11,un,6,10,"ng-template",52),t.qZA(),t.YNc(12,fn,3,9,"p-inputNumber",60),t.YNc(13,Tn,5,12,"ng-container",0),t.YNc(14,Zn,2,1,"ng-container",0),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.oxw();t.xp6(2),t.Oqu(_.recipe.name),t.xp6(1),t.Tol(t.xi3(4,13,_.recipeId,"recipe")),t.Q6J("pTooltip",t.xi3(5,16,_.recipeId,i.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",_.recipeObjectiveId),t.xp6(1),t.Q6J("pTooltip",t.xi3(8,19,n,i.data))("escape",!1)("options",t.xi3(9,22,_.recipe.producers,i.data.itemEntities))("ngModel",n),t.xp6(5),t.Q6J("ngIf",i.data.game===c.Game.Satisfactory),t.xp6(1),t.Q6J("ngIf",null==_.recipeSettings?null:_.recipeSettings.fuelId),t.xp6(1),t.Q6J("ngIf",null==_.recipeSettings?null:_.recipeSettings.machineModuleIds)}}function Ln(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Cn,15,25,"div",57),t.BQk()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.recipeId&&n.recipe&&n.recipeSettings)}}function bn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",42),t.YNc(2,gn,3,5,"span",43),t.ALo(3,"machineShowRate"),t.qZA(),t.TgZ(4,"td",45),t.YNc(5,Ln,2,1,"ng-container",0),t.ALo(6,"machineShow"),t.qZA(),t.BQk()),2&e){const n=o.ngIf,_=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",_.machines&&_.machines.nonzero()&&t.xi3(3,2,n,i.data.game)),t.xp6(3),t.Q6J("ngIf",t.xi3(6,5,n,i.data.game))}}function An(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4).ngIf,c=t.oxw(3);let a;return t.KtG(c.addBeacon(null!==(a=i.recipeObjectiveId)&&void 0!==a?a:i.recipeId,null!=i.recipeObjectiveId))}),t.qZA()}}function Qn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",72),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index,c=t.oxw(3).ngIf,a=t.oxw(3);let p;return t.KtG(a.removeBeacon(null!==(p=c.recipeObjectiveId)&&void 0!==p?p:c.recipeId,i,null!=c.recipeObjectiveId))}),t.qZA()}}function Jn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"lab-input-number",73),t.NdJ("setValue",function(i){t.CHM(n);const c=t.oxw().index,a=t.oxw(3).ngIf,p=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.changeRecipeField(a,i,p.machinesState,p.data,r.RecipeField.BeaconCount,c))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("pTooltip",t.lcZ(1,3,"list.beaconEachTooltip"))("value",n.count.toString())("textButtons",!0)}}function Nn(e,o){if(1&e&&(t.TgZ(0,"div",24),t.YNc(1,An,1,0,"button",68),t.YNc(2,Qn,1,0,"ng-template",null,69,t.W1O),t.YNc(4,Jn,2,5,"lab-input-number",70),t.qZA()),2&e){const n=o.$implicit,_=o.index,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0===_)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",n.count)}}function kn(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function yn(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"beaconTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,_.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Yn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",59),t.NdJ("onChange",function(i){t.CHM(n);const c=t.oxw().index,a=t.oxw(3).ngIf,p=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.changeRecipeField(a,i.value,p.machinesState,p.data,r.RecipeField.Beacon,c))}),t.ALo(1,"beaconTooltip"),t.YNc(2,kn,3,4,"ng-template",51),t.YNc(3,yn,6,10,"ng-template",52),t.qZA()}if(2&e){const n=t.oxw().$implicit,_=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,n.id,_.data))("escape",!1)("options",_.options.beacons)("ngModel",n.id)}}function On(e,o){if(1&e&&(t.TgZ(0,"div",24)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,n.value))}}function Sn(e,o){if(1&e&&(t.TgZ(0,"div",53),t.ALo(1,"moduleTooltip"),t.TgZ(2,"i"),t.ALo(3,"iconSmClass"),t.qZA(),t.TgZ(4,"div",54),t._uU(5),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,5,n.value,_.data))("escape",!1),t.xp6(2),t.Tol(t.lcZ(3,8,n.value)),t.xp6(3),t.hij(" ",n.label," ")}}function Mn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",64),t.NdJ("onChange",function(i){const a=t.CHM(n).index,p=t.oxw().index,r=t.oxw(3).ngIf,g=t.oxw(2).ngIf,m=t.oxw();return t.KtG(m.changeRecipeField(r,i.value,g.machinesState,g.data,m.RecipeField.BeaconModules,p,a))}),t.ALo(1,"moduleTooltip"),t.YNc(2,On,3,4,"ng-template",51),t.YNc(3,Sn,6,10,"ng-template",52),t.qZA()}if(2&e){const n=o.$implicit,_=o.last,i=t.oxw().$implicit,c=t.oxw(5).ngIf;let a;t.ekj("last",_),t.Q6J("pTooltip",t.xi3(1,6,n,c.data))("escape",!1)("options",null!==(a=i.moduleOptions)&&void 0!==a?a:t.DdM(9,N))("ngModel",n)}}function Bn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"lab-input-number",76),t.NdJ("setValue",function(i){t.CHM(n);const c=t.oxw().index,a=t.oxw(3).ngIf,p=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.changeRecipeField(a,i,p.machinesState,p.data,r.RecipeField.BeaconTotal,c))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("pTooltip",t.lcZ(1,3,"list.beaconTotalTooltip"))("value",n.total.toString())("textButtons",!0)}}function qn(e,o){if(1&e&&(t.TgZ(0,"div",24),t.YNc(1,Yn,4,7,"p-dropdown",74),t.YNc(2,Mn,4,10,"p-dropdown",63),t.YNc(3,Bn,2,5,"lab-input-number",75),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngIf",n.id),t.xp6(1),t.Q6J("ngForOf",n.moduleIds),t.xp6(1),t.Q6J("ngIf",n.total)}}function Fn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",65),t.YNc(2,Nn,5,3,"div",66),t.qZA(),t.TgZ(3,"td",45),t.YNc(4,qn,4,3,"div",67),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",n.recipeSettings.beacons)("ngForTrackBy",_.trackSvc.trackByIndex),t.xp6(2),t.Q6J("ngForOf",n.recipeSettings.beacons)}}function En(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Fn,5,3,"ng-container",27),t.BQk()),2&e){const n=t.oxw().ngIf;t.oxw(2);const _=t.MAs(7);t.xp6(1),t.Q6J("ngIf",n.recipeId&&n.recipeSettings)("ngIfElse",_)}}function jn(e,o){if(1&e&&(t.TgZ(0,"span",44),t._uU(1),t.ALo(2,"power"),t.qZA()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,n.power,_.columnsState.power.precision,_.effectivePowerUnit))}}function Rn(e,o){if(1&e&&(t.TgZ(0,"td",77),t.YNc(1,jn,3,5,"span",43),t.qZA()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.power&&n.power.nonzero())}}function Un(e,o){if(1&e&&(t.TgZ(0,"span",44),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.xi3(2,1,n.pollution,_.columnsState.pollution.precision))}}function Wn(e,o){if(1&e&&(t.TgZ(0,"td",77),t.YNc(1,Un,3,4,"span",43),t.qZA()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.pollution&&n.pollution.nonzero())}}function Pn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",81),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).ngIf,c=t.oxw(3);return t.KtG(c.resetStep(i))}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.stepUndoTooltip"))}function $n(e,o){if(1&e&&(t.TgZ(0,"td")(1,"div",24)(2,"a",78),t.ALo(3,"stepHref"),t._UZ(4,"button",79),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Pn,2,3,"button",80),t.qZA()()),2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf;t.xp6(2),t.Q6J("href",t.Dn7(3,3,n,_.zipPartial,_.data),t.LSH),t.xp6(2),t.Q6J("pTooltip",t.lcZ(5,7,"list.openNewTabTooltip")),t.xp6(2),t.Q6J("ngIf",n.recipeId&&_.stepsModified.recipes[n.recipeId]||n.itemId&&_.stepsModified.items[n.itemId]||n.recipeObjectiveId&&_.stepsModified.objectives[n.recipeObjectiveId])}}function Gn(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td",21),t._UZ(2,"div",22),t.YNc(3,St,1,1,"div",23),t.TgZ(4,"div",24),t._UZ(5,"button",25),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,Mt,3,2,"td",0),t.YNc(8,Rt,7,3,"td",26),t.YNc(9,Wt,14,16,"ng-container",27),t.YNc(10,nn,2,2,"ng-container",0),t.YNc(11,rn,2,2,"ng-container",0),t.YNc(12,bn,7,8,"ng-container",27),t.YNc(13,En,2,2,"ng-container",0),t.YNc(14,Rn,2,1,"td",28),t.YNc(15,Wn,2,1,"td",28),t.YNc(16,$n,7,9,"td",0),t.qZA()),2&e){const n=o.ngIf,_=t.oxw().expanded,i=t.oxw().ngIf,c=t.MAs(7);t.xp6(2),t.Q6J("id","step_"+n.id),t.xp6(1),t.Q6J("ngForOf",i.stepDetails[n.id].tabs),t.xp6(2),t.ekj("fa-rotate-90",_),t.Q6J("pTooltip",t.lcZ(6,18,_?"list.hideDetails":"list.showDetails"))("pRowToggler",n),t.xp6(2),t.Q6J("ngIf",i.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.tree.show),t.xp6(1),t.Q6J("ngIf",n.itemId&&n.items)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",i.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.wagons.show),t.xp6(1),t.Q6J("ngIf",null==n.recipeSettings?null:n.recipeSettings.machineId)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",i.columnsState.beacons.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.link.show)}}function Dn(e,o){1&e&&(t.YNc(0,Gn,17,20,"tr",0),t.ALo(1,"asStep")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.$implicit))}function Vn(e,o){if(1&e&&(t._UZ(0,"span",91),t.TgZ(1,"span",92),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=o.$implicit,_=t.oxw(4);t.Tol(_.stepDetailIcon[n.label]),t.xp6(2),t.Oqu(t.lcZ(3,3,"options.stepDetailTab."+n.label))}}function Hn(e,o){}function Kn(e,o){1&e&&t.YNc(0,Hn,0,0,"ng-template")}function zn(e,o){if(1&e&&(t.TgZ(0,"tr",82),t.YNc(1,Kn,1,0,null,95),t.TgZ(2,"td",96),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(4);const n=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.hij(" ",t.lcZ(4,2,"list.sources")," ")}}function Xn(e,o){1&e&&t.GkF(0)}const te=function(e,o,n,_,i,c,a,p,r,g,m,d,u){return{items:e,itemId:o,belts:n,beltId:_,wagons:i,wagonId:c,machines:a,machineId:p,recipeId:r,recipeObjectiveId:g,percent:m,percentOnDest:!0,destId:d,inputs:u}};function ne(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Xn,1,0,"ng-container",97),t.BQk()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).ngIf,i=t.oxw(2).ngIf,c=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,te,[null==_.items?null:_.items.mul(n.value),_.itemId,null==_.belts?null:_.belts.mul(n.value),i.itemsState[_.itemId].beltId,null==_.wagons?null:_.wagons.mul(n.value),i.itemsState[_.itemId].wagonId,n.machines,n.recipeId&&i.recipesState[n.recipeId].machineId,n.recipeId,n.recipeObjectiveId,n.value,_.itemId,n.inputs]))}}function ee(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ne,2,16,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId)}}function _e(e,o){}function oe(e,o){1&e&&t.YNc(0,_e,0,0,"ng-template")}function ie(e,o){if(1&e&&(t.TgZ(0,"tr",82),t.YNc(1,oe,1,0,null,95),t.TgZ(2,"td",96),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(4);const n=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.hij(" ",t.lcZ(4,2,"list.destinations")," ")}}function ce(e,o){1&e&&t.GkF(0)}const ae=function(e,o,n,_,i,c,a,p,r,g,m,d,u,f){return{items:e,itemId:o,belts:n,beltId:_,wagons:i,wagonId:c,machines:a,machineId:p,recipeId:r,recipeObjectiveId:g,percent:m,destId:d,destRecipeObjectiveId:u,destIsRecipe:!0,outputs:f}};function pe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ce,1,0,"ng-container",97),t.BQk()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).ngIf,i=t.oxw(2).ngIf,c=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,ae,[null==_.items?null:_.items.mul(n.value),_.itemId,null==_.belts?null:_.belts.mul(n.value),i.itemsState[_.itemId].beltId,null==_.wagons?null:_.wagons.mul(n.value),i.itemsState[_.itemId].wagonId,1===i.stepDetails[_.id].outputs.length?null==_.machines?null:_.machines.mul(n.value):null,1===i.stepDetails[_.id].outputs.length?null==_.recipeSettings?null:_.recipeSettings.machineId:null,_.recipeId,_.recipeObjectiveId,n.value,null==i.stepById[n.key]?null:i.stepById[n.key].recipeId,null==i.stepById[n.key]?null:i.stepById[n.key].recipeObjectiveId,""===n.key]))}}function se(e,o){if(1&e&&(t.ynx(0),t.YNc(1,pe,2,17,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId)}}function le(e,o){if(1&e&&(t.ynx(0),t.YNc(1,zn,5,4,"tr",93),t.YNc(2,ee,2,1,"ng-container",94),t.YNc(3,ie,5,4,"tr",93),t.YNc(4,se,2,1,"ng-container",94),t.ALo(5,"keyvalue"),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngIf",_.stepDetails[n.id].outputs.length),t.xp6(1),t.Q6J("ngForOf",_.stepDetails[n.id].outputs),t.xp6(1),t.Q6J("ngIf",n.parents),t.xp6(1),t.Q6J("ngForOf",t.xi3(5,4,n.parents,i.trackSvc.sortByValue))}}function re(e,o){}function ge(e,o){1&e&&t.YNc(0,re,0,0,"ng-template")}function me(e,o){1&e&&t.GkF(0)}const de=function(e,o){return{items:e,itemId:o}};function ue(e,o){if(1&e&&(t.ynx(0),t.YNc(1,me,1,0,"ng-container",97),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw().$implicit,i=t.oxw(4).ngIf;t.oxw(2);const c=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(2,de,n.step.items.mul(n.percent).div(i.recipe.productivity),_.key))}}function fe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ue,2,5,"ng-container",0),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.step&&n.percent&&n.step.items)}}const Q=function(e,o){return{step:e,percent:o}};function xe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,fe,2,1,"ng-container",0),t.BQk()),2&e){const n=o.$implicit,_=t.oxw(4).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Q,i.stepByItemEntities[n.key],null==_.outputs?null:_.outputs[n.key]))}}function Ie(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",82),t.YNc(2,ge,1,0,null,95),t.TgZ(3,"td",96),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,xe,2,4,"ng-container",94),t.ALo(7,"keyvalue"),t.BQk()),2&e){const n=t.oxw(3).ngIf;t.oxw(2);const _=t.MAs(9),i=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",_),t.xp6(2),t.hij(" ",t.lcZ(5,3,"list.depletion")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,n.outputs,i.trackSvc.sortByValue))}}function Te(e,o){}function we(e,o){1&e&&t.YNc(0,Te,0,0,"ng-template")}function ve(e,o){1&e&&t.GkF(0)}const he=function(e,o,n,_,i,c,a,p,r,g,m,d,u){return{items:e,itemId:o,belts:n,beltId:_,wagons:i,wagonId:c,machines:a,machineId:p,recipeId:r,recipeObjectiveId:g,percent:m,destId:d,destRecipeObjectiveId:u,destIsRecipe:!0}};function Ze(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ve,1,0,"ng-container",97),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw().$implicit,i=t.oxw(4).ngIf,c=t.oxw(2).ngIf,a=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.rFY(2,he,[null==n.step.items?null:n.step.items.mul(n.percent),_.key,null==n.step.belts?null:n.step.belts.mul(n.percent),c.itemsState[n.step.itemId].beltId,null==n.step.wagons?null:n.step.wagons.mul(n.percent),c.itemsState[n.step.itemId].wagonId,null==n.step.machines?null:n.step.machines.mul(n.percent),null==n.step.recipeSettings?null:n.step.recipeSettings.machineId,n.step.recipeId,n.step.recipeObjectiveId,n.percent,i.recipeId,i.recipeObjectiveId]))}}function Ce(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ze,2,16,"ng-container",0),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.step.itemId&&n.percent)}}function Le(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ce,2,1,"ng-container",0),t.BQk()),2&e){const n=o.$implicit,_=t.oxw(4).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Q,i.stepByItemEntities[n.key],null==i.stepByItemEntities[n.key].parents?null:i.stepByItemEntities[n.key].parents[_.id]))}}function be(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",82),t.YNc(2,we,1,0,null,95),t.TgZ(3,"td",96),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Le,2,4,"ng-container",94),t.ALo(7,"keyvalue"),t.BQk()),2&e){const n=t.oxw(3).ngIf;t.oxw(2);const _=t.MAs(9),i=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",_),t.xp6(2),t.hij(" ",t.lcZ(5,3,"list.inputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,n.recipe.in,i.trackSvc.sortByValue))}}function Ae(e,o){}function Qe(e,o){1&e&&t.YNc(0,Ae,0,0,"ng-template")}function Je(e,o){1&e&&t.GkF(0)}const Ne=function(e,o,n,_,i,c,a,p,r,g,m,d,u){return{items:e,itemId:o,belts:n,beltId:_,wagons:i,wagonId:c,machines:a,machineId:p,recipeId:r,recipeObjectiveId:g,percent:m,percentOnDest:!0,destId:d,destRecipeObjectiveId:u,destIsRecipe:!0}};function ke(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Je,1,0,"ng-container",97),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw().$implicit,i=t.oxw(3).ngIf,c=t.oxw(2).ngIf,a=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.rFY(2,Ne,[null==n.step.items?null:n.step.items.mul(n.percent),_.key,null==n.step.belts?null:n.step.belts.mul(n.percent),c.itemsState[n.step.itemId].beltId,null==n.step.wagons?null:n.step.wagons.mul(n.percent),c.itemsState[n.step.itemId].wagonId,null==n.step.machines?null:n.step.machines.mul(n.percent),null==n.step.recipeSettings?null:n.step.recipeSettings.machineId,n.step.recipeId,n.step.recipeObjectiveId,n.percent,i.recipeId,i.recipeObjectiveId]))}}function ye(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ke,2,16,"ng-container",0),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.step.itemId&&n.percent)}}function Ye(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ye,2,1,"ng-container",0),t.BQk()),2&e){const n=o.$implicit,_=t.oxw(3).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Q,i.stepByItemEntities[n.key],null==_.outputs?null:_.outputs[n.key]))}}function Oe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ie,8,8,"ng-container",0),t.YNc(2,be,8,8,"ng-container",0),t.ALo(3,"keyvalue"),t.TgZ(4,"tr",82),t.YNc(5,Qe,1,0,null,95),t.TgZ(6,"td",96),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.YNc(9,Ye,2,4,"ng-container",94),t.ALo(10,"keyvalue"),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).ngIf,i=t.MAs(9),c=t.oxw();t.xp6(1),t.Q6J("ngIf",_.data.game===c.Game.Factorio&&n.recipe.isMining),t.xp6(1),t.Q6J("ngIf",n.recipe&&t.lcZ(3,5,n.recipe.in).length),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.hij(" ",t.lcZ(8,7,"list.outputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(10,9,n.recipe.out,c.trackSvc.sortByValue))}}function Se(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Oe,11,12,"ng-container",0),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.recipe)}}function Me(e,o){1&e&&t.GkF(0)}const h=function(e,o){return{value:e,itemId:o}};function Be(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Me,1,0,"ng-container",97),t.ALo(2,"rate"),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw().$implicit;t.oxw();const i=t.MAs(16),c=t.oxw(2).ngIf,a=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,n.step.items.mul(n.percent).div(c.machines),a.columnsState.items.precision),_.key))}}function qe(e,o){1&e&&t.GkF(0)}function Fe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,qe,1,0,"ng-container",97),t.ALo(2,"rate"),t.BQk()),2&e){const n=o.ngIf,_=t.oxw(4).ngIf;t.oxw(2);const i=t.MAs(16),c=t.oxw(2).ngIf,a=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,_.step.belts.mul(_.percent).div(c.machines),a.columnsState.belts.precision),n))}}function Ee(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Fe,3,8,"ng-container",0),t.BQk()),2&e){const n=t.oxw(4).$implicit,_=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",_.itemsState[n.key].beltId)}}function je(e,o){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,Ee,2,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.step.belts)}}function Re(e,o){1&e&&t.GkF(0)}function Ue(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Re,1,0,"ng-container",97),t.ALo(2,"rate"),t.BQk()),2&e){const n=o.ngIf;t.oxw(6);const _=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,n.value,1),n.id))}}function We(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ue,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const n=t.oxw(3).ngIf,_=t.oxw(4).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,n.step.items.mul(n.percent).div(_.machines).div(i.dispRateInfo.value),i.settings))}}function Pe(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,We,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw().$implicit,i=t.oxw(5).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngIf",i.itemsState[_.key].beltId!==c.ItemId.Pipe&&n.step.items)}}function $e(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,Be,3,8,"ng-container",0),t.qZA(),t.YNc(3,je,2,1,"td",0),t.YNc(4,Pe,3,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw(6).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngIf",n.step.items),t.xp6(1),t.Q6J("ngIf",_.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",_.data.game===i.Game.Factorio)}}function Ge(e,o){if(1&e&&(t.ynx(0),t.YNc(1,$e,5,3,"tr",0),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.percent)}}function De(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ge,2,1,"ng-container",0),t.BQk()),2&e){const n=o.$implicit,_=t.oxw(3).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Q,i.stepByItemEntities[n.key],null==i.stepByItemEntities[n.key].parents?null:i.stepByItemEntities[n.key].parents[_.id]))}}function Ve(e,o){if(1&e&&(t.TgZ(0,"div",13)(1,"i",41),t.ALo(2,"iconClass"),t.ALo(3,"recipeTooltip"),t.qZA(),t.TgZ(4,"i",41),t.ALo(5,"iconClass"),t.ALo(6,"machineTooltip"),t.qZA()()),2&e){const n=o.ngIf,_=t.oxw(3).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Tol(t.xi3(2,8,_.recipeId,"recipe")),t.Q6J("pTooltip",t.xi3(3,11,_.recipeId,i.data))("escape",!1),t.xp6(3),t.Tol(t.lcZ(5,14,n)),t.Q6J("pTooltip",t.xi3(6,16,n,i.data))("escape",!1)}}function He(e,o){1&e&&t.GkF(0)}function Ke(e,o){if(1&e&&(t.ynx(0),t.YNc(1,He,1,0,"ng-container",97),t.ALo(2,"rate"),t.BQk()),2&e){const n=o.ngIf;t.oxw(5);const _=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,n.value,1),n.id))}}function ze(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ke,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,n,_.settings))}}function Xe(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,ze,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(5).ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngIf",_.itemsState[n.key].beltId!==i.ItemId.Pipe)}}function t_(e,o){1&e&&t.GkF(0)}function n_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,t_,1,0,"ng-container",97),t.ALo(2,"rate"),t.BQk()),2&e){const n=o.ngIf,_=t.oxw(2).ngIf;t.oxw(2);const i=t.MAs(16),c=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,h,t.xi3(2,2,_.div(c.beltSpeed[n]),c.columnsState.belts.precision),n))}}function e_(e,o){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,n_,3,8,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",_.itemsState[n.key].beltId)}}function __(e,o){1&e&&t.GkF(0)}function o_(e,o){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,Xe,3,1,"ng-container",0),t.YNc(2,e_,2,1,"td",0),t.TgZ(3,"td"),t.YNc(4,__,1,0,"ng-container",97),t.ALo(5,"rate"),t.qZA()()),2&e){const n=o.ngIf,_=t.oxw().$implicit;t.oxw();const i=t.MAs(16),c=t.oxw(4).ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngIf",c.data.game===a.Game.Factorio),t.xp6(1),t.Q6J("ngIf",c.columnsState.belts.show),t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(7,h,t.xi3(5,4,n.mul(c.dispRateInfo.value),c.columnsState.items.precision),_.key))}}function i_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,o_,6,10,"tr",0),t.BQk()),2&e){const n=o.$implicit,_=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",n.value.div(_.recipe.time))}}function c_(e,o){if(1&e&&(t.TgZ(0,"div",101)(1,"span",44),t._uU(2),t.qZA(),t.TgZ(3,"i",41),t.ALo(4,"iconClass"),t.ALo(5,"itemTooltip"),t.qZA()()),2&e){const n=o.value,_=o.itemId,i=t.oxw(5).ngIf;t.xp6(2),t.Oqu(n),t.xp6(1),t.Tol(t.lcZ(4,5,_)),t.Q6J("pTooltip",t.xi3(5,7,_,i.data))("escape",!1)}}function a_(e,o){if(1&e&&(t.TgZ(0,"div",13)(1,"table",98),t.YNc(2,De,2,4,"ng-container",94),t.ALo(3,"keyvalue"),t.qZA(),t._UZ(4,"i",99),t.TgZ(5,"table",98)(6,"tr")(7,"td",44),t._uU(8,"1"),t.qZA(),t.TgZ(9,"td"),t.YNc(10,Ve,7,19,"div",57),t.qZA()()(),t._UZ(11,"i",99),t.TgZ(12,"table",98),t.YNc(13,i_,2,1,"ng-container",94),t.ALo(14,"keyvalue"),t.qZA(),t.YNc(15,c_,6,10,"ng-template",null,100,t.W1O),t.qZA()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,3,n.recipe.in,_.trackSvc.sortByValue)),t.xp6(8),t.Q6J("ngIf",null==n.recipeSettings?null:n.recipeSettings.machineId),t.xp6(3),t.Q6J("ngForOf",t.xi3(14,6,n.recipe.out,_.trackSvc.sortByValue))}}function p_(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"small",102),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"list.inserterCountInfo"),t.oJD))}function s_(e,o){if(1&e&&(t.TgZ(0,"tr",82),t._UZ(1,"td"),t.TgZ(2,"td",85),t.YNc(3,a_,17,9,"div",57),t.YNc(4,p_,3,3,"div",0),t.qZA()()),2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf,i=t.oxw();t.xp6(3),t.Q6J("ngIf",n.recipeId&&n.recipe&&n.machines),t.xp6(1),t.Q6J("ngIf",_.data.game===i.Game.Factorio)}}function l_(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",108),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw(5).ngIf,p=t.oxw();return t.KtG(p.toggleRecipe(c,a.recipesState,a.data))}),t.ALo(1,"iconSmClass"),t.ALo(2,"recipeTooltip"),t._UZ(3,"i",40),t.qZA()}if(2&e){const n=o.$implicit,_=t.oxw(5).ngIf;t.ekj("hover-active",_.recipesState[n].excluded),t.Q6J("icon",t.xi3(1,5,n,"recipe"))("pTooltip",t.xi3(2,8,n,_.data))("escape",!1)}}function r_(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",82),t._UZ(2,"td"),t.TgZ(3,"td",85)(4,"div")(5,"div",103),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",104)(9,"small"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"p-checkbox",105),t.NdJ("onChange",function(){const c=t.CHM(n).ngIf,a=t.oxw(4).ngIf,p=t.oxw();return t.KtG(p.toggleRecipes(c.recipeIds,c.allRecipesIncluded,a.data))}),t.ALo(13,"translate"),t.qZA()()()(),t.TgZ(14,"tr",82),t._UZ(15,"td"),t.TgZ(16,"td",85)(17,"div",106),t.YNc(18,l_,4,11,"button",107),t.qZA()()(),t.BQk()}if(2&e){const n=o.ngIf;t.xp6(6),t.hij(" ",t.lcZ(7,6,"list.includedRecipes")," "),t.xp6(4),t.Oqu(t.lcZ(11,8,"list.includedRecipesInfo")),t.xp6(2),t.Q6J("ngModel",n.allRecipesIncluded)("binary",!0)("label",t.lcZ(13,10,"picker.includeAll")),t.xp6(6),t.Q6J("ngForOf",n.recipeIds)}}function g_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,r_,19,12,"ng-container",0),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId&&_.stepDetails[n.id])}}function m_(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",82)(2,"td")(3,"a",83),t._UZ(4,"button",84),t.qZA()(),t.TgZ(5,"td",85)(6,"p-tabMenu",86,87),t.NdJ("activeItemChange",function(i){const a=t.CHM(n).ngIf,p=t.oxw(3);return t.KtG(p.setActiveItem(a,i))}),t.ALo(8,"stepId"),t.YNc(9,Vn,4,5,"ng-template",52),t.qZA()()(),t.ynx(10,88),t.YNc(11,le,6,7,"ng-container",89),t.YNc(12,Se,2,1,"ng-container",89),t.YNc(13,s_,5,2,"tr",90),t.YNc(14,g_,2,1,"ng-container",89),t.BQk()()}if(2&e){const n=o.ngIf,_=t.MAs(7),i=t.oxw(2).ngIf,c=t.oxw();t.xp6(3),t.Q6J("relativeTo",c.route)("fragment",n.id),t.xp6(3),t.Q6J("model",i.stepDetails[n.id].tabs)("activeItem",c.activeItem[t.lcZ(8,9,n)]),t.xp6(4),t.Q6J("ngSwitch",null==_.activeItem?null:_.activeItem.label),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Item),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Recipe),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Machine),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Recipes)}}function d_(e,o){1&e&&(t.YNc(0,m_,15,11,"ng-container",0),t.ALo(1,"asStep")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.$implicit))}function u_(e,o){1&e&&t._UZ(0,"td",12)}function f_(e,o){1&e&&t._UZ(0,"td")}function x_(e,o){if(1&e&&(t._UZ(0,"td"),t.YNc(1,f_,1,0,"td",0)),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.columnsState.tree.show)}}function I_(e,o){}function T_(e,o){1&e&&t.YNc(0,I_,0,0,"ng-template")}function w_(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",42)(2,"span",44),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",45)(6,"div",24)(7,"i",41),t.ALo(8,"iconClass"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.qZA()()(),t.BQk()),2&e){const n=t.oxw(3),_=n.belts,i=n.beltId,c=t.oxw().ngIf;t.xp6(3),t.Oqu(t.xi3(4,5,_,c.columnsState.belts.precision)),t.xp6(4),t.Tol(t.lcZ(8,8,i)),t.Q6J("pTooltip",t.xi3(9,10,"tooltip.belt",t.kEZ(15,w,c.data.itemEntities[i].name,c.beltSpeedTxt[i],t.lcZ(10,13,c.dispRateInfo.suffix))))("escape",!1)}}function v_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,w_,11,19,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2),_=n.belts,i=n.beltId;t.xp6(1),t.Q6J("ngIf",_&&i)}}function h_(e,o){if(1&e&&(t.TgZ(0,"i",41),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(4).wagonId,_=t.oxw().ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"tooltip.cargoWagon",t.WLB(9,v,_.data.itemEntities[n].name,_.data.cargoWagonEntities[n].size)))("escape",!1)}}function Z_(e,o){if(1&e&&(t.TgZ(0,"i",41),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(4).wagonId,_=t.oxw().ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"tooltip.fluidWagon",t.WLB(9,v,_.data.itemEntities[n].name,_.data.fluidWagonEntities[n].capacity)))("escape",!1)}}function C_(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",42)(2,"span",44),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",45)(6,"div",24),t.YNc(7,h_,3,12,"i",112),t.YNc(8,Z_,3,12,"ng-template",null,113,t.W1O),t.qZA()(),t.BQk()),2&e){const n=t.MAs(9),_=t.oxw(3),i=_.wagons,c=_.wagonId,a=t.oxw().ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,i,a.columnsState.wagons.precision)),t.xp6(4),t.Q6J("ngIf",-1!==a.data.cargoWagonIds.indexOf(c))("ngIfElse",n)}}function L_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,C_,10,6,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2),_=n.wagons,i=n.wagonId;t.xp6(1),t.Q6J("ngIf",_&&i)}}function b_(e,o){if(1&e&&(t.TgZ(0,"span",44),t._uU(1),t.ALo(2,"machineRate"),t.qZA()),2&e){const n=t.oxw(2),_=n.machines,i=n.machineId,c=t.oxw().ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,_,c.columnsState.machines.precision,i))}}function A_(e,o){1&e&&(t.TgZ(0,"div",114),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"list.inputs")," "))}function Q_(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(3).recipeObjectiveId;t.xp6(1),t.hij("#",n,"")}}function J_(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"i",41),t.ALo(2,"iconClass"),t.ALo(3,"recipeTooltip"),t.YNc(4,Q_,2,1,"span",0),t.qZA(),t.TgZ(5,"i",41),t.ALo(6,"iconClass"),t.ALo(7,"machineTooltip"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2),_=n.recipeId,i=n.recipeObjectiveId,c=n.machineId,a=t.oxw().ngIf;t.xp6(1),t.Tol(t.xi3(2,9,_,"recipe")),t.Q6J("pTooltip",t.xi3(3,12,_,a.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",i),t.xp6(1),t.Tol(t.lcZ(6,15,c)),t.Q6J("pTooltip",t.xi3(7,17,c,a.data))("escape",!1)}}function N_(e,o){1&e&&(t.TgZ(0,"div",115),t._UZ(1,"i",116),t.qZA(),t.TgZ(2,"div",115),t._UZ(3,"i",116),t.qZA())}function k_(e,o){1&e&&t._UZ(0,"i",119)}function y_(e,o){1&e&&t._UZ(0,"i",119)}function Y_(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(4).destRecipeObjectiveId;t.xp6(1),t.hij("#",n,"")}}function O_(e,o){if(1&e&&(t.TgZ(0,"i",41),t.ALo(1,"iconClass"),t.ALo(2,"recipeTooltip"),t.ALo(3,"itemTooltip"),t.YNc(4,Y_,2,1,"span",0),t.qZA()),2&e){const n=t.oxw(3),_=n.destId,i=n.destIsRecipe,c=n.destRecipeObjectiveId,a=t.oxw().ngIf;t.Tol(t.xi3(1,5,_,i?"recipe":"item")),t.Q6J("pTooltip",i?t.xi3(2,8,_,a.data):t.xi3(3,11,_,a.data))("escape",!1),t.xp6(4),t.Q6J("ngIf",c)}}function S_(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"list.outputs")," "))}function M_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,k_,1,0,"i",117),t.TgZ(2,"span",44),t._uU(3),t.ALo(4,"leftPad"),t.ALo(5,"rate"),t.qZA(),t.YNc(6,y_,1,0,"i",117),t.YNc(7,O_,5,14,"i",118),t.YNc(8,S_,3,3,"span",0),t.BQk()),2&e){const n=t.oxw(2),_=n.percentOnDest,i=n.percent,c=n.destId,a=n.outputs;t.xp6(1),t.Q6J("ngIf",_),t.xp6(2),t.hij("",t.lcZ(4,5,t.xi3(5,7,i,-2)),"%"),t.xp6(3),t.Q6J("ngIf",!_),t.xp6(1),t.Q6J("ngIf",c),t.xp6(1),t.Q6J("ngIf",a)}}function B_(e,o){if(1&e&&(t.ynx(0),t.YNc(1,T_,1,0,null,95),t.TgZ(2,"td",42)(3,"span",44),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",45)(7,"div",24)(8,"i",41),t.ALo(9,"iconClass"),t.ALo(10,"itemTooltip"),t.qZA()()(),t.YNc(11,v_,2,1,"ng-container",0),t.YNc(12,L_,2,1,"ng-container",0),t.TgZ(13,"td",42),t.YNc(14,b_,3,5,"span",43),t.ALo(15,"machineShowRate"),t.qZA(),t.TgZ(16,"td",109)(17,"div",13),t.YNc(18,A_,3,3,"div",110),t.YNc(19,J_,8,20,"ng-container",27),t.ALo(20,"machineShow"),t.YNc(21,N_,4,0,"ng-template",null,111,t.W1O),t.YNc(23,M_,9,10,"ng-container",0),t.qZA()(),t.BQk()),2&e){const n=t.MAs(22),_=t.oxw(),i=_.items,c=_.itemId,a=_.machines,p=_.machineId,r=_.inputs,g=_.percent,m=t.oxw().ngIf,d=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",d),t.xp6(3),t.Oqu(t.xi3(5,13,i,m.columnsState.items.precision)),t.xp6(4),t.Tol(t.lcZ(9,16,c)),t.Q6J("pTooltip",t.xi3(10,18,c,m.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",m.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",m.columnsState.wagons.show),t.xp6(2),t.Q6J("ngIf",a&&a.nonzero()&&t.xi3(15,21,p,m.data.game)),t.xp6(4),t.Q6J("ngIf",r),t.xp6(1),t.Q6J("ngIf",t.xi3(20,24,p,m.data.game))("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",g)}}function q_(e,o){if(1&e&&(t.TgZ(0,"tr",82),t.YNc(1,B_,24,27,"ng-container",0),t.qZA()),2&e){const n=o.itemId;t.xp6(1),t.Q6J("ngIf",n)}}function F_(e,o){1&e&&t._UZ(0,"td")}function E_(e,o){1&e&&t.GkF(0)}function j_(e,o){1&e&&t.GkF(0)}function R_(e,o){1&e&&t.GkF(0)}function U_(e,o){1&e&&t.GkF(0)}function W_(e,o){if(1&e&&(t.TgZ(0,"td",122)(1,"span",44),t._uU(2),t.ALo(3,"power"),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(2),t.Oqu(t.Dn7(3,1,n.totals.power,n.columnsState.power.precision,n.effectivePowerUnit))}}function P_(e,o){if(1&e&&(t.TgZ(0,"td",122)(1,"span",44),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const n=t.oxw(2).ngIf;t.xp6(2),t.Oqu(t.xi3(3,1,n.totals.pollution,n.columnsState.pollution.precision))}}function $_(e,o){1&e&&t._UZ(0,"td")}function G_(e,o){if(1&e&&(t.TgZ(0,"div",129)(1,"span",44),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const n=o.$implicit,_=t.oxw(2).columnSettings;t.xp6(2),t.Oqu(t.xi3(3,1,n.value,_.precision))}}function D_(e,o){if(1&e&&(t.TgZ(0,"i",130),t.ALo(1,"iconClass"),t.qZA()),2&e){const n=o.$implicit,_=t.oxw(4).ngIf;t.Tol(t.xi3(1,3,n.key,"item")),t.Q6J("pTooltip",(null==_.data.itemEntities[n.key]?null:_.data.itemEntities[n.key].name)||_.data.recipeEntities[n.key].name)}}function V_(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",129)(2,"span",44),t._uU(3),t.qZA()(),t.TgZ(4,"i",131),t.ALo(5,"iconClass"),t.ALo(6,"moduleTooltip"),t.qZA(),t.BQk()),2&e){const n=o.$implicit,_=t.oxw(4).ngIf;t.xp6(3),t.Oqu(n.value),t.xp6(1),t.Tol(t.xi3(5,5,n.key,"item")),t.Q6J("escape",!1)("pTooltip",t.xi3(6,8,n.key,_.data))}}function H_(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"td",123),t.YNc(2,G_,4,4,"div",124),t.ALo(3,"keyvalue"),t.qZA(),t.TgZ(4,"td",125)(5,"div",24)(6,"div",126),t.YNc(7,D_,2,6,"i",127),t.ALo(8,"keyvalue"),t.qZA(),t.TgZ(9,"div",128),t.YNc(10,V_,7,11,"ng-container",94),t.ALo(11,"keyvalue"),t.qZA()()(),t.BQk()),2&e){const n=t.oxw(),_=n.totals,i=n.modulesTotals,c=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,3,_,c.trackSvc.sortByValue)),t.xp6(5),t.Q6J("ngForOf",t.xi3(8,6,_,c.trackSvc.sortByValue)),t.xp6(3),t.Q6J("ngForOf",t.xi3(11,9,i,c.trackSvc.sortByValue))}}function K_(e,o){1&e&&t.YNc(0,H_,12,12,"ng-container",0),2&e&&t.Q6J("ngIf",o.columnSettings.show)}const E=function(e,o){return{columnSettings:e,totals:o}},j=function(e,o,n){return{columnSettings:e,totals:o,modulesTotals:n}};function z_(e,o){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.YNc(2,F_,1,0,"td",0),t.TgZ(3,"td",12),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,E_,1,0,"ng-container",97),t.YNc(7,j_,1,0,"ng-container",97),t.YNc(8,R_,1,0,"ng-container",97),t.YNc(9,U_,1,0,"ng-container",97),t.YNc(10,W_,4,5,"td",120),t.YNc(11,P_,4,4,"td",120),t.YNc(12,$_,1,0,"td",0),t.qZA(),t.YNc(13,K_,1,1,"ng-template",null,121,t.W1O)),2&e){const n=t.MAs(14),_=t.oxw().ngIf;t.xp6(2),t.Q6J("ngIf",_.columnsState.tree.show),t.xp6(2),t.hij(" ",t.lcZ(5,13,"list.total")," "),t.xp6(2),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(15,E,_.columnsState.belts,_.totals.belts)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(18,E,_.columnsState.wagons,_.totals.wagons)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.kEZ(21,j,_.columnsState.machines,_.totals.machines,_.totals.machineModules)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.kEZ(25,j,_.columnsState.beacons,_.totals.beacons,_.totals.beaconModules)),t.xp6(1),t.Q6J("ngIf",_.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",_.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",_.columnsState.link.show)}}function X_(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"p-table",1,2),t.YNc(3,Ot,24,19,"ng-template",3),t.YNc(4,Dn,2,3,"ng-template",4),t.YNc(5,d_,2,3,"ng-template",5),t.YNc(6,u_,1,0,"ng-template",null,6,t.W1O),t.YNc(8,x_,2,1,"ng-template",null,7,t.W1O),t.YNc(10,q_,2,1,"ng-template",null,8,t.W1O),t.YNc(12,z_,15,29,"ng-template",9),t.qZA(),t.BQk()),2&e){const n=o.ngIf,_=t.oxw();t.xp6(1),t.Q6J("rowTrackBy",_.trackSvc.trackStep)("value",n.steps)}}let to=(()=>{class e{constructor(n,_,i,c,a,p,r){this.route=n,this.contentSvc=_,this.trackSvc=i,this.document=c,this.store=a,this.exportSvc=p,this.routerSvc=r,this.vm$=(0,Y.a)([this.store.select(s._S.s$),this.store.select(s.ob.TT),this.store.select(s.ob.n9),this.store.select(s.VJ.YA),this.store.select(s.VJ.j_),this.store.select(s.VJ.It),this.store.select(s.VJ.fs),this.store.select(s.VJ.Zb),this.store.select(s.VJ.n_),this.store.select(s.VJ._H),this.store.select(s.VJ.Um),this.store.select(s.lx.lW),this.store.select(s.VJ.Ue),this.store.select(s.lx.O8),this.store.select(s.Zr.dK),this.store.select(s.Zr.Gw),this.store.select(s.Zr.Jm),this.store.select(s.Zr.FW),this.store.select(s.Zr.oQ),this.store.select(s.Zr.dc),this.routerSvc.zipConfig$]).pipe((0,R.U)(([g,m,d,u,f,T,C,L,b,k,no,eo,_o,oo,io,co,ao,po,so,lo,ro])=>({machinesState:g,itemsState:m,itemsModified:d,stepsModified:u,totals:f,steps:T,stepDetails:C,stepById:L,stepByItemEntities:b,stepTree:k,effectivePowerUnit:no,recipesState:eo,recipesModified:_o,data:oo,columnsState:io,settings:co,dispRateInfo:ao,options:po,beltSpeed:so,beltSpeedTxt:lo,zipPartial:ro})),(0,U.b)(g=>this.setActiveItems(g.steps,g.stepDetails))),this.activeItem={},this.stepDetailIcon=x.gN,this.ItemId=x.bN,this.StepDetailTab=x.Ar,this.Game=x.lA,this.RecipeField=x.jw,this.EnergyType=x.pV,this.Rational=x.uG}ngOnInit(){this.route.fragment.pipe((0,O.P)(),(0,W.h)(n=>null!=n)).subscribe(n=>{this.fragmentId=n})}ngAfterViewInit(){try{if(this.fragmentId){const[n,_,i]=this.fragmentId.split("_");(0,Y.a)([this.store.select(s.VJ.It),this.store.select(s.VJ.fs)]).pipe((0,O.P)()).subscribe(([c,a])=>{const p=c.find(r=>r.id===_);p&&a[p.id].tabs.length&&this.stepsTable&&(this.stepsTable.toggleRow(p),setTimeout(()=>{if(i){const g=this.document.querySelector("#"+this.fragmentId);g&&g.click()}else this.document.querySelector("#"+this.fragmentId)?.scrollIntoView()},10))})}}catch{}}setActiveItems(n,_){n.forEach(i=>{const c=J.transform(i),a=this.activeItem[c],p=_[i.id];if(null!=p)if(null==a)this.activeItem[c]=p.tabs[0];else{const r=p.tabs.find(g=>g.label===a.label);this.activeItem[c]=null==r?p.tabs[0]:r}})}setActiveItem(n,_){const i=J.transform(n);this.activeItem[i]=_}resetStep(n){n.itemId&&this.resetItem(n.itemId),n.recipeObjectiveId?this.resetRecipeObjective(n.recipeObjectiveId):n.recipeId&&this.resetRecipe(n.recipeId)}export(n,_,i,c,a){this.exportSvc.stepsToCsv(n,c,_,i,a)}toggleRecipes(n,_,i){const c=n.map(a=>({id:a,value:_,def:(i.defaults?.excludedRecipeIds??[]).includes(a)}));this.setRecipeExcludedBatch(c)}toggleRecipe(n,_,i){const c=!_[n].excluded,a=(i.defaults?.excludedRecipeIds??[]).some(p=>p===n);this.setRecipeExcluded(n,c,a)}changeRecipeField(n,_,i,c,a,p,r){if(null==n.recipeId)return;const g=n.recipeObjectiveId??n.recipeId,m=null!=n.recipeObjectiveId,d=n.recipeSettings;if(d?.machineId){const u=i.entities[d.machineId];switch(a){case x.jw.Machine:"string"==typeof _&&null!=i.ids&&this.setMachine(n.recipeObjectiveId??n.recipeId,_,Z.M6.bestMatch(c.recipeEntities[n.recipeId].producers,i.ids),null!=n.recipeObjectiveId);break;case x.jw.Fuel:"string"==typeof _&&this.setFuel(n.recipeObjectiveId??n.recipeId,_,u.fuelId,null!=n.recipeObjectiveId);break;case x.jw.MachineModules:if(null!=u.moduleRankIds&&null!=c&&"string"==typeof _&&null!=p&&null!=d.machineModuleIds){const T=d.machineModuleIds.length,C=Z.M6.moduleOptions(c.machineEntities[d.machineId],n.recipeId,c),L=Z.M6.defaultModules(C,u.moduleRankIds,T),b=this.generateModules(p,_,d.machineModuleIds);this.setMachineModules(g,b,L,m)}break;case x.jw.BeaconCount:"string"==typeof _&&null!=p&&this.setBeaconCount(g,p,_,u.beaconCount,m);break;case x.jw.Beacon:"string"==typeof _&&null!=p&&this.setBeacon(g,p,_,u.beaconId,m);break;case x.jw.BeaconModules:if(null!=u.beaconModuleRankIds&&"string"==typeof _&&null!=p&&null!=r){const f=d.beacons?.[p];if(null!=f?.id&&null!=f?.moduleIds){const C=f.moduleIds.length,L=Z.M6.moduleOptions(c.beaconEntities[f.id],n.recipeId,c),b=Z.M6.defaultModules(L,u.beaconModuleRankIds,C),k=this.generateModules(r,_,f.moduleIds);this.setBeaconModules(g,p,k,b,m)}}break;case x.jw.BeaconTotal:"string"==typeof _&&null!=p&&this.setBeaconTotal(g,p,_,m);break;case x.jw.Overclock:if("number"==typeof _){const f=u.overclock,T=Math.max(1,Math.min(250,_));this.setOverclock(g,T,f,m)}}}}generateModules(n,_,i){const c=[...i];for(let a=n;a<c.length;a++)c[a]=_;return c}changeStepChecked(n,_){null!=n.itemId?this.setItemChecked(n.itemId,_):null!=n.recipeObjectiveId?this.setRecipeChecked(n.recipeObjectiveId,_,!0):null!=n.recipeId&&this.setRecipeChecked(n.recipeId,_)}setItemExcluded(n,_){this.store.dispatch(new s.ob.aF({id:n,value:_}))}setItemChecked(n,_){this.store.dispatch(new s.ob.dR({id:n,value:_}))}setBelt(n,_,i){this.store.dispatch(new s.ob.IC({id:n,value:_,def:i}))}setWagon(n,_,i){this.store.dispatch(new s.ob.tb({id:n,value:_,def:i}))}setRecipeExcluded(n,_,i){this.store.dispatch(new s.lx.aF({id:n,value:_,def:i}))}setRecipeExcludedBatch(n){this.store.dispatch(new s.lx.Z(n))}setMachine(n,_,i,c=!1){this.store.dispatch(new(c?s.VJ.CQ:s.lx.CQ)({id:n,value:_,def:i}))}setFuel(n,_,i,c=!1){this.store.dispatch(new(c?s.VJ.iA:s.lx.iA)({id:n,value:_,def:i}))}setMachineModules(n,_,i,c=!1){this.store.dispatch(new(c?s.VJ.m1:s.lx.m1)({id:n,value:_,def:i}))}addBeacon(n,_=!1){this.store.dispatch(new(_?s.VJ.o4:s.lx.o4)(n))}removeBeacon(n,_,i=!1){this.store.dispatch(new(i?s.VJ.U7:s.lx.U7)({id:n,value:_}))}setBeaconCount(n,_,i,c,a=!1){this.store.dispatch(new(a?s.VJ.OE:s.lx.OE)({id:n,index:_,value:i,def:c}))}setBeacon(n,_,i,c,a=!1){this.store.dispatch(new(a?s.VJ.nO:s.lx.nO)({id:n,index:_,value:i,def:c}))}setBeaconModules(n,_,i,c,a=!1){this.store.dispatch(new(a?s.VJ.Hg:s.lx.Hg)({id:n,index:_,value:i,def:c}))}setBeaconTotal(n,_,i,c=!1){this.store.dispatch(new(c?s.VJ.K7:s.lx.K7)({id:n,index:_,value:i}))}setOverclock(n,_,i,c=!1){this.store.dispatch(new(c?s.VJ.Eb:s.lx.Eb)({id:n,value:_,def:i}))}setRecipeChecked(n,_,i=!1){this.store.dispatch(new(i?s.VJ.dR:s.lx.dR)({id:n,value:_}))}resetItem(n){this.store.dispatch(new s.ob.bj(n))}resetRecipe(n){this.store.dispatch(new s.lx.in(n))}resetRecipeObjective(n){this.store.dispatch(new s.VJ.Hv(n))}resetChecked(){this.store.dispatch(new s.ob.JH)}resetExcluded(){this.store.dispatch(new s.ob.y9)}resetBelts(){this.store.dispatch(new s.ob.t_)}resetWagons(){this.store.dispatch(new s.ob.Cw)}resetMachines(){this.store.dispatch(new s.lx.B_)}resetBeacons(){this.store.dispatch(new s.lx.t8)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(S.gz),t.Y36(A._s),t.Y36(A.Ql),t.Y36(I.K0),t.Y36($.yh),t.Y36(A.Ty),t.Y36(A.cw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(n,_){if(1&n&&t.Gf(Tt,5),2&n){let i;t.iGM(i=t.CRH())&&(_.stepsTable=i.first)}},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["dataKey","id","styleClass","p-datatable-sm",3,"rowTrackBy","value"],["stepsTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["emptyCol2",""],["leftPad",""],["detailRow",""],["pTemplate","footer"],[1,"w-0"],["pButton","","pRipple","","type","button","icon","fa-solid fa-table-columns",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],["colspan","2"],[1,"d-flex","align-items-center"],["pButton","","pRipple","","type","button","class","ms-2 p-button-text p-button-rounded","icon","fa-solid fa-rotate-left",3,"pTooltip","click",4,"ngIf"],["colspan","2",4,"ngIf"],["class","w-0",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fa-solid","fa-square-check"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"ms-2","p-button-text","p-button-rounded",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-arrow-down","data-test","lab-list-export","tooltipPosition","left",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],[1,"w-0","position-relative"],[1,"fragment",3,"id"],["class","fragment",3,"id",4,"ngFor","ngForOf"],[1,"d-flex"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-right",1,"p-button-text","p-button-rounded","transition-ease",3,"pTooltip","pRowToggler"],["class","overflow-hidden px-1 py-0",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","text-end",4,"ngIf"],[1,"d-flex","justify-content-center"],[3,"binary","ngModel","onChange"],[1,"overflow-hidden","px-1","py-0"],[1,"d-flex","align-items-center","links"],[1,"icon"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"hover-active","icon","pTooltip","escape","click",4,"ngIf","ngIfElse"],["recipeIcon",""],["class","connect",3,"trail","last",4,"ngFor","ngForOf"],[1,"indent"],[1,"connect"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"icon","pTooltip","escape","click"],[1,"hover-icon","fa-solid","fa-eye-slash"],[3,"pTooltip","escape"],[1,"w-0","text-end"],["class","monospace",4,"ngIf"],[1,"monospace"],[1,"ps-0"],[1,"find-text"],["labDropdownBase","icon",3,"pTooltip","escape","ngModel","options","onChange",4,"ngIf","ngIfElse"],["pipesDropdown",""],["pipeIcon",""],["labDropdownBase","icon",3,"pTooltip","escape","ngModel","options","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip","escape"],[1,"ms-3","text-truncate"],["fluidWagonsDropdown",""],["labDropdownBase","icon",3,"pTooltip","escape","ngModel","options","onChange",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[1,"padded",3,"pTooltip","escape"],["labDropdownBase","icon",3,"pTooltip","escape","options","ngModel","onChange"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel","onBlur",4,"ngIf"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel","onBlur"],["overclockInput",""],["labDropdownBase","icon","class","module-dropdown","tooltipPosition","top",3,"last","pTooltip","escape","options","ngModel","onChange",4,"ngFor","ngForOf"],["labDropdownBase","icon","tooltipPosition","top",1,"module-dropdown",3,"pTooltip","escape","options","ngModel","onChange"],[1,"w-0","pe-0"],["class","d-flex",4,"ngFor","ngForOf","ngForTrackBy"],["class","d-flex",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded","icon","fa-solid fa-plus",3,"click",4,"ngIf","ngIfElse"],["deleteBeaconBtn",""],["tooltipPosition","left","class","text-end","width","2.5rem",3,"pTooltip","value","textButtons","setValue",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-text","p-button-rounded",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-text","p-button-rounded",3,"click"],["tooltipPosition","left","width","2.5rem",1,"text-end",3,"pTooltip","value","textButtons","setValue"],["labDropdownBase","icon",3,"pTooltip","escape","options","ngModel","onChange",4,"ngIf"],["class","text-end","width","3rem",3,"pTooltip","value","textButtons","setValue",4,"ngIf"],["width","3rem",1,"text-end",3,"pTooltip","value","textButtons","setValue"],[1,"text-end"],["target","_blank",1,"text-decoration-none",3,"href"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded","icon","fa-solid fa-rotate-left","tooltipPosition","left",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip","click"],[1,"detail"],["routerLink",".","queryParamsHandling","preserve",1,"text-decoration-none",3,"relativeTo","fragment"],["pButton","","pRipple","","type","button","icon","fa-solid fa-link",1,"p-button-text","p-button-rounded"],["colspan","100"],[3,"model","activeItem","activeItemChange"],["expandTabMenu",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","detail",4,"ngSwitchCase"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],["class","detail",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],["colspan","100",1,"fw-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mw-0"],[1,"fa-solid","fa-arrow-right","mx-3"],["machineValueCell",""],[1,"d-flex","align-items-center","justify-content-end"],[3,"innerHTML"],[1,"fw-bold"],[1,"mb-2"],[3,"ngModel","binary","label","onChange"],[1,"d-flex","flex-wrap"],["pButton","","pRipple","","type","button","class","p-button-text hover-action me-2",3,"hover-active","icon","pTooltip","escape","click",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button",1,"p-button-text","hover-action","me-2",3,"icon","pTooltip","escape","click"],["colspan","100",1,"p-0"],["class","position-absolute",4,"ngIf"],["machineFill",""],[3,"class","pTooltip","escape",4,"ngIf","ngIfElse"],["fluidWagonIcon",""],[1,"position-absolute"],[1,"d-flex","invisible"],[1,"lab-icon"],["class","m-1 p-2 fa-solid fa-arrow-right",4,"ngIf"],[3,"class","pTooltip","escape",4,"ngIf"],[1,"m-1","p-2","fa-solid","fa-arrow-right"],["class","text-end inherit",4,"ngIf"],["totalCell",""],[1,"text-end","inherit"],[1,"w-0","text-end","inherit"],["class","py-2 icon-height",4,"ngFor","ngForOf"],[1,"ps-0","inherit"],[1,"d-flex","flex-column","justify-content-center"],["class","d-block",3,"class","pTooltip",4,"ngFor","ngForOf"],[1,"modules-column"],[1,"py-2","icon-height"],[1,"d-block",3,"pTooltip"],[1,"d-block",3,"escape","pTooltip"]],template:function(n,_){1&n&&(t.YNc(0,X_,13,2,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,_.vm$))},dependencies:[I.ez,I.sg,I.O5,I.tP,I.RF,I.n9,I.Ov,I.Nd,P.o,M.JJ,M.On,G.jx,S.rH,D.u,V.Hq,H.XZ,K.Lt,z.Rn,X.H,B.iA,B.jB,tt.d,nt.l,et.W,_t.X$,ot,it.J,ct.g,at.N,pt.Z,st.E,q.Y,q.y,lt.Z,rt,gt.f,mt.d,dt.N,ut.o,ft.N,xt.d,It.i,J],styles:[".links[_ngcontent-%COMP%]{height:50px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{position:relative;height:100vh;margin-left:16px}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%], .links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-left:2px dotted var(--text-color-secondary)}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){margin-bottom:50vh;height:50vh}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:32px}.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;border-top:2px dotted var(--text-color-secondary);width:16px}.links[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px}[_nghost-%COMP%]     .p-dropdown:not(:hover):not(:focus):not(.ng-invalid), [_nghost-%COMP%]     .p-inputtext:not(:hover):not(:focus):not(.ng-invalid){border-color:transparent;background-color:transparent}[_nghost-%COMP%]     .module-dropdown:not(.last){margin-right:-.5rem}[_nghost-%COMP%]     .module-dropdown:not(.last) .p-dropdown{border-right-color:transparent;border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown .lab-icon.sm{opacity:.3}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown:not(.last) .p-dropdown{border-top-color:var(--primary-color);border-bottom-color:var(--primary-color)}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown.last .p-dropdown{border-color:var(--primary-color);border-left-color:transparent}tr.detail[_ngcontent-%COMP%]{background-color:var(--surface-ground)}[_nghost-%COMP%]     tr.detail .p-tabmenu .p-tabmenu-nav .p-tabmenuitem:not(.p-highlight) .p-menuitem-link{background-color:transparent}.icon-height[_ngcontent-%COMP%]{height:32px;margin-top:1px;margin-bottom:1px}.modules-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;margin:auto}.fragment[_ngcontent-%COMP%]{position:absolute;top:-10rem;visibility:hidden}"],changeDetection:0}),e})()}}]);