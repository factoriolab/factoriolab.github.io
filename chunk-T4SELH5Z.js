import{a as Z}from"./chunk-EJVMA42W.js";import{Aa as s,Ba as V,Da as B,De as Y,Ea as u,Ed as b,Fa as S,Ga as h,Ha as y,Ia as n,Ja as a,Ka as x,Ma as k,Na as R,Oa as d,Ob as D,Pc as G,Rd as q,Sd as H,Td as U,Va as _,Wa as C,Xa as L,aa as w,ad as N,bb as $,bd as O,ee as z,fa as E,ga as I,ge as J,ha as j,hb as p,he as K,ib as c,jb as T,jd as F,le as Q,me as W,pb as g,qa as i,se as X,tc as A,xa as M,ya as v,zb as P}from"./chunk-EYCE3H25.js";function te(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td")(5,"a",8),x(6,"button",9),p(7,"iconSmClass"),a()()()),e&2){let t=d();i(2),C(c(3,4,"data.category")),i(3),s("routerLink","/data/categories/"+t.category),i(),s("label",l.name)("icon",T(7,6,t.category,"category"))}}function ie(e,l){if(e&1&&(n(0,"div")(1,"a",8),x(2,"button",9),p(3,"iconSmClass"),a(),n(4,"span",10),_(5),a()()),e&2){let t=l.$implicit,o=d(2),r=d();i(),s("routerLink","/data/items/"+t),i(),s("label",r.data().itemEntities[t].name)("icon",c(3,4,t)),i(3),C(o.in[t])}}function ne(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),h(5,ie,6,6,"div",null,S),a()()),e&2){let t=d(2);i(2),C(c(3,1,"data.ingredients")),i(3),y(t.info().ingredientIds)}}function ae(e,l){if(e&1&&(n(0,"div")(1,"a",8),x(2,"button",9),p(3,"iconSmClass"),a(),n(4,"span",10),_(5),a()()),e&2){let t=l.$implicit,o=d(2),r=d();i(),s("routerLink","/data/items/"+t),i(),s("label",r.data().itemEntities[t].name)("icon",c(3,4,t)),i(3),C(o.catalyst==null?null:o.catalyst[t])}}function oe(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),h(5,ae,6,6,"div",null,S),a()()),e&2){let t=d(2);i(2),C(c(3,1,"data.catalysts")),i(3),y(t.info().catalystIds)}}function le(e,l){if(e&1&&(n(0,"div")(1,"a",8),x(2,"button",9),p(3,"iconSmClass"),a(),n(4,"span",10),_(5),p(6,"round"),a()()),e&2){let t=l.$implicit,o=d(2),r=d();i(),s("routerLink","/data/items/"+t),i(),s("label",r.data().itemEntities[t].name)("icon",c(3,4,t)),i(3),C(c(6,6,o.out[t]))}}function re(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),h(5,le,7,8,"div",null,S),a()()),e&2){let t=d(2);i(2),C(c(3,1,"data.products")),i(3),y(t.info().productIds)}}function pe(e,l){if(e&1&&(n(0,"div")(1,"a",8),x(2,"button",9),p(3,"iconSmClass"),a()()),e&2){let t=l.$implicit,o=d(2);i(),s("routerLink","/data/machines/"+t),i(),s("label",o.data().itemEntities[t].name)("icon",c(3,3,t))}}function de(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td")(5,"a",8),x(6,"button",9),p(7,"iconSmClass"),a()()()),e&2){let t=d(),o=d();i(2),C(c(3,4,"data.unlockedBy")),i(3),s("routerLink","/data/technologies/"+t.unlockedBy),i(),s("label",o.data().itemEntities[t.unlockedBy].name)("icon",T(7,6,t.unlockedBy,"recipe"))}}function ce(e,l){e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),x(5,"p-checkbox",11),a()()),e&2&&(i(2),C(c(3,4,"data.mining")),i(3),s("ngModel",!0)("binary",!0)("disabled",!0))}function me(e,l){e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),x(5,"p-checkbox",11),a()()),e&2&&(i(2),C(c(3,4,"data.technology")),i(3),s("ngModel",!0)("binary",!0)("disabled",!0))}function se(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td")(5,"a",8),x(6,"button",9),p(7,"iconSmClass"),a()()()),e&2){let t=d(),o=d();i(2),C(c(3,4,"data.rocketPart")),i(3),s("routerLink","/data/items/"+t.part),i(),s("label",o.data().itemEntities[t.part].name)("icon",c(7,6,t.part))}}function _e(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),_(5),p(6,"usage"),a()()),e&2){let t=d();i(2),C(c(3,2,"data.energyConsumption")),i(3),C(c(6,4,t.usage))}}function Ce(e,l){if(e&1&&(n(0,"a",8),x(1,"button",9),p(2,"iconSmClass"),a()),e&2){let t=l,o=d(3);s("routerLink","/data/machines/"+t),i(),s("label",o.data().itemEntities[t].name)("icon",c(2,3,t))}}function ue(e,l){if(e&1&&(x(0,"i"),p(1,"iconSmClass")),e&2){let t=d().$implicit;B(c(1,2,t))}}function xe(e,l){if(e&1&&(n(0,"a",8),x(1,"button",9),p(2,"iconSmClass"),a()),e&2){let t=d().$implicit,o=d(4);s("routerLink","/data/modules/"+t),i(),s("label",o.data().itemEntities[t].name)("icon",c(2,3,t))}}function fe(e,l){if(e&1&&(n(0,"div"),v(1,ue,2,4,"i",13)(2,xe,3,5),a()),e&2){let t=l.$implicit;i(),u(1,t==="module"?1:2)}}function ve(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),h(5,fe,3,1,"div",null,S),a()()),e&2){let t=d();i(2),C(c(3,1,"data.modules")),i(3),y(t.moduleIds)}}function Se(e,l){if(e&1&&(n(0,"a",8),x(1,"button",9),p(2,"iconSmClass"),a()),e&2){let t=d().$implicit,o=d(4);s("routerLink","/data/beacons/"+t.id),i(),s("label",o.data().itemEntities[t.id].name)("icon",c(2,3,t.id))}}function he(e,l){if(e&1&&(x(0,"i"),p(1,"iconSmClass")),e&2){let t=d().$implicit;B(c(1,2,t))}}function ye(e,l){if(e&1&&(n(0,"a",8),x(1,"button",9),p(2,"iconSmClass"),a()),e&2){let t=d().$implicit,o=d(5);s("routerLink","/data/modules/"+t),i(),s("label",o.data().itemEntities[t].name)("icon",c(2,3,t))}}function be(e,l){if(e&1&&(n(0,"div"),v(1,he,2,4,"i",13)(2,ye,3,5),a()),e&2){let t=l.$implicit;i(),u(1,t==="module"?1:2)}}function ge(e,l){if(e&1&&(n(0,"div"),v(1,Se,3,5,"a",8),n(2,"span",10),_(3),a()(),h(4,be,3,1,"div",null,S)),e&2){let t=l.$implicit;i(),u(1,t.id?1:-1),i(2),C(t.count),i(),y(t.moduleIds)}}function Ee(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),h(5,ge,6,2,null,null,S),a()()),e&2){let t=d();i(2),C(c(3,1,"data.beacons")),i(3),y(t.beacons)}}function Ie(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td"),_(5),a(),x(6,"td"),a()),e&2){let t=d();i(2),C(c(3,2,"data.overclock")),i(3),L("",t.overclock,"%")}}function Re(e,l){if(e&1){let t=k();n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td")(5,"p-checkbox",12),R("onChange",function(){E(t);let r=d(2);return I(r.toggleRecipe())}),a()()(),n(6,"tr")(7,"th"),_(8),p(9,"translate"),a(),n(10,"td")(11,"p-checkbox",12),R("onChange",function(r){E(t);let m=d(2);return I(m.setRecipeChecked(m.id(),r.checked))}),a()()(),n(12,"tr")(13,"th"),_(14),p(15,"translate"),a(),n(16,"td"),v(17,Ce,3,5,"a",8),a()(),v(18,ve,7,3,"tr")(19,Ee,7,3,"tr")(20,Ie,7,4,"tr")}if(e&2){let t,o=l,r=d(2);i(2),C(c(3,11,"data.excluded")),i(3),s("ngModel",o.excluded)("binary",!0),i(3),C(c(9,13,"data.checked")),i(3),s("ngModel",o.checked)("binary",!0),i(3),C(c(15,15,"data.machine")),i(3),u(17,(t=o.machineId)?17:-1,t),i(),u(18,o.moduleIds!=null&&o.moduleIds.length?18:-1),i(),u(19,r.data().game===r.Game.Factorio?19:-1),i(),u(20,r.data().game===r.Game.Satisfactory?20:-1)}}function Be(e,l){if(e&1){let t=k();n(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),n(4,"td")(5,"lab-input-number",14),R("setValue",function(r){E(t);let m=d(2);return I(m.setRecipeCost(m.id(),r))}),a()()()}e&2&&(i(2),C(c(3,2,"data.cost")),i(3),s("value",l))}function ke(e,l){if(e&1){let t=k();n(0,"table",1)(1,"tr")(2,"th",2)(3,"h3"),_(4),a()()(),n(5,"tr")(6,"td",2),x(7,"i",3),p(8,"iconClass"),a()(),v(9,te,8,9,"tr"),n(10,"tr")(11,"th"),_(12),p(13,"translate"),a(),n(14,"td"),_(15),a()(),v(16,ne,7,3,"tr")(17,oe,7,3,"tr")(18,re,7,3,"tr"),n(19,"tr")(20,"th"),_(21),p(22,"translate"),a(),n(23,"td"),h(24,pe,4,5,"div",null,S),a()(),v(26,de,8,9,"tr")(27,ce,6,6,"tr")(28,me,6,6,"tr")(29,se,8,8,"tr")(30,_e,7,6,"tr"),n(31,"tr")(32,"th",4)(33,"div",5),x(34,"button",6),n(35,"h3"),_(36),p(37,"translate"),a(),n(38,"button",7),R("click",function(){E(t);let r=d();return I(r.resetRecipe(r.id()))}),a()()()(),v(39,Re,21,17)(40,Be,6,4,"tr"),a()}if(e&2){let t,o,r,m=l,f=d();i(4),C(m.name),i(3),B(T(8,20,f.id(),"recipe")),i(2),u(9,(t=f.info().category)?9:-1,t),i(3),C(c(13,23,"data.time")),i(3),C(m.time),i(),u(16,f.info().ingredientIds.length?16:-1),i(),u(17,f.info().catalystIds.length?17:-1),i(),u(18,f.info().productIds.length?18:-1),i(3),C(c(22,25,"data.producers")),i(3),y(m.producers),i(2),u(26,m.unlockedBy?26:-1),i(),u(27,m.isMining?27:-1),i(),u(28,m.isTechnology?28:-1),i(),u(29,m.part?29:-1),i(),u(30,m.usage?30:-1),i(6),C(c(37,27,"data.recipeSettings")),i(2),V("invisible",!f.recipesStateRaw()[f.id()]),i(),u(39,(o=f.recipeSettings())?39:-1,o),i(),u(40,(r=(r=f.recipeR())==null?null:r.cost)?40:-1,r)}}function Te(e,l){e&1&&(n(0,"div",15),_(1),p(2,"translate"),a()),e&2&&(i(),C(c(2,1,"data.notFound")))}var Xe=(()=>{let l=class l extends Z{constructor(){super(...arguments),this.recipesStateRaw=this.store.selectSignal(b.recipesState),this.recipesState=this.store.selectSignal(b.getRecipesState),this.obj=g(()=>this.data().recipeEntities[this.id()]),this.breadcrumb=g(()=>[this.parent(),{label:this.obj()?.name}]),this.info=g(()=>{let o=this.id(),r=this.data(),m=r.recipeEntities[o];return{category:r.categoryEntities[F(m?.category,"")],ingredientIds:Object.keys(m?.in??{}),catalystIds:Object.keys(m?.catalyst??{}),productIds:Object.keys(m?.out??{})}}),this.recipeSettings=g(()=>this.recipesState()[this.id()]),this.recipeR=g(()=>this.data().adjustedRecipe[this.id()]),this.Game=D}toggleRecipe(){let o=this.recipeSettings();if(o==null)return;let r=this.id(),m=!o.excluded,f=F(this.data().defaults?.excludedRecipeIds,[]).some(ee=>ee===r);this.setRecipeExcluded(r,m,f)}setRecipeExcluded(o,r,m){this.store.dispatch(new b.SetExcludedAction({id:o,value:r,def:m}))}setRecipeChecked(o,r){this.store.dispatch(new b.SetCheckedAction({id:o,value:r}))}setRecipeCost(o,r){this.store.dispatch(new b.SetCostAction({id:o,value:r}))}resetRecipe(o){this.store.dispatch(new b.ResetRecipeAction(o))}};l.\u0275fac=(()=>{let o;return function(m){return(o||(o=j(l)))(m||l)}})(),l.\u0275cmp=w({type:l,selectors:[["ng-component"]],standalone:!0,features:[M,$],decls:3,vars:3,consts:[[3,"home","model"],[1,"properties","mb-4"],["colspan","2",1,"text-center"],[1,"lg"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled"],[3,"onChange","ngModel","binary"],[3,"class"],[3,"setValue","value"],[1,"my-5","p-error"]],template:function(r,m){if(r&1&&(x(0,"p-breadcrumb",0),v(1,ke,41,29,"table",1)(2,Te,3,3)),r&2){let f;s("home",m.home())("model",m.breadcrumb()),i(),u(1,(f=m.obj())?1:2,f)}},dependencies:[P,Y,N,O,X,A,H,U,q,z,G,J,K,Q,W],changeDetection:0});let e=l;return e})();export{Xe as RecipeComponent};
