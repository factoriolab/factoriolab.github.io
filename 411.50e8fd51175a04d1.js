"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[411],{4411:(ce,v,c)=>{c.r(v),c.d(v,{WizardComponent:()=>le,WizardState:()=>h});var p=c(6814),s=c(1180),e=c(5879),f=c(6223);const b=["rb"],y=function(i,a,t){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":i,"p-disabled":a,"p-radiobutton-label-focus":t}};function C(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"label",4),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.select(o))}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(),n=e.MAs(3);e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,y,n.checked,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const k=function(i,a,t){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":i,"p-radiobutton-disabled":a,"p-radiobutton-focused":t}},I=function(i,a,t){return{"p-radiobutton-box":!0,"p-highlight":i,"p-disabled":a,"p-focus":t}},Z={provide:f.JU,useExisting:(0,e.Gpc)(()=>w),multi:!0};let T=(()=>{class i{constructor(){(0,s.Z)(this,"accessors",[])}add(t,n){this.accessors.push([t,n])}remove(t){this.accessors=this.accessors.filter(n=>n[1]!==t)}select(t){this.accessors.forEach(n=>{this.isSameGroup(n,t)&&n[1]!==t&&n[1].writeValue(t.value)})}isSameGroup(t,n){return!!t[0].control&&t[0].control.root===n.control.control.root&&t[1].name===n.name}}return(0,s.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,s.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})),i})(),w=(()=>{class i{constructor(t,n,o){(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"registry",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"formControlName",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"disabled",void 0),(0,s.Z)(this,"label",void 0),(0,s.Z)(this,"tabindex",void 0),(0,s.Z)(this,"inputId",void 0),(0,s.Z)(this,"ariaLabelledBy",void 0),(0,s.Z)(this,"ariaLabel",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"styleClass",void 0),(0,s.Z)(this,"labelStyleClass",void 0),(0,s.Z)(this,"onClick",new e.vpe),(0,s.Z)(this,"onFocus",new e.vpe),(0,s.Z)(this,"onBlur",new e.vpe),(0,s.Z)(this,"inputViewChild",void 0),(0,s.Z)(this,"onModelChange",()=>{}),(0,s.Z)(this,"onModelTouched",()=>{}),(0,s.Z)(this,"checked",void 0),(0,s.Z)(this,"focused",void 0),(0,s.Z)(this,"control",void 0),this.cd=t,this.injector=n,this.registry=o}ngOnInit(){this.control=this.injector.get(f.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(t,n,o){t.preventDefault(),!this.disabled&&(this.select(t),o&&n.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return(0,s.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(T))}),(0,s.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["p-radioButton"]],viewQuery:function(t,n){if(1&t&&e.Gf(b,5),2&t){let o;e.iGM(o=e.CRH())&&(n.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e._Bn([Z])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(l){return n.onChange(l)})("focus",function(l){return n.onInputFocus(l)})("blur",function(l){return n.onInputBlur(l)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(l){e.CHM(o);const d=e.MAs(3);return e.KtG(n.handleClick(l,d,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,C,2,9,"label",6)}2&t&&(e.Tol(n.styleClass),e.Q6J("ngStyle",n.style)("ngClass",e.kEZ(15,k,n.checked,n.disabled,n.focused)),e.xp6(2),e.Q6J("checked",n.checked)("disabled",n.disabled),e.uIk("id",n.inputId)("name",n.name)("value",n.value)("tabindex",n.tabindex)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(19,I,n.checked,n.disabled,n.focused)),e.xp6(2),e.Q6J("ngIf",n.label))},dependencies:[p.mk,p.O5,p.PC],encapsulation:2,changeDetection:0})),i})(),A=(()=>{class i{}return(0,s.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,s.Z)(i,"\u0275mod",e.oAB({type:i})),(0,s.Z)(i,"\u0275inj",e.cJS({imports:[p.ez]})),i})();var g=c(4190),x=c(3259);let J=(()=>{class i{}return(0,s.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,s.Z)(i,"\u0275mod",e.oAB({type:i})),(0,s.Z)(i,"\u0275inj",e.cJS({imports:[p.ez,g.Bz,x.z,g.Bz,x.z]})),i})();var N=c(2572),F=c(7398),j=c(1254),_=c(601),u=c(8528),W=c(4221),Q=c(707),D=c(4532),P=c(5359),V=c(3965),H=c(4480),U=c(6160),q=c(315),G=c(8153),K=c(9515),Y=c(3689);function $(i,a){1&i&&e.GkF(0)}function X(i,a){if(1&i&&(e.ynx(0),e.YNc(1,$,1,0,"ng-container",8),e.BQk()),2&i){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ee(i,a){1&i&&e.GkF(0)}function te(i,a){if(1&i&&(e.ynx(0),e.YNc(1,ee,1,0,"ng-container",8),e.BQk()),2&i){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ie(i,a){1&i&&e.GkF(0)}function ne(i,a){if(1&i&&(e.ynx(0),e.YNc(1,ie,1,0,"ng-container",8),e.BQk()),2&i){e.oxw();const t=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(10),r=e.oxw().ngIf;return e.KtG(o.clickOpen(r.data,"item",r.itemIds))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"lab-picker",10,11),e.NdJ("selectId",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectId(o,r.WizardState.ItemObjective))}),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-divider"),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(19),r=e.oxw().ngIf;return e.KtG(o.clickOpen(r.data,"recipe",r.recipeIds))}),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"lab-picker",10,13),e.NdJ("selectId",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectId(o,r.WizardState.RecipeObjective))}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"p-divider")}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,7,"wizard.objectiveType")," "),e.xp6(4),e.Oqu(e.lcZ(6,9,"wizard.produceItems")),e.xp6(2),e.Q6J("label",e.lcZ(8,11,"wizard.produceItemsButton")),e.xp6(2),e.Q6J("header",e.lcZ(11,13,"wizard.produceItemsButton")),e.xp6(5),e.Oqu(e.lcZ(15,15,"wizard.runMachines")),e.xp6(2),e.Q6J("label",e.lcZ(17,17,"wizard.runMachinesButton")),e.xp6(2),e.Q6J("header",e.lcZ(20,19,"wizard.runMachinesButton")))}function re(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",14)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",15),e._uU(8),e.qZA()(),e.TgZ(9,"lab-input-number",16),e.NdJ("setValue",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.rate=o)}),e.qZA(),e.TgZ(10,"p-dropdown",17),e.NdJ("onChange",function(o){e.CHM(t);const r=e.oxw().ngIf,l=e.oxw();return e.KtG(l.setDisplayRate(o.value,r.displayRate))}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createItemObjective(o.id,o.rate,o.RateUnit.Items))}),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"p-divider"),e.TgZ(15,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ObjectiveType)}),e.ALo(16,"translate"),e.qZA()}if(2&i){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,10,"wizard.itemObjectiveItems")),e.xp6(4),e.Tol(e.lcZ(6,12,n.id)),e.xp6(3),e.Oqu(t.data.itemEntities[n.id].name),e.xp6(1),e.Q6J("value",n.rate),e.xp6(1),e.Q6J("tooltip",e.lcZ(11,14,"objectives.selectDisplayRate"))("ngModel",t.displayRate)("options",n.displayRateOptions),e.xp6(2),e.Q6J("label",e.lcZ(13,16,"ok")),e.xp6(3),e.Q6J("label",e.lcZ(16,18,"wizard.back"))}}function ae(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",14)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",15),e._uU(8),e.qZA()(),e.TgZ(9,"lab-input-number",16),e.NdJ("setValue",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.count=o)}),e.qZA(),e.TgZ(10,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createRecipeObjective(o.id,o.count))}),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-divider"),e.TgZ(13,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ObjectiveType)}),e.ALo(14,"translate"),e.qZA()}if(2&i){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,7,"wizard.recipeObjectiveMachines")),e.xp6(4),e.Tol(e.lcZ(6,9,n.id)),e.xp6(3),e.Oqu(t.data.recipeEntities[n.id].name),e.xp6(1),e.Q6J("value",n.count),e.xp6(1),e.Q6J("label",e.lcZ(11,11,"ok")),e.xp6(3),e.Q6J("label",e.lcZ(14,13,"wizard.back"))}}function se(i,a){if(1&i&&(e.TgZ(0,"p-card")(1,"div",1),e.ynx(2,2),e.YNc(3,X,2,1,"ng-container",3),e.YNc(4,te,2,1,"ng-container",3),e.YNc(5,ne,2,1,"ng-container",3),e.BQk(),e._UZ(6,"button",4),e.ALo(7,"translate"),e.qZA(),e.YNc(8,oe,22,21,"ng-template",null,5,e.W1O),e.YNc(10,re,17,20,"ng-template",null,6,e.W1O),e.YNc(12,ae,15,15,"ng-template",null,7,e.W1O),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.state),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ObjectiveType),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ItemObjective),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.RecipeObjective),e.xp6(1),e.Q6J("label",e.lcZ(7,5,"cancel"))}}var h=function(i){return i[i.ObjectiveType=0]="ObjectiveType",i[i.ItemObjective=1]="ItemObjective",i[i.RecipeObjective=2]="RecipeObjective",i}(h||{});let le=(()=>{class i{constructor(t){this.store=t,this.vm$=(0,N.a)([this.store.select(u.Zr.pY),this.store.select(u.Zr.U4),this.store.select(u.Zr.eW),this.store.select(u.Zr.P7),this.store.select(u.Zr.VS)]).pipe((0,F.U)(([n,o,r,l,d])=>({data:n,itemIds:o,recipeIds:r,displayRate:l,rateUnitOptions:d}))),this.id="",this.rate="1",this.count="1",this.state=h.ObjectiveType,this.displayRateOptions=_.g6,this.RateUnit=_.iK,this.WizardState=h}selectId(t,n){this.id=t,this.state=n}setDisplayRate(t,n){this.store.dispatch(new u.Zr.MO({value:t,prev:n}))}createItemObjective(t,n,o){this.store.dispatch(new u.VJ.$f({id:"0",targetId:t,value:n,unit:o,type:_.S5.Output}))}createRecipeObjective(t,n){this.store.dispatch(new u.VJ.$f({id:"0",targetId:t,value:n,unit:_.iK.Machines,type:_.S5.Output}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.yh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","flex-column","p-fluid"],[3,"ngSwitch"],[4,"ngSwitchCase"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark","routerLink","/","queryParamsHandling","preserve",1,"p-button-outlined",3,"label"],["objectiveType",""],["itemObjective",""],["recipeObjective",""],[4,"ngTemplateOutlet"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",1,"mt-2",3,"label","click"],[3,"header","selectId"],["addItemObjectivePicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],["addRecipePicker",""],[1,"d-flex","align-items-center","justify-content-center"],[1,"ms-2"],["tooltipPosition","top",1,"mt-2","w-100",3,"value","setValue"],["labDropdownTranslate","","styleClass","mt-2 h-100",3,"tooltip","ngModel","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check","routerLink","/list",1,"mt-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-left",1,"mb-2","p-button-outlined",3,"label","click"]],template:function(t,n){1&t&&(e.YNc(0,se,14,7,"p-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.vm$))},dependencies:[p.ez,p.O5,p.tP,p.RF,p.n9,p.Ov,A,J,g.rH,j.o,f.JJ,f.On,Q.Hq,D.Z,P.i,V.Lt,H.H,U.l,q.q,G.l,K.X$,Y.Y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0}),i})()}}]);