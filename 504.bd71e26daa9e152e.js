"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[504],{6504:(V,d,a)=>{a.r(d),a.d(d,{LandingComponent:()=>Y});var r=a(6814),u=a(2572),C=a(7398),v=a(7487),l=a(7689),c=a(5270),L=a(7616),n=a(5879),g=a(4190),m=a(1027),E=a(4221),f=a(6223),h=a(5219),M=a(707),I=a(4532),x=a(8057),O=a(5359),T=a(3965),Z=a(7680),A=a(4480),P=a(7074),D=a(9515),b=a(4693);function U(o,s){if(1&o&&(n.TgZ(0,"div",23)(1,"i",24),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"span",25),n._uU(4),n.ALo(5,"translate"),n.qZA()()),2&o){const e=s.ngIf;n.xp6(1),n.Tol(n.lcZ(2,3,e.icon)),n.xp6(3),n.Oqu(n.lcZ(5,5,e.label))}}function B(o,s){if(1&o&&n.YNc(0,U,6,7,"div",22),2&o){const e=n.oxw(2).ngIf,t=n.oxw();n.Q6J("ngIf",t.gameInfo[e.data.game])}}function y(o,s){if(1&o&&(n.TgZ(0,"div",23)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"span",25),n._uU(4),n.ALo(5,"translate"),n.qZA()()),2&o){const e=s.ngIf;n.xp6(1),n.Tol(n.lcZ(2,3,e.icon)),n.xp6(3),n.Oqu(n.lcZ(5,5,e.label))}}function R(o,s){if(1&o&&n.YNc(0,y,6,7,"div",22),2&o){const e=s.$implicit,t=n.oxw(3);n.Q6J("ngIf",t.gameInfo[e.value])}}function K(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"p-dropdown",26),n.NdJ("onChange",function(_){n.CHM(e);const i=n.oxw(3);return n.KtG(i.setMod(_.value))}),n.qZA()}if(2&o){const e=n.oxw(2).ngIf;n.Q6J("filter",!0)("ngModel",e.settings.modId)("options",e.modOptions)}}function J(o,s){1&o&&n._UZ(0,"p-divider")}function w(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"span",27)(1,"span",28),n._UZ(2,"i",29),n.qZA(),n.TgZ(3,"p-dropdown",30),n.NdJ("onChange",function(_){n.CHM(e);const i=n.oxw(2).ngIf,p=n.oxw();return n.KtG(p.setState(i.preferences.states[i.data.game][_.value]))}),n.ALo(4,"translate"),n.qZA()()}if(2&o){const e=n.oxw(2).ngIf;n.xp6(3),n.Q6J("placeholder",n.lcZ(4,2,"landing.loadSavedState"))("options",e.savedStates)}}function W(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(e);const _=n.oxw(3);return n.KtG(_.router.navigateByUrl(_.BrowserUtility.routerState))}),n.ALo(1,"translate"),n.qZA()}2&o&&n.Q6J("label",n.lcZ(1,1,"landing.loadLastState"))}function Q(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"p-card")(1,"div",4)(2,"div",5),n._UZ(3,"img",6),n.qZA(),n._UZ(4,"div",7),n.ALo(5,"translate"),n.TgZ(6,"p-dropdown",8),n.NdJ("onChange",function(_){n.CHM(e);const i=n.oxw(2);return n.KtG(i.setGame(_.value))}),n.YNc(7,B,1,1,"ng-template",9),n.YNc(8,R,1,1,"ng-template",10),n.qZA(),n.YNc(9,K,1,3,"p-dropdown",11),n.TgZ(10,"button",12),n.NdJ("click",function(){n.CHM(e);const _=n.MAs(15),i=n.oxw().ngIf;return n.KtG(_.clickOpen(i.data,"item",i.itemIds))}),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"button",13),n.NdJ("click",function(){n.CHM(e);const _=n.MAs(18),i=n.oxw().ngIf;return n.KtG(_.clickOpen(i.data,"recipe",i.recipeIds))}),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"lab-picker",14,15),n.NdJ("selectId",function(_){n.CHM(e);const i=n.oxw(2);return n.KtG(i.selectItem(_))}),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"lab-picker",14,16),n.NdJ("selectId",function(_){n.CHM(e);const i=n.oxw(2);return n.KtG(i.selectRecipe(_))}),n.ALo(19,"translate"),n.qZA(),n.YNc(20,J,1,0,"p-divider",0),n.YNc(21,w,5,4,"span",17),n.YNc(22,W,2,3,"button",18),n._UZ(23,"p-divider")(24,"button",19),n.ALo(25,"translate"),n._UZ(26,"button",20),n.ALo(27,"translate"),n.TgZ(28,"p-checkbox",21),n.NdJ("onChange",function(_){n.CHM(e);const i=n.oxw(2);return n.KtG(i.setBypassLanding(_.checked))}),n.ALo(29,"translate"),n.qZA()()()}if(2&o){const e=n.oxw().ngIf,t=n.oxw();n.xp6(4),n.Q6J("innerHTML",n.lcZ(5,16,"landing.welcome"),n.oJD),n.xp6(2),n.Q6J("ngModel",e.data.game)("options",t.gameOptions),n.xp6(3),n.Q6J("ngIf",e.data.game===t.Game.Factorio),n.xp6(1),n.Q6J("label",n.lcZ(11,18,"landing.addItems")),n.xp6(2),n.Q6J("label",n.lcZ(13,20,"landing.addMachines")),n.xp6(2),n.Q6J("header",n.lcZ(16,22,"landing.selectAnItem")),n.xp6(3),n.Q6J("header",n.lcZ(19,24,"landing.selectARecipe")),n.xp6(3),n.Q6J("ngIf",e.savedStates.length||t.BrowserUtility.routerState),n.xp6(1),n.Q6J("ngIf",e.savedStates.length),n.xp6(1),n.Q6J("ngIf",t.BrowserUtility.routerState),n.xp6(2),n.Q6J("label",n.lcZ(25,26,"landing.help")),n.xp6(2),n.Q6J("label",n.lcZ(27,28,"landing.skip")),n.xp6(2),n.Q6J("binary",!0)("label",n.lcZ(29,30,"landing.bypass"))("ngModel",e.preferences.bypassLanding)}}function N(o,s){if(1&o&&(n.ynx(0),n.YNc(1,Q,30,32,"p-card",3),n.BQk()),2&o){const e=s.ngIf;n.oxw();const t=n.MAs(3);n.xp6(1),n.Q6J("ngIf",null!=e.mod)("ngIfElse",t)}}function S(o,s){1&o&&n._UZ(0,"p-progressSpinner")}let Y=(()=>{var o;class s{constructor(t,_,i,p){this.router=t,this.contentSvc=_,this.store=i,this.routerSvc=p,this.vm$=(0,u.a)([this.store.select(c.Zr.Gw),this.store.select(c.Zr.Ym),this.store.select(c.Zr.pY),this.store.select(c.Zr.IK),this.store.select(c.Zr.U4),this.store.select(c.Zr.eW),this.store.select(c.Zr.D0),this.store.select(c.uP.eD)]).pipe((0,C.U)(([H,G,j,k,F,X,$,z])=>({settings:H,modOptions:G,data:j,mod:k,itemIds:F,recipeIds:X,savedStates:$,preferences:z}))),this.gameInfo=l.dL,this.gameOptions=l.oy,this.Game=l.lA,this.BrowserUtility=L.R7}selectItem(t){this.addItemObjective(t),this.router.navigate(["list"])}selectRecipe(t){this.addRecipeObjective(t),this.router.navigate(["list"])}setState(t){if(t){const _=this.routerSvc.getParams(t);this.router.navigate(["list"],{queryParams:_})}}setGame(t){this.setMod(l.dL[t].modId)}addItemObjective(t){this.addObjective({targetId:t,unit:l.iK.Items})}addRecipeObjective(t){this.addObjective({targetId:t,unit:l.iK.Machines})}setMod(t){this.store.dispatch(new c.Zr.Lr(t))}addObjective(t){this.store.dispatch(new c.VJ.OV(t))}setBypassLanding(t){this.store.dispatch(new c.uP.LX(t))}}return(o=s).\u0275fac=function(t){return new(t||o)(n.Y36(g.F0),n.Y36(m._s),n.Y36(E.yh),n.Y36(m.cw))},o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:6,vars:4,consts:[[4,"ngIf"],["spinner",""],[1,"position-absolute","bottom-0","mb-3"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-center"],["src","factoriolab.webp","alt","FactorioLab","height","128","width","128"],[1,"mt-2",3,"innerHTML"],["styleClass","my-2 w-100",3,"ngModel","options","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["styleClass","mb-2 w-100",3,"filter","ngModel","options","onChange",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],[3,"header","selectId"],["addItemPicker",""],["addRecipePicker",""],["class","p-inputgroup",4,"ngIf"],["pButton","","pRipple","","type","button","class","mt-2","icon","fa-solid fa-clock-rotate-left",3,"label","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-question","routerLink","wizard","queryParamsHandling","preserve",1,"mt-2","p-button-help",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-forward","routerLink","list","queryParamsHandling","preserve",1,"mt-2","mb-3","p-button-outlined",3,"label"],[3,"binary","label","ngModel","onChange"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"mx-1"],[1,"ms-3"],["styleClass","mb-2 w-100",3,"filter","ngModel","options","onChange"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-file-import"],["styleClass","w-100",3,"placeholder","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"label","click"]],template:function(t,_){1&t&&(n.YNc(0,N,2,2,"ng-container",0),n.ALo(1,"async"),n.YNc(2,S,1,0,"ng-template",null,1,n.W1O),n.TgZ(4,"span",2),n._uU(5),n.qZA()),2&t&&(n.Q6J("ngIf",n.lcZ(1,2,_.vm$)),n.xp6(5),n.Oqu(_.contentSvc.version))},dependencies:[r.ez,r.O5,r.Ov,v.o,f.JJ,f.On,h.jx,g.rH,M.Hq,I.Z,x.XZ,O.i,T.Lt,Z.G,A.H,P.q,D.X$,b.y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0}),s})()}}]);