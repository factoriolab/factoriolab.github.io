"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[804],{7684:(un,m,c)=>{c.r(m),c.d(m,{RecipeComponent:()=>pn});var g=c(6814),T=c(2572),A=c(7398),C=c(1254),I=c(790),s=c(8528),h=c(7927),n=c(5879),d=c(4190),x=c(9515),E=c(4221),v=c(3338),Z=c(6223),O=c(2655),b=c(707),R=c(8057),q=c(4480),L=c(6160),f=c(3689),J=c(7678);function M(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.category")),n.xp6(3),n.Q6J("routerLink","/data/categories/"+t.obj.category),n.xp6(1),n.Q6J("label",t.category.name)("icon",n.xi3(7,6,t.obj.category,"category"))}}function U(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(o.obj.in[t])}}function Q(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,U,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.ingredients")),n.xp6(3),n.Q6J("ngForOf",t.ingredientIds)}}function y(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(null==o.obj.catalyst?null:o.obj.catalyst[t])}}function P(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,y,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.catalysts")),n.xp6(3),n.Q6J("ngForOf",t.catalystIds)}}function D(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(o.obj.out[t])}}function N(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,D,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.products")),n.xp6(3),n.Q6J("ngForOf",t.productIds)}}function Y(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(2).ngIf;n.xp6(1),n.Q6J("routerLink","/data/machines/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,3,t))}}function B(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.unlockedBy")),n.xp6(3),n.Q6J("routerLink","/data/technologies/"+t.obj.unlockedBy),n.xp6(1),n.Q6J("label",t.data.itemEntities[t.obj.unlockedBy].name)("icon",n.xi3(7,6,t.obj.unlockedBy,"recipe"))}}function j(e,_){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"p-checkbox",17),n.NdJ("ngModelChange",function(i){n.CHM(t);const a=n.oxw(3);return n.KtG(a.trueValue=i)}),n.qZA()()()}if(2&e){const t=n.oxw(3);n.xp6(2),n.Oqu(n.lcZ(3,4,"data.mining")),n.xp6(3),n.Q6J("ngModel",t.trueValue)("binary",!0)("disabled",!0)}}function S(e,_){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"p-checkbox",17),n.NdJ("ngModelChange",function(i){n.CHM(t);const a=n.oxw(3);return n.KtG(a.trueValue=i)}),n.qZA()()()}if(2&e){const t=n.oxw(3);n.xp6(2),n.Oqu(n.lcZ(3,4,"data.technology")),n.xp6(3),n.Q6J("ngModel",t.trueValue)("binary",!0)("disabled",!0)}}function k(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.rocketPart")),n.xp6(3),n.Q6J("routerLink","/data/items/"+t.obj.part),n.xp6(1),n.Q6J("label",t.data.itemEntities[t.obj.part].name)("icon",n.lcZ(7,6,t.obj.part))}}function w(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.ALo(6,"usage"),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.energyConsumption")),n.xp6(3),n.Oqu(n.lcZ(6,4,t.obj.usage))}}function K(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=_.ngIf,o=n.oxw(2).ngIf;n.Q6J("routerLink","/data/machines/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function W(e,_){if(1&e&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit;n.Tol(n.lcZ(1,2,t))}}function F(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,o=n.oxw(3).ngIf;n.Q6J("routerLink","/data/modules/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function $(e,_){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,W,2,4,"i",18),n.YNc(2,F,3,5,"ng-template",null,19,n.W1O),n.qZA()),2&e){const t=_.$implicit,o=n.MAs(3);n.xp6(1),n.Q6J("ngIf","module"===t)("ngIfElse",o)}}function H(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,$,4,2,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.modules")),n.xp6(3),n.Q6J("ngForOf",t.recipeSettings.machineModuleIds)}}function G(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,o=n.oxw(4).ngIf;n.Q6J("routerLink","/data/beacons/"+t.id),n.xp6(1),n.Q6J("label",o.data.itemEntities[t.id].name)("icon",n.lcZ(2,3,t.id))}}function V(e,_){if(1&e&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit;n.Tol(n.lcZ(1,2,t))}}function z(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,o=n.oxw(5).ngIf;n.Q6J("routerLink","/data/modules/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function X(e,_){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,V,2,4,"i",18),n.YNc(2,z,3,5,"ng-template",null,19,n.W1O),n.qZA()),2&e){const t=_.$implicit,o=n.MAs(3);n.xp6(1),n.Q6J("ngIf","module"===t)("ngIfElse",o)}}function nn(e,_){if(1&e&&(n.ynx(0),n.TgZ(1,"div"),n.YNc(2,G,3,5,"a",13),n.TgZ(3,"span",16),n._uU(4),n.qZA()(),n.YNc(5,X,4,2,"div",7),n.BQk()),2&e){const t=_.$implicit;n.xp6(2),n.Q6J("ngIf",t.id),n.xp6(2),n.Oqu(t.count),n.xp6(1),n.Q6J("ngForOf",t.moduleIds)}}function tn(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,nn,6,3,"ng-container",7),n.qZA()()),2&e){const t=n.oxw(3).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.beacons")),n.xp6(3),n.Q6J("ngForOf",t.recipeSettings.beacons)}}function en(e,_){if(1&e&&(n.ynx(0),n.YNc(1,tn,6,4,"tr",7),n.BQk()),2&e){const t=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngForOf",t.recipeSettings.beacons)}}function on(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n._UZ(6,"td"),n.qZA()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.overclock")),n.xp6(3),n.hij("",t.recipeSettings.overclock,"%")}}function _n(e,_){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"lab-input-number",20),n.NdJ("setValue",function(i){n.CHM(t);const a=n.oxw(2).ngIf,l=n.oxw();return n.KtG(l.setRecipeCost(a.id,i))}),n.qZA()()()}if(2&e){const t=_.ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.cost")),n.xp6(3),n.Q6J("value",t.toString())}}function cn(e,_){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"table",4)(2,"tr")(3,"th",5)(4,"h3"),n._uU(5),n.qZA()()(),n.TgZ(6,"tr")(7,"td",5)(8,"i",6),n.ALo(9,"iconClass"),n.qZA()()(),n.YNc(10,M,8,9,"tr",0),n.TgZ(11,"tr")(12,"th"),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA()(),n.YNc(17,Q,6,4,"tr",0),n.YNc(18,P,6,4,"tr",0),n.YNc(19,N,6,4,"tr",0),n.TgZ(20,"tr")(21,"th"),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.TgZ(24,"td"),n.YNc(25,Y,4,5,"div",7),n.qZA()(),n.YNc(26,B,8,9,"tr",0),n.YNc(27,j,6,6,"tr",0),n.YNc(28,S,6,6,"tr",0),n.YNc(29,k,8,8,"tr",0),n.YNc(30,w,7,6,"tr",0),n.TgZ(31,"tr")(32,"th",8)(33,"div",9),n._UZ(34,"button",10),n.TgZ(35,"h3"),n._uU(36),n.ALo(37,"translate"),n.qZA(),n.TgZ(38,"button",11),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().ngIf,a=n.oxw();return n.KtG(a.resetRecipe(i.id))}),n.qZA()()()(),n.TgZ(39,"tr")(40,"th"),n._uU(41),n.ALo(42,"translate"),n.qZA(),n.TgZ(43,"td")(44,"p-checkbox",12),n.NdJ("onChange",function(){n.CHM(t);const i=n.oxw().ngIf,a=n.oxw();return n.KtG(a.toggleRecipe(i.id,i.recipeSettings,i.data))}),n.qZA()()(),n.TgZ(45,"tr")(46,"th"),n._uU(47),n.ALo(48,"translate"),n.qZA(),n.TgZ(49,"td")(50,"p-checkbox",12),n.NdJ("onChange",function(i){n.CHM(t);const a=n.oxw().ngIf,l=n.oxw();return n.KtG(l.setRecipeChecked(a.id,i.checked))}),n.qZA()()(),n.TgZ(51,"tr")(52,"th"),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"td"),n.YNc(56,K,3,5,"a",13),n.qZA()(),n.YNc(57,H,6,4,"tr",0),n.YNc(58,en,2,1,"ng-container",0),n.YNc(59,on,7,4,"tr",0),n.YNc(60,_n,6,4,"tr",0),n.qZA(),n.BQk()}if(2&e){const t=n.oxw().ngIf,o=n.oxw();n.xp6(5),n.Oqu(t.obj.name),n.xp6(3),n.Tol(n.xi3(9,31,t.id,"recipe")),n.xp6(2),n.Q6J("ngIf",t.category),n.xp6(3),n.Oqu(n.lcZ(14,34,"data.time")),n.xp6(3),n.Oqu(t.obj.time),n.xp6(1),n.Q6J("ngIf",t.ingredientIds.length),n.xp6(1),n.Q6J("ngIf",t.catalystIds.length),n.xp6(1),n.Q6J("ngIf",t.productIds.length),n.xp6(3),n.Oqu(n.lcZ(23,36,"data.producers")),n.xp6(3),n.Q6J("ngForOf",t.obj.producers),n.xp6(1),n.Q6J("ngIf",t.obj.unlockedBy),n.xp6(1),n.Q6J("ngIf",t.obj.isMining),n.xp6(1),n.Q6J("ngIf",t.obj.isTechnology),n.xp6(1),n.Q6J("ngIf",t.obj.part),n.xp6(1),n.Q6J("ngIf",t.obj.usage),n.xp6(6),n.Oqu(n.lcZ(37,38,"data.recipeSettings")),n.xp6(2),n.ekj("invisible",!t.recipeSettingsRaw),n.xp6(3),n.Oqu(n.lcZ(42,40,"data.excluded")),n.xp6(3),n.Q6J("ngModel",t.recipeSettings.excluded)("binary",!0),n.xp6(3),n.Oqu(n.lcZ(48,42,"data.checked")),n.xp6(3),n.Q6J("ngModel",t.recipeSettings.checked)("binary",!0),n.xp6(3),n.Oqu(n.lcZ(54,44,"data.machine")),n.xp6(3),n.Q6J("ngIf",t.recipeSettings.machineId),n.xp6(1),n.Q6J("ngIf",null==t.recipeSettings.machineModuleIds?null:t.recipeSettings.machineModuleIds.length),n.xp6(1),n.Q6J("ngIf",t.data.game===o.Game.Factorio),n.xp6(1),n.Q6J("ngIf",t.data.game===o.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",null==t.recipeR?null:t.recipeR.cost)}}function an(e,_){1&e&&(n.TgZ(0,"div",21),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"data.notFound")))}function rn(e,_){if(1&e&&(n.ynx(0),n._UZ(1,"p-breadcrumb",1),n.YNc(2,cn,61,46,"ng-container",2),n.YNc(3,an,3,3,"ng-template",null,3,n.W1O),n.BQk()),2&e){const t=_.ngIf,o=n.MAs(4);n.xp6(1),n.Q6J("home",t.home)("model",t.breadcrumb),n.xp6(1),n.Q6J("ngIf",t.obj)("ngIfElse",o)}}let pn=(()=>{var e;class _ extends h.J{constructor(o,i,a,l){super(o,i),this.store=a,this.dataRouteSvc=l,this.vm$=(0,T.a)([this.id$,this.parent$,this.dataRouteSvc.home$,this.store.select(s.lx.IB),this.store.select(s.lx.lW),this.store.select(s.lx.O8)]).pipe((0,A.U)(([r,u,sn,ln,gn,p])=>({id:r,obj:p.recipeEntities[r],recipeR:p.recipeR[r],category:p.categoryEntities[p.recipeEntities[r]?.category??""],breadcrumb:[u,{label:p.recipeEntities[r]?.name}],ingredientIds:Object.keys(p.recipeEntities[r]?.in??{}),catalystIds:Object.keys(p.recipeEntities[r]?.catalyst??{}),productIds:Object.keys(p.recipeEntities[r]?.out??{}),recipeSettingsRaw:ln[r],recipeSettings:gn[r],home:sn,data:p}))),this.trueValue=!0,this.Game=I.lA}toggleRecipe(o,i,a){const l=!i.excluded,r=(a.defaults?.excludedRecipeIds??[]).some(u=>u===o);this.setRecipeExcluded(o,l,r)}setRecipeExcluded(o,i,a){this.store.dispatch(new s.lx.aF({id:o,value:i,def:a}))}setRecipeChecked(o,i){this.store.dispatch(new s.lx.dR({id:o,value:i}))}setRecipeCost(o,i){this.store.dispatch(new s.lx.aq({id:o,value:i}))}resetRecipe(o){this.store.dispatch(new s.lx.in(o))}}return(e=_).\u0275fac=function(o){return new(o||e)(n.Y36(d.gz),n.Y36(x.sK),n.Y36(E.yh),n.Y36(v.s))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"home","model"],[4,"ngIf","ngIfElse"],["notFound",""],[1,"properties","mb-4"],["colspan","2",1,"text-center"],[1,"lg"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],[3,"ngModel","binary","onChange"],["queryParamsHandling","preserve",3,"routerLink",4,"ngIf"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled","ngModelChange"],[3,"class",4,"ngIf","ngIfElse"],["moduleButton",""],[3,"value","setValue"],[1,"my-5","p-error"]],template:function(o,i){1&o&&(n.YNc(0,rn,5,4,"ng-container",0),n.ALo(1,"async")),2&o&&n.Q6J("ngIf",n.lcZ(1,1,i.vm$))},dependencies:[g.ez,g.sg,g.O5,g.Ov,C.o,Z.JJ,Z.On,O.a,d.rH,b.Hq,R.XZ,q.H,L.l,x.X$,f.Y,f.y,J.J],changeDetection:0}),_})()}}]);