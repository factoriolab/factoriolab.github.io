"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[886],{7886:(le,x,l)=>{l.r(x),l.d(x,{WizardComponent:()=>f,WizardState:()=>m});var c=l(6895),e=l(4650),g=l(4006);const b=["rb"],C=function(n,a,t){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":a,"p-radiobutton-label-focus":t}};function y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"label",4),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.select(o))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(3);e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,C,i.checked,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const k=function(n,a,t){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":a,"p-radiobutton-focused":t}},T=function(n,a,t){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":a,"p-focus":t}},Z={provide:g.JU,useExisting:(0,e.Gpc)(()=>w),multi:!0};let I=(()=>{class n{constructor(){this.accessors=[]}add(t,i){this.accessors.push([t,i])}remove(t){this.accessors=this.accessors.filter(i=>i[1]!==t)}select(t){this.accessors.forEach(i=>{this.isSameGroup(i,t)&&i[1]!==t&&i[1].writeValue(t.value)})}isSameGroup(t,i){return!!t[0].control&&t[0].control.root===i.control.control.root&&t[1].name===i.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w=(()=>{class n{constructor(t,i,o){this.cd=t,this.injector=i,this.registry=o,this.onClick=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(g.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(t,i,o){t.preventDefault(),!this.disabled&&(this.select(t),o&&i.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(t,i){if(1&t&&e.Gf(b,5),2&t){let o;e.iGM(o=e.CRH())&&(i.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e._Bn([Z])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(s){return i.onChange(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(s){e.CHM(o);const p=e.MAs(3);return e.KtG(i.handleClick(s,p,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,y,2,9,"label",6)}2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.kEZ(15,k,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("checked",i.checked)("disabled",i.disabled),e.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(19,T,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("ngIf",i.label))},dependencies:[c.mk,c.O5,c.PC],encapsulation:2,changeDetection:0}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez]}),n})();var h=l(4258),v=l(3608);let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,h.Bz,v.z,h.Bz,v.z]}),n})();var N=l(9841),j=l(4004),F=l(2518),_=l(6173),d=l(4624),W=l(2997),Q=l(5593),U=l(4247),H=l(5108),V=l(2210),D=l(1795),q=l(5439),G=l(8290),Y=l(3989),$=l(6188),K=l(1969);function P(n,a){1&n&&e.GkF(0)}function X(n,a){if(1&n&&(e.ynx(0),e.YNc(1,P,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ee(n,a){1&n&&e.GkF(0)}function te(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ee,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ne(n,a){1&n&&e.GkF(0)}function ie(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ne,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(10),r=e.oxw().ngIf;return e.KtG(o.clickOpen(r.data,"item",r.itemIds))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"lab-picker",10,11),e.NdJ("selectId",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectId(o,r.WizardState.ItemObjective))}),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-divider"),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(19),r=e.oxw().ngIf;return e.KtG(o.clickOpen(r.data,"recipe",r.recipeIds))}),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"lab-picker",10,13),e.NdJ("selectId",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectId(o,r.WizardState.RecipeObjective))}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"p-divider")}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,7,"wizard.objectiveType")," "),e.xp6(4),e.Oqu(e.lcZ(6,9,"wizard.produceItems")),e.xp6(2),e.Q6J("label",e.lcZ(8,11,"wizard.produceItemsButton")),e.xp6(2),e.Q6J("header",e.lcZ(11,13,"wizard.produceItemsButton")),e.xp6(5),e.Oqu(e.lcZ(15,15,"wizard.runMachines")),e.xp6(2),e.Q6J("label",e.lcZ(17,17,"wizard.runMachinesButton")),e.xp6(2),e.Q6J("header",e.lcZ(20,19,"wizard.runMachinesButton")))}function ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",14)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",15),e._uU(8),e.qZA()(),e.TgZ(9,"lab-input-number",16),e.NdJ("setValue",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.rate=o)}),e.qZA(),e.TgZ(10,"p-dropdown",17),e.NdJ("onChange",function(o){e.CHM(t);const r=e.oxw().ngIf,s=e.oxw();return e.KtG(s.setDisplayRate(o.value,r.displayRate))}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createItemObjective(o.id,o.rate,o.RateUnit.Items))}),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"p-divider"),e.TgZ(15,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ObjectiveType)}),e.ALo(16,"translate"),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,10,"wizard.itemObjectiveItems")),e.xp6(4),e.Tol(e.lcZ(6,12,i.id)),e.xp6(3),e.Oqu(t.data.itemEntities[i.id].name),e.xp6(1),e.Q6J("value",i.rate),e.xp6(1),e.Q6J("tooltip",e.lcZ(11,14,"objectives.selectDisplayRate"))("ngModel",t.displayRate)("options",i.displayRateOptions),e.xp6(2),e.Q6J("label",e.lcZ(13,16,"ok")),e.xp6(3),e.Q6J("label",e.lcZ(16,18,"wizard.back"))}}function re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",14)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",15),e._uU(8),e.qZA()(),e.TgZ(9,"lab-input-number",16),e.NdJ("setValue",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.count=o)}),e.qZA(),e.TgZ(10,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createRecipeObjective(o.id,o.count))}),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-divider"),e.TgZ(13,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ObjectiveType)}),e.ALo(14,"translate"),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,7,"wizard.recipeObjectiveMachines")),e.xp6(4),e.Tol(e.lcZ(6,9,i.id)),e.xp6(3),e.Oqu(t.data.recipeEntities[i.id].name),e.xp6(1),e.Q6J("value",i.count),e.xp6(1),e.Q6J("label",e.lcZ(11,11,"ok")),e.xp6(3),e.Q6J("label",e.lcZ(14,13,"wizard.back"))}}function se(n,a){if(1&n&&(e.TgZ(0,"p-card")(1,"div",1),e.ynx(2,2),e.YNc(3,X,2,1,"ng-container",3),e.YNc(4,te,2,1,"ng-container",3),e.YNc(5,ie,2,1,"ng-container",3),e.BQk(),e._UZ(6,"button",4),e.ALo(7,"translate"),e.qZA(),e.YNc(8,oe,22,21,"ng-template",null,5,e.W1O),e.YNc(10,ae,17,20,"ng-template",null,6,e.W1O),e.YNc(12,re,15,15,"ng-template",null,7,e.W1O),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.state),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ObjectiveType),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ItemObjective),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.RecipeObjective),e.xp6(1),e.Q6J("label",e.lcZ(7,5,"cancel"))}}var m=(()=>{return(n=m||(m={}))[n.ObjectiveType=0]="ObjectiveType",n[n.ItemObjective=1]="ItemObjective",n[n.RecipeObjective=2]="RecipeObjective",m;var n})();class f{constructor(a){this.store=a,this.vm$=(0,N.a)([this.store.select(d.Zr.pY),this.store.select(d.Zr.U4),this.store.select(d.Zr.eW),this.store.select(d.Zr.P7),this.store.select(d.Zr.VS)]).pipe((0,j.U)(([t,i,o,r,s])=>({data:t,itemIds:i,recipeIds:o,displayRate:r,rateUnitOptions:s}))),this.id="",this.rate="1",this.count="1",this.state=m.ObjectiveType,this.displayRateOptions=_.g6,this.RateUnit=_.iK,this.WizardState=m}selectId(a,t){this.id=a,this.state=t}setDisplayRate(a,t){this.store.dispatch(new d.Zr.MO({value:a,prev:t}))}createItemObjective(a,t,i){this.store.dispatch(new d.VJ.$f({id:"0",targetId:a,value:t,unit:i,type:_.S5.Output}))}createRecipeObjective(a,t){this.store.dispatch(new d.VJ.$f({id:"0",targetId:a,value:t,unit:_.iK.Machines,type:_.S5.Output}))}}f.\u0275fac=function(a){return new(a||f)(e.Y36(W.yh))},f.\u0275cmp=e.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","flex-column","p-fluid"],[3,"ngSwitch"],[4,"ngSwitchCase"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark","routerLink","/","queryParamsHandling","preserve",1,"p-button-outlined",3,"label"],["objectiveType",""],["itemObjective",""],["recipeObjective",""],[4,"ngTemplateOutlet"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",1,"mt-2",3,"label","click"],[3,"header","selectId"],["addItemObjectivePicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],["addRecipePicker",""],[1,"d-flex","align-items-center","justify-content-center"],[1,"ms-2"],["tooltipPosition","top",1,"mt-2","w-100",3,"value","setValue"],["labDropdownTranslate","","styleClass","mt-2 h-100",3,"tooltip","ngModel","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check","routerLink","/list",1,"mt-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-left",1,"mb-2","p-button-outlined",3,"label","click"]],template:function(a,t){1&a&&(e.YNc(0,se,14,7,"p-card",0),e.ALo(1,"async")),2&a&&e.Q6J("ngIf",e.lcZ(1,1,t.vm$))},dependencies:[c.ez,c.O5,c.tP,c.RF,c.n9,c.Ov,A,E,h.rH,F.o,g.JJ,g.On,Q.Hq,U.Z,H.i,V.Lt,D.H,q.l,G.q,Y.l,$.X$,K.Y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0})}}]);