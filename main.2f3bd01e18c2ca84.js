(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[179],{5425:(K,j,M)=>{"use strict";var t=M(4650);let Y=null;function W(){return Y}const $=new t.OlP("DocumentToken");let O=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function G(){return(0,t.LFG)(J)}()},providedIn:"platform"}),n})();const k=new t.OlP("Location Initialized");let J=(()=>{class n extends O{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(e){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){X()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){X()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Ie(){return new J((0,t.LFG)($))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ee(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function ke(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Se(n){return n&&"?"!==n[0]?"?"+n:n}let Te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Re(){const n=(0,t.LFG)($).location;return new Ge((0,t.LFG)(O),n&&n.origin||"")}()},providedIn:"root"}),n})();const Ke=new t.OlP("appBaseHref");let Ge=(()=>{class n extends Te{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Se(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const d=this.prepareExternalUrl(o+Se(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){const d=this.prepareExternalUrl(o+Se(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(O),t.LFG(Ke,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends Te{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ee(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let d=this.prepareExternalUrl(o+Se(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){let d=this.prepareExternalUrl(o+Se(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(O),t.LFG(Ke,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(e){this._subject=new t.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=ke(Ye(i)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Se(i))}normalize(e){return n.stripTrailingSlash(function Qe(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,Ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Se(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Se(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=Se,n.joinWithSlash=Ee,n.stripTrailingSlash=ke,n.\u0275fac=function(e){return new(e||n)(t.LFG(Te))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Ve(){return new ve((0,t.LFG)(Te))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}function Ws(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===r)return decodeURIComponent(l)}return null}let za=(()=>{class n{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class $o{constructor(r,e,i,o){this.$implicit=r,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class n{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,d)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new $o(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const _=i.get(l);i.move(_,d),Ii(_,o)}});for(let o=0,l=i.length;o<l;o++){const _=i.get(o).context;_.index=o,_.count=l,_.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Ii(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ii(n,r){n.context.$implicit=r.item}let cr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){U("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){U("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class er{constructor(){this.$implicit=null,this.ngIf=null}}function U(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,t.AaK)(r)}'.`)}class we{constructor(r,e){this._viewContainerRef=r,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let ne=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),de=(()=>{class n{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new we(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(ne,9))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class Pd{createSubscription(r,e){return r.subscribe({next:e,error:i=>{throw i}})}dispose(r){r.unsubscribe()}}class yl{createSubscription(r,e){return r.then(e,i=>{throw i})}dispose(r){}}const vl=new yl,ly=new Pd;let Qr=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,t.QGY)(e))return vl;if((0,t.F4k)(e))return ly;throw function Tn(n,r){return new t.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO,16))},n.\u0275pipe=t.Yjl({name:"async",type:n,pure:!1}),n})(),xi=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Nd}transform(e,i=Nd){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const o=this.differ.diff(e),l=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(d=>{this.keyValues.push(function yy(n,r){return{key:n,value:r}}(d.key,d.currentValue))})),(o||l)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.aQg,16))},n.\u0275pipe=t.Yjl({name:"keyvalue",type:n,pure:!1}),n})();function Nd(n,r){const e=n.key,i=r.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const o=String(e),l=String(i);return o==l?0:o<l?-1:1}let Ks=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();let El=(()=>{class n{}return n.\u0275prov=(0,t.Yz7)({token:n,providedIn:"root",factory:()=>new xy((0,t.LFG)($),window)}),n})();class xy{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Zd(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(r)||l.querySelector(`[name="${r}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=En(this.window.history)||En(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function En(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mn{}class Ud extends class sp extends class re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function q(n){Y||(Y=n)}(new Ud)}onAndCancel(r,e,i){return r.addEventListener(e,i,!1),()=>{r.removeEventListener(e,i,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function Wr(){return _o=_o||document.querySelector("base"),_o?_o.getAttribute("href"):null}();return null==e?null:function Cl(n){Ja=Ja||document.createElement("a"),Ja.setAttribute("href",n);const r=Ja.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){_o=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ws(document.cookie,r)}}let Ja,_o=null;const Ho=new t.OlP("TRANSITION_ID"),Vd=[{provide:t.ip1,useFactory:function Ur(n,r,e){return()=>{e.get(t.CZH).donePromise.then(()=>{const i=W(),o=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[Ho,$,t.zs3],multi:!0}];let ap=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const li=new t.OlP("EventManagerPlugins");let Xs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(li),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Qa{constructor(r){this._doc=r}addGlobalEventListener(r,e,i){const o=W().getGlobalEventTarget(this._doc,r);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let Ft=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ys=(()=>{class n extends Ft{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,o.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(cp),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(cp))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function cp(n){W().remove(n)}const Dl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sl=/%COMP%/g;function ea(n,r,e){for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?ea(n,o,e):(o=o.replace(Sl,n),e.push(o))}return e}function Ml(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let ta=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new zo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case t.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new Cy(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case t.ifc.ShadowDom:return new dp(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=ea(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Xs),t.LFG(ys),t.LFG(t.AFp))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS(Dl[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){(Wa(r)?r.content:r).appendChild(e)}insertBefore(r,e,i){r&&(Wa(r)?r.content:r).insertBefore(e,i)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let i="string"==typeof r?document.querySelector(r):r;if(!i)throw new Error(`The selector "${r}" did not match any elements`);return e||(i.textContent=""),i}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,i,o){if(o){e=o+":"+e;const l=Dl[o];l?r.setAttributeNS(l,e,i):r.setAttribute(e,i)}else r.setAttribute(e,i)}removeAttribute(r,e,i){if(i){const o=Dl[i];o?r.removeAttributeNS(o,e):r.removeAttribute(`${i}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,i,o){o&(t.JOm.DashCase|t.JOm.Important)?r.style.setProperty(e,i,o&t.JOm.Important?"important":""):r.style[e]=i}removeStyle(r,e,i){i&t.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,i){r[e]=i}setValue(r,e){r.nodeValue=e}listen(r,e,i){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,Ml(i)):this.eventManager.addEventListener(r,e,Ml(i))}}function Wa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Cy extends zo{constructor(r,e,i,o){super(r),this.component=i;const l=ea(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function Be(n){return"_ngcontent-%COMP%".replace(Sl,n)}(o+"-"+i.id),this.hostAttr=function Kt(n){return"_nghost-%COMP%".replace(Sl,n)}(o+"-"+i.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const i=super.createElement(r,e);return super.setAttribute(i,this.contentAttr,""),i}}class dp extends zo{constructor(r,e,i,o){super(r),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ea(o.id,o.styles,[]);for(let d=0;d<l.length;d++){const _=document.createElement("style");_.textContent=l[d],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,i){return super.insertBefore(this.nodeOrShadowRoot(r),e,i)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Ty=(()=>{class n extends Qa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const na=["alt","control","meta","shift"],Gi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ol={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ji=(()=>{class n extends Qa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let d="";if(na.forEach(g=>{const h=i.indexOf(g);h>-1&&(i.splice(h,1),d+=g+".")}),d+=l,0!=i.length||0===l.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static getEventFullKey(e){let i="",o=function fp(n){let r=n.key;if(null==r){if(r=n.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&Ol.hasOwnProperty(r)&&(r=Ol[r]))}return Gi[r]||r}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),na.forEach(l=>{l!=o&&vs[l](e)&&(i+=l+".")}),i+=o,i}static eventCallback(e,i,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const _p=(0,t.eFA)(t._c5,"browser",[{provide:t.Lbi,useValue:"browser"},{provide:t.g9A,useValue:function Pl(){Ud.makeCurrent()},multi:!0},{provide:$,useFactory:function $d(){return(0,t.RDi)(document),document},deps:[]}]),Nl=new t.OlP(""),ra=[{provide:t.rWj,useClass:class Tl{addToWindow(r){t.dqk.getAngularTestability=(i,o=!0)=>{const l=r.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},t.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),t.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),t.dqk.frameworkStabilizers||(t.dqk.frameworkStabilizers=[]),t.dqk.frameworkStabilizers.push(i=>{const o=t.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const _=function(g){d=d||g,l--,0==l&&i(d)};o.forEach(function(g){g.whenStable(_)})})}findTestabilityInTree(r,e,i){return null==e?null:r.getTestability(e)??(i?W().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},deps:[]},{provide:t.lri,useClass:t.dDg,deps:[t.R0b,t.eoX,t.rWj]},{provide:t.dDg,useClass:t.dDg,deps:[t.R0b,t.eoX,t.rWj]}],Fl=[{provide:t.zSh,useValue:"root"},{provide:t.qLn,useFactory:function Rl(){return new t.qLn},deps:[]},{provide:li,useClass:Ty,multi:!0,deps:[$,t.R0b,t.Lbi]},{provide:li,useClass:Ji,multi:!0,deps:[$]},{provide:ta,useClass:ta,deps:[Xs,ys,t.AFp]},{provide:t.FYo,useExisting:ta},{provide:Ft,useExisting:ys},{provide:ys,useClass:ys,deps:[$]},{provide:Xs,useClass:Xs,deps:[li,t.R0b]},{provide:Mn,useClass:ap,deps:[]},[]];let kl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:t.AFp,useValue:e.appId},{provide:Ho,useExisting:t.AFp},Vd]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Nl,12))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[...Fl,...ra],imports:[Ks,t.hGG]}),n})(),Bl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function gp(){return new Bl((0,t.LFG)($))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const sa=BigInt(0),Vr=BigInt(1),nc=BigInt(-1);class L{constructor(r,e=Vr){e<sa&&(r=-r,e=-e);const i=L.gcd(L.abs(r),e);i>Vr&&(r/=i,e/=i),this.p=r,this.q=e}static gcd(r,e){for(r=L.abs(r),e=L.abs(e);e;){const i=e;e=r%e,r=i}return r}static abs(r){return r<sa?r*nc:r}static from(r,e=1){if(0===e)throw Error("Cannot divide by zero");return new L(BigInt(r),BigInt(e))}static parseFloat(r,e=1e3){let i=r,o=r;const l=[[1,0],[0,1]];for(;l[1][0]*(i=Math.floor(o))+l[1][1]<=e;){let b=l[0][0]*i+l[0][1];if(l[0][1]=l[0][0],l[0][0]=b,b=l[1][0]*i+l[1][1],l[1][1]=l[1][0],l[1][0]=b,o===i)break;o=1/(o-i)}const d=L.from(l[0][0],l[1][0]),_=Math.abs(r-d.toNumber());i=Math.floor((e-l[1][1])/l[1][0]),l[0][0]=l[0][0]*i+l[0][1],l[1][0]=l[1][0]*i+l[1][1];const g=L.from(l[0][0],l[1][0]);return _<Math.abs(r-g.toNumber())?d:g}static fromJson(r){return"number"==typeof r?this.fromNumber(r):this.fromString(r)}static fromNumber(r){return Number.isInteger(r)?new L(BigInt(r),Vr):this.parseFloat(r)}static fromString(r){if(0===r.length)throw new Error("Empty string");if("number"==typeof r||-1===r.indexOf("/"))return L.fromNumber(Number(r));{const e=r.split("/");if(e.length>2)throw new Error("Too many /");if(-1===e[0].indexOf(" ")){const i=Number(e[0]),o=Number(e[1]);return L.from(i,o)}{const i=e[0].split(" ");if(i.length>2)throw new Error("Too many spaces");const o=Number(i[0]),l=Number(i[1]),d=Number(e[1]);return L.from(o).add(L.from(l,d))}}}static min(r,e){return r.lt(e)?r:e}static max(r,e){return r.gt(e)?r:e}isZero(){return this.p===sa}isOne(){return this.p===Vr&&this.q===Vr}nonzero(){return this.p!==sa}isInteger(){return this.q===Vr}inverse(){return this.mul(L.minusOne)}reciprocal(){return new L(this.q,this.p)}lt(r){return this.q===r.q?this.p<r.p:this.p*r.q<r.p*this.q}lte(r){return this.eq(r)||this.lt(r)}gt(r){return r.lt(this)}gte(r){return this.eq(r)||this.gt(r)}eq(r){return this.p===r.p&&this.q===r.q}add(r){return r.isZero()?this:new L(this.p*r.q+this.q*r.p,this.q*r.q)}sub(r){return r.isZero()?this:new L(this.p*r.q-this.q*r.p,this.q*r.q)}mul(r){return this.isOne()?r:r.isOne()?this:this.isZero()||r.isZero()?L.zero:new L(this.p*r.p,this.q*r.q)}div(r){return r.isOne()?this:this.eq(r)?L.one:new L(this.p*r.q,this.q*r.p)}ceil(){return this.isInteger()?this:new L(this.p/this.q+Vr)}floor(){return this.isInteger()?this:new L(this.p/this.q)}abs(){return new L(L.abs(this.p),this.q)}toNumber(){return Number(this.p)/Number(this.q)}toPrecision(r){const e=L.from(Math.pow(10,r));return this.mul(e).ceil().div(e).toNumber()}toFraction(){return this.isInteger()?this.p.toString():L.abs(this.p)>L.abs(this.q)?`${this.p/this.q} + ${this.p%this.q}/${this.q}`:`${this.p}/${this.q}`}toString(){return this.toDecimals()>2?`${this.p.toString()}/${this.q.toString()}`:this.toNumber().toString()}toDecimals(){const r=this.toNumber();return r%1!=0?r.toString().split(".")[1].length:0}}L.zero=new L(sa),L.minusOne=new L(nc),L.one=new L(Vr),L.two=new L(BigInt(2)),L.ten=new L(BigInt(10)),L.sixty=new L(BigInt(60)),L.hundred=new L(BigInt(100)),L.thousand=new L(BigInt(1e3)),L.million=new L(BigInt(1e6));class Fy{constructor(r){this.effectivity=L.fromNumber(r.effectivity),this.modules=r.modules,this.range=r.range,r.type&&(this.type=r.type),r.category&&(this.category=r.category),null!=r.usage&&(this.usage=L.fromNumber(r.usage))}}class $l{constructor(r){this.speed=L.fromJson(r.speed)}}class Yd{constructor(r){this.size=L.fromNumber(r.size)}}const wp=L.from(60);class Ci{constructor(r){this.parts=L.fromNumber(r.parts),this.launch=L.fromNumber(r.launch).div(wp)}}class Ip{constructor(r){if(null!=r.speed&&(this.speed=L.fromNumber(r.speed)),null!=r.modules&&(this.modules=Math.round(r.modules)),r.type&&(this.type=r.type),r.category&&(this.category=r.category),null!=r.usage&&(this.usage=L.fromNumber(r.usage)),null!=r.drain&&(this.drain="string"==typeof r.drain?L.fromString(r.drain):L.fromNumber(r.drain)),null!=r.pollution&&(this.pollution=L.fromNumber(r.pollution)),r.mining&&(this.mining=r.mining),r.research&&(this.research=r.research),r.silo&&(this.silo=new Ci(r.silo)),r.overclockFactor&&(this.overclockFactor=r.overclockFactor),r.consumption){const e=r.consumption;this.consumption=Object.keys(e).reduce((i,o)=>(i[o]=L.fromJson(e[o]),i),{})}}}class aa{constructor(r){this.capacity=L.fromNumber(r.capacity)}}class Hl{constructor(r){this.category=r.category,this.value=L.fromNumber(r.value),r.result&&(this.result=r.result)}}class zl{constructor(r){r.speed&&(this.speed=L.fromNumber(r.speed)),r.productivity&&(this.productivity=L.fromNumber(r.productivity)),r.consumption&&(this.consumption=L.fromNumber(r.consumption)),r.pollution&&(this.pollution=L.fromNumber(r.pollution)),r.limitation&&(this.limitation=r.limitation),r.sprays&&(this.sprays=L.fromNumber(r.sprays)),r.proliferator&&(this.proliferator=r.proliferator)}}class rc{constructor(r){this.id=r.id,this.name=r.name,this.category=r.category,this.row=Math.round(r.row),r.stack&&(this.stack=L.fromNumber(r.stack)),r.beacon&&(this.beacon=new Fy(r.beacon)),r.belt&&(this.belt=new $l(r.belt)),r.pipe&&(this.pipe=new $l(r.pipe)),r.factory&&(this.factory=new Ip(r.factory)),r.module&&(this.module=new zl(r.module)),r.fuel&&(this.fuel=new Hl(r.fuel)),r.cargoWagon&&(this.cargoWagon=new Yd(r.cargoWagon)),r.fluidWagon&&(this.fluidWagon=new aa(r.fluidWagon)),r.icon&&(this.icon=r.icon),r.iconText&&(this.iconText=r.iconText)}}class ca{constructor(r){if(this.productivity=L.one,this.adjustProd=!1,this.id=r.id,this.name=r.name,this.time=L.fromNumber(r.time),this.producers=r.producers,this.in=Object.keys(r.in).reduce((e,i)=>(e[i]=L.fromJson(r.in[i]),e),{}),this.out=Object.keys(r.out).reduce((e,i)=>(e[i]=L.fromJson(r.out[i]),e),{}),r.catalyst){const e=r.catalyst;this.catalyst=Object.keys(e).reduce((i,o)=>(i[o]=L.fromJson(e[o]),i),{})}r.cost&&(this.cost=L.fromNumber(r.cost)),r.part&&(this.part=r.part),null!=r.usage&&(this.usage="string"==typeof r.usage?L.fromString(r.usage):L.fromNumber(r.usage))}produces(r){return!!this.out[r]&&(null==this.in[r]||this.in[r].lt(this.out[r]))}producesOnly(r){return 1===Object.keys(this.out).length&&this.produces(r)}output(r){return(this.out[r]??L.zero).sub(this.in[r]??L.zero)}}var ct=(()=>{return(n=ct||(ct={})).None="None",n.Factorio="Factorio",n.CaptainOfIndustry="CaptainOfIndustry",n.DysonSphereProgram="DysonSphereProgram",n.Satisfactory="Satisfactory",ct;var n})();const Wd=[{id:ct.Factorio,name:"game.Factorio"},{id:ct.CaptainOfIndustry,name:"game.CaptainOfIndustry"},{id:ct.DysonSphereProgram,name:"game.DysonSphereProgram"},{id:ct.Satisfactory,name:"game.Satisfactory"}];var rt=(()=>{return(n=rt||(rt={})).Tree="Tree",n.Surplus="Surplus",n.Items="Items",n.Belts="Belts",n.Wagons="Wagons",n.Factories="Factories",n.Overclock="Overclock",n.Beacons="Beacons",n.Power="Power",n.Pollution="Pollution",n.Link="Link",rt;var n})();const ql=[rt.Tree,rt.Items,rt.Belts,rt.Wagons,rt.Factories,rt.Overclock,rt.Beacons,rt.Power,rt.Pollution,rt.Link],Gl=[rt.Items,rt.Belts,rt.Wagons,rt.Factories,rt.Power,rt.Pollution];var pn=(()=>{return(n=pn||(pn={}))[n.PerSecond=1]="PerSecond",n[n.PerMinute=60]="PerMinute",n[n.PerHour=3600]="PerHour",pn;var n})();const ws=[{id:pn.PerSecond,name:"options.DisplayRate.PerSecond"},{id:pn.PerMinute,name:"options.DisplayRate.PerMinute"},{id:pn.PerHour,name:"options.DisplayRate.PerHour"}],mo={[pn.PerSecond]:new L(BigInt(pn.PerSecond)),[pn.PerMinute]:new L(BigInt(pn.PerMinute)),[pn.PerHour]:new L(BigInt(pn.PerHour))},ic={[pn.PerHour]:"/h",[pn.PerMinute]:"/m",[pn.PerSecond]:"/s"};var qo=(()=>{return(n=qo||(qo={})).Electric="electric",n.Burner="burner",qo;var n})(),Kr=(()=>{return(n=Kr||(Kr={})).Chemical="chemical",n.Nuclear="nuclear",Kr;var n})(),Is=(()=>{return(n=Is||(Is={}))[n.Item=0]="Item",n[n.Recipe=1]="Recipe",Is;var n})(),kn=(()=>{return(n=kn||(kn={}))[n.Capacity0=0]="Capacity0",n[n.Capacity2=1]="Capacity2",n[n.Capacity7=2]="Capacity7",kn;var n})();const Jl=[{id:kn.Capacity0,name:"options.InserterCapacity.Capacity0"},{id:kn.Capacity2,name:"options.InserterCapacity.Capacity2"},{id:kn.Capacity7,name:"options.InserterCapacity.Capacity7"}];var Xr=(()=>{return(n=Xr||(Xr={}))[n.Chest=0]="Chest",n[n.ExpressTransportBelt=1]="ExpressTransportBelt",n[n.FastTransportBelt=2]="FastTransportBelt",n[n.TransportBelt=3]="TransportBelt",Xr;var n})();const Kd=[{id:Xr.Chest,name:"options.InserterTarget.Chest"},{id:Xr.ExpressTransportBelt,name:"options.InserterTarget.ExpressTransportBelt"},{id:Xr.FastTransportBelt,name:"options.InserterTarget.FastTransportBelt"},{id:Xr.TransportBelt,name:"options.InserterTarget.TransportBelt"}];var st=(()=>{return(n=st||(st={})).FastInserter="fast-inserter",n.Inserter="inserter",n.LongHandedInserter="long-handed-inserter",n.MineControlTower="mine-control-tower",n.MiningDrill="mining-drill",n.Module="module",n.NuclearPowerPlant="nuclear-power-plant",n.Pipe="pipe",n.ProductivityLimitation="productivity-module",n.Pumpjack="pumpjack",n.StackInserter="stack-inserter",n.Water="water",st;var n})(),sn=(()=>{return(n=sn||(sn={}))[n.None=0]="None",n[n.Percent=1]="Percent",n[n.Items=2]="Items",n[n.Belts=3]="Belts",n[n.Wagons=4]="Wagons",n[n.Factories=5]="Factories",sn;var n})();function xs(n){const r=[{id:sn.None,name:"None"},{id:sn.Percent,name:"Percent"},{id:sn.Items,name:"Items"},{id:sn.Belts,name:"Belts"},{id:sn.Wagons,name:"Wagons"},{id:sn.Factories,name:"Factories"}];return n===ct.DysonSphereProgram||n===ct.CaptainOfIndustry?r.filter(e=>e.id!==sn.Wagons):r}var ui=(()=>{return(n=ui||(ui={}))[n.All=0]="All",n[n.Focus=1]="Focus",ui;var n})(),lr=(()=>{return(n=lr||(lr={})).Skipped="Skipped",n.Cached="Cached",n.Cancelled="Cancelled",n.Failed="Failed",n.Solved="Solved",lr;var n})(),ir=(()=>{return(n=ir||(ir={}))[n.Auto=0]="Auto",n[n.kW=1]="kW",n[n.MW=2]="MW",n[n.GW=3]="GW",ir;var n})();const Es=[{id:ir.Auto,name:"Auto"},{id:ir.kW,name:"kW"},{id:ir.MW,name:"MW"},{id:ir.GW,name:"GW"}];var Pn=(()=>{return(n=Pn||(Pn={}))[n.Minimum=0]="Minimum",n[n.Modules=1]="Modules",n[n.Beacon8=2]="Beacon8",n[n.Beacon12=3]="Beacon12",Pn;var n})(),mt=(()=>{return(n=mt||(mt={}))[n.Items=0]="Items",n[n.Belts=1]="Belts",n[n.Wagons=2]="Wagons",n[n.Factories=3]="Factories",mt;var n})(),Er=(()=>{return(n=Er||(Er={}))[n.FactoryModules=0]="FactoryModules",n[n.BeaconCount=1]="BeaconCount",n[n.Beacon=2]="Beacon",n[n.BeaconModules=3]="BeaconModules",n[n.Overclock=4]="Overclock",Er;var n})(),zt=(()=>{return(n=zt||(zt={}))[n.Speed0=0]="Speed0",n[n.Speed1=20]="Speed1",n[n.Speed2=50]="Speed2",n[n.Speed3=90]="Speed3",n[n.Speed4=140]="Speed4",n[n.Speed5=190]="Speed5",n[n.Speed6=250]="Speed6",zt;var n})();const ky=[{id:zt.Speed0,name:"options.ResearchSpeed.Speed0"},{id:zt.Speed1,name:"options.ResearchSpeed.Speed1"},{id:zt.Speed2,name:"options.ResearchSpeed.Speed2"},{id:zt.Speed3,name:"options.ResearchSpeed.Speed3"},{id:zt.Speed4,name:"options.ResearchSpeed.Speed4"},{id:zt.Speed5,name:"options.ResearchSpeed.Speed5"},{id:zt.Speed6,name:"options.ResearchSpeed.Speed6"}],Cs={[zt.Speed0]:new L(BigInt(zt.Speed0)),[zt.Speed1]:new L(BigInt(zt.Speed1)),[zt.Speed2]:new L(BigInt(zt.Speed2)),[zt.Speed3]:new L(BigInt(zt.Speed3)),[zt.Speed4]:new L(BigInt(zt.Speed4)),[zt.Speed5]:new L(BigInt(zt.Speed5)),[zt.Speed6]:new L(BigInt(zt.Speed6))},Ly={[zt.Speed0]:Cs[zt.Speed0].add(L.hundred).div(L.hundred),[zt.Speed1]:Cs[zt.Speed1].add(L.hundred).div(L.hundred),[zt.Speed2]:Cs[zt.Speed2].add(L.hundred).div(L.hundred),[zt.Speed3]:Cs[zt.Speed3].add(L.hundred).div(L.hundred),[zt.Speed4]:Cs[zt.Speed4].add(L.hundred).div(L.hundred),[zt.Speed5]:Cs[zt.Speed5].add(L.hundred).div(L.hundred),[zt.Speed6]:Cs[zt.Speed6].add(L.hundred).div(L.hundred)};var Ti=(()=>{return(n=Ti||(Ti={}))[n.Justify=0]="Justify",n[n.Left=1]="Left",n[n.Right=2]="Right",n[n.Center=3]="Center",Ti;var n})();const la=[{id:Ti.Justify,name:"Justify"},{id:Ti.Left,name:"Left"},{id:Ti.Right,name:"Right"},{id:Ti.Center,name:"Center"}];var Qi=(()=>{return(n=Qi||(Qi={}))[n.Disabled=0]="Disabled",n[n.JsBigIntRational=1]="JsBigIntRational",n[n.WasmFloat64=2]="WasmFloat64",Qi;var n})(),Go=(()=>{return(n=Go||(Go={}))[n.None=0]="None",n[n.Item=1]="Item",n[n.Recipe=2]="Recipe",n[n.Factory=3]="Factory",n[n.Recipes=4]="Recipes",Go;var n})();class $n{constructor(r){null!=r.factoryId&&(this.factoryId=r.factoryId),null!=r.factoryModuleIds&&(this.factoryModuleIds=r.factoryModuleIds),null!=r.beaconCount&&(this.beaconCount=L.fromString(r.beaconCount)),null!=r.beaconId&&(this.beaconId=r.beaconId),null!=r.beaconModuleIds&&(this.beaconModuleIds=r.beaconModuleIds),null!=r.beaconTotal&&(this.beaconTotal=L.fromString(r.beaconTotal)),null!=r.overclock&&(this.overclock=L.fromNumber(r.overclock)),null!=r.cost&&(this.cost=L.fromString(r.cost))}}const ef="state",gr="FactorioLab",rf={[Xr.Chest]:{[kn.Capacity0]:[{id:st.Inserter,value:L.fromNumber(.83)},{id:st.LongHandedInserter,value:L.fromNumber(1.2)},{id:st.FastInserter,value:L.fromNumber(2.31)},{id:st.StackInserter,value:L.fromNumber(4.62)}],[kn.Capacity2]:[{id:st.Inserter,value:L.fromNumber(1.67)},{id:st.LongHandedInserter,value:L.fromNumber(2.4)},{id:st.FastInserter,value:L.fromNumber(4.62)},{id:st.StackInserter,value:L.fromNumber(9.23)}],[kn.Capacity7]:[{id:st.Inserter,value:L.fromNumber(2.5)},{id:st.LongHandedInserter,value:L.fromNumber(3.6)},{id:st.FastInserter,value:L.fromNumber(6.92)},{id:st.StackInserter,value:L.fromNumber(27.69)}]},[Xr.ExpressTransportBelt]:{[kn.Capacity0]:[{id:st.Inserter,value:L.fromNumber(.83)},{id:st.LongHandedInserter,value:L.fromNumber(1.2)},{id:st.FastInserter,value:L.fromNumber(2.31)},{id:st.StackInserter,value:L.fromNumber(4.44)}],[kn.Capacity2]:[{id:st.Inserter,value:L.fromNumber(1.64)},{id:st.LongHandedInserter,value:L.fromNumber(2.35)},{id:st.FastInserter,value:L.fromNumber(4.44)},{id:st.StackInserter,value:L.fromNumber(7.74)}],[kn.Capacity7]:[{id:st.Inserter,value:L.fromNumber(2.43)},{id:st.LongHandedInserter,value:L.fromNumber(3.46)},{id:st.FastInserter,value:L.fromNumber(6.43)},{id:st.StackInserter,value:L.fromNumber(13.85)}]},[Xr.FastTransportBelt]:{[kn.Capacity0]:[{id:st.Inserter,value:L.fromNumber(.83)},{id:st.LongHandedInserter,value:L.fromNumber(1.2)},{id:st.FastInserter,value:L.fromNumber(2.31)},{id:st.StackInserter,value:L.fromNumber(4.44)}],[kn.Capacity2]:[{id:st.Inserter,value:L.fromNumber(1.64)},{id:st.LongHandedInserter,value:L.fromNumber(2.35)},{id:st.FastInserter,value:L.fromNumber(4.44)},{id:st.StackInserter,value:L.fromNumber(7.06)}],[kn.Capacity7]:[{id:st.Inserter,value:L.fromNumber(2.37)},{id:st.LongHandedInserter,value:L.fromNumber(3.33)},{id:st.FastInserter,value:L.fromNumber(6)},{id:st.StackInserter,value:L.fromNumber(10.91)}]},[Xr.TransportBelt]:{[kn.Capacity0]:[{id:st.Inserter,value:L.fromNumber(.83)},{id:st.LongHandedInserter,value:L.fromNumber(1.2)},{id:st.FastInserter,value:L.fromNumber(2.31)},{id:st.StackInserter,value:L.fromNumber(4.44)}],[kn.Capacity2]:[{id:st.Inserter,value:L.fromNumber(1.64)},{id:st.LongHandedInserter,value:L.fromNumber(2.35)},{id:st.FastInserter,value:L.fromNumber(4.44)},{id:st.StackInserter,value:L.fromNumber(5.71)}],[kn.Capacity7]:[{id:st.Inserter,value:L.fromNumber(2.25)},{id:st.LongHandedInserter,value:L.fromNumber(3.1)},{id:st.FastInserter,value:L.fromNumber(5.29)},{id:st.StackInserter,value:L.fromNumber(6.79)}]}};class By{constructor(r){this.id=r.id,this.itemId=r.itemId,this.rate=L.fromString(r.rate),this.rateType=r.rateType,r.viaId&&(this.viaId=r.viaId),r.viaSetting&&(this.viaSetting=r.viaSetting),r.viaFactoryModuleIds&&(this.viaFactoryModuleIds=r.viaFactoryModuleIds),null!=r.viaBeaconCount&&(this.viaBeaconCount=L.fromString(r.viaBeaconCount)),null!=r.viaBeaconId&&(this.viaBeaconId=r.viaBeaconId),null!=r.viaBeaconModuleIds&&(this.viaBeaconModuleIds=r.viaBeaconModuleIds),null!=r.viaOverclock&&(this.viaOverclock=L.fromNumber(r.viaOverclock))}}var It=M(9646),ei=M(8306),Hn=M(4351),zn=M(9300),yt=M(4004);class Sp{}class Ql{}class Wi{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let i=r[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof Wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new Wi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let i=r.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(r.name,e);const o=("a"===r.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=r.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(_=>-1===l.indexOf(_)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class Ap{encodeKey(r){return sf(r)}encodeValue(r){return sf(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Op=/%(\d[a-f0-9])/gi,Pp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sf(n){return encodeURIComponent(n).replace(Op,(r,e)=>Pp[e]??r)}function Ss(n){return`${n}`}class di{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Ap,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mp(n,r){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,_]=-1==l?[r.decodeKey(o),""]:[r.decodeKey(o.slice(0,l)),r.decodeValue(o.slice(l+1))],g=e.get(d)||[];g.push(_),e.set(d,g)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const i=r.fromObject[e],o=Array.isArray(i)?i.map(Ss):[Ss(i)];this.map.set(e,o)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(i=>{const o=r[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new di({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(Ss(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let i=this.map.get(r.param)||[];const o=i.indexOf(Ss(r.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(r.param,i):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class ua{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function da(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function af(n){return typeof Blob<"u"&&n instanceof Blob}function cf(n){return typeof FormData<"u"&&n instanceof FormData}class As{constructor(r,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function Yl(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Wi),this.context||(this.context=new ua),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+d}}else this.params=new di,this.urlWithParams=e}serializeBody(){return null===this.body?null:da(this.body)||af(this.body)||cf(this.body)||function Rp(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof di?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cf(this.body)?null:af(this.body)?this.body.type||null:da(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof di?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const e=r.method||this.method,i=r.url||this.url,o=r.responseType||this.responseType,l=void 0!==r.body?r.body:this.body,d=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,_=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let g=r.headers||this.headers,h=r.params||this.params;const b=r.context??this.context;return void 0!==r.setHeaders&&(g=Object.keys(r.setHeaders).reduce((T,P)=>T.set(P,r.setHeaders[P]),g)),r.setParams&&(h=Object.keys(r.setParams).reduce((T,P)=>T.set(P,r.setParams[P]),h)),new As(e,i,l,{params:h,headers:g,context:b,reportProgress:_,responseType:o,withCredentials:d})}}var vn=(()=>((vn=vn||{})[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn))();class Ms{constructor(r,e=200,i="OK"){this.headers=r.headers||new Wi,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||i,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class sc extends Ms{constructor(r={}){super(r),this.type=vn.ResponseHeader}clone(r={}){return new sc({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Gt extends Ms{constructor(r={}){super(r),this.type=vn.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Gt({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class or extends Ms{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function qn(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fa=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof As)l=e;else{let g,h;g=o.headers instanceof Wi?o.headers:new Wi(o.headers),o.params&&(h=o.params instanceof di?o.params:new di({fromObject:o.params})),l=new As(e,i,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=(0,It.of)(l).pipe((0,Hn.b)(g=>this.handler.handle(g)));if(e instanceof As||"events"===o.observe)return d;const _=d.pipe((0,zn.h)(g=>g instanceof Gt));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return _.pipe((0,yt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return _.pipe((0,yt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return _.pipe((0,yt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return _.pipe((0,yt.U)(g=>g.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new di).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,qn(o,i))}post(e,i,o={}){return this.request("POST",e,qn(o,i))}put(e,i,o={}){return this.request("PUT",e,qn(o,i))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Sp))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Os{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const lf=new t.OlP("HTTP_INTERCEPTORS");let Np=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const df=/^\)\]\}',?\n/;let ff=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ei.y(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((S,F)=>o.setRequestHeader(S,F.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&o.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();o.responseType="json"!==S?S:"text"}const l=e.serializeBody();let d=null;const _=()=>{if(null!==d)return d;const S=o.statusText||"OK",F=new Wi(o.getAllResponseHeaders()),te=function uc(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return d=new sc({headers:F,status:o.status,statusText:S,url:te}),d},g=()=>{let{headers:S,status:F,statusText:te,url:ce}=_(),me=null;204!==F&&(me=typeof o.response>"u"?o.responseText:o.response),0===F&&(F=me?200:0);let xe=F>=200&&F<300;if("json"===e.responseType&&"string"==typeof me){const _e=me;me=me.replace(df,"");try{me=""!==me?JSON.parse(me):null}catch(V){me=_e,xe&&(xe=!1,me={error:V,text:me})}}xe?(i.next(new Gt({body:me,headers:S,status:F,statusText:te,url:ce||void 0})),i.complete()):i.error(new or({error:me,headers:S,status:F,statusText:te,url:ce||void 0}))},h=S=>{const{url:F}=_(),te=new or({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:F||void 0});i.error(te)};let b=!1;const T=S=>{b||(i.next(_()),b=!0);let F={type:vn.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(F.total=S.total),"text"===e.responseType&&!!o.responseText&&(F.partialText=o.responseText),i.next(F)},P=S=>{let F={type:vn.UploadProgress,loaded:S.loaded};S.lengthComputable&&(F.total=S.total),i.next(F)};return o.addEventListener("load",g),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),e.reportProgress&&(o.addEventListener("progress",T),null!==l&&o.upload&&o.upload.addEventListener("progress",P)),o.send(l),i.next({type:vn.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",g),o.removeEventListener("timeout",h),e.reportProgress&&(o.removeEventListener("progress",T),null!==l&&o.upload&&o.upload.removeEventListener("progress",P)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Mn))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Di=new t.OlP("XSRF_COOKIE_NAME"),v=new t.OlP("XSRF_HEADER_NAME");class x{}let C=(()=>{class n{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ws(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($),t.LFG(t.Lbi),t.LFG(Di))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),N=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x),t.LFG(v))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Z=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(lf,[]);this.chain=i.reduceRight((o,l)=>new Os(o,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ql),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),le=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:N,useClass:Np}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Di,useValue:e.cookieName}:[],e.headerName?{provide:v,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[N,{provide:lf,useExisting:N,multi:!0},{provide:x,useClass:C},{provide:Di,useValue:"XSRF-TOKEN"},{provide:v,useValue:"X-XSRF-TOKEN"}]}),n})(),Je=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[fa,{provide:Sp,useClass:Z},ff,{provide:Ql,useExisting:ff}],imports:[le.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var bt=M(457);const{isArray:Mt}=Array,{getPrototypeOf:Bt,prototype:en,keys:fi}=Object;function hr(n){if(1===n.length){const r=n[0];if(Mt(r))return{args:r,keys:null};if(function mr(n){return n&&"object"==typeof n&&Bt(n)===en}(r)){const e=fi(r);return{args:e.map(i=>r[i]),keys:e}}}return{args:n,keys:null}}var Cr=M(8421),Gn=M(7669),bn=M(5403);const{isArray:_a}=Array;function _f(n){return(0,yt.U)(r=>function Ln(n,r){return _a(r)?n(...r):n(r)}(n,r))}function kp(n,r){return n.reduce((e,i,o)=>(e[i]=r[o],e),{})}function Lp(...n){const r=(0,Gn.jO)(n),{args:e,keys:i}=hr(n),o=new ei.y(l=>{const{length:d}=e;if(!d)return void l.complete();const _=new Array(d);let g=d,h=d;for(let b=0;b<d;b++){let T=!1;(0,Cr.Xf)(e[b]).subscribe((0,bn.x)(l,P=>{T||(T=!0,h--),_[b]=P},()=>g--,void 0,()=>{(!g||!T)&&(h||l.next(i?kp(i,_):_),l.complete())}))}});return r?o.pipe(_f(r)):o}let Bp=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n}),n})(),Ps=(()=>{class n extends Bp{}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,features:[t.qOj]}),n})();const yo=new t.OlP("NgValueAccessor"),Kw={provide:yo,useExisting:(0,t.Gpc)(()=>_i),multi:!0},Rs=new t.OlP("CompositionEventMode");let _i=(()=>{class n extends Bp{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xw(){const n=W()?W().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(Rs,8))},n.\u0275dir=t.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&t.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[t._Bn([Kw]),t.qOj]}),n})();function Ns(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function eI(n){return null!=n&&"number"==typeof n.length}const yr=new t.OlP("NgValidators"),pa=new t.OlP("NgAsyncValidators"),GT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jy{static min(r){return Zp(r)}static max(r){return $y(r)}static required(r){return function Hy(n){return Ns(n.value)?{required:!0}:null}(r)}static requiredTrue(r){return function zy(n){return!0===n.value?null:{required:!0}}(r)}static email(r){return function qy(n){return Ns(n.value)||GT.test(n.value)?null:{email:!0}}(r)}static minLength(r){return function tI(n){return r=>Ns(r.value)||!eI(r.value)?null:r.value.length<n?{minlength:{requiredLength:n,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function Gy(n){return r=>eI(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}(r)}static pattern(r){return function Xl(n){if(!n)return eu;let r,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),r=new RegExp(e)):(e=n.toString(),r=n),i=>{if(Ns(i.value))return null;const o=i.value;return r.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(r)}static nullValidator(r){return null}static compose(r){return rI(r)}static composeAsync(r){return pf(r)}}function Zp(n){return r=>{if(Ns(r.value)||Ns(n))return null;const e=parseFloat(r.value);return!isNaN(e)&&e<n?{min:{min:n,actual:r.value}}:null}}function $y(n){return r=>{if(Ns(r.value)||Ns(n))return null;const e=parseFloat(r.value);return!isNaN(e)&&e>n?{max:{max:n,actual:r.value}}:null}}function eu(n){return null}function Ki(n){return null!=n}function dc(n){const r=(0,t.QGY)(n)?(0,bt.D)(n):n;return(0,t.CqO)(r),r}function Up(n){let r={};return n.forEach(e=>{r=null!=e?{...r,...e}:r}),0===Object.keys(r).length?null:r}function Vp(n,r){return r.map(e=>e(n))}function nI(n){return n.map(r=>function Jy(n){return!n.validate}(r)?r:e=>r.validate(e))}function rI(n){if(!n)return null;const r=n.filter(Ki);return 0==r.length?null:function(e){return Up(Vp(e,r))}}function Qy(n){return null!=n?rI(nI(n)):null}function pf(n){if(!n)return null;const r=n.filter(Ki);return 0==r.length?null:function(e){return Lp(Vp(e,r).map(dc)).pipe((0,yt.U)(Up))}}function tu(n){return null!=n?pf(nI(n)):null}function gf(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function iI(n){return n._rawValidators}function oI(n){return n._rawAsyncValidators}function hf(n){return n?Array.isArray(n)?n:[n]:[]}function mf(n,r){return Array.isArray(n)?n.includes(r):n===r}function Yy(n,r){const e=hf(r);return hf(n).forEach(o=>{mf(e,o)||e.push(o)}),e}function Wy(n,r){return hf(r).filter(e=>!mf(n,e))}class Ky{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Qy(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=tu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class Tr extends Ky{get formDirective(){return null}get path(){return null}}class Xi extends Ky{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let wn=(()=>{class n extends class Xy{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Xi,2))},n.\u0275dir=t.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&t.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[t.qOj]}),n})();const _c="VALID",bf="INVALID",pc="PENDING",ru="DISABLED";function wf(n){return Array.isArray(n)?Qy(n):n||null}function r1(n){return Array.isArray(n)?tu(n):n||null}function If(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ga(n,r){(function Qp(n,r){const e=iI(n);null!==r.validator?n.setValidators(gf(e,r.validator)):"function"==typeof e&&n.setValidators([e]);const i=oI(n);null!==r.asyncValidator?n.setAsyncValidators(gf(i,r.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();Ef(r._rawValidators,o),Ef(r._rawAsyncValidators,o)})(n,r),r.valueAccessor.writeValue(n.value),n.disabled&&r.valueAccessor.setDisabledState?.(!0),function fI(n,r){r.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&l1(n,r)})}(n,r),function _I(n,r){const e=(i,o)=>{r.valueAccessor.writeValue(i),o&&r.viewToModelUpdate(i)};n.registerOnChange(e),r._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,r),function c1(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&l1(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function a1(n,r){if(r.valueAccessor.setDisabledState){const e=i=>{r.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,r)}function xf(n,r,e=!0){const i=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(i),r.valueAccessor.registerOnTouched(i)),function iu(n,r){let e=!1;if(null!==n){if(null!==r.validator){const o=iI(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==r.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==r.asyncValidator){const o=oI(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==r.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return Ef(r._rawValidators,i),Ef(r._rawAsyncValidators,i),e}(n,r),n&&(r._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ef(n,r){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function l1(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Yp(n,r){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}function Cf(n,r){if(!r)return null;let e,i,o;return Array.isArray(r),r.forEach(l=>{l.constructor===_i?e=l:function KT(n){return Object.getPrototypeOf(n.constructor)===Ps}(l)?i=l:o=l}),o||i||e||null}function Xp(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}function gc(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hc=class extends class o1{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=wf(this._rawValidators),this._composedAsyncValidatorFn=r1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===_c}get invalid(){return this.status===bf}get pending(){return this.status==pc}get disabled(){return this.status===ru}get enabled(){return this.status!==ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=wf(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=r1(r)}addValidators(r){this.setValidators(Yy(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Yy(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Wy(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Wy(r,this._rawAsyncValidators))}hasValidator(r){return mf(this._rawValidators,r)}hasAsyncValidator(r){return mf(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=pc,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=ru,this.errors=null,this._forEachChild(i=>{i.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=_c,this._forEachChild(i=>{i.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_c||this.status===pc)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ru:_c}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=pc,this._hasOwnPendingAsyncValidator=!0;const e=dc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){let e=r;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(r,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?ru:this.errors?bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pc)?pc:this._anyControlsHaveStatus(bf)?bf:_c}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){If(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}}{constructor(r=null,e,i){super(function zp(n){return(If(n)?n.validators:n)||null}(e),function qp(n,r){return(If(r)?r.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),If(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=gc(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Xp(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Xp(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){gc(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},tg={provide:Xi,useExisting:(0,t.Gpc)(()=>Ls)},p1=(()=>Promise.resolve(null))();let Ls=(()=>{class n extends Xi{constructor(e,i,o,l,d){super(),this._changeDetectorRef=d,this.control=new hc,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Cf(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Yp(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ga(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){p1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,t.D6c)(i);p1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Fs(n,r){return[...r.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Tr,9),t.Y36(yr,10),t.Y36(pa,10),t.Y36(yo,10),t.Y36(t.sBO,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([tg]),t.qOj,t.TTD]}),n})();const wI={provide:yo,useExisting:(0,t.Gpc)(()=>su),multi:!0};let su=(()=>{class n extends Ps{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&t.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[t._Bn([wI]),t.qOj]}),n})(),Df=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const Af=new t.OlP("NgModelWithFormControlWarning"),m1={provide:Xi,useExisting:(0,t.Gpc)(()=>Qo)};let Qo=(()=>{class n extends Xi{constructor(e,i,o,l){super(),this._ngModelWarningConfig=l,this.update=new t.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Cf(0,o)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&xf(i,this,!1),ga(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Yp(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&xf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(t.Y36(yr,10),t.Y36(pa,10),t.Y36(yo,10),t.Y36(Af,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t._Bn([m1]),t.qOj,t.TTD]}),n})();function x1(n){return"number"==typeof n?n:parseFloat(n)}let Bs=(()=>{class n{constructor(){this._validator=eu}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):eu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,features:[t.TTD]}),n})();const dg={provide:yr,useExisting:(0,t.Gpc)(()=>yc),multi:!0};let yc=(()=>{class n extends Bs{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>x1(e),this.createValidator=e=>$y(e)}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&t.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[t._Bn([dg]),t.qOj]}),n})();const eD={provide:yr,useExisting:(0,t.Gpc)(()=>vc),multi:!0};let vc=(()=>{class n extends Bs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>x1(e),this.createValidator=e=>Zp(e)}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&t.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[t._Bn([eD]),t.qOj]}),n})(),Vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Df]}),n})(),pg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Vt]}),n})(),M1=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Af,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Vt]}),n})();class gg{}const Yo="*";function hg(n,r=null){return{type:4,styles:r,timings:n}}function MI(n,r=null){return{type:2,steps:n,options:r}}function bc(n){return{type:6,styles:n,offset:null}}function mg(n,r,e=null){return{type:1,expr:n,animation:r,options:e}}function au(n){Promise.resolve(null).then(n)}class cu{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){au(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Ff{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,i=0,o=0;const l=this.players.length;0==l?au(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,_)=>Math.max(d,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const e=r*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const r=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const qt=!1;function kf(n){return new t.vHH(3e3,qt)}function z1(){return typeof window<"u"&&typeof window.document<"u"}function Bf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function bo(n){switch(n.length){case 0:return new cu;case 1:return n[0];default:return new Ff(n)}}function WI(n,r,e,i,o=new Map,l=new Map){const d=[],_=[];let g=-1,h=null;if(i.forEach(b=>{const T=b.get("offset"),P=T==g,S=P&&h||new Map;b.forEach((F,te)=>{let ce=te,me=F;if("offset"!==te)switch(ce=r.normalizePropertyName(ce,d),me){case"!":me=o.get(te);break;case Yo:me=l.get(te);break;default:me=r.normalizeStyleValue(te,ce,me,d)}S.set(ce,me)}),P||_.push(S),h=S,g=T}),d.length)throw function xc(n){return new t.vHH(3502,qt)}();return _}function du(n,r,e,i){switch(r){case"start":n.onStart(()=>i(e&&wg(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wg(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wg(e,"destroy",n)))}}function wg(n,r,e){const l=q1(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(l._data=d),l}function q1(n,r,e,i,o="",l=0,d){return{element:n,triggerName:r,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!d}}function dr(n,r,e){let i=n.get(r);return i||n.set(r,i=e),i}function Ig(n){const r=n.indexOf(":");return[n.substring(1,r),n.slice(r+1)]}let xg=(n,r)=>!1,G1=(n,r,e)=>[],Zf=null;function J1(n){const r=n.parentNode||n.host;return r===Zf?null:r}(Bf()||typeof Element<"u")&&(z1()?(Zf=(()=>document.documentElement)(),xg=(n,r)=>{for(;r;){if(r===n)return!0;r=J1(r)}return!1}):xg=(n,r)=>n.contains(r),G1=(n,r,e)=>{if(e)return Array.from(n.querySelectorAll(r));const i=n.querySelector(r);return i?[i]:[]});let Ec=null,KI=!1;const Cg=xg,Uf=G1;let Q1=(()=>{class n{validateStyleProperty(e){return function gD(n){Ec||(Ec=function hD(){return typeof document<"u"?document.body:null}()||{},KI=!!Ec.style&&"WebkitAppearance"in Ec.style);let r=!0;return Ec.style&&!function Eg(n){return"ebkit"==n.substring(1,6)}(n)&&(r=n in Ec.style,!r&&KI&&(r="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ec.style)),r}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Cg(e,i)}getParentElement(e){return J1(e)}query(e,i,o){return Uf(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,d,_=[],g){return new cu(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Vf=(()=>{class n{}return n.NOOP=new Q1,n})();const jf="ng-enter",$f="ng-leave",Cc="ng-trigger",Si=".ng-trigger",Hf="ng-animating",zf=".ng-animating";function wo(n){if("number"==typeof n)return n;const r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:W1(parseFloat(r[1]),r[2])}function W1(n,r){return"s"===r?1e3*n:n}function _u(n,r,e){return n.hasOwnProperty("duration")?n:function mD(n,r,e){let o,l=0,d="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return r.push(kf()),{duration:0,delay:0,easing:""};o=W1(parseFloat(_[1]),_[2]);const g=_[3];null!=g&&(l=W1(parseFloat(g),_[4]));const h=_[5];h&&(d=h)}else o=n;if(!e){let _=!1,g=r.length;o<0&&(r.push(function RI(){return new t.vHH(3100,qt)}()),_=!0),l<0&&(r.push(function NI(){return new t.vHH(3101,qt)}()),_=!0),_&&r.splice(g,0,kf())}return{duration:o,delay:l,easing:d}}(n,r,e)}function Zs(n,r={}){return Object.keys(n).forEach(e=>{r[e]=n[e]}),r}function pu(n){const r=new Map;return Object.keys(n).forEach(e=>{r.set(e,n[e])}),r}function Io(n,r=new Map,e){if(e)for(let[i,o]of e)r.set(i,o);for(let[i,o]of n)r.set(i,o);return r}function ex(n,r,e){return e?r+":"+e+";":""}function K1(n){let r="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);r+=ex(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=ex(0,Ag(e),n.style[e]));n.setAttribute("style",r)}function xo(n,r,e){n.style&&(r.forEach((i,o)=>{const l=Sg(o);e&&!e.has(o)&&e.set(o,n.style[l]),n.style[l]=i}),Bf()&&K1(n))}function ya(n,r){n.style&&(r.forEach((e,i)=>{const o=Sg(i);n.style[o]=""}),Bf()&&K1(n))}function gu(n){return Array.isArray(n)?1==n.length?n[0]:MI(n):n}const ev=new RegExp("{{\\s*(.+?)\\s*}}","g");function tv(n){let r=[];if("string"==typeof n){let e;for(;e=ev.exec(n);)r.push(e[1]);ev.lastIndex=0}return r}function Dg(n,r,e){const i=n.toString(),o=i.replace(ev,(l,d)=>{let _=r[d];return null==_&&(e.push(function Ic(n){return new t.vHH(3003,qt)}()),_=""),_.toString()});return o==i?n:o}function hu(n){const r=[];let e=n.next();for(;!e.done;)r.push(e.value),e=n.next();return r}const nv=/-+([a-z0-9])/g;function Sg(n){return n.replace(nv,(...r)=>r[1].toUpperCase())}function Ag(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ai(n,r,e){switch(r.type){case 7:return n.visitTrigger(r,e);case 0:return n.visitState(r,e);case 1:return n.visitTransition(r,e);case 2:return n.visitSequence(r,e);case 3:return n.visitGroup(r,e);case 4:return n.visitAnimate(r,e);case 5:return n.visitKeyframes(r,e);case 6:return n.visitStyle(r,e);case 8:return n.visitReference(r,e);case 9:return n.visitAnimateChild(r,e);case 10:return n.visitAnimateRef(r,e);case 11:return n.visitQuery(r,e);case 12:return n.visitStagger(r,e);default:throw function FI(n){return new t.vHH(3004,qt)}()}}function tx(n,r){return window.getComputedStyle(n)[r]}function iv(n,r){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Pg(n,r,e){if(":"==n[0]){const g=function ov(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return r.push(function jI(n){return new t.vHH(3016,qt)}()),"* => *"}}(n,e);if("function"==typeof g)return void r.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function fD(n){return new t.vHH(3015,qt)}()),r;const o=i[1],l=i[2],d=i[3];r.push(Wo(o,d));"<"==l[0]&&!("*"==o&&"*"==d)&&r.push(Wo(d,o))}(i,e,r)):e.push(n),e}const Tc=new Set(["true","1"]),Jf=new Set(["false","0"]);function Wo(n,r){const e=Tc.has(n)||Jf.has(n),i=Tc.has(r)||Jf.has(r);return(o,l)=>{let d="*"==n||n==o,_="*"==r||r==l;return!d&&e&&"boolean"==typeof o&&(d=o?Tc.has(n):Jf.has(n)),!_&&i&&"boolean"==typeof l&&(_=l?Tc.has(r):Jf.has(r)),d&&_}}const nx=new RegExp("s*:selfs*,?","g");function mu(n,r,e,i){return new av(n).build(r,e,i)}class av{constructor(r){this._driver=r}build(r,e,i){const o=new yu(e);return this._resetContextStyleTimingState(o),Ai(this,gu(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],d=[];return"@"==r.name.charAt(0)&&e.errors.push(function LI(){return new t.vHH(3006,qt)}()),r.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const g=_,h=g.name;h.toString().split(/\s*,\s*/).forEach(b=>{g.name=b,l.push(this.visitState(g,e))}),g.name=h}else if(1==_.type){const g=this.visitTransition(_,e);i+=g.queryCount,o+=g.depCount,d.push(g)}else e.errors.push(function BI(){return new t.vHH(3007,qt)}())}),{type:7,name:r.name,states:l,transitions:d,queryCount:i,depCount:o,options:null}}visitState(r,e){const i=this.visitStyle(r.styles,e),o=r.options&&r.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=o||{};i.styles.forEach(_=>{_ instanceof Map&&_.forEach(g=>{tv(g).forEach(h=>{d.hasOwnProperty(h)||l.add(h)})})}),l.size&&(hu(l.values()),e.errors.push(function yg(n,r){return new t.vHH(3008,qt)}()))}return{type:0,name:r.name,style:i,options:o?{params:o}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;const i=Ai(this,gu(r.animation),e);return{type:1,matchers:iv(r.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Mi(r.options)}}visitSequence(r,e){return{type:2,steps:r.steps.map(i=>Ai(this,i,e)),options:Mi(r.options)}}visitGroup(r,e){const i=e.currentTime;let o=0;const l=r.steps.map(d=>{e.currentTime=i;const _=Ai(this,d,e);return o=Math.max(o,e.currentTime),_});return e.currentTime=o,{type:3,steps:l,options:Mi(r.options)}}visitAnimate(r,e){const i=function Ng(n,r){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ba(_u(n,r).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=ba(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=_u(e,r);return ba(o.duration,o.delay,o.easing)}(r.timings,e.errors);e.currentAnimateTimings=i;let o,l=r.styles?r.styles:bc({});if(5==l.type)o=this.visitKeyframes(l,e);else{let d=r.styles,_=!1;if(!d){_=!0;const h={};i.easing&&(h.easing=i.easing),d=bc(h)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(d,e);g.isEmptyStep=_,o=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(r,e){const i=this._makeStyleAst(r,e);return this._validateStyleAst(i,e),i}_makeStyleAst(r,e){const i=[],o=Array.isArray(r.styles)?r.styles:[r.styles];for(let _ of o)"string"==typeof _?_===Yo?i.push(_):e.errors.push(new t.vHH(3002,qt)):i.push(pu(_));let l=!1,d=null;return i.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(d=_.get("easing"),_.delete("easing")),!l))for(let g of _.values())if(g.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:d,offset:r.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(r,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),r.styles.forEach(d=>{"string"!=typeof d&&d.forEach((_,g)=>{const h=e.collectedStyles.get(e.currentQuerySelector),b=h.get(g);let T=!0;b&&(l!=o&&l>=b.startTime&&o<=b.endTime&&(e.errors.push(function vo(n,r,e,i,o){return new t.vHH(3010,qt)}()),T=!1),l=b.startTime),T&&h.set(g,{startTime:l,endTime:o}),e.options&&function X1(n,r,e){const i=r.params||{},o=tv(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function Z1(n){return new t.vHH(3001,qt)}())})}(_,e.options,e.errors)})})}visitKeyframes(r,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function UI(){return new t.vHH(3011,qt)}()),i;let l=0;const d=[];let _=!1,g=!1,h=0;const b=r.steps.map(me=>{const xe=this._makeStyleAst(me,e);let _e=null!=xe.offset?xe.offset:function Dc(n){if("string"==typeof n)return null;let r=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;r=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;r=parseFloat(e.get("offset")),e.delete("offset")}return r}(xe.styles),V=0;return null!=_e&&(l++,V=xe.offset=_e),g=g||V<0||V>1,_=_||V<h,h=V,d.push(V),xe});g&&e.errors.push(function vg(){return new t.vHH(3012,qt)}()),_&&e.errors.push(function bg(){return new t.vHH(3200,qt)}());const T=r.steps.length;let P=0;l>0&&l<T?e.errors.push(function VI(){return new t.vHH(3202,qt)}()):0==l&&(P=1/(T-1));const S=T-1,F=e.currentTime,te=e.currentAnimateTimings,ce=te.duration;return b.forEach((me,xe)=>{const _e=P>0?xe==S?1:P*xe:d[xe],V=_e*ce;e.currentTime=F+te.delay+V,te.duration=V,this._validateStyleAst(me,e),me.offset=_e,i.styles.push(me)}),i}visitReference(r,e){return{type:8,animation:Ai(this,gu(r.animation),e),options:Mi(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:9,options:Mi(r.options)}}visitAnimateRef(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:Mi(r.options)}}visitQuery(r,e){const i=e.currentQuerySelector,o=r.options||{};e.queryCount++,e.currentQuery=r;const[l,d]=function rx(n){const r=!!n.split(/\s*,\s*/).find(e=>":self"==e);return r&&(n=n.replace(nx,"")),n=n.replace(/@\*/g,Si).replace(/@\w+/g,e=>Si+"-"+e.slice(1)).replace(/:animating/g,zf),[n,r]}(r.selector);e.currentQuerySelector=i.length?i+" "+l:l,dr(e.collectedStyles,e.currentQuerySelector,new Map);const _=Ai(this,gu(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:_,originalSelector:r.selector,options:Mi(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(function uD(){return new t.vHH(3013,qt)}());const i="full"===r.timings?{duration:0,delay:0,easing:"full"}:_u(r.timings,e.errors,!0);return{type:12,animation:Ai(this,gu(r.animation),e),timings:i,options:null}}}class yu{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function Mi(n){return n?(n=Zs(n)).params&&(n.params=function ix(n){return n?Zs(n):null}(n.params)):n={},n}function ba(n,r,e){return{duration:n,delay:r,easing:e}}function Us(n,r,e,i,o,l,d=null,_=!1){return{type:1,element:n,keyframes:r,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:d,subTimeline:_}}class Qf{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let i=this._map.get(r);i||this._map.set(r,i=[]),i.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Fg=new RegExp(":enter","g"),uv=new RegExp(":leave","g");function Sc(n,r,e,i,o,l=new Map,d=new Map,_,g,h=[]){return(new ox).buildKeyframes(n,r,e,i,o,l,d,_,g,h)}class ox{buildKeyframes(r,e,i,o,l,d,_,g,h,b=[]){h=h||new Qf;const T=new dv(r,e,h,o,l,b,[]);T.options=g;const P=g.delay?wo(g.delay):0;T.currentTimeline.delayNextStep(P),T.currentTimeline.setStyles([d],null,T.errors,g),Ai(this,i,T);const S=T.timelines.filter(F=>F.containsAnimation());if(S.length&&_.size){let F;for(let te=S.length-1;te>=0;te--){const ce=S[te];if(ce.element===e){F=ce;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([_],null,T.errors,g)}return S.length?S.map(F=>F.buildKeyframes()):[Us(e,[],[],[],0,P,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(r.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,o,o.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=r}visitAnimateRef(r,e){const i=e.createSubContext(r.options);i.transformIntoNewTimeline(),this.visitReference(r.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=r}_visitSubInstructions(r,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?wo(i.duration):null,_=null!=i.delay?wo(i.delay):null;return 0!==d&&r.forEach(g=>{const h=e.appendInstructionToTimeline(g,d,_);l=Math.max(l,h.duration+h.delay)}),l}visitReference(r,e){e.updateOptions(r.options,!0),Ai(this,r.animation,e),e.previousNode=r}visitSequence(r,e){const i=e.subContextCount;let o=e;const l=r.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=vu);const d=wo(l.delay);o.delayNextStep(d)}r.steps.length&&(r.steps.forEach(d=>Ai(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){const i=[];let o=e.currentTimeline.currentTime;const l=r.options&&r.options.delay?wo(r.options.delay):0;r.steps.forEach(d=>{const _=e.createSubContext(r.options);l&&_.delayNextStep(l),Ai(this,d,_),o=Math.max(o,_.currentTimeline.currentTime),i.push(_.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(o),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){const i=r.strValue;return _u(e.params?Dg(i,e.params,e.errors):i,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){const i=e.currentAnimateTimings=this._visitTiming(r.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=r.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=o&&o.easing||r.easing;r.isEmptyStep?i.applyEmptyStep(l):i.setStyles(r.styles,l,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,_=e.createSubContext().currentTimeline;_.easing=i.easing,r.styles.forEach(g=>{_.forwardTime((g.offset||0)*l),_.setStyles(g.styles,g.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(o+l),e.previousNode=r}visitQuery(r,e){const i=e.currentTimeline.currentTime,o=r.options||{},l=o.delay?wo(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vu);let d=i;const _=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=_.length;let g=null;_.forEach((h,b)=>{e.currentQueryIndex=b;const T=e.createSubContext(r.options,h);l&&T.delayNextStep(l),h===e.element&&(g=T.currentTimeline),Ai(this,r.animation,T),T.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){const i=e.parentContext,o=e.currentTimeline,l=r.timings,d=Math.abs(l.duration),_=d*(e.currentQueryTotal-1);let g=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":g=_-g;break;case"full":g=i.currentStaggerTime}const b=e.currentTimeline;g&&b.delayNextStep(g);const T=b.currentTime;Ai(this,r.animation,e),e.previousNode=r,i.currentStaggerTime=o.currentTime-T+(o.startTime-i.currentTimeline.startTime)}}const vu={};class dv{constructor(r,e,i,o,l,d,_,g){this._driver=r,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=d,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new bu(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;const i=r;let o=this.options;null!=i.duration&&(o.duration=wo(i.duration)),null!=i.delay&&(o.delay=wo(i.delay));const l=i.params;if(l){let d=o.params;d||(d=this.options.params={}),Object.keys(l).forEach(_=>{(!e||!d.hasOwnProperty(_))&&(d[_]=Dg(l[_],d,this.errors))})}}_copyOptions(){const r={};if(this.options){const e=this.options.params;if(e){const i=r.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return r}createSubContext(r=null,e,i){const o=e||this.element,l=new dv(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(r),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(r){return this.previousNode=vu,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,i){const o={duration:e??r.duration,delay:this.currentTimeline.currentTime+(i??0)+r.delay,easing:""},l=new fv(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,o,r.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,i,o,l,d){let _=[];if(o&&_.push(this.element),r.length>0){r=(r=r.replace(Fg,"."+this._enterClassName)).replace(uv,"."+this._leaveClassName);let h=this._driver.query(this.element,r,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),_.push(...h)}return!l&&0==_.length&&d.push(function dD(n){return new t.vHH(3014,qt)}()),_}}class bu{constructor(r,e,i,o){this._driver=r,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new bu(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles.set(r,e),this._globalTimelineStyles.set(r,e),this._styleSummary.set(r,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Yo),this._currentKeyframe.set(e,Yo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,i,o){e&&this._previousKeyframe.set("easing",e);const l=o&&o.params||{},d=function pv(n,r){const e=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||r.keys();for(let l of i)e.set(l,Yo)}else Io(o,e)}),e}(r,this._globalTimelineStyles);for(let[_,g]of d){const h=Dg(g,l,i);this._pendingStyles.set(_,h),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)||Yo),this._updateStyle(_,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,e)=>{this._currentKeyframe.set(e,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,r)}))}snapshotCurrentStyles(){for(let[r,e]of this._localTimelineStyles)this._pendingStyles.set(r,e),this._updateStyle(r,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((_,g)=>{const h=Io(_,new Map,this._backFill);h.forEach((b,T)=>{"!"===b?r.add(T):b===Yo&&e.add(T)}),i||h.set("offset",g/this.duration),o.push(h)});const l=r.size?hu(r.values()):[],d=e.size?hu(e.values()):[];if(i){const _=o[0],g=new Map(_);_.set("offset",0),g.set("offset",1),o=[_,g]}return Us(this.element,o,l,d,this.duration,this.startTime,this.easing,!1)}}class fv extends bu{constructor(r,e,i,o,l,d,_=!1){super(r,e,d.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=_,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,_=e/d,g=Io(r[0]);g.set("offset",0),l.push(g);const h=Io(r[0]);h.set("offset",_v(_)),l.push(h);const b=r.length-1;for(let T=1;T<=b;T++){let P=Io(r[T]);const S=P.get("offset");P.set("offset",_v((e+S*i)/d)),l.push(P)}i=d,e=0,o="",r=l}return Us(this.element,r,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function _v(n,r=3){const e=Math.pow(10,r-1);return Math.round(n*e)/e}class Lg{}const sx=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ax extends Lg{normalizePropertyName(r,e){return Sg(r)}normalizeStyleValue(r,e,i,o){let l="";const d=i.toString().trim();if(sx.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const _=i.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&o.push(function kI(n,r){return new t.vHH(3005,qt)}())}return d+l}}function cx(n,r,e,i,o,l,d,_,g,h,b,T,P){return{type:0,element:n,triggerName:r,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:_,queriedElements:g,preStyleProps:h,postStyleProps:b,totalTime:T,errors:P}}const Bg={};class Yf{constructor(r,e,i){this._triggerName=r,this.ast=e,this._stateStyles=i}match(r,e,i,o){return function gv(n,r,e,i,o){return n.some(l=>l(r,e,i,o))}(this.ast.matchers,r,e,i,o)}buildStyles(r,e,i){let o=this._stateStyles.get("*");return void 0!==r&&(o=this._stateStyles.get(r?.toString())||o),o?o.buildStyles(e,i):new Map}build(r,e,i,o,l,d,_,g,h,b){const T=[],P=this.ast.options&&this.ast.options.params||Bg,F=this.buildStyles(i,_&&_.params||Bg,T),te=g&&g.params||Bg,ce=this.buildStyles(o,te,T),me=new Set,xe=new Map,_e=new Map,V="void"===o,Ze={params:lx(te,P),delay:this.ast.options?.delay},oe=b?[]:Sc(r,e,this.ast.animation,l,d,F,ce,Ze,h,T);let ae=0;if(oe.forEach(et=>{ae=Math.max(et.duration+et.delay,ae)}),T.length)return cx(e,this._triggerName,i,o,V,F,ce,[],[],xe,_e,ae,T);oe.forEach(et=>{const qe=et.element,nt=dr(xe,qe,new Set);et.preStyleProps.forEach(Vn=>nt.add(Vn));const Nt=dr(_e,qe,new Set);et.postStyleProps.forEach(Vn=>Nt.add(Vn)),qe!==e&&me.add(qe)});const Ue=hu(me.values());return cx(e,this._triggerName,i,o,V,F,ce,oe,Ue,xe,_e,ae)}}function lx(n,r){const e=Zs(r);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class ux{constructor(r,e,i){this.styles=r,this.defaultParams=e,this.normalizer=i}buildStyles(r,e){const i=new Map,o=Zs(this.defaultParams);return Object.keys(r).forEach(l=>{const d=r[l];null!==d&&(o[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,_)=>{d&&(d=Dg(d,o,e));const g=this.normalizer.normalizePropertyName(_,e);d=this.normalizer.normalizeStyleValue(_,g,d,e),i.set(g,d)})}),i}}class hv{constructor(r,e,i){this.name=r,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new ux(o.style,o.options&&o.options.params||{},i))}),Zg(this.states,"true","1"),Zg(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Yf(r,o,this.states))}),this.fallbackTransition=function fx(n,r,e){return new Yf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,_)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,i,o){return this.transitionFactories.find(d=>d.match(r,e,i,o))||null}matchStyles(r,e,i){return this.fallbackTransition.buildStyles(r,e,i)}}function Zg(n,r,e){n.has(r)?n.has(e)||n.set(e,n.get(r)):n.has(e)&&n.set(r,n.get(e))}const _x=new Qf;class px{constructor(r,e,i){this.bodyNode=r,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,e){const i=[],l=mu(this._driver,e,i,[]);if(i.length)throw function HI(n){return new t.vHH(3503,qt)}();this._animations.set(r,l)}_buildPlayer(r,e,i){const o=r.element,l=WI(0,this._normalizer,0,r.keyframes,e,i);return this._driver.animate(o,l,r.duration,r.delay,r.easing,[],!0)}create(r,e,i={}){const o=[],l=this._animations.get(r);let d;const _=new Map;if(l?(d=Sc(this._driver,e,l,jf,$f,new Map,new Map,i,_x,o),d.forEach(b=>{const T=dr(_,b.element,new Map);b.postStyleProps.forEach(P=>T.set(P,null))})):(o.push(function j1(){return new t.vHH(3300,qt)}()),d=[]),o.length)throw function Lf(n){return new t.vHH(3504,qt)}();_.forEach((b,T)=>{b.forEach((P,S)=>{b.set(S,this._driver.computeStyle(T,S,Yo))})});const h=bo(d.map(b=>{const T=_.get(b.element);return this._buildPlayer(b,new Map,T)}));return this._playersById.set(r,h),h.onDestroy(()=>this.destroy(r)),this.players.push(h),h}destroy(r){const e=this._getPlayer(r);e.destroy(),this._playersById.delete(r);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(r){const e=this._playersById.get(r);if(!e)throw function zI(n){return new t.vHH(3301,qt)}();return e}listen(r,e,i,o){const l=q1(e,"","","");return du(this._getPlayer(r),i,l,o),()=>{}}command(r,e,i,o){if("register"==i)return void this.register(r,o[0]);if("create"==i)return void this.create(r,e,o[0]||{});const l=this._getPlayer(r);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(r)}}}const Ug="ng-animate-queued",Vg="ng-animate-disabled",hx=[],mx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pi="__ng_removed";class $g{constructor(r,e=""){this.namespaceId=e;const i=r&&r.hasOwnProperty("value");if(this.value=function bx(n){return n??null}(i?r.value:r),i){const l=Zs(r);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const e=r.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const wu="void",Iu=new $g(wu);class yx{constructor(r,e,i){this.id=r,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,ti(e,this._hostClassName)}listen(r,e,i,o){if(!this._triggers.has(e))throw function $1(n,r){return new t.vHH(3302,qt)}();if(null==i||0==i.length)throw function qI(n){return new t.vHH(3303,qt)}();if(!function zg(n){return"start"==n||"done"==n}(i))throw function GI(n,r){return new t.vHH(3400,qt)}();const l=dr(this._elementListeners,r,[]),d={name:e,phase:i,callback:o};l.push(d);const _=dr(this._engine.statesByElement,r,new Map);return _.has(e)||(ti(r,Cc),ti(r,Cc+"-"+e),_.set(e,Iu)),()=>{this._engine.afterFlush(()=>{const g=l.indexOf(d);g>=0&&l.splice(g,1),this._triggers.has(e)||_.delete(e)})}}register(r,e){return!this._triggers.has(r)&&(this._triggers.set(r,e),!0)}_getTrigger(r){const e=this._triggers.get(r);if(!e)throw function JI(n){return new t.vHH(3401,qt)}();return e}trigger(r,e,i,o=!0){const l=this._getTrigger(e),d=new Ac(this.id,e,r);let _=this._engine.statesByElement.get(r);_||(ti(r,Cc),ti(r,Cc+"-"+e),this._engine.statesByElement.set(r,_=new Map));let g=_.get(e);const h=new $g(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&h.absorbOptions(g.options),_.set(e,h),g||(g=Iu),h.value!==wu&&g.value===h.value){if(!function bv(n,r){const e=Object.keys(n),i=Object.keys(r);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!r.hasOwnProperty(l)||n[l]!==r[l])return!1}return!0}(g.params,h.params)){const te=[],ce=l.matchStyles(g.value,g.params,te),me=l.matchStyles(h.value,h.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{ya(r,ce),xo(r,me)})}return}const P=dr(this._engine.playersByElement,r,[]);P.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let S=l.matchTransition(g.value,h.value,r,h.params),F=!1;if(!S){if(!o)return;S=l.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:S,fromState:g,toState:h,player:d,isFallbackTransition:F}),F||(ti(r,Ug),d.onStart(()=>{xu(r,Ug)})),d.onDone(()=>{let te=this.players.indexOf(d);te>=0&&this.players.splice(te,1);const ce=this._engine.playersByElement.get(r);if(ce){let me=ce.indexOf(d);me>=0&&ce.splice(me,1)}}),this.players.push(d),P.push(d),d}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(e=>e.delete(r)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const e=this._engine.playersByElement.get(r);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){const i=this._engine.driver.query(r,Si,!0);i.forEach(o=>{if(o[Pi])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(d=>d.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(r,e,i,o){const l=this._engine.statesByElement.get(r),d=new Map;if(l){const _=[];if(l.forEach((g,h)=>{if(d.set(h,g.value),this._triggers.has(h)){const b=this.trigger(r,h,wu,o);b&&_.push(b)}}),_.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,d),i&&bo(_).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const e=this._elementListeners.get(r),i=this._engine.statesByElement.get(r);if(e&&i){const o=new Set;e.forEach(l=>{const d=l.name;if(o.has(d))return;o.add(d);const g=this._triggers.get(d).fallbackTransition,h=i.get(d)||Iu,b=new $g(wu),T=new Ac(this.id,d,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:d,transition:g,fromState:h,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(r,e){const i=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(r):[];if(l&&l.length)o=!0;else{let d=r;for(;d=d.parentNode;)if(i.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(r),o)i.markElementAsRemoved(this.id,r,!1,e);else{const l=r[Pi];(!l||l===mx)&&(i.afterFlush(()=>this.clearElementCache(r)),i.destroyInnerAnimations(r),i._onRemovalComplete(r,e))}}insertNode(r,e){ti(r,this._hostClassName)}drainQueuedTransitions(r){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(_=>{if(_.name==i.triggerName){const g=q1(l,i.triggerName,i.fromState.value,i.toState.value);g._data=r,du(i.player,_.phase,g,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,d=o.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let e=!1;return this._elementListeners.has(r)&&(e=!0),e=!!this._queue.find(i=>i.element===r)||e,e}}class vx{constructor(r,e,i){this.bodyNode=r,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&r.push(i)})}),r}createNamespace(r,e){const i=new yx(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[r]=i}_balanceNamespaceList(r,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,_=this.driver.getParentElement(e);for(;_;){const g=o.get(_);if(g){const h=i.indexOf(g);i.splice(h+1,0,r),d=!0;break}_=this.driver.getParentElement(_)}d||i.unshift(r)}else i.push(r);return o.set(e,r),r}register(r,e){let i=this._namespaceLookup[r];return i||(i=this.createNamespace(r,e)),i}registerTrigger(r,e,i){let o=this._namespaceLookup[r];o&&o.register(e,i)&&this.totalAnimations++}destroy(r,e){if(!r)return;const i=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[r];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const e=new Set,i=this.statesByElement.get(r);if(i)for(let o of i.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&e.add(l)}return e}trigger(r,e,i,o){if(Mc(e)){const l=this._fetchNamespace(r);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(r,e,i,o){if(!Mc(e))return;const l=e[Pi];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(r){const d=this._fetchNamespace(r);d&&d.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ti(r,Vg)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),xu(r,Vg))}removeNode(r,e,i,o){if(Mc(e)){const l=r?this._fetchNamespace(r):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(r,e,!1,o),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==r&&d.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(r,e,i,o,l){this.collectedLeaveElements.push(e),e[Pi]={namespaceId:r,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(r,e,i,o,l){return Mc(e)?this._fetchNamespace(r).listen(e,i,o,l):()=>{}}_buildInstruction(r,e,i,o,l){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,i,o,r.fromState.options,r.toState.options,e,l)}destroyInnerAnimations(r){let e=this.driver.query(r,Si,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(r,zf,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(r){const e=this.playersByElement.get(r);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(r){const e=this.playersByQueriedElement.get(r);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return bo(this.players).onDone(()=>r());r()})}processLeaveNode(r){const e=r[Pi];if(e&&e.setForRemoval){if(r[Pi]=mx,e.namespaceId){this.destroyInnerAnimations(r);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(r)}this._onRemovalComplete(r,e.setForRemoval)}r.classList?.contains(Vg)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ti(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,r)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?bo(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(r){throw function QI(n){return new t.vHH(3402,qt)}()}_flushAnimations(r,e){const i=new Qf,o=[],l=new Map,d=[],_=new Map,g=new Map,h=new Map,b=new Set;this.disabledNodes.forEach(pe=>{b.add(pe);const se=this.driver.query(pe,".ng-animate-queued",!0);for(let Oe=0;Oe<se.length;Oe++)b.add(se[Oe])});const T=this.bodyNode,P=Array.from(this.statesByElement.keys()),S=Ix(P,this.collectedEnterElements),F=new Map;let te=0;S.forEach((pe,se)=>{const Oe=jf+te++;F.set(se,Oe),pe.forEach(Ne=>ti(Ne,Oe))});const ce=[],me=new Set,xe=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const se=this.collectedLeaveElements[pe],Oe=se[Pi];Oe&&Oe.setForRemoval&&(ce.push(se),me.add(se),Oe.hasAnimation?this.driver.query(se,".ng-star-inserted",!0).forEach(Ne=>me.add(Ne)):xe.add(se))}const _e=new Map,V=Ix(P,Array.from(me));V.forEach((pe,se)=>{const Oe=$f+te++;_e.set(se,Oe),pe.forEach(Ne=>ti(Ne,Oe))}),r.push(()=>{S.forEach((pe,se)=>{const Oe=F.get(se);pe.forEach(Ne=>xu(Ne,Oe))}),V.forEach((pe,se)=>{const Oe=_e.get(se);pe.forEach(Ne=>xu(Ne,Oe))}),ce.forEach(pe=>{this.processLeaveNode(pe)})});const Ze=[],oe=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(e).forEach(Oe=>{const Ne=Oe.player,We=Oe.element;if(Ze.push(Ne),this.collectedEnterElements.length){const jn=We[Pi];if(jn&&jn.setForMove){if(jn.previousTriggersValues&&jn.previousTriggersValues.has(Oe.triggerName)){const Ua=jn.previousTriggersValues.get(Oe.triggerName),$i=this.statesByElement.get(Oe.element);if($i&&$i.has(Oe.triggerName)){const cy=$i.get(Oe.triggerName);cy.value=Ua,$i.set(Oe.triggerName,cy)}}return void Ne.destroy()}}const kt=!T||!this.driver.containsElement(T,We),vt=_e.get(We),Rn=F.get(We),_n=this._buildInstruction(Oe,i,Rn,vt,kt);if(_n.errors&&_n.errors.length)return void oe.push(_n);if(kt)return Ne.onStart(()=>ya(We,_n.fromStyles)),Ne.onDestroy(()=>xo(We,_n.toStyles)),void o.push(Ne);if(Oe.isFallbackTransition)return Ne.onStart(()=>ya(We,_n.fromStyles)),Ne.onDestroy(()=>xo(We,_n.toStyles)),void o.push(Ne);const Lo=[];_n.timelines.forEach(jn=>{jn.stretchStartingKeyframe=!0,this.disabledNodes.has(jn.element)||Lo.push(jn)}),_n.timelines=Lo,i.append(We,_n.timelines),d.push({instruction:_n,player:Ne,element:We}),_n.queriedElements.forEach(jn=>dr(_,jn,[]).push(Ne)),_n.preStyleProps.forEach((jn,Ua)=>{if(jn.size){let $i=g.get(Ua);$i||g.set(Ua,$i=new Set),jn.forEach((cy,De)=>$i.add(De))}}),_n.postStyleProps.forEach((jn,Ua)=>{let $i=h.get(Ua);$i||h.set(Ua,$i=new Set),jn.forEach((cy,De)=>$i.add(De))})});if(oe.length){const pe=[];oe.forEach(se=>{pe.push(function H1(n,r){return new t.vHH(3505,qt)}())}),Ze.forEach(se=>se.destroy()),this.reportError(pe)}const ae=new Map,Ue=new Map;d.forEach(pe=>{const se=pe.element;i.has(se)&&(Ue.set(se,se),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,ae))}),o.forEach(pe=>{const se=pe.element;this._getPreviousPlayers(se,!1,pe.namespaceId,pe.triggerName,null).forEach(Ne=>{dr(ae,se,[]).push(Ne),Ne.destroy()})});const et=ce.filter(pe=>Jg(pe,g,h)),qe=new Map;wx(qe,this.driver,xe,h,Yo).forEach(pe=>{Jg(pe,g,h)&&et.push(pe)});const Nt=new Map;S.forEach((pe,se)=>{wx(Nt,this.driver,new Set(pe),g,"!")}),et.forEach(pe=>{const se=qe.get(pe),Oe=Nt.get(pe);qe.set(pe,new Map([...Array.from(se?.entries()??[]),...Array.from(Oe?.entries()??[])]))});const Vn=[],Yn=[],Me={};d.forEach(pe=>{const{element:se,player:Oe,instruction:Ne}=pe;if(i.has(se)){if(b.has(se))return Oe.onDestroy(()=>xo(se,Ne.toStyles)),Oe.disabled=!0,Oe.overrideTotalTime(Ne.totalTime),void o.push(Oe);let We=Me;if(Ue.size>1){let vt=se;const Rn=[];for(;vt=vt.parentNode;){const _n=Ue.get(vt);if(_n){We=_n;break}Rn.push(vt)}Rn.forEach(_n=>Ue.set(_n,We))}const kt=this._buildAnimation(Oe.namespaceId,Ne,ae,l,Nt,qe);if(Oe.setRealPlayer(kt),We===Me)Vn.push(Oe);else{const vt=this.playersByElement.get(We);vt&&vt.length&&(Oe.parentPlayer=bo(vt)),o.push(Oe)}}else ya(se,Ne.fromStyles),Oe.onDestroy(()=>xo(se,Ne.toStyles)),Yn.push(Oe),b.has(se)&&o.push(Oe)}),Yn.forEach(pe=>{const se=l.get(pe.element);if(se&&se.length){const Oe=bo(se);pe.setRealPlayer(Oe)}}),o.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<ce.length;pe++){const se=ce[pe],Oe=se[Pi];if(xu(se,$f),Oe&&Oe.hasAnimation)continue;let Ne=[];if(_.size){let kt=_.get(se);kt&&kt.length&&Ne.push(...kt);let vt=this.driver.query(se,zf,!0);for(let Rn=0;Rn<vt.length;Rn++){let _n=_.get(vt[Rn]);_n&&_n.length&&Ne.push(..._n)}}const We=Ne.filter(kt=>!kt.destroyed);We.length?xx(this,se,We):this.processLeaveNode(se)}return ce.length=0,Vn.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const se=this.players.indexOf(pe);this.players.splice(se,1)}),pe.play()}),Vn}elementContainsData(r,e){let i=!1;const o=e[Pi];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(r).elementContainsData(e)||i}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,i,o,l){let d=[];if(e){const _=this.playersByQueriedElement.get(r);_&&(d=_)}else{const _=this.playersByElement.get(r);if(_){const g=!l||l==wu;_.forEach(h=>{h.queued||!g&&h.triggerName!=o||d.push(h)})}}return(i||o)&&(d=d.filter(_=>!(i&&i!=_.namespaceId||o&&o!=_.triggerName))),d}_beforeAnimationBuild(r,e,i){const l=e.element,d=e.isRemovalTransition?void 0:r,_=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const h=g.element,b=h!==l,T=dr(i,h,[]);this._getPreviousPlayers(h,b,d,_,e.toState).forEach(S=>{const F=S.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),S.destroy(),T.push(S)})}ya(l,e.fromStyles)}_buildAnimation(r,e,i,o,l,d){const _=e.triggerName,g=e.element,h=[],b=new Set,T=new Set,P=e.timelines.map(F=>{const te=F.element;b.add(te);const ce=te[Pi];if(ce&&ce.removedBeforeQueried)return new cu(F.duration,F.delay);const me=te!==g,xe=function vv(n){const r=[];return Gg(n,r),r}((i.get(te)||hx).map(ae=>ae.getRealPlayer())).filter(ae=>!!ae.element&&ae.element===te),_e=l.get(te),V=d.get(te),Ze=WI(0,this._normalizer,0,F.keyframes,_e,V),oe=this._buildPlayer(F,Ze,xe);if(F.subTimeline&&o&&T.add(te),me){const ae=new Ac(r,_,te);ae.setRealPlayer(oe),h.push(ae)}return oe});h.forEach(F=>{dr(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function Hg(n,r,e){let i=n.get(r);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(r)}return i}(this.playersByQueriedElement,F.element,F))}),b.forEach(F=>ti(F,Hf));const S=bo(P);return S.onDestroy(()=>{b.forEach(F=>xu(F,Hf)),xo(g,e.toStyles)}),T.forEach(F=>{dr(o,F,[]).push(S)}),S}_buildPlayer(r,e,i){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,i):new cu(r.duration,r.delay)}}class Ac{constructor(r,e,i){this.namespaceId=r,this.triggerName=e,this.element=i,this._player=new cu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>du(r,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){dr(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const e=this._player;e.triggerCallback&&e.triggerCallback(r)}}function Mc(n){return n&&1===n.nodeType}function qg(n,r){const e=n.style.display;return n.style.display=r??"none",e}function wx(n,r,e,i,o){const l=[];e.forEach(g=>l.push(qg(g)));const d=[];i.forEach((g,h)=>{const b=new Map;g.forEach(T=>{const P=r.computeStyle(h,T,o);b.set(T,P),(!P||0==P.length)&&(h[Pi]=yv,d.push(h))}),n.set(h,b)});let _=0;return e.forEach(g=>qg(g,l[_++])),d}function Ix(n,r){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==r.length)return e;const o=new Set(r),l=new Map;function d(_){if(!_)return 1;let g=l.get(_);if(g)return g;const h=_.parentNode;return g=e.has(h)?h:o.has(h)?1:d(h),l.set(_,g),g}return r.forEach(_=>{const g=d(_);1!==g&&e.get(g).push(_)}),e}function ti(n,r){n.classList?.add(r)}function xu(n,r){n.classList?.remove(r)}function xx(n,r,e){bo(e).onDone(()=>n.processLeaveNode(r))}function Gg(n,r){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Ff?Gg(i.players,r):r.push(i)}}function Jg(n,r,e){const i=e.get(n);if(!i)return!1;let o=r.get(n);return o?i.forEach(l=>o.add(l)):r.set(n,i),e.delete(n),!0}class Eu{constructor(r,e,i){this.bodyNode=r,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new vx(r,e,i),this._timelineEngine=new px(r,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(r,e,i,o,l){const d=r+"-"+o;let _=this._triggerCache[d];if(!_){const g=[],b=mu(this._driver,l,g,[]);if(g.length)throw function $I(n,r){return new t.vHH(3404,qt)}();_=function dx(n,r,e){return new hv(n,r,e)}(o,b,this._normalizer),this._triggerCache[d]=_}this._transitionEngine.registerTrigger(e,o,_)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,i,o){this._transitionEngine.insertNode(r,e,i,o)}onRemove(r,e,i,o){this._transitionEngine.removeNode(r,e,o||!1,i)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,i,o){if("@"==i.charAt(0)){const[l,d]=Ig(i);this._timelineEngine.command(l,e,d,o)}else this._transitionEngine.trigger(r,e,i,o)}listen(r,e,i,o,l){if("@"==i.charAt(0)){const[d,_]=Ig(i);return this._timelineEngine.listen(d,e,_,l)}return this._transitionEngine.listen(r,e,i,o,l)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Wf=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&xo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xo(this._element,this._initialStyles),this._endStyles&&(xo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ya(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ya(this._element,this._endStyles),this._endStyles=null),xo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Qg(n){let r=null;return n.forEach((e,i)=>{(function Ex(n){return"display"===n||"position"===n})(i)&&(r=r||new Map,r.set(i,e))}),r}class Cx{constructor(r,e,i,o){this.element=r,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const e=[];return r.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(r,e,i){return r.animate(this._convertKeyframesToObject(e),i)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&r.set(o,this._finished?i:tx(this.element,o))}),this.currentSnapshot=r}triggerCallback(r){const e="start"===r?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Yg{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,e){return!1}containsElement(r,e){return Cg(r,e)}getParentElement(r){return J1(r)}query(r,e,i){return Uf(r,e,i)}computeStyle(r,e,i){return window.getComputedStyle(r)[e]}animate(r,e,i,o,l,d=[]){const g={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(g.easing=l);const h=new Map,b=d.filter(S=>S instanceof Cx);(function yD(n,r){return 0===n||0===r})(i,o)&&b.forEach(S=>{S.currentSnapshot.forEach((F,te)=>h.set(te,F))});let T=function Tg(n){return n.length?n[0]instanceof Map?n:n.map(r=>pu(r)):[]}(e).map(S=>Io(S));T=function vD(n,r,e){if(e.size&&r.length){let i=r[0],o=[];if(e.forEach((l,d)=>{i.has(d)||o.push(d),i.set(d,l)}),o.length)for(let l=1;l<r.length;l++){let d=r[l];o.forEach(_=>d.set(_,tx(n,_)))}}return r}(r,T,h);const P=function Ko(n,r){let e=null,i=null;return Array.isArray(r)&&r.length?(e=Qg(r[0]),r.length>1&&(i=Qg(r[r.length-1]))):r instanceof Map&&(e=Qg(r)),e||i?new Wf(n,e,i):null}(r,T);return new Cx(r,T,g,P)}}let wv=(()=>{class n extends gg{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?MI(e):e;return Wg(this._renderer,null,i,"register",[o]),new Iv(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Iv extends class R1{}{constructor(r,e){super(),this._id=r,this._renderer=e}create(r,e){return new xv(this._id,r,e||{},this._renderer)}}class xv{constructor(r,e,i,o){this.id=r,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(r,e){return this._renderer.listen(this.element,`@@${this.id}:${r}`,e)}_command(r,...e){return Wg(this._renderer,this.element,this.id,r,e)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wg(n,r,e,i,o){return n.setProperty(r,`@@${e}:${i}`,o)}const Ev="@.disabled";let Tx=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const _=d?.parentNode(l);_&&d.removeChild(_,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(l);return b||(b=new Cv("",l,this.engine),this._rendererCache.set(l,b)),b}const d=i.id,_=i.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const g=b=>{Array.isArray(b)?b.forEach(g):this.engine.registerTrigger(d,_,e,b.name,b)};return i.data.animation.forEach(g),new Tv(this,_,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,_]=l;d(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG(Eu),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Cv{constructor(r,e,i){this.namespaceId=r,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,i,o=!0){this.delegate.insertBefore(r,e,i),this.engine.onInsert(this.namespaceId,e,r,o)}removeChild(r,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,i,o){this.delegate.setAttribute(r,e,i,o)}removeAttribute(r,e,i){this.delegate.removeAttribute(r,e,i)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,i,o){this.delegate.setStyle(r,e,i,o)}removeStyle(r,e,i){this.delegate.removeStyle(r,e,i)}setProperty(r,e,i){"@"==e.charAt(0)&&e==Ev?this.disableAnimations(r,!!i):this.delegate.setProperty(r,e,i)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,i){return this.delegate.listen(r,e,i)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}}class Tv extends Cv{constructor(r,e,i,o){super(e,i,o),this.factory=r,this.namespaceId=e}setProperty(r,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Ev?this.disableAnimations(r,i=void 0===i||!!i):this.engine.process(this.namespaceId,r,e.slice(1),i):this.delegate.setProperty(r,e,i)}listen(r,e,i){if("@"==e.charAt(0)){const o=function ED(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(r);let l=e.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Dv(n){const r=n.indexOf(".");return[n.substring(0,r),n.slice(r+1)]}(l)),this.engine.listen(this.namespaceId,o,l,d,_=>{this.factory.scheduleListenerCallback(_._data||-1,i,_)})}return this.delegate.listen(r,e,i)}}const Ax=[{provide:gg,useClass:wv},{provide:Lg,useFactory:function Sx(){return new ax}},{provide:Eu,useClass:(()=>{class n extends Eu{constructor(e,i,o){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($),t.LFG(Vf),t.LFG(Lg))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:t.FYo,useFactory:function CD(n,r,e){return new Tx(n,r,e)},deps:[ta,Eu,t.R0b]}],Sv=[{provide:Vf,useFactory:()=>new Yg},{provide:t.QbO,useValue:"BrowserAnimations"},...Ax],Mx=[{provide:Vf,useClass:Q1},{provide:t.QbO,useValue:"NoopAnimations"},...Ax];let Av=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Mx:Sv}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:Sv,imports:[kl]}),n})();var Ce=M(2997),Ri=M(6451),Xo=M(7579),Ni=M(4482),Mv=M(5032),es=M(515),Cu=M(576);function Tu(n,r){const e=(0,Cu.m)(n)?n:()=>n,i=o=>o.error(e());return new ei.y(r?o=>r.schedule(i,0,o):i)}class no{constructor(r,e,i){this.kind=r,this.value=e,this.error=i,this.hasValue="N"===r}observe(r){return Pv(this,r)}do(r,e,i){const{kind:o,value:l,error:d}=this;return"N"===o?r?.(l):"E"===o?e?.(d):i?.()}accept(r,e,i){var o;return(0,Cu.m)(null===(o=r)||void 0===o?void 0:o.next)?this.observe(r):this.do(r,e,i)}toObservable(){const{kind:r,value:e,error:i}=this,o="N"===r?(0,It.of)(e):"E"===r?Tu(()=>i):"C"===r?es.E:0;if(!o)throw new TypeError(`Unexpected notification kind ${r}`);return o}static createNext(r){return new no("N",r)}static createError(r){return new no("E",void 0,r)}static createComplete(){return no.completeNotification}}function Pv(n,r){var e,i,o;const{kind:l,value:d,error:_}=n;if("string"!=typeof l)throw new TypeError('Invalid notification, missing "kind"');"N"===l?null===(e=r.next)||void 0===e||e.call(r,d):"E"===l?null===(i=r.error)||void 0===i||i.call(r,_):null===(o=r.complete)||void 0===o||o.call(r)}no.completeNotification=new no("C");var ts=M(262);function Rv(n,r,e,i){return(0,Ni.e)((o,l)=>{let d;r&&"function"!=typeof r?({duration:e,element:d,connector:i}=r):d=r;const _=new Map,g=F=>{_.forEach(F),F(l)},h=F=>g(te=>te.error(F));let b=0,T=!1;const P=new bn.Q(l,F=>{try{const te=n(F);let ce=_.get(te);if(!ce){_.set(te,ce=i?i():new Xo.x);const me=function S(F,te){const ce=new ei.y(me=>{b++;const xe=te.subscribe(me);return()=>{xe.unsubscribe(),0==--b&&T&&P.unsubscribe()}});return ce.key=F,ce}(te,ce);if(l.next(me),e){const xe=(0,bn.x)(ce,()=>{ce.complete(),xe?.unsubscribe()},void 0,void 0,()=>_.delete(te));P.add((0,Cr.Xf)(e(me)).subscribe(xe))}}ce.next(d?d(F):F)}catch(te){h(te)}},()=>g(F=>F.complete()),h,()=>_.clear(),()=>(T=!0,0===b));o.subscribe(P)})}var Dr=M(5577);function Nv(n,r){return r?e=>e.pipe(Nv((i,o)=>(0,Cr.Xf)(n(i,o)).pipe((0,yt.U)((l,d)=>r(i,l,o,d))))):(0,Ni.e)((e,i)=>{let o=0,l=null,d=!1;e.subscribe((0,bn.x)(i,_=>{l||(l=(0,bn.x)(i,void 0,()=>{l=null,d&&i.complete()}),(0,Cr.Xf)(n(_,o++)).subscribe(l))},()=>{d=!0,!l&&i.complete()}))})}var ns=M(5698);const Du={dispatch:!0,useEffectsErrorHandler:!0},Co="__@ngrx/effects_create__";function Su(n,r){const e=n(),i={...Du,...r};return Object.defineProperty(e,Co,{value:i}),e}function Au(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(Co))&&n[i][Co].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][Co]}))}function Xg(n){return Object.getPrototypeOf(n)}const Xf="__@ngrx/effects__";function Nx(n){return(0,Ce.qC)(Sr,Xg)(n)}function Sr(n){return function ro(n){return n.constructor.hasOwnProperty(Xf)}(n)?n.constructor[Xf]:[]}function Fi(n,r,e){const i=Xg(n).constructor.name,o=function Ou(n){return[Nx,Au].reduce((e,i)=>e.concat(i(n)),[])}(n).map(({propertyName:l,dispatch:d,useEffectsErrorHandler:_})=>{const g="function"==typeof n[l]?n[l]():n[l],h=_?e(g,r):g;return!1===d?h.pipe(function Ov(){return(0,Ni.e)((n,r)=>{n.subscribe((0,bn.x)(r,Mv.Z))})}()):h.pipe(function Kg(){return(0,Ni.e)((n,r)=>{n.subscribe((0,bn.x)(r,e=>{r.next(no.createNext(e))},()=>{r.next(no.createComplete()),r.complete()},e=>{r.next(no.createError(e)),r.complete()}))})}()).pipe((0,yt.U)(T=>({effect:n[l],notification:T,propertyName:l,sourceName:i,sourceInstance:n})))});return(0,Ri.T)(...o)}function wa(n,r,e=10){return n.pipe((0,ts.K)(i=>(r&&r.handleError(i),e<=1?n:wa(n,r,e-1))))}let To=(()=>{class n extends ei.y{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ce.Y$))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Do(...n){return(0,zn.h)(r=>n.some(e=>"string"==typeof e?e===r.type:e.type===r.type))}function Zv(n){return e_(n,"ngrxOnInitEffects")}function e_(n,r){return n&&r in n&&"function"==typeof n[r]}const th=new t.OlP("@ngrx/effects Internal Root Guard"),Pu=new t.OlP("@ngrx/effects User Provided Effects"),t_=new t.OlP("@ngrx/effects Internal Root Effects"),nh=new t.OlP("@ngrx/effects Root Effects"),Uv=new t.OlP("@ngrx/effects Internal Feature Effects"),rh=new t.OlP("@ngrx/effects Feature Effects"),Vv=new t.OlP("@ngrx/effects Effects Error Handler");let n_=(()=>{class n extends Xo.x{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(Rv(Xg),(0,Dr.z)(e=>e.pipe(Rv(ih))),(0,Dr.z)(e=>{const i=e.pipe(Nv(l=>function oh(n,r){return e=>{const i=Fi(e,n,r);return function Lv(n){return e_(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(l)),(0,yt.U)(l=>(function Pc(n,r){if("N"===n.notification.kind){const e=n.notification.value;!function Rc(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&r.handleError(new Error(`Effect ${function Nc({propertyName:n,sourceInstance:r,sourceName:e}){const i="function"==typeof r[n];return`"${e}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Fc(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(l,this.errorHandler),l.notification)),(0,zn.h)(l=>"N"===l.kind&&null!=l.value),function Rx(){return(0,Ni.e)((n,r)=>{n.subscribe((0,bn.x)(r,e=>Pv(e,r)))})}()),o=e.pipe((0,ns.q)(1),(0,zn.h)(Zv),(0,yt.U)(l=>l.ngrxOnInitEffects()));return(0,Ri.T)(i,o)}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.qLn),t.LFG(Vv))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function ih(n){return function Lc(n){return e_(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let sh=(()=>{class n{constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(n_),t.LFG(Ce.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Ru="@ngrx/effects/init";(0,Ce.PH)(Ru);let r_=(()=>{class n{constructor(e,i,o,l,d,_,g){this.sources=e,i.start(),l.forEach(h=>e.addEffects(h)),o.dispatch({type:Ru})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(n_),t.LFG(sh),t.LFG(Ce.yh),t.LFG(nh),t.LFG(Ce.cr,8),t.LFG(Ce.CK,8),t.LFG(th,8))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),Fx=(()=>{class n{constructor(e,i,o,l){i.forEach(d=>d.forEach(_=>e.addEffects(_)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(r_),t.LFG(rh),t.LFG(Ce.cr,8),t.LFG(Ce.CK,8))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),i_=(()=>{class n{static forFeature(e=[]){return{ngModule:Fx,providers:[e,{provide:Uv,multi:!0,useValue:e},{provide:Pu,multi:!0,useValue:[]},{provide:rh,multi:!0,useFactory:Nu,deps:[t.zs3,Uv,Pu]}]}}static forRoot(e=[]){return{ngModule:r_,providers:[{provide:Vv,useValue:wa},sh,n_,To,e,{provide:t_,useValue:[e]},{provide:th,useFactory:$v,deps:[[sh,new t.FiY,new t.tp0],[t_,new t.PiD]]},{provide:Pu,multi:!0,useValue:[]},{provide:nh,useFactory:Nu,deps:[t.zs3,t_,Pu]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function Nu(n,r,e){const i=[];for(const o of r)i.push(...o);for(const o of e)i.push(...o);return function jv(n,r){return r.map(e=>n.get(e))}(n,i)}function $v(n,r){if((1!==r.length||0!==r[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var zv=M(825);function rs(n){return!!n&&(n instanceof ei.y||(0,Cu.m)(n.lift)&&(0,Cu.m)(n.subscribe))}var Bc=M(8189);function Zc(...n){return function Lx(){return(0,Bc.J)(1)}()((0,bt.D)(n,(0,Gn.yG)(n)))}function Fu(n){return new ei.y(r=>{(0,Cr.Xf)(n()).subscribe(r)})}var ch=M(4707),qv=M(3099);function ku(n,r,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:r=1/0,refCount:o=!1,scheduler:e}=n):i=n??1/0,(0,qv.B)({connector:()=>new ch.t(i,r,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var $r=M(3900);class Uc{}let lh=(()=>{class n extends Uc{getTranslation(e){return(0,It.of)({})}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Lu{}let uh=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Bu(n,r){if(n===r)return!0;if(null===n||null===r)return!1;if(n!=n&&r!=r)return!0;let o,l,d,e=typeof n;if(e==typeof r&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(r))return!1;for(l in d=Object.create(null),n){if(!Bu(n[l],r[l]))return!1;d[l]=!0}for(l in r)if(!(l in d)&&typeof r[l]<"u")return!1;return!0}if(!Array.isArray(r))return!1;if((o=n.length)==r.length){for(l=0;l<o;l++)if(!Bu(n[l],r[l]))return!1;return!0}}return!1}function is(n){return typeof n<"u"&&null!==n}function o_(n){return n&&"object"==typeof n&&!Array.isArray(n)}function dh(n,r){let e=Object.assign({},n);return o_(n)&&o_(r)&&Object.keys(r).forEach(i=>{o_(r[i])?i in n?e[i]=dh(n[i],r[i]):Object.assign(e,{[i]:r[i]}):Object.assign(e,{[i]:r[i]})}),e}class Zu{}let fh=(()=>{class n extends Zu{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,i){let o;return o="string"==typeof e?this.interpolateString(e,i):"function"==typeof e?this.interpolateFunction(e,i):e,o}getValue(e,i){let o="string"==typeof i?i.split("."):[i];i="";do{i+=o.shift(),!is(e)||!is(e[i])||"object"!=typeof e[i]&&o.length?o.length?i+=".":e=void 0:(e=e[i],i="")}while(o.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(o,l)=>{let d=this.getValue(i,l);return is(d)?d:o}):e}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Uu{}let Bx=(()=>{class n extends Uu{compile(e,i){return e}compileTranslations(e,i){return e}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Gv{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.vpe,this.onLangChange=new t.vpe,this.onDefaultLangChange=new t.vpe}}const _h=new t.OlP("USE_STORE"),s_=new t.OlP("USE_DEFAULT_LANG"),ph=new t.OlP("DEFAULT_LANGUAGE"),Jn=new t.OlP("USE_EXTEND");let Ia=(()=>{class n{constructor(e,i,o,l,d,_=!0,g=!1,h=!1,b){this.store=e,this.currentLoader=i,this.compiler=o,this.parser=l,this.missingTranslationHandler=d,this.useDefaultLang=_,this.isolate=g,this.extend=h,this.pending=!1,this._onTranslationChange=new t.vpe,this._onLangChange=new t.vpe,this._onDefaultLangChange=new t.vpe,this._langs=[],this._translations={},this._translationRequests={},b&&this.setDefaultLang(b)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(null==this.defaultLang&&(this.defaultLang=e),i.pipe((0,ns.q)(1)).subscribe(o=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,It.of)(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe((0,ns.q)(1)).subscribe(o=>{this.changeLang(e)}),i):(this.changeLang(e),(0,It.of)(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(ku(1),(0,ns.q)(1));return this.loadingTranslations=i.pipe((0,yt.U)(o=>this.compiler.compileTranslations(o,e)),ku(1),(0,ns.q)(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[e]=this.extend&&this.translations[e]?{...o,...this.translations[e]}:o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),i}setTranslation(e,i,o=!1){i=this.compiler.compileTranslations(i,e),this.translations[e]=(o||this.extend)&&this.translations[e]?dh(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,o){let l;if(i instanceof Array){let d={},_=!1;for(let g of i)d[g]=this.getParsedResult(e,g,o),rs(d[g])&&(_=!0);return _?Lp(i.map(h=>rs(d[h])?d[h]:(0,It.of)(d[h]))).pipe((0,yt.U)(h=>{let b={};return h.forEach((T,P)=>{b[i[P]]=T}),b})):d}if(e&&(l=this.parser.interpolate(this.parser.getValue(e,i),o)),typeof l>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(l=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),o)),typeof l>"u"){let d={key:i,translateService:this};typeof o<"u"&&(d.interpolateParams=o),l=this.missingTranslationHandler.handle(d)}return typeof l<"u"?l:i}get(e,i){if(!is(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Hn.b)(o=>rs(o=this.getParsedResult(o,e,i))?o:(0,It.of)(o)));{let o=this.getParsedResult(this.translations[this.currentLang],e,i);return rs(o)?o:(0,It.of)(o)}}getStreamOnTranslationChange(e,i){if(!is(e)||!e.length)throw new Error('Parameter "key" required');return Zc(Fu(()=>this.get(e,i)),this.onTranslationChange.pipe((0,$r.w)(o=>{const l=this.getParsedResult(o.translations,e,i);return"function"==typeof l.subscribe?l:(0,It.of)(l)})))}stream(e,i){if(!is(e)||!e.length)throw new Error('Parameter "key" required');return Zc(Fu(()=>this.get(e,i)),this.onLangChange.pipe((0,$r.w)(o=>{const l=this.getParsedResult(o.translations,e,i);return rs(l)?l:(0,It.of)(l)})))}instant(e,i){if(!is(e)||!e.length)throw new Error('Parameter "key" required');let o=this.getParsedResult(this.translations[this.currentLang],e,i);if(rs(o)){if(e instanceof Array){let l={};return e.forEach((d,_)=>{l[e[_]]=e[_]}),l}return e}return o}set(e,i,o=this.currentLang){this.translations[o][e]=this.compiler.compile(i,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof e>"u"?void 0:(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Gv),t.LFG(Uc),t.LFG(Uu),t.LFG(Zu),t.LFG(Lu),t.LFG(s_),t.LFG(_h),t.LFG(Jn),t.LFG(ph))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ki=(()=>{class n{constructor(e,i){this.translate=e,this._ref=i,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,i,o){let l=d=>{this.value=void 0!==d?d:e,this.lastKey=e,this._ref.markForCheck()};if(o){let d=this.translate.getParsedResult(o,e,i);rs(d.subscribe)?d.subscribe(l):l(d)}this.translate.get(e,i).subscribe(l)}transform(e,...i){if(!e||!e.length)return e;if(Bu(e,this.lastKey)&&Bu(i,this.lastParams))return this.value;let o;if(is(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let l=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{o=JSON.parse(l)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(o=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(l=>{this.lastKey&&l.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,o,l.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(l=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o,l.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ia,16),t.Y36(t.sBO,16))},n.\u0275pipe=t.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),gh=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:Uc,useClass:lh},e.compiler||{provide:Uu,useClass:Bx},e.parser||{provide:Zu,useClass:fh},e.missingTranslationHandler||{provide:Lu,useClass:uh},Gv,{provide:_h,useValue:e.isolate},{provide:s_,useValue:e.useDefaultLang},{provide:Jn,useValue:e.extend},{provide:ph,useValue:e.defaultLanguage},Ia]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:Uc,useClass:lh},e.compiler||{provide:Uu,useClass:Bx},e.parser||{provide:Zu,useClass:fh},e.missingTranslationHandler||{provide:Lu,useClass:uh},{provide:_h,useValue:e.isolate},{provide:s_,useValue:e.useDefaultLang},{provide:Jn,useValue:e.extend},{provide:ph,useValue:e.defaultLanguage},Ia]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();class Zx{constructor(r,e="/assets/i18n/",i=".json"){this.http=r,this.prefix=e,this.suffix=i}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}}var hh=M(1720);function mh(n,r,e,i,o,l,d){try{var _=n[l](d),g=_.value}catch(h){return void e(h)}_.done?r(g):Promise.resolve(g).then(i,o)}function xa(n){return function(){var r=this,e=arguments;return new Promise(function(i,o){var l=n.apply(r,e);function d(g){mh(l,i,o,d,_,"next",g)}function _(g){mh(l,i,o,d,_,"throw",g)}d(void 0)})}}var Li=M(1135),Vu=M(4671),Jv=M(9672);function Ar(...n){const r=(0,Gn.yG)(n),e=(0,Gn.jO)(n),{args:i,keys:o}=hr(n);if(0===i.length)return(0,bt.D)([],r);const l=new ei.y(function Qv(n,r,e=Vu.y){return i=>{Ux(r,()=>{const{length:o}=n,l=new Array(o);let d=o,_=o;for(let g=0;g<o;g++)Ux(r,()=>{const h=(0,bt.D)(n[g],r);let b=!1;h.subscribe((0,bn.x)(i,T=>{l[g]=T,b||(b=!0,_--),_||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,r,o?d=>kp(o,d):Vu.y));return e?l.pipe(_f(e)):l}function Ux(n,r,e){n?(0,Jv.f)(e,n,r):r()}const Ea=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bi=M(727);function vh(){return(0,Ni.e)((n,r)=>{let e=null;n._refCount++;const i=(0,bn.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),r.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Yv extends ei.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ni.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Bi.w0;const e=this.getSubject();r.add(this.source.subscribe((0,bn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Bi.w0.EMPTY)}return r}refCount(){return vh()(this)}}var Zi=M(5026);function pi(n){return n<=0?()=>es.E:(0,Ni.e)((r,e)=>{let i=[];r.subscribe((0,bn.x)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function bh(n=Wv){return(0,Ni.e)((r,e)=>{let i=!1;r.subscribe((0,bn.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function Wv(){return new Ea}function wh(n){return(0,Ni.e)((r,e)=>{let i=!1;r.subscribe((0,bn.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function Mr(n,r){const e=arguments.length>=2;return i=>i.pipe(n?(0,zn.h)((o,l)=>n(o,l,i)):Vu.y,(0,ns.q)(1),e?wh(r):bh(()=>new Ea))}function Qn(n,r,e){const i=(0,Cu.m)(n)||r||e?{next:n,error:r,complete:e}:n;return i?(0,Ni.e)((o,l)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let _=!0;o.subscribe((0,bn.x)(l,g=>{var h;null===(h=i.next)||void 0===h||h.call(i,g),l.next(g)},()=>{var g;_=!1,null===(g=i.complete)||void 0===g||g.call(i),l.complete()},g=>{var h;_=!1,null===(h=i.error)||void 0===h||h.call(i,g),l.error(g)},()=>{var g,h;_&&(null===(g=i.unsubscribe)||void 0===g||g.call(i)),null===(h=i.finalize)||void 0===h||h.call(i)}))}):Vu.y}function Ca(n){return(0,Ni.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(n)}})}class os{constructor(r,e){this.id=r,this.url=e}}class a_ extends os{constructor(r,e,i="imperative",o=null){super(r,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends os{constructor(r,e,i){super(r,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xh extends os{constructor(r,e,i){super(r,e),this.reason=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kv extends os{constructor(r,e,i){super(r,e),this.error=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class c_ extends os{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jx extends os{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xv extends os{constructor(r,e,i,o,l){super(r,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e0 extends os{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eh extends os{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l_{constructor(r){this.route=r,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ch{constructor(r){this.route=r,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Th{constructor(r){this.snapshot=r,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t0{constructor(r){this.snapshot=r,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n0{constructor(r){this.snapshot=r,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r0{constructor(r){this.snapshot=r,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dh{constructor(r,e,i){this.routerEvent=r,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class Hx{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Vc(n){return new Hx(n)}const o0="ngNavigationCancelingError";function Sh(n){const r=Error("NavigationCancelingError: "+n);return r[o0]=!0,r}function qx(n,r,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const d=i[l],_=n[l];if(d.startsWith(":"))o[d.substring(1)]=_;else if(d!==_.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Ao(n,r){const e=n?Object.keys(n):void 0,i=r?Object.keys(r):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!s0(n[o],r[o]))return!1;return!0}function s0(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),i=[...r].sort();return e.every((o,l)=>i[l]===o)}return n===r}function a0(n){return Array.prototype.concat.apply([],n)}function c0(n){return n.length>0?n[n.length-1]:null}function vr(n,r){for(const e in n)n.hasOwnProperty(e)&&r(n[e],e)}function io(n){return(0,t.CqO)(n)?n:(0,t.QGY)(n)?(0,bt.D)(Promise.resolve(n)):(0,It.of)(n)}const Qx={exact:function Ah(n,r,e){if(!js(n.segments,r.segments)||!ju(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const i in r.children)if(!n.children[i]||!Ah(n.children[i],r.children[i],e))return!1;return!0},subset:Mh},l0={exact:function d0(n,r){return Ao(n,r)},subset:function f0(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>s0(n[e],r[e]))},ignored:()=>!0};function u0(n,r,e){return Qx[e.paths](n.root,r.root,e.matrixParams)&&l0[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function Mh(n,r,e){return Oh(n,r,r.segments,e)}function Oh(n,r,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!js(o,e)||r.hasChildren()||!ju(o,e,i))}if(n.segments.length===e.length){if(!js(n.segments,e)||!ju(n.segments,e,i))return!1;for(const o in r.children)if(!n.children[o]||!Mh(n.children[o],r.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(js(n.segments,o)&&ju(n.segments,o,i)&&n.children[Jt])&&Oh(n.children[Jt],r,l,i)}}function ju(n,r,e){return r.every((i,o)=>l0[e](n[o].parameters,i.parameters))}class Vs{constructor(r,e,i){this.root=r,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vc(this.queryParams)),this._queryParamMap}toString(){return $c.serialize(this)}}class Wt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,vr(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ph(this)}}class jc{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Vc(this.parameters)),this._parameterMap}toString(){return v0(this)}}function js(n,r){return n.length===r.length&&n.every((e,i)=>e.path===r[i].path)}class p0{}class g0{parse(r){const e=new w0(r);return new Vs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${Sa(r.root,!0)}`,i=function Hc(n){const r=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${$u(e)}=${$u(o)}`).join("&"):`${$u(e)}=${$u(i)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${i}${"string"==typeof r.fragment?`#${function h0(n){return encodeURI(n)}(r.fragment)}`:""}`}}const $c=new g0;function Ph(n){return n.segments.map(r=>v0(r)).join("/")}function Sa(n,r){if(!n.hasChildren())return Ph(n);if(r){const e=n.children[Jt]?Sa(n.children[Jt],!1):"",i=[];return vr(n.children,(o,l)=>{l!==Jt&&i.push(`${l}:${Sa(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Da(n,r){let e=[];return vr(n.children,(i,o)=>{o===Jt&&(e=e.concat(r(i,o)))}),vr(n.children,(i,o)=>{o!==Jt&&(e=e.concat(r(i,o)))}),e}(n,(i,o)=>o===Jt?[Sa(n.children[Jt],!1)]:[`${o}:${Sa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Ph(n)}/${e[0]}`:`${Ph(n)}/(${e.join("//")})`}}function Yx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(n){return Yx(n).replace(/%3B/gi,";")}function m0(n){return Yx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Et(n){return decodeURIComponent(n)}function y0(n){return Et(n.replace(/\+/g,"%20"))}function v0(n){return`${m0(n.path)}${function Wx(n){return Object.keys(n).map(r=>`;${m0(r)}=${m0(n[r])}`).join("")}(n.parameters)}`}const Kx=/^[^\/()?;=#]+/;function Aa(n){const r=n.match(Kx);return r?r[0]:""}const u_=/^[^=?&#]+/,SD=/^[^&#]+/;class w0{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(i[Jt]=new Wt(r,e)),i}parseSegment(){const r=Aa(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new jc(Et(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=Aa(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=Aa(this.remaining);o&&(i=o,this.capture(i))}r[Et(e)]=Et(i)}parseQueryParam(r){const e=function Bn(n){const r=n.match(u_);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function b0(n){const r=n.match(SD);return r?r[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=y0(e),l=y0(i);if(r.hasOwnProperty(o)){let d=r[o];Array.isArray(d)||(d=[d],r[o]=d),d.push(l)}else r[o]=l}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Aa(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):r&&(l=Jt);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[Jt]:new Wt([],d),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class I0{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=d_(r,this._root);return e?e.children.map(i=>i.value):[]}firstChild(r){const e=d_(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=f_(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return f_(r,this._root).map(e=>e.value)}}function d_(n,r){if(n===r.value)return r;for(const e of r.children){const i=d_(n,e);if(i)return i}return null}function f_(n,r){if(n===r.value)return[r];for(const e of r.children){const i=f_(n,e);if(i.length)return i.unshift(r),i}return[]}class Mo{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ma(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class x0 extends I0{constructor(r,e){super(r),this.snapshot=e,p_(this,r)}toString(){return this.snapshot.toString()}}function E0(n,r){const e=function Xx(n,r){const d=new __([],{},{},"",{},Jt,r,null,n.root,-1,{});return new Hu("",new Mo(d,[]))}(n,r),i=new Li.X([new jc("",{})]),o=new Li.X({}),l=new Li.X({}),d=new Li.X({}),_=new Li.X(""),g=new oo(i,o,d,_,l,Jt,r,e.root);return g.snapshot=e.root,new x0(new Mo(g,[]),e)}class oo{constructor(r,e,i,o,l,d,_,g){this.url=r,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=_,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(r=>Vc(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(r=>Vc(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function C0(n,r="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==r)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function eE(n){return n.reduce((r,e)=>({params:{...r.params,...e.params},data:{...r.data,...e.data},resolve:{...e.data,...r.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class __{constructor(r,e,i,o,l,d,_,g,h,b,T,P){this.url=r,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=_,this.routeConfig=g,this._urlSegment=h,this._lastPathIndex=b,this._correctedLastPathIndex=P??b,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hu extends I0{constructor(r,e){super(e),this.url=r,p_(this,e)}toString(){return Rh(this._root)}}function p_(n,r){r.value._routerState=n,r.children.forEach(e=>p_(n,e))}function Rh(n){const r=n.children.length>0?` { ${n.children.map(Rh).join(", ")} } `:"";return`${n.value}${r}`}function g_(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ao(r.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),r.fragment!==e.fragment&&n.fragment.next(e.fragment),Ao(r.params,e.params)||n.params.next(e.params),function Gx(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!Ao(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.url.next(e.url),Ao(r.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Nh(n,r){const e=Ao(n.params,r.params)&&function _0(n,r){return js(n,r)&&n.every((e,i)=>Ao(e.parameters,r[i].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||Nh(n.parent,r.parent))}function ss(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=r.value;const o=function tE(n,r,e){return r.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return ss(n,i,o);return ss(n,i)})}(n,r,e);return new Mo(i,o)}{if(n.shouldAttach(r.value)){const l=n.retrieve(r.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=r.value,d.children=r.children.map(_=>ss(n,_)),d}}const i=function nE(n){return new oo(new Li.X(n.url),new Li.X(n.params),new Li.X(n.queryParams),new Li.X(n.fragment),new Li.X(n.data),n.outlet,n.component,n)}(r.value),o=r.children.map(l=>ss(n,l));return new Mo(i,o)}}function qu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zc(n){return"object"==typeof n&&null!=n&&n.outlets}function h_(n,r,e,i,o){let l={};if(i&&vr(i,(_,g)=>{l[g]=Array.isArray(_)?_.map(h=>`${h}`):`${_}`}),n===r)return new Vs(e,l,o);const d=T0(n,r,e);return new Vs(d,l,o)}function T0(n,r,e){const i={};return vr(n.children,(o,l)=>{i[l]=o===r?e:T0(o,r,e)}),new Wt(n.segments,i)}class Fh{constructor(r,e,i){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=i,r&&i.length>0&&qu(i[0]))throw new Error("Root segment cannot have matrix parameters");const o=i.find(zc);if(o&&o!==c0(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kh{constructor(r,e,i){this.segmentGroup=r,this.processChildren=e,this.index=i}}function oE(n,r,e){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return Gu(n,r,e);const i=function m_(n,r,e){let i=0,o=r;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const d=n.segments[o],_=e[i];if(zc(_))break;const g=`${_}`,h=i<e.length-1?e[i+1]:null;if(o>0&&void 0===g)break;if(g&&h&&"object"==typeof h&&void 0===h.outlets){if(!qc(g,h,d))return l;i+=2}else{if(!qc(g,{},d))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,r,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Wt(n.segments.slice(0,i.pathIndex),{});return l.children[Jt]=new Wt(n.segments.slice(i.pathIndex),n.children),Gu(l,0,o)}return i.match&&0===o.length?new Wt(n.segments,{}):i.match&&!n.hasChildren()?Lh(n,r,e):i.match?Gu(n,0,o):Lh(n,r,e)}function Gu(n,r,e){if(0===e.length)return new Wt(n.segments,{});{const i=function OD(n){return zc(n[0])?n[0].outlets:{[Jt]:n}}(e),o={};return vr(i,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[d]=oE(n.children[d],r,l))}),vr(n.children,(l,d)=>{void 0===i[d]&&(o[d]=l)}),new Wt(n.segments,o)}}function Lh(n,r,e){const i=n.segments.slice(0,r);let o=0;for(;o<e.length;){const l=e[o];if(zc(l)){const g=sE(l.outlets);return new Wt(i,g)}if(0===o&&qu(e[0])){i.push(new jc(n.segments[r].path,Bh(e[0]))),o++;continue}const d=zc(l)?l.outlets[Jt]:`${l}`,_=o<e.length-1?e[o+1]:null;d&&_&&qu(_)?(i.push(new jc(d,Bh(_))),o+=2):(i.push(new jc(d,{})),o++)}return new Wt(i,{})}function sE(n){const r={};return vr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[i]=Lh(new Wt([],{}),0,e))}),r}function Bh(n){const r={};return vr(n,(e,i)=>r[i]=`${e}`),r}function qc(n,r,e){return n==e.path&&Ao(r,e.parameters)}class aE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ju,this.attachRef=null}}class Ju{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const i=this.getOrCreateContext(r);i.outlet=e,this.contexts.set(r,i)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new aE,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}let Zh=(()=>{class n{constructor(e,i,o,l,d){this.parentContexts=e,this.location=i,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=o||Jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=this.location,d=e._futureSnapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,g=new cE(e,_,o.injector);if(i&&function lE(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(d);this.activated=o.createComponent(h,o.length,g)}else this.activated=o.createComponent(d,{index:o.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ju),t.Y36(t.s_b),t.$8M("name"),t.Y36(t.sBO),t.Y36(t.lqb))},n.\u0275dir=t.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class cE{constructor(r,e,i){this.route=r,this.childContexts=e,this.parent=i}get(r,e){return r===oo?this.route:r===Ju?this.childContexts:this.parent.get(r,e)}}let Uh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[Zh],encapsulation:2}),n})();function D0(n,r){return n.providers&&!n._injector&&(n._injector=(0,t.MMx)(n.providers,r,`Route: ${n.path}`)),n._injector??r}function jh(n){const r=n.children&&n.children.map(jh),e=r?{...n,children:r}:{...n};return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=Uh),e}function ni(n){return n.outlet||Jt}function M0(n,r){const e=n.filter(i=>ni(i)===r);return e.push(...n.filter(i=>ni(i)!==r)),e}function $h(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class fE{constructor(r,e,i,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(r){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,r),g_(this.futureState.root),this.activateChildRoutes(e,i,r)}deactivateChildRoutes(r,e,i){const o=Ma(e);r.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],i),delete o[d]}),vr(o,(l,d)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(r,e,i){const o=r.value,l=e?e.value:null;if(o===l)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(r,e,d.children)}else this.deactivateChildRoutes(r,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const i=e.getContext(r.value.outlet),o=i&&r.value.component?i.children:e,l=Ma(r);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(i&&i.outlet){const d=i.outlet.detach(),_=i.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:d,route:r,contexts:_})}}deactivateRouteAndOutlet(r,e){const i=e.getContext(r.value.outlet),o=i&&r.value.component?i.children:e,l=Ma(r);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(r,e,i){const o=Ma(e);r.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new r0(l.value.snapshot))}),r.children.length&&this.forwardEvent(new t0(r.value.snapshot))}activateRoutes(r,e,i){const o=r.value,l=e?e.value:null;if(g_(o),o===l)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,d.children)}else this.activateChildRoutes(r,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(_.contexts),d.attachRef=_.componentRef,d.route=_.route.value,d.outlet&&d.outlet.attach(_.componentRef,_.route.value),g_(_.route.value),this.activateChildRoutes(r,null,d.children)}else{const _=$h(o.snapshot),g=_?.get(t._Vd)??null;d.attachRef=null,d.route=o,d.resolver=g,d.injector=_,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(r,null,d.children)}}else this.activateChildRoutes(r,null,i)}}function $s(n){return"function"==typeof n}function as(n){return n instanceof Vs}const Yu=Symbol("INITIAL_VALUE");function Wu(){return(0,$r.w)(n=>Ar(n.map(r=>r.pipe((0,ns.q)(1),function So(...n){const r=(0,Gn.yG)(n);return(0,Ni.e)((e,i)=>{(r?Zc(n,e,r):Zc(n,e)).subscribe(i)})}(Yu)))).pipe((0,Zi.R)((r,e)=>{let i=!1;return e.reduce((o,l,d)=>o!==Yu?o:(l===Yu&&(i=!0),i||!1!==l&&d!==e.length-1&&!as(l)?o:l),r)},Yu),(0,zn.h)(r=>r!==Yu),(0,yt.U)(r=>as(r)?r:!0===r),(0,ns.q)(1)))}const R0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y_(n,r,e){if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?{...R0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(r.matcher||qx)(e,n,r);if(!o)return{...R0};const l={};vr(o.posParams,(_,g)=>{l[g]=_.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function v_(n,r,e,i,o="corrected"){if(e.length>0&&function F0(n,r,e){return e.some(i=>b_(n,r,i)&&ni(i)!==Jt)}(n,e,i)){const d=new Wt(r,function N0(n,r,e,i){const o={};o[Jt]=i,i._sourceSegment=n,i._segmentIndexShift=r.length;for(const l of e)if(""===l.path&&ni(l)!==Jt){const d=new Wt([],{});d._sourceSegment=n,d._segmentIndexShift=r.length,o[ni(l)]=d}return o}(n,r,i,new Wt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=r.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function yE(n,r,e){return e.some(i=>b_(n,r,i))}(n,e,i)){const d=new Wt(n.segments,function mE(n,r,e,i,o,l){const d={};for(const _ of i)if(b_(n,e,_)&&!o[ni(_)]){const g=new Wt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===l?n.segments.length:r.length,d[ni(_)]=g}return{...o,...d}}(n,r,e,i,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=r.length,{segmentGroup:d,slicedSegments:e}}const l=new Wt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=r.length,{segmentGroup:l,slicedSegments:e}}function b_(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function Hh(n,r,e,i){return!!(ni(n)===i||i!==Jt&&b_(r,e,n))&&("**"===n.path||y_(r,n,e).matched)}function k0(n,r,e){return 0===r.length&&!n.children[e]}class w_{constructor(r){this.segmentGroup=r||null}}class L0{constructor(r){this.urlTree=r}}function Oa(n){return Tu(new w_(n))}function I_(n){return Tu(new L0(n))}class bE{constructor(r,e,i,o,l){this.injector=r,this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=l,this.allowRedirects=!0}apply(){const r=v_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Wt(r.segments,r.children);return this.expandSegmentGroup(this.injector,this.config,e,Jt).pipe((0,yt.U)(l=>this.createUrlTree(Gh(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ts.K)(l=>{if(l instanceof L0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof w_?this.noMatchError(l):l}))}match(r){return this.expandSegmentGroup(this.injector,this.config,r.root,Jt).pipe((0,yt.U)(o=>this.createUrlTree(Gh(o),r.queryParams,r.fragment))).pipe((0,ts.K)(o=>{throw o instanceof w_?this.noMatchError(o):o}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,i){const o=r.segments.length>0?new Wt([],{[Jt]:r}):r;return new Vs(o,e,i)}expandSegmentGroup(r,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(r,e,i).pipe((0,yt.U)(l=>new Wt([],l))):this.expandSegment(r,i,e,i.segments,o,!0)}expandChildren(r,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,bt.D)(o).pipe((0,Hn.b)(l=>{const d=i.children[l],_=M0(e,l);return this.expandSegmentGroup(r,_,d,l).pipe((0,yt.U)(g=>({segment:g,outlet:l})))}),(0,Zi.R)((l,d)=>(l[d.outlet]=d.segment,l),{}),function Vx(n,r){const e=arguments.length>=2;return i=>i.pipe(n?(0,zn.h)((o,l)=>n(o,l,i)):Vu.y,pi(1),e?wh(r):bh(()=>new Ea))}())}expandSegment(r,e,i,o,l,d){return(0,bt.D)(i).pipe((0,Hn.b)(_=>this.expandSegmentAgainstRoute(r,e,i,_,o,l,d).pipe((0,ts.K)(h=>{if(h instanceof w_)return(0,It.of)(null);throw h}))),Mr(_=>!!_),(0,ts.K)((_,g)=>{if(_ instanceof Ea||"EmptyError"===_.name)return k0(e,o,l)?(0,It.of)(new Wt([],{})):Oa(e);throw _}))}expandSegmentAgainstRoute(r,e,i,o,l,d,_){return Hh(o,e,l,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(r,e,o,l,d):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,i,o,l,d):Oa(e):Oa(e)}expandSegmentAgainstRouteUsingRedirect(r,e,i,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,i,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,i,o){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?I_(l):this.lineralizeSegments(i,l).pipe((0,Dr.z)(d=>{const _=new Wt(d,{});return this.expandSegment(r,_,e,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,i,o,l,d){const{matched:_,consumedSegments:g,remainingSegments:h,positionalParamSegments:b}=y_(e,o,l);if(!_)return Oa(e);const T=this.applyRedirectCommands(g,o.redirectTo,b);return o.redirectTo.startsWith("/")?I_(T):this.lineralizeSegments(o,T).pipe((0,Dr.z)(P=>this.expandSegment(r,e,i,P.concat(h),d,!1)))}matchSegmentAgainstRoute(r,e,i,o,l){if("**"===i.path)return r=D0(i,r),i.loadChildren?(i._loadedRoutes?(0,It.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(r,i)).pipe((0,yt.U)(T=>(i._loadedRoutes=T.routes,i._loadedInjector=T.injector,new Wt(o,{})))):(0,It.of)(new Wt(o,{}));const{matched:d,consumedSegments:_,remainingSegments:g}=y_(e,i,o);return d?(r=D0(i,r),this.getChildConfig(r,i,o).pipe((0,Dr.z)(b=>{const T=b.injector??r,P=b.routes,{segmentGroup:S,slicedSegments:F}=v_(e,_,g,P),te=new Wt(S.segments,S.children);if(0===F.length&&te.hasChildren())return this.expandChildren(T,P,te).pipe((0,yt.U)(_e=>new Wt(_,_e)));if(0===P.length&&0===F.length)return(0,It.of)(new Wt(_,{}));const ce=ni(i)===l;return this.expandSegment(T,te,P,F,ce?Jt:l,!0).pipe((0,yt.U)(xe=>new Wt(_.concat(xe.segments),xe.children)))}))):Oa(e)}getChildConfig(r,e,i){return e.children?(0,It.of)({routes:e.children,injector:r}):e.loadChildren?void 0!==e._loadedRoutes?(0,It.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(r,e,i).pipe((0,Dr.z)(o=>o?this.configLoader.loadChildren(r,e).pipe(Qn(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function zh(n){return Tu(Sh(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):(0,It.of)({routes:[],injector:r})}runCanLoadGuards(r,e,i){const o=e.canLoad;if(!o||0===o.length)return(0,It.of)(!0);const l=o.map(d=>{const _=r.get(d);let g;if(function pE(n){return n&&$s(n.canLoad)}(_))g=_.canLoad(e,i);else{if(!$s(_))throw new Error("Invalid CanLoad guard");g=_(e,i)}return io(g)});return(0,It.of)(l).pipe(Wu(),Qn(d=>{if(!as(d))return;const _=Sh(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw _.url=d,_}),(0,yt.U)(d=>!0===d))}lineralizeSegments(r,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,It.of)(i);if(o.numberOfChildren>1||!o.children[Jt])return Tu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r.redirectTo}'`));o=o.children[Jt]}}applyRedirectCommands(r,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,i)}applyRedirectCreatreUrlTree(r,e,i,o){const l=this.createSegmentGroup(r,e.root,i,o);return new Vs(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const i={};return vr(r,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);i[l]=e[_]}else i[l]=o}),i}createSegmentGroup(r,e,i,o){const l=this.createSegments(r,e.segments,i,o);let d={};return vr(e.children,(_,g)=>{d[g]=this.createSegmentGroup(r,_,i,o)}),new Wt(l,d)}createSegments(r,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(r,l,o):this.findOrReturn(l,i))}findPosParam(r,e,i){const o=i[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return o}findOrReturn(r,e){let i=0;for(const o of e){if(o.path===r.path)return e.splice(i),o;i++}return r}}function Gh(n){const r={};for(const i of Object.keys(n.children)){const l=Gh(n.children[i]);(l.segments.length>0||l.hasChildren())&&(r[i]=l)}return function qh(n){if(1===n.numberOfChildren&&n.children[Jt]){const r=n.children[Jt];return new Wt(n.segments.concat(r.segments),r.children)}return n}(new Wt(n.segments,r))}class U0{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Ku{constructor(r,e){this.component=r,this.route=e}}function ND(n,r,e){const i=n._root;return so(i,r?r._root:null,e,[i.value])}function Hs(n,r,e){return($h(r)??e).get(n)}function so(n,r,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ma(r);return n.children.forEach(d=>{(function V0(n,r,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=r?r.value:null,_=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const g=function IE(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!js(n.url,r.url);case"pathParamsOrQueryParamsChange":return!js(n.url,r.url)||!Ao(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nh(n,r)||!Ao(n.queryParams,r.queryParams);default:return!Nh(n,r)}}(d,l,l.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new U0(i)):(l.data=d.data,l._resolvedData=d._resolvedData),so(n,r,l.component?_?_.children:null:e,i,o),g&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new Ku(_.outlet.component,d))}else d&&Gc(r,_,o),o.canActivateChecks.push(new U0(i)),so(n,null,l.component?_?_.children:null:e,i,o)})(d,l[d.value.outlet],e,i.concat([d.value]),o),delete l[d.value.outlet]}),vr(l,(d,_)=>Gc(d,e.getContext(_),o)),o}function Gc(n,r,e){const i=Ma(n),o=n.value;vr(i,(l,d)=>{Gc(l,o.component?r?r.children.getContext(d):null:r,e)}),e.canDeactivateChecks.push(new Ku(o.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,o))}class DE{}function Jh(n){return new ei.y(r=>r.error(n))}class Qh{constructor(r,e,i,o,l,d){this.rootComponentType=r,this.config=e,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const r=v_(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,Jt);if(null===e)return null;const i=new __([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Mo(i,e),l=new Hu(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(r){const e=r.value,i=C0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),r.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(r,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,i)}processChildren(r,e){const i=[];for(const l of Object.keys(e.children)){const d=e.children[l],_=M0(r,l),g=this.processSegmentGroup(_,d,l);if(null===g)return null;i.push(...g)}const o=E_(i);return function x_(n){n.sort((r,e)=>r.value.outlet===Jt?-1:e.value.outlet===Jt?1:r.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(r,e,i,o){for(const l of r){const d=this.processSegmentAgainstRoute(l,e,i,o);if(null!==d)return d}return k0(e,i,o)?[]:null}processSegmentAgainstRoute(r,e,i,o){if(r.redirectTo||!Hh(r,e,i,o))return null;let l,d=[],_=[];if("**"===r.path){const S=i.length>0?c0(i).parameters:{},F=z0(e)+i.length;l=new __(i,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q0(r),ni(r),r.component??r._loadedComponent??null,r,H0(e),F,OE(r),F)}else{const S=y_(e,r,i);if(!S.matched)return null;d=S.consumedSegments,_=S.remainingSegments;const F=z0(e)+d.length;l=new __(d,S.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q0(r),ni(r),r.component??r._loadedComponent??null,r,H0(e),F,OE(r),F)}const g=function ed(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(r),{segmentGroup:h,slicedSegments:b}=v_(e,d,_,g.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution);if(0===b.length&&h.hasChildren()){const S=this.processChildren(g,h);return null===S?null:[new Mo(l,S)]}if(0===g.length&&0===b.length)return[new Mo(l,[])];const T=ni(r)===o,P=this.processSegment(g,h,b,T?Jt:o);return null===P?null:[new Mo(l,P)]}}function AE(n){const r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function E_(n){const r=[],e=new Set;for(const i of n){if(!AE(i)){r.push(i);continue}const o=r.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):r.push(i)}for(const i of e){const o=E_(i.children);r.push(new Mo(i.value,o))}return r.filter(i=>!e.has(i))}function H0(n){let r=n;for(;r._sourceSegment;)r=r._sourceSegment;return r}function z0(n){let r=n,e=r._segmentIndexShift??0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift??0;return e-1}function q0(n){return n.data||{}}function OE(n){return n.resolve||{}}const Yh=Symbol("RouteTitle");function J0(n){return"string"==typeof n.title||null===n.title}function Xh(n){return(0,$r.w)(r=>{const e=n(r);return e?(0,bt.D)(e).pipe((0,yt.U)(()=>r)):(0,It.of)(r)})}class LE extends class kE{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const em=new t.OlP("ROUTES");let tm=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,It.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=io(e.loadComponent()).pipe(Qn(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),Ca(()=>{this.componentLoaders.delete(e)})),o=new Yv(i,()=>new Xo.x).pipe(vh());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,It.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,yt.U)(_=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,h,b=!1;Array.isArray(_)?h=_:(g=_.create(e).injector,h=a0(g.get(em,[],t.XFs.Self|t.XFs.Optional)));return{routes:h.map(jh),injector:g}}),Ca(()=>{this.childrenLoaders.delete(i)})),d=new Yv(l,()=>new Xo.x).pipe(vh());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return io(e()).pipe((0,Dr.z)(i=>i instanceof t.YKP||Array.isArray(i)?(0,It.of)(i):(0,bt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.zs3),t.LFG(t.Sil))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class ZE{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function VE(n){throw n}function td(n,r,e){return r.parse("/")}const Y0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class n{constructor(e,i,o,l,d,_,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=l,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xo.x,this.errorHandler=VE,this.malformedUriErrorHandler=td,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,It.of)(void 0),this.urlHandlingStrategy=new ZE,this.routeReuseStrategy=new LE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(tm),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new Ch(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new l_(P)),this.ngModule=d.get(t.h0i),this.console=d.get(t.c2e);const T=d.get(t.R0b);this.isNgZoneEnabled=T instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Jx(){return new Vs(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E0(this.currentUrlTree,this.rootComponentType),this.transitions=new Li.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe((0,zn.h)(o=>0!==o.id),(0,yt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),(0,$r.w)(o=>{let l=!1,d=!1;return(0,It.of)(o).pipe(Qn(_=>{this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$r.w)(_=>{const g=this.browserUrlTree.toString(),h=!this.navigated||_.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return nm(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,It.of)(_).pipe((0,$r.w)(T=>{const P=this.transitions.getValue();return i.next(new a_(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions.getValue()?es.E:Promise.resolve(T)}),function Z0(n,r,e,i){return(0,$r.w)(o=>function vE(n,r,e,i,o){return new bE(n,r,e,i,o).apply()}(n,r,e,o.extractedUrl,i).pipe((0,yt.U)(l=>({...o,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qn(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects}}),function PE(n,r,e,i,o){return(0,Dr.z)(l=>function SE(n,r,e,i,o="emptyOnly",l="legacy"){try{const d=new Qh(n,r,e,i,o,l).recognize();return null===d?Jh(new DE):(0,It.of)(d)}catch(d){return Jh(d)}}(n,r,l.urlAfterRedirects,e(l.urlAfterRedirects),i,o).pipe((0,yt.U)(d=>({...l,targetSnapshot:d}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qn(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(S,T)}this.browserUrlTree=T.urlAfterRedirects}const P=new c_(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(P)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:S,source:F,restoredState:te,extras:ce}=_,me=new a_(P,this.serializeUrl(S),F,te);i.next(me);const xe=E0(S,this.rootComponentType).snapshot;return(0,It.of)({..._,targetSnapshot:xe,urlAfterRedirects:S,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=_.rawUrl,_.resolve(null),es.E}),Qn(_=>{const g=new jx(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(g)}),(0,yt.U)(_=>({..._,guards:ND(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function xE(n,r){return(0,Dr.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?(0,It.of)({...e,guardsResult:!0}):function Jc(n,r,e,i){return(0,bt.D)(n).pipe((0,Dr.z)(o=>function TE(n,r,e,i,o){const l=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,It.of)(!0);const d=l.map(_=>{const g=Hs(_,r,o);let h;if(function hE(n){return n&&$s(n.canDeactivate)}(g))h=io(g.canDeactivate(n,r,e,i));else{if(!$s(g))throw new Error("Invalid CanDeactivate guard");h=io(g(n,r,e,i))}return h.pipe(Mr())});return(0,It.of)(d).pipe(Wu())}(o.component,o.route,e,r,i)),Mr(o=>!0!==o,!0))}(d,i,o,n).pipe((0,Dr.z)(_=>_&&function _E(n){return"boolean"==typeof n}(_)?function Xu(n,r,e,i){return(0,bt.D)(r).pipe((0,Hn.b)(o=>Zc(function FD(n,r){return null!==n&&r&&r(new Th(n)),(0,It.of)(!0)}(o.route.parent,i),function EE(n,r){return null!==n&&r&&r(new n0(n)),(0,It.of)(!0)}(o.route,i),function CE(n,r,e){const i=r[r.length-1],l=r.slice(0,r.length-1).reverse().map(d=>function wE(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(d)).filter(d=>null!==d).map(d=>Fu(()=>{const _=d.guards.map(g=>{const h=Hs(g,d.node,e);let b;if(function gE(n){return n&&$s(n.canActivateChild)}(h))b=io(h.canActivateChild(i,n));else{if(!$s(h))throw new Error("Invalid CanActivateChild guard");b=io(h(i,n))}return b.pipe(Mr())});return(0,It.of)(_).pipe(Wu())}));return(0,It.of)(l).pipe(Wu())}(n,o.path,e),function j0(n,r,e){const i=r.routeConfig?r.routeConfig.canActivate:null;if(!i||0===i.length)return(0,It.of)(!0);const o=i.map(l=>Fu(()=>{const d=Hs(l,r,e);let _;if(function P0(n){return n&&$s(n.canActivate)}(d))_=io(d.canActivate(r,n));else{if(!$s(d))throw new Error("Invalid CanActivate guard");_=io(d(r,n))}return _.pipe(Mr())}));return(0,It.of)(o).pipe(Wu())}(n,o.route,e))),Mr(o=>!0!==o,!0))}(i,l,n,r):(0,It.of)(_)),(0,yt.U)(_=>({...e,guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),Qn(_=>{if(as(_.guardsResult)){const h=Sh(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw h.url=_.guardsResult,h}const g=new Xv(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(g)}),(0,zn.h)(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Xh(_=>{if(_.guards.canActivateChecks.length)return(0,It.of)(_).pipe(Qn(g=>{const h=new e0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(h)}),(0,$r.w)(g=>{let h=!1;return(0,It.of)(g).pipe(function G0(n,r){return(0,Dr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,It.of)(e);let l=0;return(0,bt.D)(o).pipe((0,Hn.b)(d=>function Wh(n,r,e,i){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!J0(o)&&(l[Yh]=o.title),function RE(n,r,e,i){const o=function Kh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,It.of)({});const l={};return(0,bt.D)(o).pipe((0,Dr.z)(d=>function NE(n,r,e,i){const o=Hs(n,r,i);return io(o.resolve?o.resolve(r,e):o(r,e))}(n[d],r,e,i).pipe(Mr(),Qn(_=>{l[d]=_}))),pi(1),function Ih(n){return(0,yt.U)(()=>n)}(l),(0,ts.K)(d=>d instanceof Ea?es.E:Tu(d)))}(l,n,r,i).pipe((0,yt.U)(d=>(n._resolvedData=d,n.data=C0(n,e).resolve,o&&J0(o)&&(n.data[Yh]=o.title),null)))}(d.route,i,n,r)),Qn(()=>l++),pi(1),(0,Dr.z)(d=>l===o.length?(0,It.of)(e):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qn({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),Qn(g=>{const h=new Eh(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(h)}))}),Xh(()=>this.afterPreactivation()),Xh(_=>{const g=h=>{const b=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(h.routeConfig).pipe(Qn(T=>{h.component=T}),(0,yt.U)(()=>{})));for(const T of h.children)b.push(...g(T));return b};return Ar(g(_.targetSnapshot.root)).pipe(wh(),(0,ns.q)(1))}),(0,yt.U)(_=>{const g=function zu(n,r,e){const i=ss(n,r._root,e?e._root:void 0);return new x0(i,r)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return{..._,targetRouterState:g}}),Qn(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,r,e)=>(0,yt.U)(i=>(new fE(r,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),Qn({next(){l=!0},complete(){l=!0}}),Ca(()=>{l||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),(0,ts.K)(_=>{if(d=!0,function zx(n){return n&&n[o0]}(_)){const g=as(_.url);g||(this.navigated=!0,this.restoreHistory(o,!0));const h=new xh(o.id,this.serializeUrl(o.extractedUrl),_.message);if(i.next(h),g){const b=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),T={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nm(o.source)};this.scheduleNavigation(b,"imperative",null,T,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const g=new Kv(o.id,this.serializeUrl(o.extractedUrl),_);i.next(g);try{o.resolve(this.errorHandler(_))}catch(h){o.reject(h)}}return es.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const o={replaceUrl:!0},l=e.state?.navigationId?e.state:null;if(l){const _={...l};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(jh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:_,preserveFragment:g}=i,h=o||this.routerState.root,b=g?this.currentUrlTree.fragment:d;let T=null;switch(_){case"merge":T={...this.currentUrlTree.queryParams,...l};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=l||null}return null!==T&&(T=this.removeEmptyProps(T)),function rE(n,r,e,i,o){if(0===e.length)return h_(r.root,r.root,r.root,i,o);const l=function iE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Fh(!0,0,n);let r=0,e=!1;const i=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return vr(l.outlets,(g,h)=>{_[h]="string"==typeof g?g.split("/"):g}),[...o,{outlets:_}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((_,g)=>{0==g&&"."===_||(0==g&&""===_?e=!0:".."===_?r++:""!=_&&o.push(_))}),o):[...o,l]},[]);return new Fh(e,r,i)}(e);return l.toRoot()?h_(r.root,r.root,new Wt([],{}),i,o):function d(g){const h=function AD(n,r,e,i){return n.isAbsolute?new kh(r.root,!0,0):-1===i?new kh(e,e===r.root,0):function MD(n,r,e){let i=n,o=r,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new kh(i,!1,o-l)}(e,i+(qu(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,r,n.snapshot?._urlSegment,g),b=h.processChildren?Gu(h.segmentGroup,h.index,l.commands):oE(h.segmentGroup,h.index,l.commands);return h_(r.root,h.segmentGroup,b,i,o)}(n.snapshot?._lastPathIndex)}(h,this.currentUrlTree,e,T,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=as(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function K0(n){for(let r=0;r<n.length;r++){const e=n[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...Y0}:!1===i?{...W0}:i,as(e))return u0(this.currentUrlTree,e,o);const l=this.parseUrl(e);return u0(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ta(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,l,d){if(this.disposed)return Promise.resolve(!1);let _,g,h;d?(_=d.resolve,g=d.reject,h=d.promise):h=new Promise((P,S)=>{_=P,g=S});const b=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),T=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:b,targetPageId:T,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:_,reject:g,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),l={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const o=new xh(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function nm(n){return"imperative"!==n}let nd=(()=>{class n{constructor(e,i,o,l,d){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new Xo.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,o=this.el.nativeElement;null!==e?i.setAttribute(o,"tabindex",e):i.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,t.D6c)(this.skipLocationChange),replaceUrl:(0,t.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,t.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(br),t.Y36(oo),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})(),rm=(()=>{class n{constructor(e,i,o){this.router=e,this.route=i,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Xo.x,this.subscription=e.events.subscribe(l=>{l instanceof Ta&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,o,l,d){if(0!==e||i||o||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const _={skipLocationChange:(0,t.D6c)(this.skipLocationChange),replaceUrl:(0,t.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,t.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(br),t.Y36(oo),t.Y36(Te))},n.\u0275dir=t.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&t.uIk("target",i.target)("href",i.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})(),jE=(()=>{class n{constructor(e,i,o,l,d,_){this.router=e,this.element=i,this.renderer=o,this.cdr=l,this.link=d,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.vpe,this.routerEventsSubscription=e.events.subscribe(g=>{g instanceof Ta&&this.update()})}ngAfterContentInit(){(0,It.of)(this.links.changes,this.linksWithHrefs.changes,(0,It.of)(null)).pipe((0,Bc.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,bt.D)(e).pipe((0,Bc.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function X0(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(br),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(nd,8),t.Y36(rm,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,nd,5),t.Suo(o,rm,5)),2&e){let l;t.iGM(l=t.CRH())&&(i.links=l),t.iGM(l=t.CRH())&&(i.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[t.TTD]}),n})();class im{buildTitle(r){let e,i=r.root;for(;void 0!==i;)e=this.getResolvedTitleForRoute(i)??e,i=i.children.find(o=>o.outlet===Jt);return e}getResolvedTitleForRoute(r){return r.data[Yh]}}let eb=(()=>{class n extends im{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Bl))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tb{}class Qc{preload(r,e){return(0,It.of)(null)}}let nb=(()=>{class n{constructor(e,i,o,l,d){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,zn.h)(e=>e instanceof Ta),(0,Hn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,t.MMx)(l.providers,e,`Route: ${l.path}`));const d=l._injector??e,_=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes||l.loadComponent&&!l._loadedComponent?o.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&o.push(this.processRoutes(_,l.children??l._loadedRoutes))}return(0,bt.D)(o).pipe((0,Bc.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,It.of)(null);const l=o.pipe((0,Dr.z)(d=>null===d?(0,It.of)(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,bt.D)([l,d]).pipe((0,Bc.J)())}return l})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(br),t.LFG(t.Sil),t.LFG(t.lqb),t.LFG(tb),t.LFG(tm))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),rd=(()=>{class n{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof a_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ta&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Dh&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Dh(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Pa=new t.OlP("ROUTER_CONFIGURATION"),T_=new t.OlP("ROUTER_FORROOT_GUARD"),id=[ve,{provide:p0,useClass:g0},{provide:br,useFactory:function qE(n,r,e,i,o,l,d={},_,g,h,b){const T=new br(null,n,r,e,i,o,a0(l));return h&&(T.urlHandlingStrategy=h),b&&(T.routeReuseStrategy=b),T.titleStrategy=g??_,function ob(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}(d,T),T},deps:[p0,Ju,ve,t.zs3,t.Sil,em,Pa,eb,[im,new t.FiY],[class BE{},new t.FiY],[class FE{},new t.FiY]]},Ju,{provide:oo,useFactory:function sb(n){return n.routerState.root},deps:[br]},nb,Qc,class $E{preload(r,e){return e().pipe((0,ts.K)(()=>(0,It.of)(null)))}},{provide:Pa,useValue:{enableTracing:!1}},tm];function HE(){return new t.PXZ("Router",br)}let rb=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[id,ib(e),{provide:T_,useFactory:S_,deps:[[br,new t.FiY,new t.tp0]]},{provide:Pa,useValue:i||{}},{provide:Te,useFactory:D_,deps:[O,[new t.tBr(Ke),new t.FiY],Pa]},{provide:rd,useFactory:zE,deps:[br,El,Pa]},{provide:tb,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Qc},{provide:t.PXZ,multi:!0,useFactory:HE},[od,{provide:t.ip1,multi:!0,useFactory:ab,deps:[od]},{provide:cb,useFactory:GE,deps:[od]},{provide:t.tb,multi:!0,useExisting:cb}]]}}static forChild(e){return{ngModule:n,providers:[ib(e)]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T_,8),t.LFG(br,8))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function zE(n,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new rd(n,r,e)}function D_(n,r,e={}){return e.useHash?new Ae(n,r):new Ge(n,r)}function S_(n){return"guarded"}function ib(n){return[{provide:t.deG,multi:!0,useValue:n},{provide:em,multi:!0,useValue:n}]}let od=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xo.x}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const o=new Promise(_=>i=_),l=this.injector.get(br),d=this.injector.get(Pa);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabledBlocking"===d.initialNavigation?(l.afterPreactivation=()=>this.initNavigation?(0,It.of)(void 0):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),o})}bootstrapListener(e){const i=this.injector.get(Pa),o=this.injector.get(nb),l=this.injector.get(rd),d=this.injector.get(br),_=this.injector.get(t.z2F);e===_.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),l.init(),d.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function ab(n){return n.appInitializer.bind(n)}function GE(n){return n.bootstrapListener.bind(n)}const cb=new t.OlP("Router Initializer");var A_=M(5684);const sd=new t.OlP("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),M_=new t.OlP("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:n}=(0,t.f3M)($);if(!n)throw new Error("Window is not available");return n}}),YE=new t.OlP("ngx-data-layer",{providedIn:"root",factory:()=>function QE(n){return n?n.dataLayer=n.dataLayer||[]:null}((0,t.f3M)(M_))}),ub=new t.OlP("ngx-gtag-fn",{providedIn:"root",factory:()=>function WE(n,r){return n?n.gtag=n.gtag||function(){r.push(arguments)}:null}((0,t.f3M)(M_),(0,t.f3M)(YE))});let ad=(()=>{class n{constructor(e,i,o){this.settings=e,this._document=i,this._gtag=o}get document(){return this._document}throw(e){(this.settings.enableTracing||(0,t.X6Q)())&&console&&console.error&&console.error(e)}toKeyValue(e){return e.size>0?Array.from(e).reduce((i,[o,l])=>Object.defineProperty(i,o,{value:l,enumerable:!0}),{}):void 0}gtag(...e){try{this._gtag(...e.filter(i=>void 0!==i))}catch(i){this.throw(i)}}event(e,i,o,l,d,_){try{const g=new Map;i&&g.set("event_category",i),o&&g.set("event_label",o),l&&g.set("value",l),void 0!==d&&g.set("interaction",d),_&&Object.entries(_).map(([b,T])=>g.set(b,T));const h=this.toKeyValue(g);h?this.gtag("event",e,h):this.gtag("event",e)}catch(g){this.throw(g)}}pageView(e,i,o,l){try{const d=new Map([["page_path",e]]);i&&d.set("page_title",i),(o||this.document)&&d.set("page_location",o||this.document.location.href),l&&Object.entries(l).map(([_,g])=>d.set(_,g)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(d))}catch(d){this.throw(d)}}appView(e,i,o,l,d){try{const _=new Map([["screen_name",e],["app_name",i]]);o&&_.set("app_id",o),l&&_.set("app_version",l),d&&_.set("app_installer_id",d),this.gtag("event","screen_view",this.toKeyValue(_))}catch(_){this.throw(_)}}set(...e){try{this._gtag("set",...e)}catch(i){this.throw(i)}}exception(e,i){try{const o=new Map;e&&o.set("description",e),i&&o.set("fatal",i),this.toKeyValue(o)?this.gtag("event","exception",this.toKeyValue(o)):this.gtag("event","exception")}catch(o){this.throw(o)}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(sd),t.LFG($),t.LFG(ub))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fb={provide:t.ip1,multi:!0,useFactory:function _b(n,r,e){return xa(function*(){if(!n.trackingCode)return void((0,t.X6Q)()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."));if(!r)return void((0,t.X6Q)()||console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface."));e||(0,t.X6Q)()||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),n.uri=n.uri||`https://www.googletagmanager.com/gtag/js?id=${n.trackingCode}`,n.initCommands=n?.initCommands??[],n.initCommands.find(l=>"config"===l.command)||n.initCommands.unshift({command:"config",values:[n.trackingCode]}),n.initCommands.find(l=>"js"===l.command)||n.initCommands.unshift({command:"js",values:[new Date]});for(const l of n.initCommands)r(l.command,...l.values);const i=e.createElement("script");i.async=!0,i.src=n.uri,n.nonce&&i.setAttribute("nonce",n.nonce),e.getElementsByTagName("head")[0].appendChild(i)})},deps:[sd,ub,$]},pb=new t.OlP("ngx-google-analytics-routing-settings",{factory:()=>({})}),gb={provide:t.tb,multi:!0,useFactory:function hb(n,r){return function(){var e=xa(function*(i){const o=i.injector.get(br),{include:l=[],exclude:d=[]}=n??{},_=mb(l),g=mb(d),h=o.events.pipe((0,zn.h)(b=>b instanceof Ta),(0,A_.T)(1),(0,zn.h)(b=>!(_.length>0)||_.some(T=>T.test(b.urlAfterRedirects))),(0,zn.h)(b=>!(g.length>0&&g.some(T=>T.test(b.urlAfterRedirects))))).subscribe(b=>r.pageView(b.urlAfterRedirects,void 0));i.onDestroy(()=>h.unsubscribe())});return function(i){return e.apply(this,arguments)}}()},deps:[pb,ad]};function mb(n){return n.map(r=>r instanceof RegExp?r:new RegExp(`^${r.replace("*",".*")}$`,"i"))}let om=(()=>{class n{static forRoot(e,i=[],o,l,d){return{ngModule:n,providers:[{provide:sd,useValue:{trackingCode:e,initCommands:i,uri:o,enableTracing:l,nonce:d}},fb]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),yb=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:pb,useValue:e??{}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[gb],imports:[Ks,om]}),n})();var O_=M(655),eC=M(2722);const LD=t.GuJ,vb=Symbol("__destroy"),sm=Symbol("__decoratorApplied");function Yc(n){return"string"==typeof n?Symbol(`__destroy__${n}`):vb}function P_(n,r){n[r]||(n[r]=new Xo.x)}function bb(n,r){n[r]&&(n[r].next(),n[r].complete(),n[r]=null)}function am(n){n instanceof Bi.w0&&n.unsubscribe()}function wb(n,r){return function(){if(n&&n.call(this),bb(this,Yc()),r.arrayName&&function nC(n){Array.isArray(n)&&n.forEach(am)}(this[r.arrayName]),r.checkProperties)for(const e in this)r.blackList?.includes(e)||am(this[e])}}function Kc(n={}){return r=>{!function BD(n){return!!n[LD]}(r)?function Wc(n,r){n.prototype.ngOnDestroy=wb(n.prototype.ngOnDestroy,r)}(r,n):function rC(n,r){const e=n.\u0275pipe;e.onDestroy=wb(e.onDestroy,r)}(r,n),function tC(n){n.prototype[sm]=!0}(r)}}function cd(n,r){return e=>{const i=Yc(r);return"string"==typeof r?function oC(n,r,e){const i=n[r];P_(n,e),n[r]=function(){i.apply(this,arguments),bb(this,e),n[r]=i}}(n,r,i):P_(n,i),e.pipe((0,eC.R)(n[i]))}}Symbol("CheckerHasBeenSet");var sC={value:()=>{}};function fm(){for(var i,n=0,r=arguments.length,e={};n<r;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Xc(e)}function Xc(n){this._=n}function ZD(n,r){return n.trim().split(/^|\s+/).map(function(e){var i="",o=e.indexOf(".");if(o>=0&&(i=e.slice(o+1),e=e.slice(0,o)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}function aC(n,r){for(var o,e=0,i=n.length;e<i;++e)if((o=n[e]).name===r)return o.value}function cC(n,r,e){for(var i=0,o=n.length;i<o;++i)if(n[i].name===r){n[i]=sC,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:r,value:e}),n}Xc.prototype=fm.prototype={constructor:Xc,on:function(n,r){var o,e=this._,i=ZD(n+"",e),l=-1,d=i.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++l<d;)if(o=(n=i[l]).type)e[o]=cC(e[o],n.name,r);else if(null==r)for(o in e)e[o]=cC(e[o],n.name,null);return this}for(;++l<d;)if((o=(n=i[l]).type)&&(o=aC(e[o],n.name)))return o},copy:function(){var n={},r=this._;for(var e in r)n[e]=r[e].slice();return new Xc(n)},call:function(n,r){if((o=arguments.length-2)>0)for(var o,l,e=new Array(o),i=0;i<o;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,o=(l=this._[n]).length;i<o;++i)l[i].value.apply(r,e)},apply:function(n,r,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,l=i.length;o<l;++o)i[o].value.apply(r,e)}};const lC=fm;function uC(){}function xb(n){return null==n?uC:function(){return this.querySelector(n)}}function Cb(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function dC(){return[]}function _m(n){return function(r){return r.matches(n)}}var pC=Array.prototype.find;function Ab(){return this.firstElementChild}var Ob=Array.prototype.filter;function gC(){return Array.from(this.children)}function mC(n){return new Array(n.length)}function pm(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function jD(n){return function(){return n}}function $D(n,r,e,i,o,l){for(var _,d=0,g=r.length,h=l.length;d<h;++d)(_=r[d])?(_.__data__=l[d],i[d]=_):e[d]=new pm(n,l[d]);for(;d<g;++d)(_=r[d])&&(o[d]=_)}function HD(n,r,e,i,o,l,d){var _,g,S,h=new Map,b=r.length,T=l.length,P=new Array(b);for(_=0;_<b;++_)(g=r[_])&&(P[_]=S=d.call(g,g.__data__,_,r)+"",h.has(S)?o[_]=g:h.set(S,g));for(_=0;_<T;++_)S=d.call(n,l[_],_,l)+"",(g=h.get(S))?(i[_]=g,g.__data__=l[_],h.delete(S)):e[_]=new pm(n,l[_]);for(_=0;_<b;++_)(g=r[_])&&h.get(P[_])===g&&(o[_]=g)}function zD(n){return n.__data__}function R_(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function JD(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}pm.prototype={constructor:pm,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var hm="http://www.w3.org/1999/xhtml";const Bb={svg:"http://www.w3.org/2000/svg",xhtml:hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ud(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),Bb.hasOwnProperty(r)?{space:Bb[r],local:n}:n}function bC(n){return function(){this.removeAttribute(n)}}function YD(n){return function(){this.removeAttributeNS(n.space,n.local)}}function WD(n,r){return function(){this.setAttribute(n,r)}}function KD(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function wC(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function IC(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function EC(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function CC(n){return function(){this.style.removeProperty(n)}}function mm(n,r,e){return function(){this.style.setProperty(n,r,e)}}function TC(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function DC(n,r){return n.style.getPropertyValue(r)||EC(n).getComputedStyle(n,null).getPropertyValue(r)}function ym(n){return function(){delete this[n]}}function SC(n,r){return function(){this[n]=r}}function AC(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function bm(n){return n.trim().split(/^|\s+/)}function F_(n){return n.classList||new Zb(n)}function Zb(n){this._node=n,this._names=bm(n.getAttribute("class")||"")}function wm(n,r){for(var e=F_(n),i=-1,o=r.length;++i<o;)e.add(r[i])}function Im(n,r){for(var e=F_(n),i=-1,o=r.length;++i<o;)e.remove(r[i])}function MC(n){return function(){wm(this,n)}}function Ub(n){return function(){Im(this,n)}}function OC(n,r){return function(){(r.apply(this,arguments)?wm:Im)(this,n)}}function zs(){this.textContent=""}function Vb(n){return function(){this.textContent=n}}function jb(n){return function(){var r=n.apply(this,arguments);this.textContent=r??""}}function PC(){this.innerHTML=""}function XD(n){return function(){this.innerHTML=n}}function RC(n){return function(){var r=n.apply(this,arguments);this.innerHTML=r??""}}function FC(){this.nextSibling&&this.parentNode.appendChild(this)}function $b(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hb(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===hm&&r.documentElement.namespaceURI===hm?r.createElement(n):r.createElementNS(e,n)}}function LC(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Em(n){var r=ud(n);return(r.local?LC:Hb)(r)}function Cm(){return null}function qb(){var n=this.parentNode;n&&n.removeChild(this)}function Gb(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function Jb(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function ZC(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function Yb(n){return function(){var r=this.__on;if(r){for(var l,e=0,i=-1,o=r.length;e<o;++e)l=r[e],n.type&&l.type!==n.type||l.name!==n.name?r[++i]=l:this.removeEventListener(l.type,l.listener,l.options);++i?r.length=i:delete this.__on}}}function Wb(n,r,e){return function(){var o,i=this.__on,l=function Qb(n){return function(r){n.call(this,r,this.__data__)}}(r);if(i)for(var d=0,_=i.length;d<_;++d)if((o=i[d]).type===n.type&&o.name===n.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=e),void(o.value=r);this.addEventListener(n.type,l,e),o={type:n.type,name:n.name,value:r,listener:l,options:e},i?i.push(o):this.__on=[o]}}function Kb(n,r,e){var i=EC(n),o=i.CustomEvent;"function"==typeof o?o=new o(r,e):(o=i.document.createEvent("Event"),e?(o.initEvent(r,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(r,!1,!1)),n.dispatchEvent(o)}function nS(n,r){return function(){return Kb(this,n,r)}}function rS(n,r){return function(){return Kb(this,n,r.apply(this,arguments))}}Zb.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var ew=[null];function hi(n,r){this._groups=n,this._parents=r}function ls(n){return"string"==typeof n?new hi([[document.querySelector(n)]],[document.documentElement]):new hi([[n]],ew)}function tw(n,r){if(n=function sS(n){let r;for(;r=n.sourceEvent;)n=r;return n}(n),void 0===r&&(r=n.currentTarget),r){var e=r.ownerSVGElement||r;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(r.getScreenCTM().inverse())).x,i.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[n.clientX-o.left-r.clientLeft,n.clientY-o.top-r.clientTop]}}return[n.pageX,n.pageY]}hi.prototype=function iS(){return new hi([[document.documentElement]],ew)}.prototype={constructor:hi,select:function Eb(n){"function"!=typeof n&&(n=xb(n));for(var r=this._groups,e=r.length,i=new Array(e),o=0;o<e;++o)for(var g,h,l=r[o],d=l.length,_=i[o]=new Array(d),b=0;b<d;++b)(g=l[b])&&(h=n.call(g,g.__data__,b,l))&&("__data__"in g&&(h.__data__=g.__data__),_[b]=h);return new hi(i,this._parents)},selectAll:function fC(n){n="function"==typeof n?function Db(n){return function(){return Cb(n.apply(this,arguments))}}(n):function Tb(n){return null==n?dC:function(){return this.querySelectorAll(n)}}(n);for(var r=this._groups,e=r.length,i=[],o=[],l=0;l<e;++l)for(var g,d=r[l],_=d.length,h=0;h<_;++h)(g=d[h])&&(i.push(n.call(g,g.__data__,h,d)),o.push(g));return new hi(i,o)},selectChild:function Mb(n){return this.select(null==n?Ab:function Sb(n){return function(){return pC.call(this.children,n)}}("function"==typeof n?n:_m(n)))},selectChildren:function UD(n){return this.selectAll(null==n?gC:function hC(n){return function(){return Ob.call(this.children,n)}}("function"==typeof n?n:_m(n)))},filter:function Pb(n){"function"!=typeof n&&(n=function _C(n){return function(){return this.matches(n)}}(n));for(var r=this._groups,e=r.length,i=new Array(e),o=0;o<e;++o)for(var g,l=r[o],d=l.length,_=i[o]=[],h=0;h<d;++h)(g=l[h])&&n.call(g,g.__data__,h,l)&&_.push(g);return new hi(i,this._parents)},data:function qD(n,r){if(!arguments.length)return Array.from(this,zD);var e=r?HD:$D,i=this._parents,o=this._groups;"function"!=typeof n&&(n=jD(n));for(var l=o.length,d=new Array(l),_=new Array(l),g=new Array(l),h=0;h<l;++h){var b=i[h],T=o[h],P=T.length,S=R_(n.call(b,b&&b.__data__,h,i)),F=S.length,te=_[h]=new Array(F),ce=d[h]=new Array(F),me=g[h]=new Array(P);e(b,T,te,ce,me,S,r);for(var V,Ze,xe=0,_e=0;xe<F;++xe)if(V=te[xe]){for(xe>=_e&&(_e=xe+1);!(Ze=ce[_e])&&++_e<F;);V._next=Ze||null}}return(d=new hi(d,i))._enter=_,d._exit=g,d},enter:function VD(){return new hi(this._enter||this._groups.map(mC),this._parents)},exit:function GD(){return new hi(this._exit||this._groups.map(mC),this._parents)},join:function Rb(n,r,e){var i=this.enter(),o=this,l=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=r&&(o=r(o))&&(o=o.selection()),null==e?l.remove():e(l),i&&o?i.merge(o).order():o},merge:function N_(n){for(var r=n.selection?n.selection():n,e=this._groups,i=r._groups,o=e.length,d=Math.min(o,i.length),_=new Array(o),g=0;g<d;++g)for(var S,h=e[g],b=i[g],T=h.length,P=_[g]=new Array(T),F=0;F<T;++F)(S=h[F]||b[F])&&(P[F]=S);for(;g<o;++g)_[g]=e[g];return new hi(_,this._parents)},selection:function oS(){return this},order:function Nb(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var d,i=n[r],o=i.length-1,l=i[o];--o>=0;)(d=i[o])&&(l&&4^d.compareDocumentPosition(l)&&l.parentNode.insertBefore(d,l),l=d);return this},sort:function Fb(n){function r(T,P){return T&&P?n(T.__data__,P.__data__):!T-!P}n||(n=JD);for(var e=this._groups,i=e.length,o=new Array(i),l=0;l<i;++l){for(var h,d=e[l],_=d.length,g=o[l]=new Array(_),b=0;b<_;++b)(h=d[b])&&(g[b]=h);g.sort(r)}return new hi(o,this._parents).order()},call:function gm(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function kb(){return Array.from(this)},node:function yC(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],o=0,l=i.length;o<l;++o){var d=i[o];if(d)return d}return null},size:function Lb(){let n=0;for(const r of this)++n;return n},empty:function QD(){return!this.node()},each:function vC(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var _,o=r[e],l=0,d=o.length;l<d;++l)(_=o[l])&&n.call(_,_.__data__,l,o);return this},attr:function xC(n,r){var e=ud(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?YD:bC:"function"==typeof r?e.local?IC:wC:e.local?KD:WD)(e,r))},style:function gi(n,r,e){return arguments.length>1?this.each((null==r?CC:"function"==typeof r?TC:mm)(n,r,e??"")):DC(this.node(),n)},property:function vm(n,r){return arguments.length>1?this.each((null==r?ym:"function"==typeof r?AC:SC)(n,r)):this.node()[n]},classed:function xm(n,r){var e=bm(n+"");if(arguments.length<2){for(var i=F_(this.node()),o=-1,l=e.length;++o<l;)if(!i.contains(e[o]))return!1;return!0}return this.each(("function"==typeof r?OC:r?MC:Ub)(e,r))},text:function Oo(n){return arguments.length?this.each(null==n?zs:("function"==typeof n?jb:Vb)(n)):this.node().textContent},html:function NC(n){return arguments.length?this.each(null==n?PC:("function"==typeof n?RC:XD)(n)):this.node().innerHTML},raise:function kC(){return this.each(FC)},lower:function eS(){return this.each($b)},append:function tS(n){var r="function"==typeof n?n:Em(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function zb(n,r){var e="function"==typeof n?n:Em(n),i=null==r?Cm:"function"==typeof r?r:xb(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function BC(){return this.each(qb)},clone:function k_(n){return this.select(n?Jb:Gb)},datum:function L_(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function UC(n,r,e){var o,d,i=ZC(n+""),l=i.length;if(!(arguments.length<2)){for(_=r?Wb:Yb,o=0;o<l;++o)this.each(_(i[o],r,e));return this}var _=this.node().__on;if(_)for(var b,g=0,h=_.length;g<h;++g)for(o=0,b=_[g];o<l;++o)if((d=i[o]).type===b.type&&d.name===b.name)return b.value},dispatch:function Xb(n,r){return this.each(("function"==typeof r?rS:nS)(n,r))},[Symbol.iterator]:function*VC(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var d,i=n[r],o=0,l=i.length;o<l;++o)(d=i[o])&&(yield d)}};const B_={passive:!1},dd={capture:!0,passive:!1};function Tm(n){n.stopImmediatePropagation()}function Ra(n){n.preventDefault(),n.stopImmediatePropagation()}const el=n=>()=>n;function fd(n,{sourceEvent:r,subject:e,target:i,identifier:o,active:l,x:d,y:_,dx:g,dy:h,dispatch:b}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:_,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:b}})}function jC(n){return!n.ctrlKey&&!n.button}function Dm(){return this.parentNode}function Sm(n,r){return r??{x:n.x,y:n.y}}function Z_(){return navigator.maxTouchPoints||"ontouchstart"in this}fd.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};var rw=Math.PI,iw=2*rw,tl=1e-6,ow=iw-tl;function Am(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sw(){return new Am}Am.prototype=sw.prototype={constructor:Am,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,i){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(n,r,e,i,o,l){this._+="C"+ +n+","+ +r+","+ +e+","+ +i+","+(this._x1=+o)+","+(this._y1=+l)},arcTo:function(n,r,e,i,o){var l=this._x1,d=this._y1,_=(e=+e)-(n=+n),g=(i=+i)-(r=+r),h=l-n,b=d-r,T=h*h+b*b;if((o=+o)<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(T>tl)if(Math.abs(b*_-g*h)>tl&&o){var P=e-l,S=i-d,F=_*_+g*g,te=P*P+S*S,ce=Math.sqrt(F),me=Math.sqrt(T),xe=o*Math.tan((rw-Math.acos((F+T-te)/(2*ce*me)))/2),_e=xe/me,V=xe/ce;Math.abs(_e-1)>tl&&(this._+="L"+(n+_e*h)+","+(r+_e*b)),this._+="A"+o+","+o+",0,0,"+ +(b*P>h*S)+","+(this._x1=n+V*_)+","+(this._y1=r+V*g)}else this._+="L"+(this._x1=n)+","+(this._y1=r)},arc:function(n,r,e,i,o,l){n=+n,r=+r,l=!!l;var d=(e=+e)*Math.cos(i),_=e*Math.sin(i),g=n+d,h=r+_,b=1^l,T=l?i-o:o-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+g+","+h:(Math.abs(this._x1-g)>tl||Math.abs(this._y1-h)>tl)&&(this._+="L"+g+","+h),e&&(T<0&&(T=T%iw+iw),T>ow?this._+="A"+e+","+e+",0,1,"+b+","+(n-d)+","+(r-_)+"A"+e+","+e+",0,1,"+b+","+(this._x1=g)+","+(this._y1=h):T>tl&&(this._+="A"+e+","+e+",0,"+ +(T>=rw)+","+b+","+(this._x1=n+e*Math.cos(o))+","+(this._y1=r+e*Math.sin(o))))},rect:function(n,r,e,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};const $C=sw;var HC=Array.prototype.slice;function Mm(n){return function(){return n}}function aw(n){return n[0]}function cw(n){return n[1]}function zC(n){return n.source}function qC(n){return n.target}function Om(n,r,e,i,o){n.moveTo(r,e),n.bezierCurveTo(r=(r+i)/2,e,r,o,i,o)}function V_(){return function U_(n){var r=zC,e=qC,i=aw,o=cw,l=null;function d(){var _,g=HC.call(arguments),h=r.apply(this,g),b=e.apply(this,g);if(l||(l=_=$C()),n(l,+i.apply(this,(g[0]=h,g)),+o.apply(this,g),+i.apply(this,(g[0]=b,g)),+o.apply(this,g)),_)return l=null,_+""||null}return d.source=function(_){return arguments.length?(r=_,d):r},d.target=function(_){return arguments.length?(e=_,d):e},d.x=function(_){return arguments.length?(i="function"==typeof _?_:Mm(+_),d):i},d.y=function(_){return arguments.length?(o="function"==typeof _?_:Mm(+_),d):o},d.context=function(_){return arguments.length?(l=_??null,d):l},d}(Om)}function dS(n){return[n.source.x1,n.y0]}function fS(n){return[n.target.x0,n.y1]}function uw(){return V_().source(dS).target(fS)}function Pm(n,r){let e=0;if(void 0===r)for(let i of n)(i=+i)&&(e+=i);else{let i=-1;for(let o of n)(o=+r(o,++i,n))&&(e+=o)}return e}function dw(n,r){let e;if(void 0===r)for(const i of n)null!=i&&(e<i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let o of n)null!=(o=r(o,++i,n))&&(e<o||void 0===e&&o>=o)&&(e=o)}return e}function GC(n,r){let e;if(void 0===r)for(const i of n)null!=i&&(e>i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let o of n)null!=(o=r(o,++i,n))&&(e>o||void 0===e&&o>=o)&&(e=o)}return e}function _S(n){return n.target.depth}function pS(n){return n.depth}function gS(n,r){return r-1-n.height}function JC(n,r){return n.sourceLinks.length?n.depth:r-1}function QC(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?GC(n.sourceLinks,_S)-1:0}function Rm(n){return function(){return n}}function YC(n,r){return Nm(n.source,r.source)||n.index-r.index}function WC(n,r){return Nm(n.target,r.target)||n.index-r.index}function Nm(n,r){return n.y0-r.y0}function s(n){return n.value}function a(n){return n.index}function c(n){return n.nodes}function u(n){return n.links}function f(n,r){const e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function p({nodes:n}){for(const r of n){let e=r.y0,i=e;for(const o of r.sourceLinks)o.y0=e+o.width/2,e+=o.width;for(const o of r.targetLinks)o.y1=i+o.width/2,i+=o.width}}function y(){let d,h,b,n=0,r=0,e=1,i=1,o=24,l=8,_=a,g=JC,T=c,P=u,S=6;function F(){const Me={nodes:T.apply(null,arguments),links:P.apply(null,arguments)};return te(Me),ce(Me),me(Me),xe(Me),Ze(Me),p(Me),Me}function te({nodes:Me,links:pe}){for(const[Oe,Ne]of Me.entries())Ne.index=Oe,Ne.sourceLinks=[],Ne.targetLinks=[];const se=new Map(Me.map((Oe,Ne)=>[_(Oe,Ne,Me),Oe]));for(const[Oe,Ne]of pe.entries()){Ne.index=Oe;let{source:We,target:kt}=Ne;"object"!=typeof We&&(We=Ne.source=f(se,We)),"object"!=typeof kt&&(kt=Ne.target=f(se,kt)),We.sourceLinks.push(Ne),kt.targetLinks.push(Ne)}if(null!=b)for(const{sourceLinks:Oe,targetLinks:Ne}of Me)Oe.sort(b),Ne.sort(b)}function ce({nodes:Me}){for(const pe of Me)pe.value=void 0===pe.fixedValue?Math.max(Pm(pe.sourceLinks,s),Pm(pe.targetLinks,s)):pe.fixedValue}function me({nodes:Me}){const pe=Me.length;let se=new Set(Me),Oe=new Set,Ne=0;for(;se.size;){for(const We of se){We.depth=Ne;for(const{target:kt}of We.sourceLinks)Oe.add(kt)}if(++Ne>pe)throw new Error("circular link");se=Oe,Oe=new Set}}function xe({nodes:Me}){const pe=Me.length;let se=new Set(Me),Oe=new Set,Ne=0;for(;se.size;){for(const We of se){We.height=Ne;for(const{source:kt}of We.targetLinks)Oe.add(kt)}if(++Ne>pe)throw new Error("circular link");se=Oe,Oe=new Set}}function Ze(Me){const pe=function _e({nodes:Me}){const pe=dw(Me,Ne=>Ne.depth)+1,se=(e-n-o)/(pe-1),Oe=new Array(pe);for(const Ne of Me){const We=Math.max(0,Math.min(pe-1,Math.floor(g.call(null,Ne,pe))));Ne.layer=We,Ne.x0=n+We*se,Ne.x1=Ne.x0+o,Oe[We]?Oe[We].push(Ne):Oe[We]=[Ne]}if(h)for(const Ne of Oe)Ne.sort(h);return Oe}(Me);d=Math.min(l,(i-r)/(dw(pe,se=>se.length)-1)),function V(Me){const pe=GC(Me,se=>(i-r-(se.length-1)*d)/Pm(se,s));for(const se of Me){let Oe=r;for(const Ne of se){Ne.y0=Oe,Ne.y1=Oe+Ne.value*pe,Oe=Ne.y1+d;for(const We of Ne.sourceLinks)We.width=We.value*pe}Oe=(i-Oe+d)/(se.length+1);for(let Ne=0;Ne<se.length;++Ne){const We=se[Ne];We.y0+=Oe*(Ne+1),We.y1+=Oe*(Ne+1)}Nt(se)}}(pe);for(let se=0;se<S;++se){const Oe=Math.pow(.99,se),Ne=Math.max(1-Oe,(se+1)/S);ae(pe,Oe,Ne),oe(pe,Oe,Ne)}}function oe(Me,pe,se){for(let Oe=1,Ne=Me.length;Oe<Ne;++Oe){const We=Me[Oe];for(const kt of We){let vt=0,Rn=0;for(const{source:Lo,value:Od}of kt.targetLinks){let jn=Od*(kt.layer-Lo.layer);vt+=Vn(Lo,kt)*jn,Rn+=jn}if(!(Rn>0))continue;let _n=(vt/Rn-kt.y0)*pe;kt.y0+=_n,kt.y1+=_n,nt(kt)}void 0===h&&We.sort(Nm),Ue(We,se)}}function ae(Me,pe,se){for(let Ne=Me.length-2;Ne>=0;--Ne){const We=Me[Ne];for(const kt of We){let vt=0,Rn=0;for(const{target:Lo,value:Od}of kt.sourceLinks){let jn=Od*(Lo.layer-kt.layer);vt+=Yn(kt,Lo)*jn,Rn+=jn}if(!(Rn>0))continue;let _n=(vt/Rn-kt.y0)*pe;kt.y0+=_n,kt.y1+=_n,nt(kt)}void 0===h&&We.sort(Nm),Ue(We,se)}}function Ue(Me,pe){const se=Me.length>>1,Oe=Me[se];qe(Me,Oe.y0-d,se-1,pe),et(Me,Oe.y1+d,se+1,pe),qe(Me,i,Me.length-1,pe),et(Me,r,0,pe)}function et(Me,pe,se,Oe){for(;se<Me.length;++se){const Ne=Me[se],We=(pe-Ne.y0)*Oe;We>1e-6&&(Ne.y0+=We,Ne.y1+=We),pe=Ne.y1+d}}function qe(Me,pe,se,Oe){for(;se>=0;--se){const Ne=Me[se],We=(Ne.y1-pe)*Oe;We>1e-6&&(Ne.y0-=We,Ne.y1-=We),pe=Ne.y0-d}}function nt({sourceLinks:Me,targetLinks:pe}){if(void 0===b){for(const{source:{sourceLinks:se}}of pe)se.sort(WC);for(const{target:{targetLinks:se}}of Me)se.sort(YC)}}function Nt(Me){if(void 0===b)for(const{sourceLinks:pe,targetLinks:se}of Me)pe.sort(WC),se.sort(YC)}function Vn(Me,pe){let se=Me.y0-(Me.sourceLinks.length-1)*d/2;for(const{target:Oe,width:Ne}of Me.sourceLinks){if(Oe===pe)break;se+=Ne+d}for(const{source:Oe,width:Ne}of pe.targetLinks){if(Oe===Me)break;se-=Ne}return se}function Yn(Me,pe){let se=pe.y0-(pe.targetLinks.length-1)*d/2;for(const{source:Oe,width:Ne}of pe.targetLinks){if(Oe===Me)break;se+=Ne+d}for(const{target:Oe,width:Ne}of Me.sourceLinks){if(Oe===pe)break;se-=Ne}return se}return F.update=function(Me){return p(Me),Me},F.nodeId=function(Me){return arguments.length?(_="function"==typeof Me?Me:Rm(Me),F):_},F.nodeAlign=function(Me){return arguments.length?(g="function"==typeof Me?Me:Rm(Me),F):g},F.nodeSort=function(Me){return arguments.length?(h=Me,F):h},F.nodeWidth=function(Me){return arguments.length?(o=+Me,F):o},F.nodePadding=function(Me){return arguments.length?(l=d=+Me,F):l},F.nodes=function(Me){return arguments.length?(T="function"==typeof Me?Me:Rm(Me),F):T},F.links=function(Me){return arguments.length?(P="function"==typeof Me?Me:Rm(Me),F):P},F.linkSort=function(Me){return arguments.length?(b=Me,F):b},F.size=function(Me){return arguments.length?(n=r=0,e=+Me[0],i=+Me[1],F):[e-n,i-r]},F.extent=function(Me){return arguments.length?(n=+Me[0][0],e=+Me[1][0],r=+Me[0][1],i=+Me[1][1],F):[[n,r],[e,i]]},F.iterations=function(Me){return arguments.length?(S=+Me,F):S},F}function w(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function _d(n,r){var o,l,e=n.length,i=-1;if(null==r){for(;++i<e;)if(null!=(o=n[i])&&o>=o)for(l=o;++i<e;)null!=(o=n[i])&&o>l&&(l=o)}else for(;++i<e;)if(null!=(o=r(n[i],i,n))&&o>=o)for(l=o;++i<e;)null!=(o=r(n[i],i,n))&&o>l&&(l=o);return l}function j_(n){return null===n?NaN:+n}function $_(n,r){var l,e=n.length,i=e,o=-1,d=0;if(null==r)for(;++o<e;)isNaN(l=j_(n[o]))?--i:d+=l;else for(;++o<e;)isNaN(l=j_(r(n[o],o,n)))?--i:d+=l;if(i)return d/i}function pd(n,r){var o,l,e=n.length,i=-1;if(null==r){for(;++i<e;)if(null!=(o=n[i])&&o>=o)for(l=o;++i<e;)null!=(o=n[i])&&l>o&&(l=o)}else for(;++i<e;)if(null!=(o=r(n[i],i,n))&&o>=o)for(l=o;++i<e;)null!=(o=r(n[i],i,n))&&l>o&&(l=o);return l}function gd(n,r){var o,e=n.length,i=-1,l=0;if(null==r)for(;++i<e;)(o=+n[i])&&(l+=o);else for(;++i<e;)(o=+r(n[i],i,n))&&(l+=o);return l}!function I(n){1===n.length&&(n=function D(n){return function(r,e){return w(n(r),e)}}(n))}(w),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var ii="$";function rl(){}function H_(n,r){var e=new rl;if(n instanceof rl)n.each(function(_,g){e.set(g,_)});else if(Array.isArray(n)){var l,i=-1,o=n.length;if(null==r)for(;++i<o;)e.set(i,n[i]);else for(;++i<o;)e.set(r(l=n[i],i,n),l)}else if(n)for(var d in n)e.set(d,n[d]);return e}rl.prototype=H_.prototype={constructor:rl,has:function(n){return ii+n in this},get:function(n){return this[ii+n]},set:function(n,r){return this[ii+n]=r,this},remove:function(n){var r=ii+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===ii&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===ii&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===ii&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===ii&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===ii&&++n;return n},empty:function(){for(var n in this)if(n[0]===ii)return!1;return!0},each:function(n){for(var r in this)r[0]===ii&&n(this[r],r.slice(1),this)}};const _w=H_;function hS(){var e,i,o,n=[],r=[];function l(_,g,h,b){if(g>=n.length)return null!=e&&_.sort(e),null!=i?i(_):_;for(var F,te,me,T=-1,P=_.length,S=n[g++],ce=_w(),xe=h();++T<P;)(me=ce.get(F=S(te=_[T])+""))?me.push(te):ce.set(F,[te]);return ce.each(function(_e,V){b(xe,V,l(_e,g,h,b))}),xe}function d(_,g){if(++g>n.length)return _;var h,b=r[g-1];return null!=i&&g>=n.length?h=_.entries():(h=[],_.each(function(T,P){h.push({key:P,values:d(T,g)})})),null!=b?h.sort(function(T,P){return b(T.key,P.key)}):h}return o={object:function(_){return l(_,0,qM,GM)},map:function(_){return l(_,0,mS,yS)},entries:function(_){return d(l(_,0,mS,yS),0)},key:function(_){return n.push(_),o},sortKeys:function(_){return r[n.length-1]=_,o},sortValues:function(_){return e=_,o},rollup:function(_){return i=_,o}}}function qM(){return{}}function GM(n,r,e){n[r]=e}function mS(){return _w()}function yS(n,r,e){n.set(r,e)}function pw(){}var hd=_w.prototype;pw.prototype=function JM(n,r){var e=new pw;if(n instanceof pw)n.each(function(l){e.add(l)});else if(n){var i=-1,o=n.length;if(null==r)for(;++i<o;)e.add(n[i]);else for(;++i<o;)e.add(r(n[i],i,n))}return e}.prototype={constructor:pw,has:hd.has,add:function(n){return this[ii+(n+="")]=n,this},remove:hd.remove,clear:hd.clear,values:hd.keys,size:hd.size,empty:hd.empty,each:hd.each};var QM=M(3675),YM=M.n(QM);function KM(n,r){return n.sourceLinks.length?n.depth:r-1}function gw(n){return function(){return n}}var vS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function XM(n,r){return hw(n.source,r.source)||n.index-r.index}function e2(n,r){return hw(n.target,r.target)||n.index-r.index}function hw(n,r){return n.partOfCycle===r.partOfCycle?n.y0-r.y0:"top"===n.circularLinkType||"bottom"===r.circularLinkType?-1:1}function KC(n){return n.value}function XC(n){return(n.y0+n.y1)/2}function t2(n){return XC(n.source)}function n2(n){return XC(n.target)}function r2(n){return n.index}function i2(n){return n.nodes}function o2(n){return n.links}function bS(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function oi(n,r){return r(n)}function a2(){var l,P,n=0,r=0,e=1,i=1,o=24,d=r2,_=KM,g=i2,h=o2,b=32,T=2,S=null;function F(){var oe={nodes:g.apply(null,arguments),links:h.apply(null,arguments)};te(oe),c2(oe,0,S),ce(oe),_e(oe),wS(oe,d),V(oe,b,d),Ze(oe);for(var ae=4,Ue=0;Ue<ae;Ue++)eT(oe,i,d),tT(oe,0,d),g2(oe,r,i,d),eT(oe,i,d),tT(oe,0,d);return y2(oe,r,l),m2(oe,r,i),CS(oe,T,i,d),oe}function te(oe){oe.nodes.forEach(function(Ue,et){Ue.index=et,Ue.sourceLinks=[],Ue.targetLinks=[]});var ae=_w(oe.nodes,d);return oe.links.forEach(function(Ue,et){Ue.index=et;var qe=Ue.source,nt=Ue.target;"object"!==(typeof qe>"u"?"undefined":vS(qe))&&(qe=Ue.source=bS(ae,qe)),"object"!==(typeof nt>"u"?"undefined":vS(nt))&&(nt=Ue.target=bS(ae,nt)),qe.sourceLinks.push(Ue),nt.targetLinks.push(Ue)}),oe}function ce(oe){oe.nodes.forEach(function(ae){ae.partOfCycle=!1,ae.value=Math.max(gd(ae.sourceLinks,KC),gd(ae.targetLinks,KC)),ae.sourceLinks.forEach(function(Ue){Ue.circular&&(ae.partOfCycle=!0,ae.circularLinkType=Ue.circularLinkType)}),ae.targetLinks.forEach(function(Ue){Ue.circular&&(ae.partOfCycle=!0,ae.circularLinkType=Ue.circularLinkType)})})}function _e(oe){var ae,Ue,et;for(ae=oe.nodes,Ue=[],et=0;ae.length;++et,ae=Ue,Ue=[])ae.forEach(function(qe){qe.depth=et,qe.sourceLinks.forEach(function(nt){Ue.indexOf(nt.target)<0&&!nt.circular&&Ue.push(nt.target)})});for(ae=oe.nodes,Ue=[],et=0;ae.length;++et,ae=Ue,Ue=[])ae.forEach(function(qe){qe.height=et,qe.targetLinks.forEach(function(nt){Ue.indexOf(nt.source)<0&&!nt.circular&&Ue.push(nt.source)})});oe.nodes.forEach(function(qe){qe.column=null!==S?qe[S]:Math.floor(_.call(null,qe,et))})}function V(oe,ae,Ue){var et=hS().key(function(Me){return Me.column}).sortKeys(w).entries(oe.nodes).map(function(Me){return Me.values});(function Nt(Me){if(P){var pe=1/0;et.forEach(function(We){var kt=i*P/(We.length+1);pe=kt<pe?kt:pe}),l=pe}var se=pd(et,function(We){return(i-r-(We.length-1)*l)/gd(We,KC)});se*=.3,oe.links.forEach(function(We){We.width=We.value*se});var Oe=function me(oe){var ae=0,Ue=0,et=0,qe=0,nt=_d(oe.nodes,function(Nt){return Nt.column});return oe.links.forEach(function(Nt){Nt.circular&&("top"==Nt.circularLinkType?ae+=Nt.width:Ue+=Nt.width,0==Nt.target.column&&(qe+=Nt.width),Nt.source.column==nt&&(et+=Nt.width))}),{top:ae=ae>0?ae+25+10:ae,bottom:Ue=Ue>0?Ue+25+10:Ue,left:qe=qe>0?qe+25+10:qe,right:et=et>0?et+25+10:et}}(oe),Ne=function xe(oe,ae){var Ue=_d(oe.nodes,function(Me){return Me.column}),et=e-n,qe=i-r,Vn=et/(et+ae.right+ae.left),Yn=qe/(qe+ae.top+ae.bottom);return n=n*Vn+ae.left,e=0==ae.right?e:e*Vn,r=r*Yn+ae.top,i*=Yn,oe.nodes.forEach(function(Me){Me.x0=n+Me.column*((e-n-o)/Ue),Me.x1=Me.x0+o}),Yn}(oe,Oe);se*=Ne,oe.links.forEach(function(We){We.width=We.value*se}),et.forEach(function(We){var kt=We.length;We.forEach(function(vt,Rn){vt.depth==et.length-1&&1==kt||0==vt.depth&&1==kt?(vt.y0=i/2-vt.value*se,vt.y1=vt.y0+vt.value*se):vt.partOfCycle?0==function u2(n,r){var e=0;n.sourceLinks.forEach(function(o){e=o.circular&&!Fm(o,r)?e+1:e});var i=0;return n.targetLinks.forEach(function(o){i=o.circular&&!Fm(o,r)?i+1:i}),e+i}(vt,Me)?(vt.y0=i/2+Rn,vt.y1=vt.y0+vt.value*se):"top"==vt.circularLinkType?(vt.y0=r+Rn,vt.y1=vt.y0+vt.value*se):(vt.y0=i-vt.value*se-Rn,vt.y1=vt.y0+vt.value*se):0==Oe.top||0==Oe.bottom?(vt.y0=(i-r)/kt*Rn,vt.y1=vt.y0+vt.value*se):(vt.y0=(i-r)/2-kt/2+Rn,vt.y1=vt.y0+vt.value*se)})})})(Ue),Yn();for(var qe=1,nt=ae;nt>0;--nt)Vn(qe*=.99),Yn();function Vn(Me){et.forEach(function(pe){pe.forEach(function(se){var Oe;if(se.sourceLinks.length||se.targetLinks.length){se.y0=i/2-(Oe=se.y1-se.y0)/2,se.y1=i/2+Oe/2;var We=$_(se.sourceLinks,n2),kt=$_(se.targetLinks,t2),vt=((We&&kt?(We+kt)/2:We||kt)-XC(se))*Me;se.y0+=vt,se.y1+=vt}})})}function Yn(){et.forEach(function(Me){var pe,se,We,Oe=r,Ne=Me.length;for(Me.sort(hw),We=0;We<Ne;++We)(se=Oe-(pe=Me[We]).y0)>0&&(pe.y0+=se,pe.y1+=se),Oe=pe.y1+l;if((se=Oe-l-i)>0)for(Oe=pe.y0-=se,pe.y1-=se,We=Ne-2;We>=0;--We)(se=(pe=Me[We]).y1+l-Oe)>0&&(pe.y0-=se,pe.y1-=se),Oe=pe.y0})}}function Ze(oe){oe.nodes.forEach(function(ae){ae.sourceLinks.sort(e2),ae.targetLinks.sort(XM)}),oe.nodes.forEach(function(ae){var Ue=ae.y0,et=Ue,qe=ae.y1,nt=qe;ae.sourceLinks.forEach(function(Nt){Nt.circular?(Nt.y0=qe-Nt.width/2,qe-=Nt.width):(Nt.y0=Ue+Nt.width/2,Ue+=Nt.width)}),ae.targetLinks.forEach(function(Nt){Nt.circular?(Nt.y1=nt-Nt.width/2,nt-=Nt.width):(Nt.y1=et+Nt.width/2,et+=Nt.width)})})}return F.nodeId=function(oe){return arguments.length?(d="function"==typeof oe?oe:gw(oe),F):d},F.nodeAlign=function(oe){return arguments.length?(_="function"==typeof oe?oe:gw(oe),F):_},F.nodeWidth=function(oe){return arguments.length?(o=+oe,F):o},F.nodePadding=function(oe){return arguments.length?(l=+oe,F):l},F.nodes=function(oe){return arguments.length?(g="function"==typeof oe?oe:gw(oe),F):g},F.links=function(oe){return arguments.length?(h="function"==typeof oe?oe:gw(oe),F):h},F.size=function(oe){return arguments.length?(n=r=0,e=+oe[0],i=+oe[1],F):[e-n,i-r]},F.extent=function(oe){return arguments.length?(n=+oe[0][0],e=+oe[1][0],r=+oe[0][1],i=+oe[1][1],F):[[n,r],[e,i]]},F.iterations=function(oe){return arguments.length?(b=+oe,F):b},F.circularLinkGap=function(oe){return arguments.length?(T=+oe,F):T},F.nodePaddingRatio=function(oe){return arguments.length?(P=+oe,F):P},F.sortNodes=function(oe){return arguments.length?(S=oe,F):S},F.update=function(oe){return wS(oe,d),Ze(oe),oe.links.forEach(function(ae){ae.circular&&(ae.circularLinkType=ae.y0+ae.y1<i?"top":"bottom",ae.source.circularLinkType=ae.circularLinkType,ae.target.circularLinkType=ae.circularLinkType)}),eT(oe,i,d,!1),tT(oe,0,d),CS(oe,T,i,d),oe},F}function c2(n,r,e){var i=0;if(null===e){for(var o=[],l=0;l<n.links.length;l++){var d=n.links[l],_=d.source.index,g=d.target.index;o[_]||(o[_]=[]),o[g]||(o[g]=[]),-1===o[_].indexOf(g)&&o[_].push(g)}var h=YM()(o);h.sort(function(S,F){return S.length-F.length});var b={};for(l=0;l<h.length;l++){var P=h[l].slice(-2);b[P[0]]||(b[P[0]]={}),b[P[0]][P[1]]=!0}n.links.forEach(function(S){var F=S.target.index,te=S.source.index;F===te||b[te]&&b[te][F]?(S.circular=!0,S.circularLinkID=i,i+=1):S.circular=!1})}else n.links.forEach(function(S){S.source[e]<S.target[e]?S.circular=!1:(S.circular=!0,S.circularLinkID=i,i+=1)})}function wS(n,r){var e=0,i=0;n.links.forEach(function(o){o.circular&&(o.circularLinkType=o.source.circularLinkType||o.target.circularLinkType?o.source.circularLinkType?o.source.circularLinkType:o.target.circularLinkType:e<i?"top":"bottom","top"==o.circularLinkType?e+=1:i+=1,n.nodes.forEach(function(l){(oi(l,r)==oi(o.source,r)||oi(l,r)==oi(o.target,r))&&(l.circularLinkType=o.circularLinkType)}))}),n.links.forEach(function(o){o.circular&&(o.source.circularLinkType==o.target.circularLinkType&&(o.circularLinkType=o.source.circularLinkType),Fm(o,r)&&(o.circularLinkType=o.source.circularLinkType))})}function IS(n){var r=Math.abs(n.y1-n.y0),e=Math.abs(n.target.x0-n.source.x1);return Math.atan(e/r)}function l2(n,r){return!(n.source.column<r.target.column||n.target.column>r.source.column)}function xS(n){var e=0;n.source.sourceLinks.forEach(function(l){e=l.circular?e+1:e});var o=0;return n.target.targetLinks.forEach(function(l){o=l.circular?o+1:o}),!(e>1||o>1)}function ES(n,r,e){return n.sort(f2),n.forEach(function(i,o){var l=0;if(Fm(i,e)&&xS(i))i.circularPathData.verticalBuffer=l+i.width/2;else{for(var d=0;d<o;d++)if(l2(n[o],n[d])){var _=n[d].circularPathData.verticalBuffer+n[d].width/2+r;l=_>l?_:l}i.circularPathData.verticalBuffer=l+i.width/2}}),n}function CS(n,r,e,i){var l=pd(n.links,function(g){return g.source.y0});n.links.forEach(function(g){g.circular&&(g.circularPathData={})}),ES(n.links.filter(function(g){return"top"==g.circularLinkType}),r,i),ES(n.links.filter(function(g){return"bottom"==g.circularLinkType}),r,i),n.links.forEach(function(g){if(g.circular){if(g.circularPathData.arcRadius=g.width+10,g.circularPathData.leftNodeBuffer=5,g.circularPathData.rightNodeBuffer=5,g.circularPathData.sourceWidth=g.source.x1-g.source.x0,g.circularPathData.sourceX=g.source.x0+g.circularPathData.sourceWidth,g.circularPathData.targetX=g.target.x0,g.circularPathData.sourceY=g.y0,g.circularPathData.targetY=g.y1,Fm(g,i)&&xS(g))g.circularPathData.leftSmallArcRadius=10+g.width/2,g.circularPathData.leftLargeArcRadius=10+g.width/2,g.circularPathData.rightSmallArcRadius=10+g.width/2,g.circularPathData.rightLargeArcRadius=10+g.width/2,"bottom"==g.circularLinkType?(g.circularPathData.verticalFullExtent=g.source.y1+25+g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.rightLargeArcRadius):(g.circularPathData.verticalFullExtent=g.source.y0-25-g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.rightLargeArcRadius);else{var h=g.source.column,b=g.circularLinkType,T=n.links.filter(function(F){return F.source.column==h&&F.circularLinkType==b});T.sort("bottom"==g.circularLinkType?DS:TS);var P=0;T.forEach(function(F,te){F.circularLinkID==g.circularLinkID&&(g.circularPathData.leftSmallArcRadius=10+g.width/2+P,g.circularPathData.leftLargeArcRadius=10+g.width/2+te*r+P),P+=F.width}),h=g.target.column,(T=n.links.filter(function(F){return F.target.column==h&&F.circularLinkType==b})).sort("bottom"==g.circularLinkType?p2:_2),P=0,T.forEach(function(F,te){F.circularLinkID==g.circularLinkID&&(g.circularPathData.rightSmallArcRadius=10+g.width/2+P,g.circularPathData.rightLargeArcRadius=10+g.width/2+te*r+P),P+=F.width}),"bottom"==g.circularLinkType?(g.circularPathData.verticalFullExtent=Math.max(e,g.source.y1,g.target.y1)+25+g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent-g.circularPathData.rightLargeArcRadius):(g.circularPathData.verticalFullExtent=l-25-g.circularPathData.verticalBuffer,g.circularPathData.verticalLeftInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.leftLargeArcRadius,g.circularPathData.verticalRightInnerExtent=g.circularPathData.verticalFullExtent+g.circularPathData.rightLargeArcRadius)}g.circularPathData.leftInnerExtent=g.circularPathData.sourceX+g.circularPathData.leftNodeBuffer,g.circularPathData.rightInnerExtent=g.circularPathData.targetX-g.circularPathData.rightNodeBuffer,g.circularPathData.leftFullExtent=g.circularPathData.sourceX+g.circularPathData.leftLargeArcRadius+g.circularPathData.leftNodeBuffer,g.circularPathData.rightFullExtent=g.circularPathData.targetX-g.circularPathData.rightLargeArcRadius-g.circularPathData.rightNodeBuffer}if(g.circular)g.path=function d2(n){return"top"==n.circularLinkType?"M"+n.circularPathData.sourceX+" "+n.circularPathData.sourceY+" L"+n.circularPathData.leftInnerExtent+" "+n.circularPathData.sourceY+" A"+n.circularPathData.leftLargeArcRadius+" "+n.circularPathData.leftSmallArcRadius+" 0 0 0 "+n.circularPathData.leftFullExtent+" "+(n.circularPathData.sourceY-n.circularPathData.leftSmallArcRadius)+" L"+n.circularPathData.leftFullExtent+" "+n.circularPathData.verticalLeftInnerExtent+" A"+n.circularPathData.leftLargeArcRadius+" "+n.circularPathData.leftLargeArcRadius+" 0 0 0 "+n.circularPathData.leftInnerExtent+" "+n.circularPathData.verticalFullExtent+" L"+n.circularPathData.rightInnerExtent+" "+n.circularPathData.verticalFullExtent+" A"+n.circularPathData.rightLargeArcRadius+" "+n.circularPathData.rightLargeArcRadius+" 0 0 0 "+n.circularPathData.rightFullExtent+" "+n.circularPathData.verticalRightInnerExtent+" L"+n.circularPathData.rightFullExtent+" "+(n.circularPathData.targetY-n.circularPathData.rightSmallArcRadius)+" A"+n.circularPathData.rightLargeArcRadius+" "+n.circularPathData.rightSmallArcRadius+" 0 0 0 "+n.circularPathData.rightInnerExtent+" "+n.circularPathData.targetY+" L"+n.circularPathData.targetX+" "+n.circularPathData.targetY:"M"+n.circularPathData.sourceX+" "+n.circularPathData.sourceY+" L"+n.circularPathData.leftInnerExtent+" "+n.circularPathData.sourceY+" A"+n.circularPathData.leftLargeArcRadius+" "+n.circularPathData.leftSmallArcRadius+" 0 0 1 "+n.circularPathData.leftFullExtent+" "+(n.circularPathData.sourceY+n.circularPathData.leftSmallArcRadius)+" L"+n.circularPathData.leftFullExtent+" "+n.circularPathData.verticalLeftInnerExtent+" A"+n.circularPathData.leftLargeArcRadius+" "+n.circularPathData.leftLargeArcRadius+" 0 0 1 "+n.circularPathData.leftInnerExtent+" "+n.circularPathData.verticalFullExtent+" L"+n.circularPathData.rightInnerExtent+" "+n.circularPathData.verticalFullExtent+" A"+n.circularPathData.rightLargeArcRadius+" "+n.circularPathData.rightLargeArcRadius+" 0 0 1 "+n.circularPathData.rightFullExtent+" "+n.circularPathData.verticalRightInnerExtent+" L"+n.circularPathData.rightFullExtent+" "+(n.circularPathData.targetY+n.circularPathData.rightSmallArcRadius)+" A"+n.circularPathData.rightLargeArcRadius+" "+n.circularPathData.rightSmallArcRadius+" 0 0 1 "+n.circularPathData.rightInnerExtent+" "+n.circularPathData.targetY+" L"+n.circularPathData.targetX+" "+n.circularPathData.targetY}(g);else{var S=V_().source(function(F){return[F.source.x0+(F.source.x1-F.source.x0),F.y0]}).target(function(F){return[F.target.x0,F.y1]});g.path=S(g)}})}function f2(n,r){return mw(n)==mw(r)?"bottom"==n.circularLinkType?DS(n,r):TS(n,r):mw(r)-mw(n)}function TS(n,r){return n.y0-r.y0}function DS(n,r){return r.y0-n.y0}function _2(n,r){return n.y1-r.y1}function p2(n,r){return r.y1-n.y1}function mw(n){return n.target.column-n.source.column}function SS(n){return n.target.x0-n.source.x1}function AS(n,r){var e=IS(n),i=SS(r)/Math.tan(e);return"up"==yw(n)?n.y1+i:n.y1-i}function MS(n,r){var e=IS(n),i=SS(r)/Math.tan(e);return"up"==yw(n)?n.y1-i:n.y1+i}function g2(n,r,e,i){n.links.forEach(function(o){if(!o.circular&&o.target.column-o.source.column>1){var l=o.source.column+1,d=o.target.column-1,_=1,g=d-l+1;for(_=1;l<=d;l++,_++)n.nodes.forEach(function(h){if(h.column==l){var xe,b=_/(g+1),T=Math.pow(1-b,3),P=3*b*Math.pow(1-b,2),S=3*Math.pow(b,2)*(1-b),F=Math.pow(b,3),te=T*o.y0+P*o.y0+S*o.y1+F*o.y1,ce=te-o.width/2,me=te+o.width/2;ce>h.y0&&ce<h.y1?(xe=h.y1-ce+10,h=z_(h,xe="bottom"==h.circularLinkType?xe:-xe,r,e),n.nodes.forEach(function(_e){oi(_e,i)==oi(h,i)||_e.column!=h.column||h2(h,_e)&&z_(_e,xe,r,e)})):(me>h.y0&&me<h.y1||ce<h.y0&&me>h.y1)&&(h=z_(h,xe=me-h.y0+10,r,e),n.nodes.forEach(function(_e){oi(_e,i)==oi(h,i)||_e.column!=h.column||_e.y0<h.y1&&_e.y1>h.y1&&z_(_e,xe,r,e)}))}})}})}function h2(n,r){return n.y0>r.y0&&n.y0<r.y1||n.y1>r.y0&&n.y1<r.y1||n.y0<r.y0&&n.y1>r.y1}function z_(n,r,e,i){return n.y0+r>=e&&n.y1+r<=i&&(n.y0=n.y0+r,n.y1=n.y1+r,n.targetLinks.forEach(function(o){o.y1=o.y1+r}),n.sourceLinks.forEach(function(o){o.y0=o.y0+r})),n}function eT(n,r,e,i){n.nodes.forEach(function(o){i&&o.y+(o.y1-o.y0)>r&&(o.y=o.y-(o.y+(o.y1-o.y0)-r));var l=n.links.filter(function(g){return oi(g.source,e)==oi(o,e)}),d=l.length;d>1&&l.sort(function(g,h){if(!g.circular&&!h.circular){if(g.target.column==h.target.column)return g.y1-h.y1;if(!OS(g,h))return g.y1-h.y1;if(g.target.column>h.target.column){var b=MS(h,g);return g.y1-b}if(h.target.column>g.target.column)return MS(g,h)-h.y1}return g.circular&&!h.circular?"top"==g.circularLinkType?-1:1:h.circular&&!g.circular?"top"==h.circularLinkType?1:-1:g.circular&&h.circular?g.circularLinkType===h.circularLinkType&&"top"==g.circularLinkType?g.target.column===h.target.column?g.target.y1-h.target.y1:h.target.column-g.target.column:g.circularLinkType===h.circularLinkType&&"bottom"==g.circularLinkType?g.target.column===h.target.column?h.target.y1-g.target.y1:g.target.column-h.target.column:"top"==g.circularLinkType?-1:1:void 0});var _=o.y0;l.forEach(function(g){g.y0=_+g.width/2,_+=g.width}),l.forEach(function(g,h){if("bottom"==g.circularLinkType){for(var b=h+1,T=0;b<d;b++)T+=l[b].width;g.y0=o.y1-T-g.width/2}})})}function tT(n,r,e){n.nodes.forEach(function(i){var o=n.links.filter(function(_){return oi(_.target,e)==oi(i,e)}),l=o.length;l>1&&o.sort(function(_,g){if(!_.circular&&!g.circular){if(_.source.column==g.source.column)return _.y0-g.y0;if(!OS(_,g))return _.y0-g.y0;if(g.source.column<_.source.column){var h=AS(g,_);return _.y0-h}if(_.source.column<g.source.column)return AS(_,g)-g.y0}return _.circular&&!g.circular?"top"==_.circularLinkType?-1:1:g.circular&&!_.circular?"top"==g.circularLinkType?1:-1:_.circular&&g.circular?_.circularLinkType===g.circularLinkType&&"top"==_.circularLinkType?_.source.column===g.source.column?_.source.y1-g.source.y1:_.source.column-g.source.column:_.circularLinkType===g.circularLinkType&&"bottom"==_.circularLinkType?_.source.column===g.source.column?_.source.y1-g.source.y1:g.source.column-_.source.column:"top"==_.circularLinkType?-1:1:void 0});var d=i.y0;o.forEach(function(_){_.y1=d+_.width/2,d+=_.width}),o.forEach(function(_,g){if("bottom"==_.circularLinkType){for(var h=g+1,b=0;h<l;h++)b+=o[h].width;_.y1=i.y1-b-_.width/2}})})}function OS(n,r){return yw(n)==yw(r)}function yw(n){return n.y0-n.y1>0?"up":"down"}function Fm(n,r){return oi(n.source,r)==oi(n.target,r)}function m2(n,r,e){var i=n.nodes,o=n.links,l=!1,d=!1;if(o.forEach(function(P){"top"==P.circularLinkType?l=!0:"bottom"==P.circularLinkType&&(d=!0)}),0==l||0==d){var _=pd(i,function(P){return P.y0}),T=(e-r)/(_d(i,function(P){return P.y1})-_);i.forEach(function(P){var S=(P.y1-P.y0)*T;P.y0=(P.y0-_)*T,P.y1=P.y0+S}),o.forEach(function(P){P.y0=(P.y0-_)*T,P.y1=(P.y1-_)*T,P.width=P.width*T})}}function y2(n,r,e){hS().key(function(o){return o.column}).sortKeys(w).entries(n.nodes).map(function(o){return o.values}).forEach(function(o){var l,d,h,_=r,g=o.length;for(o.sort(hw),h=0;h<g;++h)(d=_-(l=o[h]).y0)>0&&(l.y0+=d,l.y1+=d,l.targetLinks.forEach(function(b){b.y1=b.y1+d}),l.sourceLinks.forEach(function(b){b.y0=b.y0+d})),_=l.y1+e})}class v2{constructor(r){this.payload=r,this.type="[Preferences] Save State"}}class b2{constructor(r){this.payload=r,this.type="[Preferences] Remove State"}}class w2{constructor(r){this.payload=r,this.type="[Preferences] Set Columns"}}class I2{constructor(r){this.payload=r,this.type="[Preferences] Set Link Size"}}class x2{constructor(r){this.payload=r,this.type="[Preferences] Set Link Text"}}class E2{constructor(r){this.payload=r,this.type="[Preferences] Set Sankey Align"}}class C2{constructor(r){this.payload=r,this.type="[Preferences] Set Simplex Type"}}class T2{constructor(r){this.payload=r,this.type="[Preferences] Set Display Language"}}class D2{constructor(r){this.payload=r,this.type="[Preferences] Set Power Unit"}}var Or=(()=>{return(n=Or||(Or={})).LOAD="[App] Load",n.RESET="[App] Reset",Or;var n})();class S2{constructor(r){this.payload=r,this.type=Or.LOAD}}class A2{constructor(){this.type=Or.RESET}}const km=ql.reduce((n,r)=>(n[r]={show:!0,precision:1},n),{}),PS={states:{},columns:km,linkSize:sn.Items,linkText:sn.Items,sankeyAlign:Ti.Justify,simplexType:Qi.JsBigIntRational,language:"en",powerUnit:ir.Auto},Fa=n=>n.preferencesState,RS=(0,Ce.P1)(Fa,n=>n.states),nT=(0,Ce.P1)(Fa,n=>n.columns),NS=(0,Ce.P1)(Fa,n=>n.linkSize),rT=(0,Ce.P1)(Fa,n=>n.linkText),FS=(0,Ce.P1)(Fa,n=>n.sankeyAlign),O2=(0,Ce.P1)(Fa,n=>n.simplexType),P2=(0,Ce.P1)(Fa,n=>n.powerUnit),kS=(0,Ce.P1)(Fa,n=>n.language),R2=(0,Ce.P1)(rT,nT,(n,r)=>{switch(n){case sn.Items:return r[rt.Items].precision;case sn.Belts:return r[rt.Belts].precision;case sn.Wagons:return r[rt.Wagons].precision;case sn.Factories:return r[rt.Factories].precision;default:return null}}),N2=(0,Ce.P1)(RS,n=>Object.keys(n).map(r=>({id:r,name:r}))),F2=(0,Ce.P1)(nT,n=>Object.keys(n).filter(r=>n[r].show).length);class vw{constructor(r){this.payload=r,this.type="[Products] Reset"}}class k2{constructor(r){this.payload=r,this.type="[Products] Add"}}class L2{constructor(r){this.payload=r,this.type="[Products] Remove"}}class B2{constructor(r){this.payload=r,this.type="[Products] Set Item"}}class Z2{constructor(r){this.payload=r,this.type="[Products] Set Rate"}}class U2{constructor(r){this.payload=r,this.type="[Products] Set Rate Type"}}class V2{constructor(r){this.payload=r,this.type="[Products] Set Via"}}class j2{constructor(r){this.payload=r,this.type="[Products] Set Via Setting"}}class $2{constructor(r){this.payload=r,this.type="[Products] Set Via Factory Modules"}}class H2{constructor(r){this.payload=r,this.type="[Products] Set Via Beacon Count"}}class z2{constructor(r){this.payload=r,this.type="[Products] Set Via Beacon"}}class q2{constructor(r){this.payload=r,this.type="[Products] Set Via Beacon Modules"}}class G2{constructor(r){this.payload=r,this.type="[Products] Set Via Overclock"}}class J2{constructor(r){this.payload=r,this.type="[Products] Reset Via"}}class Q2{constructor(r){this.payload=r,this.type="[Products] Adjust Display Rate"}}class Po{static get storedState(){return this._storedState}static get search(){return location.search.substring(1)}static get hash(){return location.hash.substring(1)}static get href(){return location.href}static get zip(){const r=this.hash;return this.search||r.length>1&&"="===r[1]&&r||""}static loadState(){try{const r=localStorage.getItem(ef);if(r)return JSON.parse(r)}catch(r){console.error("Failed to load state from local storage"),console.error(r),localStorage.removeItem(ef)}return null}static mergeState(r){const e=Po.storedState;if(e){if(this.zip)return{...r,preferencesState:{...r.preferencesState,...e.preferencesState}};{const i={...r};for(const o of Object.keys(i))i[o]={...i[o],...e[o]};return i}}return r}static saveState(r){const e={...r};delete e.datasetsState,localStorage.setItem(ef,JSON.stringify(e))}}Po._storedState=Po.loadState();var LS=M(4327);class wr{static bestMatch(r,e){if(r.length>1)for(const i of e)if(-1!==r.indexOf(i))return i;return r[0]}static defaultModules(r,e,i){const o=this.bestMatch([st.Module,...r],e);return new Array(i).fill(o)}static adjustRecipe(r,e,i,o,l,d,_,g){const h=new ca(g.recipeEntities[r]);if(null!=d.factoryId){const b=g.factoryEntities[d.factoryId];if(null!=b.speed)h.time=h.time.div(b.speed);else{const V=[...Object.keys(h.in).filter(oe=>h.in[oe].nonzero()),...Object.keys(h.out).filter(oe=>h.out[oe].nonzero())].map(oe=>_[oe].beltId).filter(oe=>null!=oe).map(oe=>g.beltEntities[oe]);let Ze=L.zero;for(const oe of V.filter(ae=>null!=ae))Ze.lt(oe.speed)&&(Ze=oe.speed);h.time=h.time.div(Ze)}b.research&&(h.time=h.time.div(l));let T=L.one,P=L.one,S=L.one,F=L.one;b.mining&&(P=P.add(o));const te={};if(d.factoryModuleIds&&d.factoryModuleIds.length)for(const _e of d.factoryModuleIds){const V=g.moduleEntities[_e];if(V&&(V.speed&&(T=T.add(V.speed)),V.productivity&&(P=P.add(V.productivity)),V.consumption&&(S=S.add(V.consumption)),V.pollution&&(F=F.add(V.pollution)),V.sprays)){let Ze=V.sprays;const oe=g.moduleEntities[i];oe&&(Ze=Ze.mul(L.one.add(oe.productivity??L.zero)).floor());const ae=V.proliferator;ae&&(te[ae]||(te[ae]=L.zero),te[ae]=te[ae].add(Ze))}}const ce=d.beaconModuleIds?.filter(_e=>_e!==st.Module&&g.moduleEntities[_e]);if(ce?.length&&d.beaconId&&d.beaconCount?.nonzero())for(const _e of ce){const V=g.moduleEntities[_e],oe=d.beaconCount.mul(g.beaconEntities[d.beaconId].effectivity);V.speed&&(T=T.add(V.speed.mul(oe))),V.productivity&&(P=P.add(V.productivity.mul(oe))),V.consumption&&(S=S.add(V.consumption.mul(oe))),V.pollution&&(F=F.add(V.pollution.mul(oe)))}let me;if(T.lt(this.MIN_FACTOR)&&(T=this.MIN_FACTOR),S.lt(this.MIN_FACTOR)&&(S=this.MIN_FACTOR),F.lt(this.MIN_FACTOR)&&(F=this.MIN_FACTOR),d.overclock&&!d.overclock.eq(L.hundred)){if(b.overclockFactor){const _e=L.hundred.div(d.overclock),V=Math.pow(_e.toNumber(),1/b.overclockFactor);me=L.fromNumber(V).reciprocal()}else me=d.overclock.div(L.hundred);T=T.mul(me)}h.time=h.time.div(T);for(const _e of Object.keys(h.out))if(h.catalyst?.[_e]){const V=h.catalyst[_e],Ze=h.out[_e].sub(V);Ze.gt(L.zero)&&(h.out[_e]=V.add(Ze.mul(P)))}else h.out[_e]=h.out[_e].mul(P);h.productivity=P,b.research&&(h.adjustProd=!0),h.drain=b.drain;let xe=(h.usage?h.usage:b.usage)||L.zero;if(me){const _e=Math.pow(me.toNumber(),1.6);xe=xe.mul(L.fromNumber(_e))}if(h.consumption=b.type===qo.Electric?xe.mul(S):L.zero,h.pollution=b.pollution&&d.factoryId!==st.Pumpjack?b.pollution.div(this.POLLUTION_FACTOR).mul(F).mul(S):L.zero,b.consumption){const _e=b.consumption;for(const V of Object.keys(_e)){const Ze=h.time.div(L.sixty).mul(_e[V]);h.in[V]=(h.in[V]||L.zero).add(Ze)}}if(b.type===qo.Burner&&xe.nonzero()){let _e=e;if(null!=b.category&&b.category!==Kr.Chemical){const V=Object.keys(h.in),Ze=g.fuelIds[b.category];_e=V.find(oe=>-1!==Ze.indexOf(oe))||Ze[0]}if(_e){const V=g.fuelEntities[_e];if(V){const Ze=h.time.mul(xe).div(V.value).div(L.thousand);h.in[_e]=(h.in[_e]||L.zero).add(Ze),V.result&&(h.out[V.result]=(h.out[V.result]||L.zero).add(Ze))}}}if(Object.keys(te).length>0){const _e={};for(const Ze of Object.keys(te)){_e[Ze]=L.zero;for(const oe of Object.keys(h.in)){const Ue=h.in[oe].div(te[Ze]);_e[Ze]=_e[Ze].add(Ue)}}const V=g.moduleEntities[i];if(V&&V.sprays){const Ze=V.sprays.mul(L.one.add(V.productivity??L.zero)).floor().sub(L.one);let oe=L.zero;for(const Ue of Object.keys(_e)){const et=_e[Ue].div(Ze);oe=oe.add(et)}const ae=V.proliferator;ae&&(_e[ae]||(_e[ae]=L.zero),_e[ae]=_e[ae].add(oe))}for(const Ze of Object.keys(_e))h.in[Ze]=h.in[Ze]?h.in[Ze].add(_e[Ze]):_e[Ze]}}return h}static adjustSiloRecipes(r,e,i){for(const o of Object.keys(r)){const l=e[o].factoryId;if(l){const d=i.factoryEntities[l],_=r[o];if(d?.silo&&!_.part){const g=Object.keys(_.out)[0],h=d.silo.parts.div(_.out[g]);for(const b of Object.keys(r).filter(T=>r[T].part===o))l===e[b].factoryId&&(r[b].time=_.time.mul(h).add(d.silo.launch));_.time=_.time.mul(h).add(d.silo.launch).div(h)}}}return r}static getProductStepData(r,e){const i=r[e.id];return 0===i.length?null:e.viaId?i.find(o=>o[0]===e.viaId)??null:i[0]}static allowsModules(r,e){return(!e.silo||!r.part)&&null!=e.modules&&e.modules>0}static adjustDataset(r,e,i,o,l,d,_,g,h,b){const T=this.adjustRecipes(r,e,o,l,d,_,b);this.adjustCost(T,r,g,h);const P={...b.itemRecipeId};for(const S of b.itemIds.filter(F=>!b.itemRecipeId[F])){const F=e[S].recipeId;if(F&&-1===i.indexOf(F))P[S]=F;else{const te=b.recipeIds.map(ce=>T[ce]).filter(ce=>ce.produces(S)&&-1===i.indexOf(ce.id));1===te.length&&(P[S]=te[0].id)}}for(const S of Object.keys(b.itemRecipeId))this.cleanCircularRecipes(S,T,P);return{...b,recipeR:T,itemRecipeId:P}}static defaultRecipe(r,e,i){let o;const l=i.recipeIds.map(d=>i.recipeR[d]).filter(d=>d.produces(r)&&-1===e.indexOf(d.id));return 1===l.length&&1===Object.keys(l[0].out).length&&(o=l[0].id),o}static adjustRecipes(r,e,i,o,l,d,_){return this.adjustSiloRecipes(_.recipeIds.reduce((g,h)=>(g[h]=this.adjustRecipe(h,i,o,l,d,r[h],e,_),g),{}),r,_)}static adjustCost(r,e,i,o){for(const l of Object.keys(r)){const d=r[l];if(e[l].cost)d.cost=e[l].cost;else if(d.cost){const _=Object.keys(d.out).reduce((g,h)=>g.add(d.out[h]),L.zero).div(d.time);d.cost=_.mul(d.cost).mul(i)}else d.cost=o}}static adjustProduct(r,e,i,o,l){if(r.rateType===mt.Factories){if(!(r={...r}).viaId){const d=l.itemRecipeId[r.itemId];if(d)r.viaId=d;else{const _=this.getProductStepData(e,r);_&&(r.viaId=_[0])}}if(r.viaId&&(r.viaSetting||(r.viaSetting=i[r.viaId].factoryId),r.viaSetting)){const d=l.recipeEntities[r.viaId],_=l.factoryEntities[r.viaSetting],g=i[d.id],h=o.entities[r.viaSetting];if(this.allowsModules(d,_))if(r.viaSetting===g.factoryId){if(r.viaFactoryModuleIds=r.viaFactoryModuleIds||g.factoryModuleIds,r.viaBeaconCount=r.viaBeaconCount||g.beaconCount,r.viaBeaconId=r.viaBeaconId||g.beaconId,r.viaBeaconId){const b=l.beaconEntities[r.viaBeaconId];null==r.viaBeaconModuleIds&&(r.viaBeaconModuleIds=r.viaBeaconId===g.beaconId?g.beaconModuleIds:new Array(b.modules).fill(h.beaconModuleId))}}else if(null==r.viaFactoryModuleIds&&(r.viaFactoryModuleIds=this.defaultModules(l.recipeModuleIds[d.id],h.moduleRankIds??[],_.modules??0)),r.viaBeaconCount=r.viaBeaconCount??h.beaconCount,r.viaBeaconId=r.viaBeaconId??h.beaconId,null!=r.viaBeaconId){const b=l.beaconEntities[r.viaBeaconId];null==r.viaBeaconModuleIds&&(r.viaBeaconModuleIds=new Array(b.modules).fill(h.beaconModuleId))}r.viaOverclock=r.viaSetting===g.factoryId?r.viaOverclock||g.overclock:r.viaOverclock||h.overclock}}else r.viaId||(r={...r,viaId:r.itemId});return r}static cleanCircularRecipes(r,e,i,o=[]){const l=i[r];if(l)if(-1!==o.indexOf(r))delete i[r];else{const d=e[l];if(d.produces(r)&&d.in){o=[...o,r];for(const _ of Object.keys(d.in).filter(g=>g!==r))this.cleanCircularRecipes(_,e,i,o)}}}}wr.MIN_FACTOR=new L(BigInt(1),BigInt(5)),wr.POLLUTION_FACTOR=new L(BigInt(60));class BS{static stepsToCsv(r,e,i,o,l){const d=r.map(h=>this.stepToJson(h,r,e,i,o,l)),_=Object.keys(d[0]),g=d.map(h=>_.map(b=>h[b]).join(","));g.unshift(_.join(",")),g.unshift(`"${Po.href}"`),this.saveAsCsv(g.join("\r\n"))}static saveAsCsv(r){(0,LS.saveAs)(new Blob([r],{type:"text/csv;charset=UTF-8"}),"factoriolab_list.csv")}static saveAsJson(r){(0,LS.saveAs)(new Blob([r],{type:"text/json;charset=UTF-8"}),"factoriolab_flow.json")}static stepToJson(r,e,i,o,l,d){const _={};if(null!=r.itemId){_.Item=r.itemId;const g=o[r.itemId];null!=r.items&&(_.Items="="+r.items.sub(r.surplus??L.zero).toString()),null!=r.surplus&&(_.Surplus="="+r.surplus.toString()),i[rt.Belts].show&&(null!=r.belts&&(_.Belts="="+r.belts.toString()),_.Belt=g.beltId),i[rt.Wagons].show&&(null!=r.wagons&&(_.Wagons="="+r.wagons.toString()),_.Wagon=g.wagonId)}if(null!=r.recipeId){const g=r.recipeId;_.Recipe=r.recipeId;const h=d.recipeR[r.recipeId],b=l[r.recipeId],T=Object.keys(h.in).map(P=>{const S=e.find(F=>F.itemId===P);return[P,S?.parents?.[g]?.toString()]}).filter(P=>P[1]).map(P=>`${P[0]}:${P[1]}`).join(",");if(T&&(_.Inputs=`"${T}"`),null!=b.factoryId){const S=wr.allowsModules(h,d.factoryEntities[b.factoryId]);i[rt.Factories].show&&(null!=r.factories&&(_.Factories="="+r.factories.toString()),_.Factory=b.factoryId,S&&null!=b.factoryModuleIds&&(_.FactoryModules=`"${b.factoryModuleIds.join(",")}"`)),i[rt.Beacons].show&&S&&(_.Beacons=b.beaconCount,_.Beacon=b.beaconId,null!=b.beaconModuleIds&&(_.BeaconModules=`"${b.beaconModuleIds.join(",")}"`)),i[rt.Power].show&&null!=r.power&&(_.Power="="+r.power.toString()),i[rt.Pollution].show&&null!=r.pollution&&(_.Pollution="="+r.pollution.toString())}}if(null!=r.outputs){const g=r.outputs,h=Object.keys(g).map(b=>`${b}:${g[b].toString()}`).join(",");_.Outputs=`"${h}"`}if(null!=r.parents){const g=r.parents,h=Object.keys(g).map(b=>`${b}:${g[b].toString()}`).join(",");_.Targets=`"${h}"`}return _}}class zr{static addStepsFor(r,e,i,o,l,d){let _;o[r].ignore||(_=l.recipeR[l.itemRecipeId[r]],_&&(Object.keys(_.out).length>1||!_.produces(r))&&(_=null));let g=i.find(h=>h.itemId===r);if(null!=g?i.push(i.splice(i.indexOf(g),1)[0]):(g={id:i.length.toString(),itemId:r,items:L.zero},_&&(g.recipeId=_.id),i.push(g)),_?.adjustProd&&(e=e.mul(_.productivity)),g.items=(g.items??L.zero).add(e),null!=d&&this.addParentValue(g,d,e),_){const h=_.out[r].sub(_.in[r]??L.zero);if(g.factories=g.items.mul(_.time).div(h),this.adjustPowerPollution(g,_),g.items.nonzero())for(const b of Object.keys(_.in)){const T=e.mul(_.in[b]).div(h);b===r?this.addParentValue(g,_.id,T):zr.addStepsFor(b,T,i,o,l,_.id)}}}static addParentValue(r,e,i){r.parents||(r.parents={}),r.parents[e]=r.parents[e]?r.parents[e].add(i):i}static adjustPowerPollution(r,e){r.factories?.nonzero()&&!e.part&&((e.drain?.nonzero()||e.consumption?.nonzero())&&(r.power=L.zero,e.drain?.nonzero()&&(r.power=r.power.add(r.factories.ceil().mul(e.drain))),e.consumption?.nonzero()&&(r.power=r.power.add(r.factories.mul(e.consumption)))),e.pollution?.nonzero()&&(r.pollution=r.factories.mul(e.pollution)))}static calculateBelts(r,e,i,o,l){for(const d of r){let _=!1;if(null!=d.recipeId){const g=i[d.recipeId].factoryId;if(null!=g){const h=l.factoryEntities[g],b=l.recipeEntities[d.recipeId];_=!!(h.research||h.silo&&!b.part)}}if(_)delete d.belts,delete d.wagons;else if(null!=d.itemId){const g=e[d.itemId].beltId;null!=d.items&&null!=g&&(d.belts=d.items.div(o[g]));const h=e[d.itemId].wagonId;if(null!=d.items&&null!=h){const b=l.itemEntities[d.itemId];d.wagons=d.items.div(b.stack?l.cargoWagonEntities[h].size.mul(b.stack):l.fluidWagonEntities[h].capacity)}}}return r}static calculateOutputs(r,e){for(const i of r)if(i.recipeId&&i.factories?.nonzero()){const o=e.recipeR[i.recipeId],l={};for(const d of Object.keys(o.out))if(o.out[d].nonzero()){const _=o.out[d].mul(i.factories).div(o.time),g=r.find(h=>h.itemId===d);g?.items?.nonzero()&&(l[d]=_.div(g.items))}Object.keys(l).length>0&&(i.outputs=l)}return r}static calculateBeacons(r,e,i,o){if(e&&e.nonzero())for(const l of r)if(l.recipeId&&l.factories?.nonzero()&&!o.recipeEntities[l.recipeId].part&&i[l.recipeId].beaconCount?.nonzero()){const d=i[l.recipeId];if(null!=d.beaconId){null!=d.beaconTotal?l.beacons=d.beaconTotal:null!=d.beaconCount&&(l.beacons=l.factories.ceil().mul(d.beaconCount).div(e));const _=o.beaconEntities[d.beaconId];_.usage?.nonzero()&&null!=l.beacons&&(l.power=(l.power??L.zero).add(l.beacons.mul(_.usage)))}}return r}static displayRate(r,e){const i=mo[e];for(const o of r){if(o.items){if(o.parents)for(const l of Object.keys(o.parents))o.parents[l]=o.parents[l].div(o.items);o.items=o.items.mul(i)}o.surplus&&(o.surplus=o.surplus.mul(i)),o.wagons&&(o.wagons=o.wagons.mul(i)),o.pollution&&(o.pollution=o.pollution.mul(i))}return r}static sortHierarchy(r){const e={};for(const l of r)if(l.parents&&1===Object.keys(l.parents).length){const d=Object.keys(l.parents)[0],_=r.find(g=>g.recipeId===d);_&&(e[l.id]=l.id===_.id?"":_.id)}else e[l.id]="";const i={};for(let l=0;l<r.length;l++){const d=r[l],_=e[d.id];i[_]||(i[_]=[]),i[_].push(d)}const o=this.sortRecursive(i,"",[]);return o.push(...r.filter(l=>-1===o.indexOf(l))),o}static sortRecursive(r,e,i){if(!r[e])return[];const o=r[e];for(let l=0;l<o.length;l++){const d=o[l];i.push(d),this.sortRecursive(r,d.id,i)}return i}static copy(r){return r.map(e=>e.parents?{...e,parents:{...e.parents}}:{...e})}}const nO={msgLevel:"off"};let ZS=(()=>{class n{static solve(e,i,o,l,d,_,g,h=!0){if(_===Qi.Disabled||!e.length)return{steps:e,resultType:lr.Skipped};const b=this.getState(e,i,o,l,d,_,g);if(null==b)return{steps:e,resultType:lr.Skipped};const T=this.getSolution(b,h);return T.resultType===lr.Solved||T.resultType===lr.Cached?this.updateSteps(e,T,b):T.resultType===lr.Failed&&h&&(alert("No solution found. Check your disabled recipes to ensure a solution is feasible.\n\nE.G.: If one iron plate requires two gears, and one gear requires two iron plates, a solution for iron plates is not feasible."),console.error("Failed to solve matrix using simplex method")),{steps:e,resultType:T.resultType,pivots:T.pivots,time:T.time,A:T.A,O:T.O,itemIds:T.itemIds,recipeIds:T.recipeIds,inputIds:T.inputIds}}static getSteps(e,i,o,l,d,_,g,h){let b=[];return zr.addStepsFor(e,L.one,b,i,g),b=this.solve(b,i,o,l,d,_,g,!1).steps,h?b.filter(T=>null!=T.recipeId).sort((T,P)=>g.recipeR[P.recipeId].output(e).sub(g.recipeR[T.recipeId].output(e)).toNumber()).map(T=>[T.recipeId,T.factories]):b.filter(T=>null!=T.itemId&&null!=T.items).map(T=>[T.itemId,T.items])}static getState(e,i,o,l,d,_,g){const h={recipes:{},items:{},inputIds:[],recipeIds:g.recipeIds.filter(T=>-1===o.indexOf(T)),itemIds:g.itemIds.filter(T=>!i[T].ignore),costInput:l,costIgnored:d,simplexType:_,data:g},b=this.unsolvedSteps(e,h);if(0===b.length)return null;for(const T of b)null!=T.itemId&&null!=T.items&&(h.items[T.itemId]=T.items);for(const T of b)T.itemId&&this.parseItemRecursively(T.itemId,h);return this.addSurplusVariables(h),this.parseInputs(h),h}static unsolvedSteps(e,i){return e.filter(o=>null==o.recipeId&&null!=o.itemId&&-1!==i.itemIds.indexOf(o.itemId)&&i.recipeIds.some(l=>o.itemId&&i.data.recipeR[l].produces(o.itemId)))}static recipeMatches(e,i){const o=i.recipeIds.filter(l=>!i.recipes[l]).map(l=>i.data.recipeR[l]).filter(l=>l.out&&l.out[e]);for(const l of o)i.recipes[l.id]=l;return o}static itemMatches(e,i){const o=Object.keys(e.in).filter(l=>!i.items[l]);for(const l of o)i.items[l]=L.zero;return o}static parseRecipeRecursively(e,i){if(e.in){const o=this.itemMatches(e,i);for(const l of o.filter(d=>-1!==i.itemIds.indexOf(d)))this.parseItemRecursively(l,i)}}static parseItemRecursively(e,i){const o=i.data.itemRecipeId[e];if(o){if(!i.recipes[o]){const l=i.data.recipeR[o];i.recipes[o]=l,this.parseRecipeRecursively(l,i)}}else{const l=this.recipeMatches(e,i);for(const d of l)this.parseRecipeRecursively(d,i)}}static addSurplusVariables(e){const i=Object.keys(e.recipes).map(o=>e.recipes[o]);for(const o of i)for(const l of Object.keys(o.out).filter(d=>!e.items[d]))e.items[l]=L.zero}static parseInputs(e){const i=Object.keys(e.items),o=Object.keys(e.recipes);e.inputIds=i.filter(l=>!o.some(d=>e.data.recipeR[d].produces(l))||-1===e.itemIds.indexOf(l))}static getSolution(e,i=!0){const o=this.glpk(e),l=this.canonical(e),[d,_]=this.hash(l),g=Object.keys(e.items),h=Object.keys(e.recipes),b=e.inputIds,T=this.checkCache(d,_);if(T){const[P,S,F]=this.parseSolution(T.R,e);return{resultType:lr.Cached,surplus:P,recipes:S,inputs:F,pivots:T.pivots,time:T.time,A:l,O:T.R,itemIds:g,recipeIds:h,inputIds:b}}{const P=l.map(F=>[...F]),S=this.simplexType(l,e.simplexType,o,i);if(S.type===lr.Solved){this.cacheResult(d,_,S);const[F,te,ce]=this.parseSolution(S.O,e);return{resultType:S.type,surplus:F,recipes:te,inputs:ce,pivots:S.pivots,time:S.time,A:P,O:S.O,itemIds:g,recipeIds:h,inputIds:b}}return{resultType:S.type,surplus:{},recipes:{},inputs:{},pivots:S.pivots,time:S.time,A:P,O:S.O,itemIds:g,recipeIds:h,inputIds:b}}}static glpk(e){const i=Object.keys(e.items),o=Object.keys(e.recipes),l=new hh.Model({sense:"min"}),d={},_={},g={};for(const S of o){const F={obj:(e.recipes[S].cost??L.zero).toNumber(),lb:0,name:S};d[S]=l.addVar(F)}for(const S of e.inputIds){const te={obj:(-1===e.itemIds.indexOf(S)?e.costIgnored:e.costInput).toNumber(),lb:0,name:S};_[S]=l.addVar(te)}for(const S of i){const F=[];for(const ce of o){let me=L.zero;const xe=e.recipes[ce];xe.in[S]&&(me=me.sub(xe.in[S])),xe.out[S]&&(me=me.add(xe.out[S])),me.nonzero()&&F.push([d[ce],me.div(xe.time).toNumber()])}-1!==e.inputIds.indexOf(S)&&F.push([_[S],1]);const te={coeffs:F,lb:e.items[S].toNumber()};g[S]=l.addConstr(te)}const h=Date.now(),b=this.glpkSimplex(l),T=Date.now()-h;if("ok"!==b)return{returnCode:b,time:T,O:[]};const P=[L.zero];for(const S of i)_[S]&&!this.isFloatZero(_[S].value)||o.some(F=>!this.isFloatZero(d[F].value)&&(e.recipes[F].in[S]||e.recipes[F].out[S]))?P.push(L.fromNumber(g[S].value).sub(e.items[S])):delete e.items[S];e.inputIds=e.inputIds.filter(S=>null!=e.items[S]);for(const S of o)this.isFloatZero(d[S].value)?delete e.recipes[S]:P.push(L.fromNumber(d[S].value));for(const S of e.inputIds)P.push(L.fromNumber(_[S].value));return P.push(L.fromNumber(l.value)),{returnCode:b,time:T,O:P}}static isFloatZero(e){return Math.abs(e)<1e-10}static glpkSimplex(e){return e.simplex(nO)}static canonical(e){const i=Object.keys(e.items),o=Object.keys(e.recipes).map(_=>e.recipes[_]),l=[],d=[L.one];for(const _ of i)d.push(e.items[_].inverse());d.push(...new Array(o.length+e.inputIds.length+1).fill(L.zero)),l.push(d);for(const _ of o){const g=[L.zero];for(const h of i){let b=L.zero;_.in[h]&&(b=b.sub(_.in[h])),_.out[h]&&(b=b.add(_.out[h])),g.push(b.div(_.time))}for(const h of o)g.push(_.id===h.id?L.one:L.zero);g.push(...new Array(e.inputIds.length).fill(L.zero)),g.push(_.cost??L.zero),l.push(g)}for(const _ of e.inputIds){const g=[L.zero];for(const h of i)g.push(_===h?L.one:L.zero);g.push(...new Array(o.length).fill(L.zero));for(const h of e.inputIds)g.push(_===h?L.one:L.zero);-1===e.itemIds.indexOf(_)?g.push(e.costIgnored):g.push(e.costInput),l.push(g)}return l}static simplexType(e,i,o,l=!0){if(i===Qi.JsBigIntRational){const d=this.simplex(e,l);return d.time+=o.time,d}return{type:lr.Solved,pivots:0,time:o.time,O:o.O}}static simplex(e,i=!0){const o=i?5e3:1e3;let l=0,d=!0,_=Date.now(),g=0;for(;;){g++;let h=0;const b=e[0];for(let T=1;T<b.length-1;T++)b[T].lt(b[h])&&(h=T);if(!b[h].lt(L.zero))return{type:lr.Solved,pivots:g,time:l+Date.now()-_,O:e[0]};if(!this.pivotCol(e,h))return{type:lr.Failed,pivots:g,time:l+Date.now()-_,O:e[0]};if(d){const T=Date.now()-_;if(T>o){const P=`No solution found in 5 seconds. Continue trying to solve?\nTo avoid this issue, try disabling some/all recipes.\n\u26a0 Warning: The browser may hang if you choose to continue.\n\n(Click "OK" to keep trying, click "Cancel" to quit)\n\nmatrix size: ${e.length} x ${e[0].length}, pivots: ${g}, time: ${T}ms`;if(!i||!confirm(P))return{type:lr.Cancelled,pivots:g,time:T,O:e[0]};_=Date.now(),l=T,d=!1}}}}static pivotCol(e,i){const o=e[0].length-1;let l=null,d=null;for(let _=1;_<e.length;_++){const g=e[_];if(g[i].gt(L.zero)){const h=g[o].div(g[i]);(null===d||h.lt(d))&&(l=_,d=h)}}return null!==l&&this.pivot(e,i,l)}static pivot(e,i,o){const l=e[o],d=l[i].reciprocal();for(let _=0;_<l.length;_++)l[_]=l[_].mul(d);for(let _=0;_<e.length;_++)if(_!==o&&e[_][i].nonzero()){const g=e[_],h=g[i];for(let b=0;b<g.length;b++)g[b]=g[b].sub(l[b].mul(h))}return!0}static parseSolution(e,i){const o=Object.keys(i.items),l=Object.keys(i.recipes),d={};for(let h=0;h<o.length;h++){const b=h+1;e[b].gt(L.zero)&&(d[o[h]]=e[b])}const _={},g={};for(let h=0;h<l.length;h++){const b=1+o.length+h;e[b].gt(L.zero)&&(_[l[h]]=e[b])}for(let h=0;h<i.inputIds.length;h++){const b=h+o.length+l.length+1;e[b].gt(L.zero)&&(g[i.inputIds[h]]=e[b])}return[d,_,g]}static updateSteps(e,i,o){for(const l of Object.keys(o.items))this.addItemStep(l,e,i,o);this.assignRecipes(e,i,o);for(const l of Object.keys(i.recipes).map(d=>o.recipes[d]))this.addRecipeStep(l,e,i);this.updateParents(e,i,o)}static addItemStep(e,i,o,l){let d=L.zero;for(const _ of Object.keys(o.recipes).map(g=>l.recipes[g]).filter(g=>g.out[e]))d=d.add(_.out[e].mul(o.recipes[_.id]).div(_.time));if(o.inputs[e]&&(d=d.add(o.inputs[e])),d.nonzero()){let _=i.find(g=>g.itemId===e);if(null!=_)_.items=l.items[e].nonzero()?d:(_.items??L.zero).add(d);else{const g=l.data.recipeIds.map(b=>l.recipes[b]).filter(b=>b),h=i.findIndex(b=>g.some(T=>b.itemId&&T.produces(b.itemId)&&T.produces(e)));_={id:i.length.toString(),itemId:e,items:d},-1!==h&&h<i.length-1?i.splice(h+1,0,_):i.push(_)}o.surplus[e]?.nonzero()&&(null==_.items||-1!==l.itemIds.indexOf(e)?_.surplus=o.surplus[e]:(_.items=_.items.sub(o.surplus[e]),_.items.lt(L.zero)&&(_.surplus=_.items.inverse(),_.items=L.zero)))}}static assignRecipes(e,i,o){const l=Object.keys(i.recipes).map(g=>o.recipes[g]);for(const g of e.filter(h=>null==h.recipeId)){const h=l.findIndex(b=>b.id===g.itemId&&b.produces(g.itemId));-1!==h&&(g.recipeId=l[h].id,l.splice(h,1))}const d={};for(const g of e.filter(h=>null==h.recipeId))g.itemId&&(d[g.itemId]=l.filter(h=>g.itemId&&h.produces(g.itemId)).sort((h,b)=>Object.keys(h.out).length-Object.keys(b.out).length).map(h=>h.id));const _=Object.keys(d).sort((g,h)=>d[g].length-d[h].length);for(const g of _)for(const h of d[g])if(!e.some(b=>b.recipeId===h)){const b=e.find(T=>T.itemId===g);if(b){b.recipeId=h;break}}}static addRecipeStep(e,i,o){let l=i.find(d=>d.recipeId===e.id);if(l||(l=i.find(d=>null==d.recipeId&&null!=d.itemId&&e.produces(d.itemId))),!l){const d=i.findIndex(_=>_.itemId&&e.produces(_.itemId));l={id:i.length.toString()},-1!==d&&d<i.length-1?i.splice(d+1,0,l):i.push(l)}l.recipeId=e.id,l.factories=o.recipes[e.id].add(l.factories||L.zero),zr.adjustPowerPollution(l,e)}static updateParents(e,i,o){for(const l of Object.keys(i.recipes).map(d=>o.recipes[d]).filter(d=>d.in)){const d=i.recipes[l.id].div(l.time);for(const _ of Object.keys(l.in).filter(g=>l.in[g].nonzero())){const g=e.find(h=>h.itemId===_);if(g){const h=l.in[_].mul(d);zr.addParentValue(g,l.id,h)}}}}static hash(e){return[[...e[0]],e.filter((d,_)=>0!==_).map(d=>d.map(_=>_.toString()).join(",")).join("\n")]}static cacheResult(e,i,o){this.cache[i]||(this.cache[i]=[]),this.cache[i].push({O:e,R:o.O,pivots:o.pivots,time:o.time})}static checkCache(e,i){if(this.cache[i])for(const o of this.cache[i]){const l=this.objectiveRatio(e,o.O);if(l)return l.isOne()?o:{...o,R:o.R.map(d=>d.mul(l))}}return null}static objectiveRatio(e,i){if(e.length!==i.length)return null;let o=null;for(let l=1;l<e.length;l++)if(i[l].isZero()){if(!e[l].isZero())return null}else{if(e[l].isZero())return null;if(o){if(!o.eq(e[l].div(i[l])))return null}else o=e[l].div(i[l])}return o}}return n.cache={},n})();class Ot{static rankEquals(r,e){return null!=e&&r.length===e.length&&r.every((i,o)=>i===e[o])}static arrayEquals(r,e){return null!=e&&this.rankEquals([...r].sort(),[...e].sort())}static payloadEquals(r,e=!1){return Array.isArray(r.value)&&Array.isArray(r.def)?e?this.rankEquals(r.value,r.def):this.arrayEquals(r.value,r.def):r.value===r.def}static resetFields(r,e,i){let o={...r};for(const l of e)o=this.resetField(o,l,i);return o}static resetField(r,e,i){const o={...r};for(const l of Object.keys(o).filter(d=>(!i||i===d)&&void 0!==o[d][e]))1===Object.keys(o[l]).length?delete o[l]:(o[l]={...o[l]},delete o[l][e]);return o}static compareReset(r,e,i,o=!1){if(this.payloadEquals(i,o)){const l={...r};return void 0!==l[i.id]&&(l[i.id]={...l[i.id]},void 0!==l[i.id][e]&&delete l[i.id][e],0===Object.keys(l[i.id]).length&&delete l[i.id]),l}return this.assignValue(r,e,i)}static assignValue(r,e,i){return{...r,[i.id]:{...r[i.id],[e]:i.value}}}static compareValue(r){return r.value===r.def?void 0:r.value}static compareValues(r){return this.arrayEquals(r.value,r.def)?void 0:r.value}static compareRank(r,e){return this.rankEquals(r,e)?void 0:r}}const oT={ids:[],entities:{},index:0};class iO{constructor(r){this.payload=r,this.type="[Factories] Add"}}class oO{constructor(r){this.payload=r,this.type="[Factories] Remove"}}class sO{constructor(r){this.payload=r,this.type="[Factories] Raise"}}class aO{constructor(r){this.payload=r,this.type="[Factories] Set Factory"}}class cO{constructor(r){this.payload=r,this.type="[Factories] Set Module Rank"}}class lO{constructor(r){this.payload=r,this.type="[Factories] Set Beacon Count"}}class uO{constructor(r){this.payload=r,this.type="[Factories] Set Beacon"}}class dO{constructor(r){this.payload=r,this.type="[Factories] Set Beacon Module"}}class fO{constructor(r){this.payload=r,this.type="[Factories] Set Overclock"}}const bw={entities:{}};class pO{constructor(r){this.payload=r,this.type="[Settings] Set Preset"}}class gO{constructor(r){this.payload=r,this.type="[Settings] Set Mod"}}class US{constructor(r){this.payload=r,this.type="[Settings] Set Disabled Recipes"}}class hO{constructor(r){this.payload=r,this.type="[Settings] Set Beacon Receivers"}}class mO{constructor(r){this.payload=r,this.type="[Settings] Set Belt"}}class yO{constructor(r){this.payload=r,this.type="[Settings] Set Pipe"}}class vO{constructor(r){this.payload=r,this.type="[Settings] Set Fuel"}}class bO{constructor(r){this.payload=r,this.type="[Settings] Set Flow Rate"}}class wO{constructor(r){this.payload=r,this.type="[Settings] Set Cargo Wagon"}}class IO{constructor(r){this.payload=r,this.type="[Settings] Set Fluid Wagon"}}class VS{constructor(r){this.payload=r,this.type="[Settings] Set Display Rate"}}class xO{constructor(r){this.payload=r,this.type="[Settings] Set Mining Bonus"}}class EO{constructor(r){this.payload=r,this.type="[Settings] Set Research Speed"}}class CO{constructor(r){this.payload=r,this.type="[Settings] Set Inserter Target"}}class TO{constructor(r){this.payload=r,this.type="[Settings] Set Inserter Capacity"}}class DO{constructor(r){this.payload=r,this.type="[Settings] Set Cost Factor"}}class SO{constructor(r){this.payload=r,this.type="[Settings] Set Factory Cost"}}class AO{constructor(r){this.payload=r,this.type="[Settings] Set Input Cost"}}class MO{constructor(r){this.payload=r,this.type="[Settings] Set Ignored Cost"}}class OO{constructor(r){this.payload=r,this.type="[Settings] Set Proliferator Spray"}}class PO{constructor(){this.type="[Settings] Reset Cost Modifiers"}}const Sn={modId:"1.1",displayRate:pn.PerMinute,preset:Pn.Minimum,beaconReceivers:null,flowRate:1500,miningBonus:0,researchSpeed:zt.Speed6,inserterTarget:Xr.ExpressTransportBelt,inserterCapacity:kn.Capacity7,costFactor:"1",costFactory:"1",costInput:"1000000",costIgnored:"0",proliferatorSprayId:st.Module};class NO{constructor(r){this.payload=r,this.type="[Datasets] Load Mod"}}const Lm={app:JSON.parse('{"game":"None","id":"app","name":"factoriolab","version":{},"categories":[],"items":[],"recipes":[],"icons":[{"color":"#5C523D","id":"pipe","position":"0px 0px"},{"color":"#4E493E","id":"production","position":"-64px 0px"},{"color":"#8D703E","id":"inserter","position":"-128px 0px"},{"color":"#8A4640","id":"long-handed-inserter","position":"0px -64px"},{"color":"#437688","id":"fast-inserter","position":"-64px -64px"},{"color":"#6C8444","id":"stack-inserter","position":"-128px -64px"},{"color":"#E2E2E2","id":"module","position":"0px -128px"},{"color":"#8B8A8C","id":"time","position":"-64px -128px"}],"limitations":{}}'),mods:[{id:"1.1",name:"1.1.x",game:ct.Factorio},{id:"1.1e",name:"1.1.x Expensive",game:ct.Factorio},{id:"1.0",name:"1.0.0",game:ct.Factorio},{id:"017",name:"0.17.79",game:ct.Factorio},{id:"016",name:"0.16.51",game:ct.Factorio},{id:"248",name:"248k Standalone",game:ct.Factorio},{id:"248o",name:"248k Overhaul",game:ct.Factorio},{id:"248kr2sxp",name:"248k + Krastorio 2 + SE",game:ct.Factorio},{id:"aai",name:"AAI Industry",game:ct.Factorio},{id:"ang",name:"Angel's Industries",game:ct.Factorio},{id:"bio",name:"Bio Industries",game:ct.Factorio},{id:"bob",name:"Bob's Mods",game:ct.Factorio},{id:"bobang",name:"Bob's & Angel's",game:ct.Factorio},{id:"fpp",name:"Factorio Plus Plus",game:ct.Factorio},{id:"fep",name:"FactorioExtended Plus",game:ct.Factorio},{id:"ir2",name:"Industrial Revolution 2",game:ct.Factorio},{id:"kr2",name:"Krastorio 2",game:ct.Factorio},{id:"kr2sxp",name:"Krastorio 2 + SE",game:ct.Factorio},{id:"msc",name:"More Science",game:ct.Factorio},{id:"nls",name:"Nullius",game:ct.Factorio},{id:"pys",name:"Pyanodons",game:ct.Factorio},{id:"pysalf",name:"Pyanodons + AL",game:ct.Factorio},{id:"qat",name:"Qatavin's More Stuff",game:ct.Factorio},{id:"sea",name:"Sea Block",game:ct.Factorio},{id:"sxp",name:"Space Exploration",game:ct.Factorio},{id:"xan",name:"Xander Mod",game:ct.Factorio},{id:"dsp",name:"Dyson Sphere Program",game:ct.DysonSphereProgram},{id:"sfy",name:"Satisfactory",game:ct.Satisfactory},{id:"coi",name:"Captain of Industry",game:ct.CaptainOfIndustry}],v0:["1.1","1.0","0.17","0.16","bio-industries","bobs","bobs-angels","dsp","factorio-extended-plus","industrial-revolution","krastorio2","krastorio2+se","pyanodons","pyanodons+al","seablock","space-exploration","xander"],hash:["1.1","1.0","017","016","bio","bob","bobang","dsp","fep","ir2","kr2","kr2sxp","pys","pysalf","sea","sxp","xan","nls","fpp","ang","msc","sfy","coi","qat","1.1e","248","248o","248kr2sxp","aai"]},FO={...Lm,dataEntities:{},hashEntities:{},i18nEntities:{}},Bm=n=>n.datasetsState,LO=(0,Ce.P1)(Bm,n=>n.app),sT=(0,Ce.P1)(Bm,n=>n.mods),BO=(0,Ce.P1)(Bm,n=>n.dataEntities),ZO=(0,Ce.P1)(Bm,n=>n.i18nEntities),jS=(0,Ce.P1)(Bm,n=>n.hashEntities),UO=(0,Ce.P1)(sT,n=>n.reduce((r,e)=>(r[e.id]=e,r),{})),VO=(0,Ce.P1)(sT,BO,(n,r)=>n.reduce((e,i)=>(r[i.id]&&(e[i.id]={...i,...r[i.id]}),e),{})),Pr=n=>n.settingsState,jO=(0,Ce.P1)(Pr,n=>n.preset),q_=(0,Ce.P1)(Pr,n=>n.modId),$O=(0,Ce.P1)(Pr,n=>n.beaconReceivers),HO=(0,Ce.P1)(Pr,n=>n.flowRate),G_=(0,Ce.P1)(Pr,n=>n.displayRate),zO=(0,Ce.P1)(Pr,n=>n.miningBonus),qO=(0,Ce.P1)(Pr,n=>n.researchSpeed),GO=(0,Ce.P1)(Pr,n=>n.inserterTarget),JO=(0,Ce.P1)(Pr,n=>n.inserterCapacity),QO=(0,Ce.P1)(Pr,n=>n.costFactor),YO=(0,Ce.P1)(Pr,n=>n.costFactory),WO=(0,Ce.P1)(Pr,n=>n.costInput),KO=(0,Ce.P1)(Pr,n=>n.costIgnored),XO=(0,Ce.P1)(Pr,n=>n.proliferatorSprayId),ww=(0,Ce.P1)(q_,VO,(n,r)=>r[n]),eP=(0,Ce.P1)(q_,jS,(n,r)=>r[n]),qs=(0,Ce.P1)(q_,UO,(n,r)=>r[n].game),tP=(0,Ce.P1)(qs,n=>function xp(n){const r=ql.map(e=>({id:e,name:e}));switch(n){case ct.Factorio:return r.filter(e=>e.id!==rt.Overclock);case ct.CaptainOfIndustry:return r.filter(e=>e.id!==rt.Beacons&&e.id!==rt.Overclock&&e.id!==rt.Power&&e.id!==rt.Pollution&&e.id!==rt.Wagons);case ct.DysonSphereProgram:return r.filter(e=>e.id!==rt.Beacons&&e.id!==rt.Overclock&&e.id!==rt.Pollution&&e.id!==rt.Wagons);case ct.Satisfactory:return r.filter(e=>e.id!==rt.Beacons&&e.id!==rt.Pollution)}return[]}(n)),nP=(0,Ce.P1)(qs,G_,(n,r)=>function Cp(n,r){const e=[{id:mt.Items,name:`Items${ic[n]}`},{id:mt.Belts,name:"Belts"},{id:mt.Wagons,name:`Wagons${ic[n]}`},{id:mt.Factories,name:"Factories"}];return r===ct.DysonSphereProgram||r===ct.CaptainOfIndustry?e.filter(i=>i.id!==mt.Wagons):e}(r,n)),rP=(0,Ce.P1)(qs,n=>function Ep(n){return n===ct.Factorio?[{id:Pn.Minimum,name:"options.Preset1.Minimum"},{id:Pn.Modules,name:"options.Preset1.Modules"},{id:Pn.Beacon8,name:"options.Preset1.Beacon8"},{id:Pn.Beacon12,name:"options.Preset1.Beacon12"}]:n===ct.CaptainOfIndustry?[{id:Pn.Minimum,name:"options.Preset2.Minimum"},{id:Pn.Modules,name:"options.Preset2.Modules"}]:[{id:Pn.Minimum,name:"options.Preset2.Minimum"},{id:Pn.Modules,name:"options.Preset2.Modules"},{id:Pn.Beacon8,name:"options.Preset2.Beacon8"}]}(n)),iP=(0,Ce.P1)(qs,sT,(n,r)=>r.filter(e=>e.game===n)),Iw=(0,Ce.P1)(qs,nT,(n,r)=>{switch(n){case ct.CaptainOfIndustry:return{...km,...r,[rt.Wagons]:{...r[rt.Wagons],show:!1},[rt.Overclock]:{...r[rt.Overclock],show:!1},[rt.Beacons]:{...r[rt.Beacons],show:!1},[rt.Power]:{...r[rt.Power],show:!1},[rt.Pollution]:{...r[rt.Pollution],show:!1}};case ct.DysonSphereProgram:return{...km,...r,[rt.Wagons]:{...r[rt.Wagons],show:!1},[rt.Overclock]:{...r[rt.Overclock],show:!1},[rt.Beacons]:{...r[rt.Beacons],show:!1},[rt.Pollution]:{...r[rt.Pollution],show:!1}};case ct.Satisfactory:return{...km,...r,[rt.Beacons]:{...r[rt.Beacons],show:!1},[rt.Pollution]:{...r[rt.Pollution],show:!1}};default:return{...km,...r,[rt.Overclock]:{...r[rt.Overclock],show:!1}}}}),aT=(0,Ce.P1)(jO,ww,(n,r)=>{if(r){const e=r.defaults;if(e){let i=[];switch(r.game){case ct.Factorio:i=n===Pn.Minimum?[]:e.moduleRank;break;case ct.DysonSphereProgram:i=n===Pn.Beacon8?e.moduleRank:[];break;case ct.Satisfactory:i=e.moduleRank}return{beltId:n===Pn.Minimum?e.minBelt:e.maxBelt,pipeId:n===Pn.Minimum?e.minPipe:e.maxPipe,fuelId:e.fuel,cargoWagonId:e.cargoWagon,fluidWagonId:e.fluidWagon,disabledRecipeIds:e.disabledRecipes,factoryRankIds:n===Pn.Minimum?e.minFactoryRank:e.maxFactoryRank,moduleRankIds:i,beaconCount:n<Pn.Beacon8?"0":n<Pn.Beacon12?"8":"12",beaconId:e.beacon,beaconModuleId:n<Pn.Beacon8?st.Module:e.beaconModule}}}return null}),J_=(0,Ce.P1)(Pr,aT,(n,r)=>({...n,beltId:n.beltId??r?.beltId,pipeId:n.pipeId??r?.pipeId,fuelId:n.fuelId??r?.fuelId,cargoWagonId:n.cargoWagonId??r?.cargoWagonId,fluidWagonId:n.fluidWagonId??r?.fluidWagonId,disabledRecipeIds:n.disabledRecipeIds??r?.disabledRecipeIds??[]})),$S=(0,Ce.P1)(J_,n=>n.fuelId),xw=(0,Ce.P1)(J_,n=>n.disabledRecipeIds),HS=(0,Ce.P1)(zO,n=>L.fromNumber(n).div(L.hundred)),zS=(0,Ce.P1)(qO,n=>Ly[n]),oP=(0,Ce.P1)($O,n=>n?L.fromString(n):null),sP=(0,Ce.P1)(HO,n=>L.fromNumber(n)),aP=(0,Ce.P1)(QO,n=>L.fromString(n)),cP=(0,Ce.P1)(YO,n=>L.fromString(n)),lP=(0,Ce.P1)(WO,n=>L.fromString(n)),uP=(0,Ce.P1)(KO,n=>L.fromString(n)),qS=(0,Ce.P1)(lP,uP,O2,(n,r,e)=>({costInput:n,costIgnored:r,simplexType:e})),dP=(0,Ce.P1)(ww,ZO,kS,(n,r,e)=>n?r[`${n.id}-${e}`]:null),mi=(0,Ce.P1)(LO,ww,dP,eP,aT,qs,(n,r,e,i,o,l)=>{const d=Ew(n.categories,r?.categories??[]),_=`data/${n.id}/icons.png`,g=`data/${r?.id}/icons.png`,h=Ew(n.icons.map(De=>({...De,file:De.file??_})),(r?.icons??[]).map(De=>({...De,file:De.file??g}))),b=Ew(n.items,r?.items??[]),T=Ew(n.recipes,r?.recipes??[]),P=function pP(n,r){let e=JS(n);return e=JS(r,e),e}(n.limitations,r?.limitations??[]);if(e){for(const De of Object.keys(e.categories).filter(Ut=>d[Ut]))d[De]={...d[De],name:e.categories[De]};for(const De of Object.keys(e.items).filter(Ut=>b[Ut]))b[De]={...b[De],name:e.items[De]};for(const De of Object.keys(e.recipes).filter(Ut=>T[Ut]))T[De]={...T[De],name:e.recipes[De]}}let S=Object.keys(d);const F=Object.keys(h),te=Object.keys(b),ce=Object.keys(T),me=S.map(De=>d[De]),xe=te.map(De=>b[De]),_e=ce.map(De=>T[De]),V=xe.filter(De=>null!=De.beacon).sort((De,Ut)=>De.beacon.modules-Ut.beacon.modules).map(De=>De.id),Ze=xe.filter(De=>De.belt).sort((De,Ut)=>l===ct.DysonSphereProgram?0:L.fromJson(De.belt.speed).sub(L.fromJson(Ut.belt.speed)).toNumber()).map(De=>De.id),oe=xe.filter(De=>De.pipe).sort((De,Ut)=>L.fromJson(De.pipe.speed).sub(L.fromJson(Ut.pipe.speed)).toNumber()).map(De=>De.id),ae=xe.filter(De=>De.cargoWagon).sort((De,Ut)=>De.cargoWagon.size-Ut.cargoWagon.size).map(De=>De.id),Ue=xe.filter(De=>De.fluidWagon).sort((De,Ut)=>De.fluidWagon.capacity-Ut.fluidWagon.capacity).map(De=>De.id),et=xe.filter(De=>De.factory).map(De=>De.id),qe=xe.filter(De=>De.module),nt=qe.map(De=>De.id),Nt=qe.filter(De=>null==De.module.productivity).map(De=>De.id),Vn=xe.filter(De=>De.fuel).sort((De,Ut)=>De.fuel.value-Ut.fuel.value).reduce((De,Ut)=>{const Xt=Ut.fuel.category;return De[Xt]||(De[Xt]=[]),De[Xt].push(Ut.id),De},{});me.filter(De=>De.icon).forEach(De=>h[De.id]=h[De.icon]),xe.filter(De=>De.icon).forEach(De=>h[De.id]=h[De.icon]),_e.filter(De=>De.icon).forEach(De=>h[De.id]=h[De.icon]),_e.filter(De=>!h[De.id]&&De.out).forEach(De=>h[De.id]=h[Object.keys(De.out)[0]]);const Yn={};for(const De of S){const Ut=[[]],Xt=xe.filter(_l=>_l.category===De).sort((_l,Va)=>_l.row-Va.row);if(Xt.length){let _l=Xt[0].row;for(const Va of Xt)Va.row>_l&&(Ut.push([]),_l=Va.row),Ut[Ut.length-1].push(Va.id);Yn[De]=Ut}}S=S.filter(De=>Yn[De]);const Me={},pe={},se={},Oe={},Ne={},We={},kt={},vt=te.reduce((De,Ut)=>{const Xt=new rc(b[Ut]);return Xt.beacon&&(Me[Ut]=Xt.beacon),Xt.belt?pe[Ut]=Xt.belt:Xt.pipe&&(pe[Ut]=Xt.pipe),Xt.cargoWagon&&(se[Ut]=Xt.cargoWagon),Xt.fluidWagon&&(Oe[Ut]=Xt.fluidWagon),Xt.factory&&(Ne[Ut]=Xt.factory),Xt.module&&(We[Ut]=Xt.module),Xt.fuel&&(kt[Ut]=Xt.fuel),De[Ut]=Xt,De},{}),Rn=ce.reduce((De,Ut)=>(De[Ut]=new ca(T[Ut]),De),{}),_n=ce.reduce((De,Ut)=>{const Xt=Rn[Ut],_l=Object.keys(Xt.out);for(const Va of _l.filter(b5=>Xt.produces(b5)))De[Va]?De[Va].push(Xt):De[Va]=[Xt];return De},{}),Lo=te.reduce((De,Ut)=>{const Xt=_n.hasOwnProperty(Ut)?_n[Ut]:[];return 1===Xt.length&&(De[Ut]=Xt[0].id),De},{}),Od=_e.reduce((De,Ut)=>(De[Ut.id]=qe.filter(Xt=>null==Xt.module.limitation||P[Xt.module.limitation][Ut.id]).map(Xt=>Xt.id),De),{}),jn=nt.filter(De=>null!=vt[De].module.productivity),Ua=Object.keys(Lo).map(De=>Lo[De]),$i=ce.filter(De=>-1===Ua.indexOf(De)||Object.keys(T[De].out).length>1).sort();return{game:l,version:r?.version,categoryIds:S,categoryEntities:d,categoryItemRows:Yn,iconIds:F,iconEntities:h,itemIds:te,itemEntities:vt,itemRecipeId:Lo,beaconIds:V,beaconEntities:Me,beltIds:Ze,pipeIds:oe,beltEntities:pe,cargoWagonIds:ae,cargoWagonEntities:se,fluidWagonIds:Ue,fluidWagonEntities:Oe,factoryIds:et,factoryEntities:Ne,moduleIds:nt,beaconModuleIds:Nt,moduleEntities:We,fuelIds:Vn,fuelEntities:kt,recipeIds:ce,complexRecipeIds:$i,recipeEntities:T,recipeR:Rn,recipeModuleIds:Od,prodModuleIds:jn,hash:i,defaults:o}}),fP=(0,Ce.P1)(mi,n=>n.fuelIds[Kr.Chemical]??[]),cT=(0,Ce.P1)(mi,sP,(n,r)=>{const e={[st.Pipe]:r};if(n.beltIds)for(const i of n.beltIds)e[i]=n.beltEntities[i].speed;if(n.pipeIds)for(const i of n.pipeIds)e[i]=n.beltEntities[i].speed;return e}),GS=(0,Ce.P1)($S,XO,HS,zS,aP,cP,mi,(n,r,e,i,o,l,d)=>({fuelId:n,proliferatorSprayId:r,miningBonus:e,researchSpeed:i,costFactor:o,costFactory:l,data:d})),_P=(0,Ce.P1)(Pr,n=>({cost:n.costFactor!==Sn.costFactor||n.costFactory!==Sn.costFactory||n.costInput!==Sn.costInput||n.costIgnored!==Sn.costIgnored}));function Ew(n,r){const e=function nf(n,r={}){return n.reduce((e,i)=>(e[i.id]=i,e),r)}(n);for(const i of r)e[i.id]=i;return e}function JS(n,r={}){return Object.keys(n).reduce((e,i)=>(e[i]=function Dp(n,r={}){return n.reduce((e,i)=>(e[i]=!0,e),r)}(n[i],r[i]),e),r)}(0,Ce.P1)(GO,JO,(n,r)=>rf[n][r]);const QS=n=>n.factoriesState,md=(0,Ce.P1)(QS,aT,mi,(n,r,e)=>{const i=n.ids||r?.factoryRankIds||[],o={},l={...n.entities[""]};l.moduleRankIds=l.moduleRankIds||r?.moduleRankIds||[],e.game===ct.Factorio&&(l.beaconCount=l.beaconCount||r?.beaconCount),l.beaconId=l.beaconId||r?.beaconId,l.beaconModuleId=l.beaconModuleId||r?.beaconModuleId,e.game===ct.Satisfactory&&(l.overclock=l.overclock||100),o[""]=l;for(const d of e.factoryIds.filter(_=>e.itemEntities[_])){const _={...n.entities[d]};e.factoryEntities[d].modules&&(_.moduleRankIds=_.moduleRankIds||l.moduleRankIds,_.beaconCount=null!=_.beaconCount?_.beaconCount:l.beaconCount,_.beaconId=_.beaconId||l.beaconId,_.beaconModuleId=_.beaconModuleId||l.beaconModuleId),_.overclock=_.overclock||l.overclock,o[d]=_}return{ids:i,entities:o}}),gP=(0,Ce.P1)(md,mi,(n,r)=>r.factoryIds.filter(e=>-1===(n.ids??[]).indexOf(e))),hP=(0,Ce.P1)(md,n=>["",...n.ids??[]]);class mP{constructor(r){this.payload=r,this.type="[Items] Ignore Item"}}class yP{constructor(r){this.payload=r,this.type="[Items] Set Belt"}}class vP{constructor(r){this.payload=r,this.type="[Items] Set Wagon"}}class bP{constructor(r){this.payload=r,this.type="[Items] Set Recipe"}}class wP{constructor(r){this.payload=r,this.type="[Items] Reset Item"}}class IP{constructor(){this.type="[Items] Reset Ignore"}}class xP{constructor(){this.type="[Items] Reset Belt"}}class EP{constructor(){this.type="[Items] Reset Wagon"}}const lT={},Cw=n=>n.itemsState,us=(0,Ce.P1)(Cw,mi,J_,(n,r,e)=>{const i={};if(r?.itemIds?.length)for(const o of r.itemIds.map(l=>r.itemEntities[l])){const l=n[o.id]?{...n[o.id]}:{ignore:!1};l.beltId||(l.beltId=o.stack?e.beltId:e.pipeId?e.pipeId:st.Pipe),l.wagonId||(l.wagonId=o.stack?e.cargoWagonId:e.fluidWagonId),i[o.id]=l}return i}),TP=(0,Ce.P1)(Cw,n=>({ignore:Object.keys(n).some(r=>null!=n[r].ignore),belts:Object.keys(n).some(r=>null!=n[r].beltId),wagons:Object.keys(n).some(r=>null!=n[r].wagonId)}));class DP{constructor(r){this.payload=r,this.type="[Recipes] Set Factory"}}class SP{constructor(r){this.payload=r,this.type="[Recipes] Set Modules"}}class AP{constructor(r){this.payload=r,this.type="[Recipes] Set Beacon Count"}}class MP{constructor(r){this.payload=r,this.type="[Recipes] Set Beacon"}}class OP{constructor(r){this.payload=r,this.type="[Recipes] Set Beacon Modules"}}class PP{constructor(r){this.payload=r,this.type="[Recipes] Set Beacon Total"}}class RP{constructor(r){this.payload=r,this.type="[Recipes] Set Overclock"}}class NP{constructor(r){this.payload=r,this.type="[Recipes] Set Cost"}}class FP{constructor(r){this.payload=r,this.type="[Recipes] Reset Recipe"}}class kP{constructor(r){this.payload=r,this.type="[Recipes] Reset Recipe Modules"}}class LP{constructor(){this.type="[Recipes] Reset Factory"}}class BP{constructor(){this.type="[Recipes] Reset Beacons"}}class ZP{constructor(){this.type="[Recipes] Reset Overclock"}}class UP{constructor(){this.type="[Recipes] Reset Cost"}}const uT={},Q_=n=>n.recipesState,yd=(0,Ce.P1)(Q_,md,mi,(n,r,e)=>{const i={};if(e?.recipeIds?.length)for(const o of e.recipeIds.map(l=>e.recipeEntities[l])){const l={...n[o.id]};l.factoryId||(l.factoryId=wr.bestMatch(o.producers,r.ids??[]));const d=e.factoryEntities[l.factoryId],_=r.entities[l.factoryId];if(null!=d&&wr.allowsModules(o,d)){if(l.factoryModuleIds||(l.factoryModuleIds=wr.defaultModules(e.recipeModuleIds[o.id],_.moduleRankIds??[],d.modules??0)),null==l.beaconCount&&(l.beaconCount=_.beaconCount),l.beaconId=l.beaconId||_.beaconId,l.beaconId){const g=e.beaconEntities[l.beaconId];g&&!l.beaconModuleIds&&(l.beaconModuleIds=new Array(g.modules).fill(_.beaconModuleId))}}else delete l.factoryModuleIds,delete l.beaconCount,delete l.beaconId,delete l.beaconModuleIds;l.beaconTotal&&(!l.beaconCount||L.fromString(l.beaconCount).isZero())&&delete l.beaconTotal,l.overclock=l.overclock||_?.overclock,i[o.id]=l}return i}),dT=(0,Ce.P1)(yd,n=>Object.keys(n).reduce((r,e)=>(r[e]=new $n(n[e]),r),{})),Rr=((0,Ce.P1)($S,HS,zS,mi,(n,r,e,i)=>({fuelId:n,miningBonus:r,researchSpeed:e,data:i})),(0,Ce.P1)(dT,us,xw,GS,(n,r,e,i)=>wr.adjustDataset(n,r,e,i.fuelId,i.proliferatorSprayId,i.miningBonus,i.researchSpeed,i.costFactor,i.costFactory,i.data))),YS=(0,Ce.P1)(Q_,n=>({factories:Object.keys(n).some(r=>n[r].factoryId||n[r].factoryModuleIds),overclock:Object.keys(n).some(r=>n[r].overclock),beacons:Object.keys(n).some(r=>n[r].beaconId||n[r].beaconModuleIds||n[r].beaconCount||n[r].beaconTotal),cost:Object.keys(n).some(r=>n[r].cost)})),fT=n=>n.productsState,jP=(0,Ce.P1)(fT,n=>n.ids),$P=(0,Ce.P1)(fT,n=>n.entities),WS=(0,Ce.P1)(jP,$P,mi,(n,r,e)=>n.map(i=>r[i]).filter(i=>e.itemEntities[i.itemId])),Y_=(0,Ce.P1)(WS,us,xw,qS,Rr,(n,r,e,i,o)=>n?.reduce((l,d)=>(l[d.id]=ZS.getSteps(d.itemId,r,e,i.costInput,i.costIgnored,i.simplexType,o,d.rateType===mt.Factories),l),{})),Zm=(0,Ce.P1)(WS,Y_,yd,md,mi,(n,r,e,i,o)=>n?.map(l=>wr.adjustProduct(l,r,e,i,o))),HP=(0,Ce.P1)(Zm,Y_,(n,r)=>n.reduce((e,i)=>(r[i.id]&&(e[i.id]=r[i.id].map(o=>o[0])),e),{})),KS=(0,Ce.P1)(Zm,n=>n.map(r=>new By(r))),Tw=(0,Ce.P1)(KS,n=>n.reduce((r,e)=>(r[e.rateType]||(r[e.rateType]=[]),r[e.rateType]=[...r[e.rateType],e],r),{})),zP=(0,Ce.P1)(Tw,n=>n[mt.Items]),qP=(0,Ce.P1)(Tw,n=>n[mt.Belts]),GP=(0,Ce.P1)(Tw,n=>n[mt.Wagons]),JP=(0,Ce.P1)(Tw,n=>n[mt.Factories]),QP=(0,Ce.P1)(zP,Y_,G_,(n,r,e)=>n?.reduce((i,o)=>{const l=o.rate.div(mo[e]);if(o.viaId===o.itemId)i[o.id]=l;else{const d=wr.getProductStepData(r,o);i[o.id]=d?l.div(d[1]):L.zero}return i},{})),YP=(0,Ce.P1)(qP,Y_,us,cT,(n,r,e,i)=>n?.reduce((o,l)=>{if(l.viaId===l.itemId){const d=l.viaSetting??e[l.itemId].beltId;d&&(o[l.id]=l.rate.mul(i[d]))}else{const d=wr.getProductStepData(r,l);if(d){const _=l.viaSetting??e[d[0]].beltId;_&&(o[l.id]=l.rate.mul(i[_]).div(d[1]))}else o[l.id]=L.zero}return o},{})),WP=(0,Ce.P1)(GP,Y_,us,G_,mi,(n,r,e,i,o)=>n?.reduce((l,d)=>{if(d.viaId===d.itemId){l[d.id]=d.rate.div(mo[i]);const _=d.viaSetting??e[d.itemId].wagonId;if(_){const g=o.itemEntities[d.itemId],h=o.itemEntities[_];g.stack&&h.cargoWagon?l[d.id]=l[d.id].mul(g.stack.mul(h.cargoWagon.size)):h.fluidWagon&&(l[d.id]=l[d.id].mul(h.fluidWagon.capacity))}}else{const _=wr.getProductStepData(r,d);if(_){l[d.id]=d.rate.div(mo[i]);const g=d.viaSetting??e[_[0]].wagonId;if(g){const h=o.itemEntities[_[0]],b=o.itemEntities[g];h.stack&&b.cargoWagon?l[d.id]=l[d.id].mul(h.stack.mul(b.cargoWagon.size)):b.fluidWagon&&(l[d.id]=l[d.id].mul(b.fluidWagon.capacity))}l[d.id]=l[d.id].div(_[1])}else l[d.id]=L.zero}return l},{})),KP=(0,Ce.P1)(JP,Y_,dT,us,GS,Rr,(n,r,e,i,o,l)=>n?.reduce((d,_)=>{let g=l.itemRecipeId[_.itemId];if(g&&_.viaId===g){const h=l.recipeR[g];d[_.id]=_.rate.div(h.time),h.out&&(d[_.id]=d[_.id].mul(h.out[_.itemId])),h.adjustProd&&h.productivity&&(d[_.id]=d[_.id].div(h.productivity))}else{const h=wr.getProductStepData(r,_);h?(g=h[0],d[_.id]=_.rate.div(h[1])):d[_.id]=L.zero}if(g&&_.viaSetting){const h={...e,[g]:{factoryId:_.viaSetting,factoryModuleIds:_.viaFactoryModuleIds,beaconCount:_.viaBeaconCount,beaconId:_.viaBeaconId,beaconModuleIds:_.viaBeaconModuleIds,overclock:_.viaOverclock}},b=wr.adjustRecipes(h,i,o.fuelId,o.proliferatorSprayId,o.miningBonus,o.researchSpeed,o.data),T=l.recipeR[g],P=b[g],S=P.productivity.div(P.time).div(T.productivity).mul(T.time);d[_.id]=d[_.id].mul(S)}return d},{})),XS=(0,Ce.P1)(QP,YP,WP,KP,(n,r,e,i)=>({...n,...r,...e,...i})),XP=(0,Ce.P1)(Zm,XS,us,Rr,(n,r,e,i)=>{const o=[];for(const l of n)zr.addStepsFor(l.itemId,r[l.id],o,e,i);return o}),_T=(0,Ce.P1)(XP,us,xw,qS,Rr,(n,r,e,i,o)=>ZS.solve(zr.copy(n),r,e,i.costInput,i.costIgnored,i.simplexType,o)),eR=(0,Ce.P1)(_T,us,yd,cT,Rr,(n,r,e,i,o)=>zr.calculateBelts(zr.copy(n.steps),r,e,i,o)),tR=(0,Ce.P1)(eR,Rr,(n,r)=>zr.calculateOutputs(zr.copy(n),r)),nR=(0,Ce.P1)(tR,oP,dT,Rr,(n,r,e,i)=>zr.calculateBeacons(zr.copy(n),r,e,i)),Gs=(0,Ce.P1)(nR,G_,(n,r)=>zr.sortHierarchy(zr.displayRate(zr.copy(n),r))),eA=(0,Ce.P1)(Gs,NS,rT,R2,Rr,(n,r,e,i,o)=>class eO{static buildSankey(r,e,i,o,l){const d={nodes:[],links:[]},_={},g={};for(const h of r)null!=h.recipeId&&h.itemId===h.recipeId&&l.recipeR[h.recipeId].produces(h.itemId)?(_[h.itemId]=h.itemId,g[h.recipeId]=h.recipeId):(null!=h.itemId&&(_[h.itemId]=`i|${h.itemId}`),null!=h.recipeId&&(g[h.recipeId]=`r|${h.recipeId}`));for(const h of r){const b=this.stepLinkValue(h,i),T=i===e?b:this.stepLinkValue(h,e);let P=!1;if(h.recipeId){const S=l.recipeR[h.recipeId],F=l.iconEntities[h.recipeId];if(P=h.itemId===h.recipeId&&S.produces(h.itemId),d.nodes.push({id:g[h.recipeId],stepId:h.id,viewBox:`${F.position.replace(/px/g,"").replace(/-/g,"")} 64 64`,href:F.file,name:S.name,color:F.color}),P&&h.parents&&h.itemId)for(const te of Object.keys(h.parents))if(g[te]){const ce=l.itemEntities[h.itemId];d.links.push({target:g[te],source:g[h.recipeId],value:this.linkSize(T,h.parents[te],e,ce.stack),text:this.linkText(b,h.parents[te],i,o),name:ce.name,color:F.color})}for(const te of Object.keys(S.out).filter(ce=>S.out[ce].nonzero()&&(!P||h.itemId!==ce&&!h.parents?.[ce]))){const ce=r.find(me=>me.itemId===te);if(ce){const me=this.stepLinkValue(ce,i),xe=i===e?me:this.stepLinkValue(ce,e);if(h.outputs&&_[te]){const _e=h.outputs[te],V=l.itemEntities[te];d.links.push({target:_[te],source:g[h.recipeId],value:this.linkSize(xe,_e,e,V.stack),text:this.linkText(me,_e,i,o),name:V.name,color:l.iconEntities[te].color})}}}}if(h.itemId&&!P){const S=l.itemEntities[h.itemId],F=l.iconEntities[h.itemId];if(d.nodes.push({id:_[h.itemId],stepId:h.id,viewBox:`${F.position.replace(/px/g,"").replace(/-/g,"")} 64 64`,href:F.file,name:S.name,color:F.color}),h.parents)for(const te of Object.keys(h.parents))g[te]&&l.recipeR[te].in[h.itemId]&&d.links.push({target:g[te],source:_[h.itemId],value:this.linkSize(T,h.parents[te],e,S.stack),text:this.linkText(b,h.parents[te],i,o),name:S.name,color:F.color})}}return d}static stepLinkValue(r,e){if(e===sn.None||e===sn.Percent)return L.one;let i;switch(e){case sn.Belts:i=r.belts;break;case sn.Wagons:i=r.wagons;break;case sn.Factories:i=r.factories;break;default:i=r.items}return i||L.zero}static linkSize(r,e,i,o){return i===sn.None?1:i===sn.Percent?e.toNumber()||1e-10:(i===sn.Items&&null==o&&(r=r.div(L.from(10))),r.mul(e).toNumber()||1e-10)}static linkText(r,e,i,o){switch(i){case sn.None:return"";case sn.Percent:return`${Math.round(e.mul(L.hundred).toNumber())}%`;default:{const l=r.mul(e);return null==o?l.toFraction():l.toPrecision(o).toString()}}}}.buildSankey(zr.copy(n),r,e,i,o)),rR=(0,Ce.P1)(KS,XS,(n,r)=>({products:n,rates:r})),iR=(0,Ce.P1)(fT,Cw,Q_,QS,Pr,(n,r,e,i,o)=>({products:n,items:r,recipes:e,factories:i,settings:o})),oR=(0,Ce.P1)(Gs,Cw,Q_,(n,r,e)=>({items:n.reduce((i,o)=>(o.itemId&&(i[o.itemId]=null!=r[o.itemId]),i),{}),recipes:n.reduce((i,o)=>(o.recipeId&&(i[o.recipeId]=null!=e[o.recipeId]),i),{})})),sR=(0,Ce.P1)(Gs,us,yd,Rr,(n,r,e,i)=>{const o={},l={},d={},_={};let g=L.zero,h=L.zero;for(const b of n){if(null!=b.itemId){if(b.belts?.nonzero()){const T=r[b.itemId].beltId;null!=T&&(o.hasOwnProperty(T)||(o[T]=L.zero),o[T]=o[T].add(b.belts.ceil()))}if(b.wagons?.nonzero()){const T=r[b.itemId].wagonId;null!=T&&(l.hasOwnProperty(T)||(l[T]=L.zero),l[T]=l[T].add(b.wagons.ceil()))}}if(null!=b.recipeId){if(b.factories?.nonzero()&&!i.recipeEntities[b.recipeId].part){let P=e[b.recipeId].factoryId;i.game===ct.DysonSphereProgram&&P===st.MiningDrill&&(P=b.recipeId),null!=P&&(d.hasOwnProperty(P)||(d[P]=L.zero),d[P]=d[P].add(b.factories.ceil()))}if(b.beacons?.nonzero()){const T=e[b.recipeId].beaconId;null!=T&&(_.hasOwnProperty(T)||(_[T]=L.zero),_[T]=_[T].add(b.beacons.ceil()))}}null!=b.power&&(g=g.add(b.power)),null!=b.pollution&&(h=h.add(b.pollution))}return{belts:o,wagons:l,factories:d,beacons:_,power:g,pollution:h}}),Dw=(0,Ce.P1)(Gs,Rr,xw,(n,r,e)=>n.reduce((i,o)=>{const l=[];let d=[];const _=[],g=[];if(null!=o.itemId){const h=o.itemId;l.push(Go.Item),d=n.filter(b=>null!=b.outputs?.[h]).sort((b,T)=>T.outputs[h].sub(b.outputs[h]).toNumber())}if(null!=o.recipeId&&l.push(Go.Recipe),o.factories?.nonzero()&&l.push(Go.Factory),null!=o.itemId){for(const h of r.recipeIds.map(b=>r.recipeR[b]))h.produces(o.itemId)&&(_.push(h.id),-1===e.indexOf(h.id)&&h.producesOnly(o.itemId)&&g.push(h.id));_.length&&l.push(Go.Recipes)}return i[o.id]={tabs:l,outputs:d,recipeIds:_,defaultableRecipeIds:g},i},{})),aR=(0,Ce.P1)(Gs,n=>n.reduce((r,e)=>(null!=e.itemId&&(r[e.itemId]=e),r),{})),cR=(0,Ce.P1)(Gs,n=>{const r={},e={};for(const i of n){let o=[];if(i.parents){const l=Object.keys(i.parents);1===l.length&&null!=e[l[0]]&&(o=new Array(e[l[0]]+1).fill(!1))}i.recipeId&&(e[i.recipeId]=o.length),r[i.id]=o}for(let i=0;i<n.length;i++){const o=n[i];if(r[o.id].length)for(let l=i+1;l<n.length;l++){const d=n[l];if(r[d.id]){if(r[d.id].length===r[o.id].length){for(let _=i;_<l;_++){const g=n[_];r[g.id]&&(r[g.id][r[o.id].length-1]=!0)}break}if(r[d.id].length<r[o.id].length)break}}}return r}),lR=(0,Ce.P1)(Gs,Iw,(n,r)=>{const e={};e[rt.Surplus]=tA(n,r[rt.Items].precision,i=>i.surplus);for(const i of Gl.filter(o=>r[o].show))e[i]=tA(n,r[i].precision,o=>i===rt.Items?(o.items||L.zero).sub(o.surplus||L.zero):o[i.toLowerCase()]);return e}),uR=(0,Ce.P1)(Gs,P2,(n,r)=>{if(r===ir.Auto){let e;for(const i of n)null!=i.power&&(null==e||i.power.lt(e))&&(e=i.power);return e=e??L.zero,e.lt(L.thousand)?ir.kW:e.lt(L.million)?ir.MW:ir.GW}return r});function tA(n,r,e){if(null==r)return r;let i=0;for(const o of n){const l=e(o)?.toDecimals()??0;if(l>=r)return r;l>i&&(i=l)}return i}let W_=(()=>{class n{constructor(){this.header="",this.relative=!0,this.open=!1}cancel(){this.open=!1}moduleRows(e){const i=[...e].sort(),o=[];let l,d=[];for(const _ of i){const g=/(.+?)(-\w*\d+)?$/g.exec(_);null==l&&(l=g?.[1]??""),l===g?.[1]?d.push(_):(l=g?.[1]??"",d.length&&o.push(d),d=[_])}return o.push(d),o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-dialog-container"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("relative",i.relative)},inputs:{header:"header"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),nA=(()=>{class n{constructor(e,i,o){this.http=e,this.store=i,this.translateSvc=o,this.cacheData={},this.cacheHash={},this.cacheI18n={},this.initialize(Po.zip,Po.storedState,Sn),Ar([this.store.select(q_),this.translateSvc.onLangChange]).pipe((0,A_.T)(1)).subscribe(([l])=>{this.requestData(l).subscribe()})}initialize(e,i,o){e||this.requestData(i?.settingsState?.modId||o.modId).subscribe(([d])=>{i?.productsState||this.store.dispatch(new vw(d.items[0].id))})}requestData(e){const i={data:null,hash:null,i18n:null};this.cacheData[e]||(this.cacheData[e]=this.http.get(`data/${e}/data.json`).pipe(Qn(b=>{i.data={id:e,value:b}}),ku()));const o=this.cacheData[e];this.cacheHash[e]||(this.cacheHash[e]=this.http.get(`data/${e}/hash.json`).pipe(Qn(b=>{i.hash={id:e,value:b}}),ku()));const l=this.cacheHash[e],d=this.translateSvc.currentLang??"en",_=`${e}-${d}`;let h;return"en"===d?h=(0,It.of)(null):(this.cacheI18n[_]||(this.cacheI18n[_]=this.http.get(`data/${e}/i18n/${d}.json`).pipe((0,ts.K)(()=>(console.warn(`No localization file found for ${_}`),(0,It.of)(null))),Qn(b=>{b&&(i.i18n={id:_,value:b})}),ku())),h=this.cacheI18n[_]),Ar([o,l,h]).pipe(Qn(()=>{(i.data||i.hash||i.i18n)&&this.store.dispatch(new NO(i))}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(fa),t.LFG(Ce.yh),t.LFG(Ia))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rA=(()=>{class n{constructor(){this.message$=new Li.X(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dR=(()=>{class n{constructor(e){this.error=e}handleError(e){console.error(e),this.error.message$.next(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(rA))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function K_(n){let r=n.length;for(;--r>=0;)n[r]=0}const yT=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Sw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vR=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),dA=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ka=new Array(576);K_(ka);const jm=new Array(60);K_(jm);const $m=new Array(512);K_($m);const Hm=new Array(256);K_(Hm);const vT=new Array(29);K_(vT);const Aw=new Array(30);function bT(n,r,e,i,o){this.static_tree=n,this.extra_bits=r,this.extra_base=e,this.elems=i,this.max_length=o,this.has_stree=n&&n.length}let fA,_A,pA;function wT(n,r){this.dyn_tree=n,this.max_code=0,this.stat_desc=r}K_(Aw);const gA=n=>n<256?$m[n]:$m[256+(n>>>7)],zm=(n,r)=>{n.pending_buf[n.pending++]=255&r,n.pending_buf[n.pending++]=r>>>8&255},Ui=(n,r,e)=>{n.bi_valid>16-e?(n.bi_buf|=r<<n.bi_valid&65535,zm(n,n.bi_buf),n.bi_buf=r>>16-n.bi_valid,n.bi_valid+=e-16):(n.bi_buf|=r<<n.bi_valid&65535,n.bi_valid+=e)},Js=(n,r,e)=>{Ui(n,e[2*r],e[2*r+1])},hA=(n,r)=>{let e=0;do{e|=1&n,n>>>=1,e<<=1}while(--r>0);return e>>>1},mA=(n,r,e)=>{const i=new Array(16);let l,d,o=0;for(l=1;l<=15;l++)i[l]=o=o+e[l-1]<<1;for(d=0;d<=r;d++){let _=n[2*d+1];0!==_&&(n[2*d]=hA(i[_]++,_))}},yA=n=>{let r;for(r=0;r<286;r++)n.dyn_ltree[2*r]=0;for(r=0;r<30;r++)n.dyn_dtree[2*r]=0;for(r=0;r<19;r++)n.bl_tree[2*r]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0},vA=n=>{n.bi_valid>8?zm(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},bA=(n,r,e,i)=>{const o=2*r,l=2*e;return n[o]<n[l]||n[o]===n[l]&&i[r]<=i[e]},IT=(n,r,e)=>{const i=n.heap[e];let o=e<<1;for(;o<=n.heap_len&&(o<n.heap_len&&bA(r,n.heap[o+1],n.heap[o],n.depth)&&o++,!bA(r,i,n.heap[o],n.depth));)n.heap[e]=n.heap[o],e=o,o<<=1;n.heap[e]=i},wA=(n,r,e)=>{let i,o,d,_,l=0;if(0!==n.last_lit)do{i=n.pending_buf[n.d_buf+2*l]<<8|n.pending_buf[n.d_buf+2*l+1],o=n.pending_buf[n.l_buf+l],l++,0===i?Js(n,o,r):(d=Hm[o],Js(n,d+256+1,r),_=yT[d],0!==_&&(o-=vT[d],Ui(n,o,_)),i--,d=gA(i),Js(n,d,e),_=Sw[d],0!==_&&(i-=Aw[d],Ui(n,i,_)))}while(l<n.last_lit);Js(n,256,r)},xT=(n,r)=>{const e=r.dyn_tree,i=r.stat_desc.static_tree,o=r.stat_desc.has_stree,l=r.stat_desc.elems;let d,_,h,g=-1;for(n.heap_len=0,n.heap_max=573,d=0;d<l;d++)0!==e[2*d]?(n.heap[++n.heap_len]=g=d,n.depth[d]=0):e[2*d+1]=0;for(;n.heap_len<2;)h=n.heap[++n.heap_len]=g<2?++g:0,e[2*h]=1,n.depth[h]=0,n.opt_len--,o&&(n.static_len-=i[2*h+1]);for(r.max_code=g,d=n.heap_len>>1;d>=1;d--)IT(n,e,d);h=l;do{d=n.heap[1],n.heap[1]=n.heap[n.heap_len--],IT(n,e,1),_=n.heap[1],n.heap[--n.heap_max]=d,n.heap[--n.heap_max]=_,e[2*h]=e[2*d]+e[2*_],n.depth[h]=(n.depth[d]>=n.depth[_]?n.depth[d]:n.depth[_])+1,e[2*d+1]=e[2*_+1]=h,n.heap[1]=h++,IT(n,e,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((n,r)=>{const e=r.dyn_tree,i=r.max_code,o=r.stat_desc.static_tree,l=r.stat_desc.has_stree,d=r.stat_desc.extra_bits,_=r.stat_desc.extra_base,g=r.stat_desc.max_length;let h,b,T,P,S,F,te=0;for(P=0;P<=15;P++)n.bl_count[P]=0;for(e[2*n.heap[n.heap_max]+1]=0,h=n.heap_max+1;h<573;h++)b=n.heap[h],P=e[2*e[2*b+1]+1]+1,P>g&&(P=g,te++),e[2*b+1]=P,!(b>i)&&(n.bl_count[P]++,S=0,b>=_&&(S=d[b-_]),F=e[2*b],n.opt_len+=F*(P+S),l&&(n.static_len+=F*(o[2*b+1]+S)));if(0!==te){do{for(P=g-1;0===n.bl_count[P];)P--;n.bl_count[P]--,n.bl_count[P+1]+=2,n.bl_count[g]--,te-=2}while(te>0);for(P=g;0!==P;P--)for(b=n.bl_count[P];0!==b;)T=n.heap[--h],!(T>i)&&(e[2*T+1]!==P&&(n.opt_len+=(P-e[2*T+1])*e[2*T],e[2*T+1]=P),b--)}})(n,r),mA(e,g,n.bl_count)},IA=(n,r,e)=>{let i,l,o=-1,d=r[1],_=0,g=7,h=4;for(0===d&&(g=138,h=3),r[2*(e+1)+1]=65535,i=0;i<=e;i++)l=d,d=r[2*(i+1)+1],!(++_<g&&l===d)&&(_<h?n.bl_tree[2*l]+=_:0!==l?(l!==o&&n.bl_tree[2*l]++,n.bl_tree[32]++):_<=10?n.bl_tree[34]++:n.bl_tree[36]++,_=0,o=l,0===d?(g=138,h=3):l===d?(g=6,h=3):(g=7,h=4))},xA=(n,r,e)=>{let i,l,o=-1,d=r[1],_=0,g=7,h=4;for(0===d&&(g=138,h=3),i=0;i<=e;i++)if(l=d,d=r[2*(i+1)+1],!(++_<g&&l===d)){if(_<h)do{Js(n,l,n.bl_tree)}while(0!=--_);else 0!==l?(l!==o&&(Js(n,l,n.bl_tree),_--),Js(n,16,n.bl_tree),Ui(n,_-3,2)):_<=10?(Js(n,17,n.bl_tree),Ui(n,_-3,3)):(Js(n,18,n.bl_tree),Ui(n,_-11,7));_=0,o=l,0===d?(g=138,h=3):l===d?(g=6,h=3):(g=7,h=4)}};let EA=!1;const CA=(n,r,e,i)=>{Ui(n,0+(i?1:0),3),((n,r,e,i)=>{vA(n),zm(n,e),zm(n,~e),n.pending_buf.set(n.window.subarray(r,r+e),n.pending),n.pending+=e})(n,r,e)};var LR={_tr_init:n=>{EA||((()=>{let n,r,e,i,o;const l=new Array(16);for(e=0,i=0;i<28;i++)for(vT[i]=e,n=0;n<1<<yT[i];n++)Hm[e++]=i;for(Hm[e-1]=i,o=0,i=0;i<16;i++)for(Aw[i]=o,n=0;n<1<<Sw[i];n++)$m[o++]=i;for(o>>=7;i<30;i++)for(Aw[i]=o<<7,n=0;n<1<<Sw[i]-7;n++)$m[256+o++]=i;for(r=0;r<=15;r++)l[r]=0;for(n=0;n<=143;)ka[2*n+1]=8,n++,l[8]++;for(;n<=255;)ka[2*n+1]=9,n++,l[9]++;for(;n<=279;)ka[2*n+1]=7,n++,l[7]++;for(;n<=287;)ka[2*n+1]=8,n++,l[8]++;for(mA(ka,287,l),n=0;n<30;n++)jm[2*n+1]=5,jm[2*n]=hA(n,5);fA=new bT(ka,yT,257,286,15),_A=new bT(jm,Sw,0,30,15),pA=new bT(new Array(0),vR,0,19,7)})(),EA=!0),n.l_desc=new wT(n.dyn_ltree,fA),n.d_desc=new wT(n.dyn_dtree,_A),n.bl_desc=new wT(n.bl_tree,pA),n.bi_buf=0,n.bi_valid=0,yA(n)},_tr_stored_block:CA,_tr_flush_block:(n,r,e,i)=>{let o,l,d=0;n.level>0?(2===n.strm.data_type&&(n.strm.data_type=(n=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==n.dyn_ltree[2*e])return 0;if(0!==n.dyn_ltree[18]||0!==n.dyn_ltree[20]||0!==n.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==n.dyn_ltree[2*e])return 1;return 0})(n)),xT(n,n.l_desc),xT(n,n.d_desc),d=(n=>{let r;for(IA(n,n.dyn_ltree,n.l_desc.max_code),IA(n,n.dyn_dtree,n.d_desc.max_code),xT(n,n.bl_desc),r=18;r>=3&&0===n.bl_tree[2*dA[r]+1];r--);return n.opt_len+=3*(r+1)+5+5+4,r})(n),o=n.opt_len+3+7>>>3,l=n.static_len+3+7>>>3,l<=o&&(o=l)):o=l=e+5,e+4<=o&&-1!==r?CA(n,r,e,i):4===n.strategy||l===o?(Ui(n,2+(i?1:0),3),wA(n,ka,jm)):(Ui(n,4+(i?1:0),3),((n,r,e,i)=>{let o;for(Ui(n,r-257,5),Ui(n,e-1,5),Ui(n,i-4,4),o=0;o<i;o++)Ui(n,n.bl_tree[2*dA[o]+1],3);xA(n,n.dyn_ltree,r-1),xA(n,n.dyn_dtree,e-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,d+1),wA(n,n.dyn_ltree,n.dyn_dtree)),yA(n),i&&vA(n)},_tr_tally:(n,r,e)=>(n.pending_buf[n.d_buf+2*n.last_lit]=r>>>8&255,n.pending_buf[n.d_buf+2*n.last_lit+1]=255&r,n.pending_buf[n.l_buf+n.last_lit]=255&e,n.last_lit++,0===r?n.dyn_ltree[2*e]++:(n.matches++,r--,n.dyn_ltree[2*(Hm[e]+256+1)]++,n.dyn_dtree[2*gA(r)]++),n.last_lit===n.lit_bufsize-1),_tr_align:n=>{Ui(n,2,3),Js(n,256,ka),(n=>{16===n.bi_valid?(zm(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)})(n)}},qm=(n,r,e,i)=>{let o=65535&n|0,l=n>>>16&65535|0,d=0;for(;0!==e;){d=e>2e3?2e3:e,e-=d;do{o=o+r[i++]|0,l=l+o|0}while(--d);o%=65521,l%=65521}return o|l<<16|0};const ZR=new Uint32Array((()=>{let n,r=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;r[e]=n}return r})());var Nr=(n,r,e,i)=>{const o=ZR,l=i+e;n^=-1;for(let d=i;d<l;d++)n=n>>>8^o[255&(n^r[d])];return-1^n},bd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:UR,_tr_stored_block:VR,_tr_flush_block:jR,_tr_tally:ol,_tr_align:$R}=LR,{Z_NO_FLUSH:Id,Z_PARTIAL_FLUSH:HR,Z_FULL_FLUSH:zR,Z_FINISH:sl,Z_BLOCK:TA,Z_OK:Qs,Z_STREAM_END:DA,Z_STREAM_ERROR:Ro,Z_DATA_ERROR:qR,Z_BUF_ERROR:ET,Z_DEFAULT_COMPRESSION:GR,Z_FILTERED:JR,Z_HUFFMAN_ONLY:Mw,Z_RLE:QR,Z_FIXED:YR,Z_DEFAULT_STRATEGY:WR,Z_UNKNOWN:KR,Z_DEFLATED:Ow}=wd,ds=262,cl=(n,r)=>(n.msg=bd[r],r),SA=n=>(n<<1)-(n>4?9:0),ll=n=>{let r=n.length;for(;--r>=0;)n[r]=0};let ul=(n,r,e)=>(r<<n.hash_shift^e)&n.hash_mask;const dl=n=>{const r=n.state;let e=r.pending;e>n.avail_out&&(e=n.avail_out),0!==e&&(n.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),n.next_out),n.next_out+=e,r.pending_out+=e,n.total_out+=e,n.avail_out-=e,r.pending-=e,0===r.pending&&(r.pending_out=0))},qr=(n,r)=>{jR(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,r),n.block_start=n.strstart,dl(n.strm)},fn=(n,r)=>{n.pending_buf[n.pending++]=r},Qm=(n,r)=>{n.pending_buf[n.pending++]=r>>>8&255,n.pending_buf[n.pending++]=255&r},lN=(n,r,e,i)=>{let o=n.avail_in;return o>i&&(o=i),0===o?0:(n.avail_in-=o,r.set(n.input.subarray(n.next_in,n.next_in+o),e),1===n.state.wrap?n.adler=qm(n.adler,r,o,e):2===n.state.wrap&&(n.adler=Nr(n.adler,r,o,e)),n.next_in+=o,n.total_in+=o,o)},AA=(n,r)=>{let o,l,e=n.max_chain_length,i=n.strstart,d=n.prev_length,_=n.nice_match;const g=n.strstart>n.w_size-ds?n.strstart-(n.w_size-ds):0,h=n.window,b=n.w_mask,T=n.prev,P=n.strstart+258;let S=h[i+d-1],F=h[i+d];n.prev_length>=n.good_match&&(e>>=2),_>n.lookahead&&(_=n.lookahead);do{if(o=r,h[o+d]===F&&h[o+d-1]===S&&h[o]===h[i]&&h[++o]===h[i+1]){i+=2,o++;do{}while(h[++i]===h[++o]&&h[++i]===h[++o]&&h[++i]===h[++o]&&h[++i]===h[++o]&&h[++i]===h[++o]&&h[++i]===h[++o]&&h[++i]===h[++o]&&h[++i]===h[++o]&&i<P);if(l=258-(P-i),i=P-258,l>d){if(n.match_start=r,d=l,l>=_)break;S=h[i+d-1],F=h[i+d]}}}while((r=T[r&b])>g&&0!=--e);return d<=n.lookahead?d:n.lookahead},Cd=n=>{const r=n.w_size;let e,i,o,l,d;do{if(l=n.window_size-n.lookahead-n.strstart,n.strstart>=r+(r-ds)){n.window.set(n.window.subarray(r,r+r),0),n.match_start-=r,n.strstart-=r,n.block_start-=r,i=n.hash_size,e=i;do{o=n.head[--e],n.head[e]=o>=r?o-r:0}while(--i);i=r,e=i;do{o=n.prev[--e],n.prev[e]=o>=r?o-r:0}while(--i);l+=r}if(0===n.strm.avail_in)break;if(i=lN(n.strm,n.window,n.strstart+n.lookahead,l),n.lookahead+=i,n.lookahead+n.insert>=3)for(d=n.strstart-n.insert,n.ins_h=n.window[d],n.ins_h=ul(n,n.ins_h,n.window[d+1]);n.insert&&(n.ins_h=ul(n,n.ins_h,n.window[d+3-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<ds&&0!==n.strm.avail_in)},DT=(n,r)=>{let e,i;for(;;){if(n.lookahead<ds){if(Cd(n),n.lookahead<ds&&r===Id)return 1;if(0===n.lookahead)break}if(e=0,n.lookahead>=3&&(n.ins_h=ul(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==e&&n.strstart-e<=n.w_size-ds&&(n.match_length=AA(n,e)),n.match_length>=3)if(i=ol(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do{n.strstart++,n.ins_h=ul(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart}while(0!=--n.match_length);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=ul(n,n.ins_h,n.window[n.strstart+1]);else i=ol(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(qr(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,r===sl?(qr(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(qr(n,!1),0===n.strm.avail_out)?1:2},tp=(n,r)=>{let e,i,o;for(;;){if(n.lookahead<ds){if(Cd(n),n.lookahead<ds&&r===Id)return 1;if(0===n.lookahead)break}if(e=0,n.lookahead>=3&&(n.ins_h=ul(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==e&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-ds&&(n.match_length=AA(n,e),n.match_length<=5&&(n.strategy===JR||3===n.match_length&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){o=n.strstart+n.lookahead-3,i=ol(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do{++n.strstart<=o&&(n.ins_h=ul(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart)}while(0!=--n.prev_length);if(n.match_available=0,n.match_length=2,n.strstart++,i&&(qr(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if(i=ol(n,0,n.window[n.strstart-1]),i&&qr(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=ol(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,r===sl?(qr(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(qr(n,!1),0===n.strm.avail_out)?1:2};function Ys(n,r,e,i,o){this.good_length=n,this.max_lazy=r,this.nice_length=e,this.max_chain=i,this.func=o}const Ym=[new Ys(0,0,0,0,(n,r)=>{let e=65535;for(e>n.pending_buf_size-5&&(e=n.pending_buf_size-5);;){if(n.lookahead<=1){if(Cd(n),0===n.lookahead&&r===Id)return 1;if(0===n.lookahead)break}n.strstart+=n.lookahead,n.lookahead=0;const i=n.block_start+e;if((0===n.strstart||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,qr(n,!1),0===n.strm.avail_out)||n.strstart-n.block_start>=n.w_size-ds&&(qr(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,r===sl?(qr(n,!0),0===n.strm.avail_out?3:4):(n.strstart>n.block_start&&qr(n,!1),1)}),new Ys(4,4,8,4,DT),new Ys(4,5,16,8,DT),new Ys(4,6,32,32,DT),new Ys(4,4,16,16,tp),new Ys(8,16,32,32,tp),new Ys(8,16,128,128,tp),new Ys(8,32,128,256,tp),new Ys(32,128,258,1024,tp),new Ys(32,258,258,4096,tp)];function pN(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ow,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ll(this.dyn_ltree),ll(this.dyn_dtree),ll(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ll(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ll(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const MA=n=>{if(!n||!n.state)return cl(n,Ro);n.total_in=n.total_out=0,n.data_type=KR;const r=n.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?42:113,n.adler=2===r.wrap?0:1,r.last_flush=Id,UR(r),Qs},OA=n=>{const r=MA(n);return r===Qs&&(n=>{n.window_size=2*n.w_size,ll(n.head),n.max_lazy_match=Ym[n.level].max_lazy,n.good_match=Ym[n.level].good_length,n.nice_match=Ym[n.level].nice_length,n.max_chain_length=Ym[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0})(n.state),r},PA=(n,r,e,i,o,l)=>{if(!n)return Ro;let d=1;if(r===GR&&(r=6),i<0?(d=0,i=-i):i>15&&(d=2,i-=16),o<1||o>9||e!==Ow||i<8||i>15||r<0||r>9||l<0||l>YR)return cl(n,Ro);8===i&&(i=9);const _=new pN;return n.state=_,_.strm=n,_.wrap=d,_.gzhead=null,_.w_bits=i,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=o+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+3-1)/3),_.window=new Uint8Array(2*_.w_size),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<o+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new Uint8Array(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=3*_.lit_bufsize,_.level=r,_.strategy=l,_.method=e,OA(n)};var Wm_deflateInit2=PA,Wm_deflateSetHeader=(n,r)=>n&&n.state&&2===n.state.wrap?(n.state.gzhead=r,Qs):Ro,Wm_deflate=(n,r)=>{let e,i;if(!n||!n.state||r>TA||r<0)return n?cl(n,Ro):Ro;const o=n.state;if(!n.output||!n.input&&0!==n.avail_in||666===o.status&&r!==sl)return cl(n,0===n.avail_out?ET:Ro);o.strm=n;const l=o.last_flush;if(o.last_flush=r,42===o.status)if(2===o.wrap)n.adler=0,fn(o,31),fn(o,139),fn(o,8),o.gzhead?(fn(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),fn(o,255&o.gzhead.time),fn(o,o.gzhead.time>>8&255),fn(o,o.gzhead.time>>16&255),fn(o,o.gzhead.time>>24&255),fn(o,9===o.level?2:o.strategy>=Mw||o.level<2?4:0),fn(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(fn(o,255&o.gzhead.extra.length),fn(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(n.adler=Nr(n.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(fn(o,0),fn(o,0),fn(o,0),fn(o,0),fn(o,0),fn(o,9===o.level?2:o.strategy>=Mw||o.level<2?4:0),fn(o,3),o.status=113);else{let d=Ow+(o.w_bits-8<<4)<<8,_=-1;_=o.strategy>=Mw||o.level<2?0:o.level<6?1:6===o.level?2:3,d|=_<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=113,Qm(o,d),0!==o.strstart&&(Qm(o,n.adler>>>16),Qm(o,65535&n.adler)),n.adler=1}if(69===o.status)if(o.gzhead.extra){for(e=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>e&&(n.adler=Nr(n.adler,o.pending_buf,o.pending-e,e)),dl(n),e=o.pending,o.pending!==o.pending_buf_size));)fn(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>e&&(n.adler=Nr(n.adler,o.pending_buf,o.pending-e,e)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){e=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>e&&(n.adler=Nr(n.adler,o.pending_buf,o.pending-e,e)),dl(n),e=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,fn(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>e&&(n.adler=Nr(n.adler,o.pending_buf,o.pending-e,e)),0===i&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){e=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>e&&(n.adler=Nr(n.adler,o.pending_buf,o.pending-e,e)),dl(n),e=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,fn(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>e&&(n.adler=Nr(n.adler,o.pending_buf,o.pending-e,e)),0===i&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&dl(n),o.pending+2<=o.pending_buf_size&&(fn(o,255&n.adler),fn(o,n.adler>>8&255),n.adler=0,o.status=113)):o.status=113),0!==o.pending){if(dl(n),0===n.avail_out)return o.last_flush=-1,Qs}else if(0===n.avail_in&&SA(r)<=SA(l)&&r!==sl)return cl(n,ET);if(666===o.status&&0!==n.avail_in)return cl(n,ET);if(0!==n.avail_in||0!==o.lookahead||r!==Id&&666!==o.status){let d=o.strategy===Mw?((n,r)=>{let e;for(;;){if(0===n.lookahead&&(Cd(n),0===n.lookahead)){if(r===Id)return 1;break}if(n.match_length=0,e=ol(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(qr(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,r===sl?(qr(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(qr(n,!1),0===n.strm.avail_out)?1:2})(o,r):o.strategy===QR?((n,r)=>{let e,i,o,l;const d=n.window;for(;;){if(n.lookahead<=258){if(Cd(n),n.lookahead<=258&&r===Id)return 1;if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=3&&n.strstart>0&&(o=n.strstart-1,i=d[o],i===d[++o]&&i===d[++o]&&i===d[++o])){l=n.strstart+258;do{}while(i===d[++o]&&i===d[++o]&&i===d[++o]&&i===d[++o]&&i===d[++o]&&i===d[++o]&&i===d[++o]&&i===d[++o]&&o<l);n.match_length=258-(l-o),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=3?(e=ol(n,1,n.match_length-3),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=ol(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(qr(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,r===sl?(qr(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(qr(n,!1),0===n.strm.avail_out)?1:2})(o,r):Ym[o.level].func(o,r);if((3===d||4===d)&&(o.status=666),1===d||3===d)return 0===n.avail_out&&(o.last_flush=-1),Qs;if(2===d&&(r===HR?$R(o):r!==TA&&(VR(o,0,0,!1),r===zR&&(ll(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),dl(n),0===n.avail_out))return o.last_flush=-1,Qs}return r!==sl?Qs:o.wrap<=0?DA:(2===o.wrap?(fn(o,255&n.adler),fn(o,n.adler>>8&255),fn(o,n.adler>>16&255),fn(o,n.adler>>24&255),fn(o,255&n.total_in),fn(o,n.total_in>>8&255),fn(o,n.total_in>>16&255),fn(o,n.total_in>>24&255)):(Qm(o,n.adler>>>16),Qm(o,65535&n.adler)),dl(n),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?Qs:DA)},Wm_deflateEnd=n=>{if(!n||!n.state)return Ro;const r=n.state.status;return 42!==r&&69!==r&&73!==r&&91!==r&&103!==r&&113!==r&&666!==r?cl(n,Ro):(n.state=null,113===r?cl(n,qR):Qs)},Wm_deflateSetDictionary=(n,r)=>{let e=r.length;if(!n||!n.state)return Ro;const i=n.state,o=i.wrap;if(2===o||1===o&&42!==i.status||i.lookahead)return Ro;if(1===o&&(n.adler=qm(n.adler,r,e,0)),i.wrap=0,e>=i.w_size){0===o&&(ll(i.head),i.strstart=0,i.block_start=0,i.insert=0);let g=new Uint8Array(i.w_size);g.set(r.subarray(e-i.w_size,e),0),r=g,e=i.w_size}const l=n.avail_in,d=n.next_in,_=n.input;for(n.avail_in=e,n.next_in=0,n.input=r,Cd(i);i.lookahead>=3;){let g=i.strstart,h=i.lookahead-2;do{i.ins_h=ul(i,i.ins_h,i.window[g+3-1]),i.prev[g&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=g,g++}while(--h);i.strstart=g,i.lookahead=2,Cd(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,n.next_in=d,n.input=_,n.avail_in=l,i.wrap=o,Qs};const AN=(n,r)=>Object.prototype.hasOwnProperty.call(n,r);var kw_assign=function(n){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const e=r.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const i in e)AN(e,i)&&(n[i]=e[i])}}return n},kw_flattenChunks=n=>{let r=0;for(let i=0,o=n.length;i<o;i++)r+=n[i].length;const e=new Uint8Array(r);for(let i=0,o=0,l=n.length;i<l;i++){let d=n[i];e.set(d,o),o+=d.length}return e};let RA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{RA=!1}const Km=new Uint8Array(256);for(let n=0;n<256;n++)Km[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Km[254]=Km[254]=1;var Xm_string2buf=n=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(n);let r,e,i,o,l,d=n.length,_=0;for(o=0;o<d;o++)e=n.charCodeAt(o),55296==(64512&e)&&o+1<d&&(i=n.charCodeAt(o+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),o++)),_+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(_),l=0,o=0;l<_;o++)e=n.charCodeAt(o),55296==(64512&e)&&o+1<d&&(i=n.charCodeAt(o+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),o++)),e<128?r[l++]=e:e<2048?(r[l++]=192|e>>>6,r[l++]=128|63&e):e<65536?(r[l++]=224|e>>>12,r[l++]=128|e>>>6&63,r[l++]=128|63&e):(r[l++]=240|e>>>18,r[l++]=128|e>>>12&63,r[l++]=128|e>>>6&63,r[l++]=128|63&e);return r},Xm_buf2string=(n,r)=>{const e=r||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(n.subarray(0,r));let i,o;const l=new Array(2*e);for(o=0,i=0;i<e;){let d=n[i++];if(d<128){l[o++]=d;continue}let _=Km[d];if(_>4)l[o++]=65533,i+=_-1;else{for(d&=2===_?31:3===_?15:7;_>1&&i<e;)d=d<<6|63&n[i++],_--;_>1?l[o++]=65533:d<65536?l[o++]=d:(d-=65536,l[o++]=55296|d>>10&1023,l[o++]=56320|1023&d)}}return((n,r)=>{if(r<65534&&n.subarray&&RA)return String.fromCharCode.apply(null,n.length===r?n:n.subarray(0,r));let e="";for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e})(l,o)},Xm_utf8border=(n,r)=>{(r=r||n.length)>n.length&&(r=n.length);let e=r-1;for(;e>=0&&128==(192&n[e]);)e--;return e<0||0===e?r:e+Km[n[e]]>r?e:r},NA=function kN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const FA=Object.prototype.toString,{Z_NO_FLUSH:LN,Z_SYNC_FLUSH:BN,Z_FULL_FLUSH:ZN,Z_FINISH:UN,Z_OK:Lw,Z_STREAM_END:VN,Z_DEFAULT_COMPRESSION:jN,Z_DEFAULT_STRATEGY:$N,Z_DEFLATED:HN}=wd;function ey(n){this.options=kw_assign({level:jN,method:HN,chunkSize:16384,windowBits:15,memLevel:8,strategy:$N},n||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NA,this.strm.avail_out=0;let e=Wm_deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==Lw)throw new Error(bd[e]);if(r.header&&Wm_deflateSetHeader(this.strm,r.header),r.dictionary){let i;if(i="string"==typeof r.dictionary?Xm_string2buf(r.dictionary):"[object ArrayBuffer]"===FA.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,e=Wm_deflateSetDictionary(this.strm,i),e!==Lw)throw new Error(bd[e]);this._dict_set=!0}}function ST(n,r){const e=new ey(r);if(e.push(n,!0),e.err)throw e.msg||bd[e.err];return e.result}ey.prototype.push=function(n,r){const e=this.strm,i=this.options.chunkSize;let o,l;if(this.ended)return!1;for(l=r===~~r?r:!0===r?UN:LN,e.input="string"==typeof n?Xm_string2buf(n):"[object ArrayBuffer]"===FA.call(n)?new Uint8Array(n):n,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(l===BN||l===ZN)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(o=Wm_deflate(e,l),o===VN)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),o=Wm_deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Lw;if(0!==e.avail_out){if(l>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},ey.prototype.onData=function(n){this.chunks.push(n)},ey.prototype.onEnd=function(n){n===Lw&&(this.result=kw_flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var KN={Deflate:ey,deflate:ST,deflateRaw:function zN(n,r){return(r=r||{}).raw=!0,ST(n,r)},gzip:function qN(n,r){return(r=r||{}).gzip=!0,ST(n,r)},constants:wd},eF=function(r,e){let i,o,l,d,_,g,h,b,T,P,S,F,te,ce,me,xe,_e,V,Ze,oe,ae,Ue,et,qe;const nt=r.state;i=r.next_in,et=r.input,o=i+(r.avail_in-5),l=r.next_out,qe=r.output,d=l-(e-r.avail_out),_=l+(r.avail_out-257),g=nt.dmax,h=nt.wsize,b=nt.whave,T=nt.wnext,P=nt.window,S=nt.hold,F=nt.bits,te=nt.lencode,ce=nt.distcode,me=(1<<nt.lenbits)-1,xe=(1<<nt.distbits)-1;e:do{F<15&&(S+=et[i++]<<F,F+=8,S+=et[i++]<<F,F+=8),_e=te[S&me];t:for(;;){if(V=_e>>>24,S>>>=V,F-=V,V=_e>>>16&255,0===V)qe[l++]=65535&_e;else{if(!(16&V)){if(0==(64&V)){_e=te[(65535&_e)+(S&(1<<V)-1)];continue t}if(32&V){nt.mode=12;break e}r.msg="invalid literal/length code",nt.mode=30;break e}Ze=65535&_e,V&=15,V&&(F<V&&(S+=et[i++]<<F,F+=8),Ze+=S&(1<<V)-1,S>>>=V,F-=V),F<15&&(S+=et[i++]<<F,F+=8,S+=et[i++]<<F,F+=8),_e=ce[S&xe];n:for(;;){if(V=_e>>>24,S>>>=V,F-=V,V=_e>>>16&255,!(16&V)){if(0==(64&V)){_e=ce[(65535&_e)+(S&(1<<V)-1)];continue n}r.msg="invalid distance code",nt.mode=30;break e}if(oe=65535&_e,V&=15,F<V&&(S+=et[i++]<<F,F+=8,F<V&&(S+=et[i++]<<F,F+=8)),oe+=S&(1<<V)-1,oe>g){r.msg="invalid distance too far back",nt.mode=30;break e}if(S>>>=V,F-=V,V=l-d,oe>V){if(V=oe-V,V>b&&nt.sane){r.msg="invalid distance too far back",nt.mode=30;break e}if(ae=0,Ue=P,0===T){if(ae+=h-V,V<Ze){Ze-=V;do{qe[l++]=P[ae++]}while(--V);ae=l-oe,Ue=qe}}else if(T<V){if(ae+=h+T-V,V-=T,V<Ze){Ze-=V;do{qe[l++]=P[ae++]}while(--V);if(ae=0,T<Ze){V=T,Ze-=V;do{qe[l++]=P[ae++]}while(--V);ae=l-oe,Ue=qe}}}else if(ae+=T-V,V<Ze){Ze-=V;do{qe[l++]=P[ae++]}while(--V);ae=l-oe,Ue=qe}for(;Ze>2;)qe[l++]=Ue[ae++],qe[l++]=Ue[ae++],qe[l++]=Ue[ae++],Ze-=3;Ze&&(qe[l++]=Ue[ae++],Ze>1&&(qe[l++]=Ue[ae++]))}else{ae=l-oe;do{qe[l++]=qe[ae++],qe[l++]=qe[ae++],qe[l++]=qe[ae++],Ze-=3}while(Ze>2);Ze&&(qe[l++]=qe[ae++],Ze>1&&(qe[l++]=qe[ae++]))}break}}break}}while(i<o&&l<_);Ze=F>>3,i-=Ze,F-=Ze<<3,S&=(1<<F)-1,r.next_in=i,r.next_out=l,r.avail_in=i<o?o-i+5:5-(i-o),r.avail_out=l<_?_-l+257:257-(l-_),nt.hold=S,nt.bits=F};const tF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ty=(n,r,e,i,o,l,d,_)=>{const g=_.bits;let _e,V,Ze,oe,ae,qe,h=0,b=0,T=0,P=0,S=0,F=0,te=0,ce=0,me=0,xe=0,Ue=null,et=0;const nt=new Uint16Array(16),Nt=new Uint16Array(16);let Me,pe,se,Vn=null,Yn=0;for(h=0;h<=15;h++)nt[h]=0;for(b=0;b<i;b++)nt[r[e+b]]++;for(S=g,P=15;P>=1&&0===nt[P];P--);if(S>P&&(S=P),0===P)return o[l++]=20971520,o[l++]=20971520,_.bits=1,0;for(T=1;T<P&&0===nt[T];T++);for(S<T&&(S=T),ce=1,h=1;h<=15;h++)if(ce<<=1,ce-=nt[h],ce<0)return-1;if(ce>0&&(0===n||1!==P))return-1;for(Nt[1]=0,h=1;h<15;h++)Nt[h+1]=Nt[h]+nt[h];for(b=0;b<i;b++)0!==r[e+b]&&(d[Nt[r[e+b]]++]=b);if(0===n?(Ue=Vn=d,qe=19):1===n?(Ue=tF,et-=257,Vn=nF,Yn-=257,qe=256):(Ue=rF,Vn=iF,qe=-1),xe=0,b=0,h=T,ae=l,F=S,te=0,Ze=-1,me=1<<S,oe=me-1,1===n&&me>852||2===n&&me>592)return 1;for(;;){Me=h-te,d[b]<qe?(pe=0,se=d[b]):d[b]>qe?(pe=Vn[Yn+d[b]],se=Ue[et+d[b]]):(pe=96,se=0),_e=1<<h-te,V=1<<F,T=V;do{V-=_e,o[ae+(xe>>te)+V]=Me<<24|pe<<16|se|0}while(0!==V);for(_e=1<<h-1;xe&_e;)_e>>=1;if(0!==_e?(xe&=_e-1,xe+=_e):xe=0,b++,0==--nt[h]){if(h===P)break;h=r[e+d[b]]}if(h>S&&(xe&oe)!==Ze){for(0===te&&(te=S),ae+=T,F=h-te,ce=1<<F;F+te<P&&(ce-=nt[F+te],!(ce<=0));)F++,ce<<=1;if(me+=1<<F,1===n&&me>852||2===n&&me>592)return 1;Ze=xe&oe,o[Ze]=S<<24|F<<16|ae-l|0}}return 0!==xe&&(o[ae+xe]=h-te<<24|64<<16|0),_.bits=S,0};const{Z_FINISH:jA,Z_BLOCK:sF,Z_TREES:Zw,Z_OK:Td,Z_STREAM_END:aF,Z_NEED_DICT:cF,Z_STREAM_ERROR:No,Z_DATA_ERROR:$A,Z_MEM_ERROR:HA,Z_BUF_ERROR:lF,Z_DEFLATED:zA}=wd,gM=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function pF(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hM=n=>{if(!n||!n.state)return No;const r=n.state;return n.total_in=n.total_out=r.total=0,n.msg="",r.wrap&&(n.adler=1&r.wrap),r.mode=1,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,Td},mM=n=>{if(!n||!n.state)return No;const r=n.state;return r.wsize=0,r.whave=0,r.wnext=0,hM(n)},yM=(n,r)=>{let e;if(!n||!n.state)return No;const i=n.state;return r<0?(e=0,r=-r):(e=1+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?No:(null!==i.window&&i.wbits!==r&&(i.window=null),i.wrap=e,i.wbits=r,mM(n))},vM=(n,r)=>{if(!n)return No;const e=new pF;n.state=e,e.window=null;const i=yM(n,r);return i!==Td&&(n.state=null),i};let RT,NT,bM=!0;const hF=n=>{if(bM){RT=new Int32Array(512),NT=new Int32Array(32);let r=0;for(;r<144;)n.lens[r++]=8;for(;r<256;)n.lens[r++]=9;for(;r<280;)n.lens[r++]=7;for(;r<288;)n.lens[r++]=8;for(ty(1,n.lens,0,288,RT,0,n.work,{bits:9}),r=0;r<32;)n.lens[r++]=5;ty(2,n.lens,0,32,NT,0,n.work,{bits:5}),bM=!1}n.lencode=RT,n.lenbits=9,n.distcode=NT,n.distbits=5},wM=(n,r,e,i)=>{let o;const l=n.state;return null===l.window&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),i>=l.wsize?(l.window.set(r.subarray(e-l.wsize,e),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>i&&(o=i),l.window.set(r.subarray(e-i,e-i+o),l.wnext),(i-=o)?(l.window.set(r.subarray(e-i,e),0),l.wnext=i,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0};var Ba_inflateReset=mM,Ba_inflateInit2=vM,Ba_inflate=(n,r)=>{let e,i,o,l,d,_,g,h,b,T,P,S,F,te,me,xe,_e,V,Ze,oe,ae,Ue,ce=0;const et=new Uint8Array(4);let qe,nt;const Nt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!n||!n.state||!n.output||!n.input&&0!==n.avail_in)return No;e=n.state,12===e.mode&&(e.mode=13),d=n.next_out,o=n.output,g=n.avail_out,l=n.next_in,i=n.input,_=n.avail_in,h=e.hold,b=e.bits,T=_,P=g,Ue=Td;e:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;b<16;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(2&e.wrap&&35615===h){e.check=0,et[0]=255&h,et[1]=h>>>8&255,e.check=Nr(e.check,et,2,0),h=0,b=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&h)<<8)+(h>>8))%31){n.msg="incorrect header check",e.mode=30;break}if((15&h)!==zA){n.msg="unknown compression method",e.mode=30;break}if(h>>>=4,b-=4,ae=8+(15&h),0===e.wbits)e.wbits=ae;else if(ae>e.wbits){n.msg="invalid window size",e.mode=30;break}e.dmax=1<<e.wbits,n.adler=e.check=1,e.mode=512&h?10:12,h=0,b=0;break;case 2:for(;b<16;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(e.flags=h,(255&e.flags)!==zA){n.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){n.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=h>>8&1),512&e.flags&&(et[0]=255&h,et[1]=h>>>8&255,e.check=Nr(e.check,et,2,0)),h=0,b=0,e.mode=3;case 3:for(;b<32;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}e.head&&(e.head.time=h),512&e.flags&&(et[0]=255&h,et[1]=h>>>8&255,et[2]=h>>>16&255,et[3]=h>>>24&255,e.check=Nr(e.check,et,4,0)),h=0,b=0,e.mode=4;case 4:for(;b<16;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}e.head&&(e.head.xflags=255&h,e.head.os=h>>8),512&e.flags&&(et[0]=255&h,et[1]=h>>>8&255,e.check=Nr(e.check,et,2,0)),h=0,b=0,e.mode=5;case 5:if(1024&e.flags){for(;b<16;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}e.length=h,e.head&&(e.head.extra_len=h),512&e.flags&&(et[0]=255&h,et[1]=h>>>8&255,e.check=Nr(e.check,et,2,0)),h=0,b=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(S=e.length,S>_&&(S=_),S&&(e.head&&(ae=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(l,l+S),ae)),512&e.flags&&(e.check=Nr(e.check,i,S,l)),_-=S,l+=S,e.length-=S),e.length))break e;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===_)break e;S=0;do{ae=i[l+S++],e.head&&ae&&e.length<65536&&(e.head.name+=String.fromCharCode(ae))}while(ae&&S<_);if(512&e.flags&&(e.check=Nr(e.check,i,S,l)),_-=S,l+=S,ae)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===_)break e;S=0;do{ae=i[l+S++],e.head&&ae&&e.length<65536&&(e.head.comment+=String.fromCharCode(ae))}while(ae&&S<_);if(512&e.flags&&(e.check=Nr(e.check,i,S,l)),_-=S,l+=S,ae)break e}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;b<16;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(h!==(65535&e.check)){n.msg="header crc mismatch",e.mode=30;break}h=0,b=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=12;break;case 10:for(;b<32;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}n.adler=e.check=gM(h),h=0,b=0,e.mode=11;case 11:if(0===e.havedict)return n.next_out=d,n.avail_out=g,n.next_in=l,n.avail_in=_,e.hold=h,e.bits=b,cF;n.adler=e.check=1,e.mode=12;case 12:if(r===sF||r===Zw)break e;case 13:if(e.last){h>>>=7&b,b-=7&b,e.mode=27;break}for(;b<3;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}switch(e.last=1&h,h>>>=1,b-=1,3&h){case 0:e.mode=14;break;case 1:if(hF(e),e.mode=20,r===Zw){h>>>=2,b-=2;break e}break;case 2:e.mode=17;break;case 3:n.msg="invalid block type",e.mode=30}h>>>=2,b-=2;break;case 14:for(h>>>=7&b,b-=7&b;b<32;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if((65535&h)!=(h>>>16^65535)){n.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&h,h=0,b=0,e.mode=15,r===Zw)break e;case 15:e.mode=16;case 16:if(S=e.length,S){if(S>_&&(S=_),S>g&&(S=g),0===S)break e;o.set(i.subarray(l,l+S),d),_-=S,l+=S,g-=S,d+=S,e.length-=S;break}e.mode=12;break;case 17:for(;b<14;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(e.nlen=257+(31&h),h>>>=5,b-=5,e.ndist=1+(31&h),h>>>=5,b-=5,e.ncode=4+(15&h),h>>>=4,b-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;b<3;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}e.lens[Nt[e.have++]]=7&h,h>>>=3,b-=3}for(;e.have<19;)e.lens[Nt[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,qe={bits:e.lenbits},Ue=ty(0,e.lens,0,19,e.lencode,0,e.work,qe),e.lenbits=qe.bits,Ue){n.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;ce=e.lencode[h&(1<<e.lenbits)-1],me=ce>>>24,xe=ce>>>16&255,_e=65535&ce,!(me<=b);){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(_e<16)h>>>=me,b-=me,e.lens[e.have++]=_e;else{if(16===_e){for(nt=me+2;b<nt;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(h>>>=me,b-=me,0===e.have){n.msg="invalid bit length repeat",e.mode=30;break}ae=e.lens[e.have-1],S=3+(3&h),h>>>=2,b-=2}else if(17===_e){for(nt=me+3;b<nt;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}h>>>=me,b-=me,ae=0,S=3+(7&h),h>>>=3,b-=3}else{for(nt=me+7;b<nt;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}h>>>=me,b-=me,ae=0,S=11+(127&h),h>>>=7,b-=7}if(e.have+S>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=30;break}for(;S--;)e.lens[e.have++]=ae}}if(30===e.mode)break;if(0===e.lens[256]){n.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,qe={bits:e.lenbits},Ue=ty(1,e.lens,0,e.nlen,e.lencode,0,e.work,qe),e.lenbits=qe.bits,Ue){n.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,qe={bits:e.distbits},Ue=ty(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,qe),e.distbits=qe.bits,Ue){n.msg="invalid distances set",e.mode=30;break}if(e.mode=20,r===Zw)break e;case 20:e.mode=21;case 21:if(_>=6&&g>=258){n.next_out=d,n.avail_out=g,n.next_in=l,n.avail_in=_,e.hold=h,e.bits=b,eF(n,P),d=n.next_out,o=n.output,g=n.avail_out,l=n.next_in,i=n.input,_=n.avail_in,h=e.hold,b=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;ce=e.lencode[h&(1<<e.lenbits)-1],me=ce>>>24,xe=ce>>>16&255,_e=65535&ce,!(me<=b);){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(xe&&0==(240&xe)){for(V=me,Ze=xe,oe=_e;ce=e.lencode[oe+((h&(1<<V+Ze)-1)>>V)],me=ce>>>24,xe=ce>>>16&255,_e=65535&ce,!(V+me<=b);){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}h>>>=V,b-=V,e.back+=V}if(h>>>=me,b-=me,e.back+=me,e.length=_e,0===xe){e.mode=26;break}if(32&xe){e.back=-1,e.mode=12;break}if(64&xe){n.msg="invalid literal/length code",e.mode=30;break}e.extra=15&xe,e.mode=22;case 22:if(e.extra){for(nt=e.extra;b<nt;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}e.length+=h&(1<<e.extra)-1,h>>>=e.extra,b-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;ce=e.distcode[h&(1<<e.distbits)-1],me=ce>>>24,xe=ce>>>16&255,_e=65535&ce,!(me<=b);){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(0==(240&xe)){for(V=me,Ze=xe,oe=_e;ce=e.distcode[oe+((h&(1<<V+Ze)-1)>>V)],me=ce>>>24,xe=ce>>>16&255,_e=65535&ce,!(V+me<=b);){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}h>>>=V,b-=V,e.back+=V}if(h>>>=me,b-=me,e.back+=me,64&xe){n.msg="invalid distance code",e.mode=30;break}e.offset=_e,e.extra=15&xe,e.mode=24;case 24:if(e.extra){for(nt=e.extra;b<nt;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}e.offset+=h&(1<<e.extra)-1,h>>>=e.extra,b-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===g)break e;if(S=P-g,e.offset>S){if(S=e.offset-S,S>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=30;break}S>e.wnext?(S-=e.wnext,F=e.wsize-S):F=e.wnext-S,S>e.length&&(S=e.length),te=e.window}else te=o,F=d-e.offset,S=e.length;S>g&&(S=g),g-=S,e.length-=S;do{o[d++]=te[F++]}while(--S);0===e.length&&(e.mode=21);break;case 26:if(0===g)break e;o[d++]=e.length,g--,e.mode=21;break;case 27:if(e.wrap){for(;b<32;){if(0===_)break e;_--,h|=i[l++]<<b,b+=8}if(P-=g,n.total_out+=P,e.total+=P,P&&(n.adler=e.check=e.flags?Nr(e.check,o,P,d-P):qm(e.check,o,P,d-P)),P=g,(e.flags?h:gM(h))!==e.check){n.msg="incorrect data check",e.mode=30;break}h=0,b=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;b<32;){if(0===_)break e;_--,h+=i[l++]<<b,b+=8}if(h!==(4294967295&e.total)){n.msg="incorrect length check",e.mode=30;break}h=0,b=0}e.mode=29;case 29:Ue=aF;break e;case 30:Ue=$A;break e;case 31:return HA;default:return No}return n.next_out=d,n.avail_out=g,n.next_in=l,n.avail_in=_,e.hold=h,e.bits=b,(e.wsize||P!==n.avail_out&&e.mode<30&&(e.mode<27||r!==jA))&&wM(n,n.output,n.next_out,P-n.avail_out),T-=n.avail_in,P-=n.avail_out,n.total_in+=T,n.total_out+=P,e.total+=P,e.wrap&&P&&(n.adler=e.check=e.flags?Nr(e.check,o,P,n.next_out-P):qm(e.check,o,P,n.next_out-P)),n.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===T&&0===P||r===jA)&&Ue===Td&&(Ue=lF),Ue},Ba_inflateEnd=n=>{if(!n||!n.state)return No;let r=n.state;return r.window&&(r.window=null),n.state=null,Td},Ba_inflateGetHeader=(n,r)=>{if(!n||!n.state)return No;const e=n.state;return 0==(2&e.wrap)?No:(e.head=r,r.done=!1,Td)},Ba_inflateSetDictionary=(n,r)=>{const e=r.length;let i,o,l;return n&&n.state&&(i=n.state,0===i.wrap||11===i.mode)?11===i.mode&&(o=1,o=qm(o,r,e,0),o!==i.check)?$A:(l=wM(n,r,e,e),l?(i.mode=31,HA):(i.havedict=1,Td)):No},PF=function OF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const IM=Object.prototype.toString,{Z_NO_FLUSH:RF,Z_FINISH:NF,Z_OK:ny,Z_STREAM_END:FT,Z_NEED_DICT:kT,Z_STREAM_ERROR:FF,Z_DATA_ERROR:xM,Z_MEM_ERROR:kF}=wd;function ry(n){this.options=kw_assign({chunkSize:65536,windowBits:15,to:""},n||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(n&&n.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&0==(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NA,this.strm.avail_out=0;let e=Ba_inflateInit2(this.strm,r.windowBits);if(e!==ny)throw new Error(bd[e]);if(this.header=new PF,Ba_inflateGetHeader(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=Xm_string2buf(r.dictionary):"[object ArrayBuffer]"===IM.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=Ba_inflateSetDictionary(this.strm,r.dictionary),e!==ny)))throw new Error(bd[e])}function LT(n,r){const e=new ry(r);if(e.push(n),e.err)throw e.msg||bd[e.err];return e.result}ry.prototype.push=function(n,r){const e=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let l,d,_;if(this.ended)return!1;for(d=r===~~r?r:!0===r?NF:RF,e.input="[object ArrayBuffer]"===IM.call(n)?new Uint8Array(n):n,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),l=Ba_inflate(e,d),l===kT&&o&&(l=Ba_inflateSetDictionary(e,o),l===ny?l=Ba_inflate(e,d):l===xM&&(l=kT));e.avail_in>0&&l===FT&&e.state.wrap>0&&0!==n[e.next_in];)Ba_inflateReset(e),l=Ba_inflate(e,d);switch(l){case FF:case xM:case kT:case kF:return this.onEnd(l),this.ended=!0,!1}if(_=e.avail_out,e.next_out&&(0===e.avail_out||l===FT))if("string"===this.options.to){let g=Xm_utf8border(e.output,e.next_out),h=e.next_out-g,b=Xm_buf2string(e.output,g);e.next_out=h,e.avail_out=i-h,h&&e.output.set(e.output.subarray(g,g+h),0),this.onData(b)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(l!==ny||0!==_){if(l===FT)return l=Ba_inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},ry.prototype.onData=function(n){this.chunks.push(n)},ry.prototype.onEnd=function(n){n===ny&&(this.result="string"===this.options.to?this.chunks.join(""):kw_flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var $F={Inflate:ry,inflate:LT,inflateRaw:function LF(n,r){return(r=r||{}).raw=!0,LT(n,r)},ungzip:LT,constants:wd};const{deflate:zF}=KN,{inflate:QF}=$F;var EM=zF,CM=QF,ok=M(8372);const Un="?",Fo="=",fs="_",ko="~",_s="*",Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.",$w=Vi.length,sk=Vi.split("").reduce((n,r,e)=>(n[r]=e,n),{});var Ct=(()=>{return(n=Ct||(Ct={})).Version="v",n.Mod="b",n.Products="p",n.Items="i",n.Recipes="r",n.Factories="f",n.Settings="s",Ct;var n})(),ji=(()=>{return(n=ji||(ji={})).Version0="0",n.Version1="1",n.Version2="2",n.Version3="3",n.Version4="4",n.Version5="5",ji;var n})(),iy=(()=>((iy||(iy={})).ExpensiveDeprecation="Deprecated: The expensive setting has been removed. Please use or request an expensive data set instead.",iy))();let BT=(()=>{class n{constructor(e,i,o,l){this.router=e,this.gaSvc=i,this.store=o,this.dataSvc=l,this.zipPartial={bare:"",hash:""},this.bareVersion=ji.Version4,this.hashVersion=ji.Version5,this.zipTail={bare:`&${Ct.Version}=${this.bareVersion}`,hash:`&${Ct.Version}${this.hashVersion}`},this.first=!0,this.base64codes=new Uint8Array(256);for(let _=0;_<256;_++)this.base64codes[_]=255;for(let _=0;_<Vi.length;_++)this.base64codes[Vi.charCodeAt(_)]=_;this.base64codes["_".charCodeAt(0)]=0,this.router.events.subscribe(_=>this.updateState(_)),this.store.select(iR).pipe((0,ok.b)(0)).subscribe(_=>{let g=!1;this.first&&(0===Object.keys(_.items).length&&0===Object.keys(_.recipes).length&&JSON.stringify(_.factories)===JSON.stringify(bw)&&JSON.stringify(_.settings)===JSON.stringify(Sn)&&(g=!0),this.first=!1),g||this.updateUrl(_.products,_.items,_.recipes,_.factories,_.settings)})}updateUrl(e,i,o,l,d){this.zipState(e,i,o,l,d).subscribe(_=>{this.zip=this.getHash(_);const g=this.router.url.split("#"),h=`${g[0].split("?")[0]}?${this.zip}${g[1]&&`#${g[1]}`||""}`;this.router.navigateByUrl(h)})}zipState(e,i,o,l,d){return this.store.select(jS).pipe((0,yt.U)(_=>_[d.modId]),(0,zn.h)(_=>null!=_),Mr(),(0,yt.U)(_=>{const g={bare:"",hash:""},h=this.zipDiffString(d.modId,Sn.modId);h.length&&(g.hash+=`&${Ct.Mod}${this.getId(Lm.hash.indexOf(h))}`);const b=e.ids.map(P=>e.entities[P]),T=this.zipProducts(b,_);return this.zipItems(g,i,_),this.zipRecipes(g,o,_),this.zipFactories(g,l,_),this.zipSettings(g,d,_),this.zipPartial=g,T}))}stepHref(e,i){if(null==e.items||null==e.itemId||null==i)return null;const o=[{id:"0",itemId:e.itemId,rate:e.items.toString(),rateType:mt.Items}];return"?"+this.getHash(this.zipProducts(o,i))}getHash(e){const i=e.bare+this.zipPartial.bare+this.zipTail.bare,l=`z=${this.bytesToBase64(EM(e.hash+this.zipPartial.hash+this.zipTail.hash))}`;return i.length<Math.max(l.length,75)?i:l}getParams(e){const i=e.split("&"),o="="===i[0][1]?2:1;return i.reduce((d,_)=>(d[_[0]]=_.substring(o),d),{})}updateState(e){try{if(e instanceof Ta){const[i,...o]=e.urlAfterRedirects.split("#"),l=o.join("#"),[d,..._]=i.split("?");let g=_.join("?");if(!g.length&&l.length>1&&"="===l[1]&&(g=l),g){let h=g;if(this.zip!==h){if(h.startsWith("z=")){const F=h.substring(2).replace(/\+/g,"-").replace(/\//g,".").replace(/=/g,"_");h=this.inflateSafe(F)}h=h.replace(/,/g,fs).replace(/\+/g,ko),h=h.replace(/\*n\*/g,"*?*").replace(/\*e\*/g,"*=*");let b=this.getParams(h),T=[];[b,T]=this.migrate(b),this.displayWarnings(T);const S={};if(b[Ct.Version]==this.bareVersion)Object.keys(b).forEach(F=>{b[F]=decodeURIComponent(b[F])}),b[Ct.Products]&&(S.productsState=this.unzipProducts(b)),b[Ct.Items]&&(S.itemsState=this.unzipItems(b)),b[Ct.Recipes]&&(S.recipesState=this.unzipRecipes(b)),b[Ct.Factories]&&(S.factoriesState=this.unzipFactories(b)),b[Ct.Settings]&&(S.settingsState=this.unzipSettings(b)),this.dispatch(h,S);else{const F=this.parseNString(b[Ct.Mod],Lm.hash);this.dataSvc.requestData(F||Sn.modId).subscribe(([te,ce])=>{b[Ct.Products]&&(S.productsState=this.unzipProducts(b,ce)),b[Ct.Items]&&(S.itemsState=this.unzipItems(b,ce)),b[Ct.Recipes]&&(S.recipesState=this.unzipRecipes(b,ce)),b[Ct.Factories]&&(S.factoriesState=this.unzipFactories(b,ce)),b[Ct.Settings]&&(S.settingsState=this.unzipSettings(b,ce)),null!=F&&(S.settingsState={...S.settingsState,modId:F}),this.dispatch(h,S)})}}}}}catch(i){throw console.error(i),new Error("RouterService failed to parse url")}}dispatch(e,i){this.zip=e,this.store.dispatch(new S2(i))}migrate(e){const i=[],o=e[Ct.Version]??ji.Version0;switch(this.gaSvc.event("unzip_version",o),o){case ji.Version0:return this.migrateV0(e,i);case ji.Version1:return this.migrateV1(e,i);case ji.Version2:return this.migrateV2(e,i);case ji.Version3:return this.migrateV3(e,i);default:return[e,i]}}migrateV0(e,i){if(e[Ct.Settings]){const l=e[Ct.Settings].split(_s);let d=this.parseString(l[0]);d=d&&Lm.hash[Lm.v0.indexOf(d)],d=d??Un;const _=this.parseNumber(l[6])??Sn.displayRate,g=this.zipDiffDisplayRate(_,Sn.displayRate);e[Ct.Settings]=this.zipFields([d,g,e[Ct.Mod],l[1],l[3],l[4],l[5],l[7],l[8],l[10],l[9],l[2],l[11],l[12]])}else e[Ct.Mod]&&(e[Ct.Settings]=this.zipFields([Un,Un,e[Ct.Mod]]));return e[Ct.Version]=ji.Version1,this.migrateV1(e,i)}migrateV1(e,i){if(e[Ct.Settings]){const l=e[Ct.Settings].split(_s),d=11;if(l.length>d){const _=l.splice(d,1);this.parseBool(_[0])&&i.push(iy.ExpensiveDeprecation)}e[Ct.Settings]=this.zipFields(l)}return e[Ct.Version]=ji.Version4,[e,i]}migrateV2(e,i){if(e[Ct.Recipes]){const l=e[Ct.Recipes].split(fs),d=[],_=3;for(const g of l){const h=g.split(_s);if(h.length>_){const b=this.parseNNumber(h[_])?.toString();h[_]=this.zipTruthyString(b)}d.push(this.zipFields(h))}e[Ct.Recipes]=d.join(fs)}if(e[Ct.Factories]){const l=e[Ct.Factories].split(fs),d=[],_=2;for(const g of l){const h=g.split(_s);if(h.length>_){const b=this.parseNNumber(h[_])?.toString();h[_]=this.zipTruthyString(b)}d.push(this.zipFields(h))}e[Ct.Factories]=d.join(fs)}return e[Ct.Version]=ji.Version3,this.migrateV3(e,i)}migrateV3(e,i){if(e[Ct.Settings]){const l=e[Ct.Settings].split(_s),d=10;if(l.length>d){const _=l.splice(d,1);this.parseBool(_[0])&&i.push(iy.ExpensiveDeprecation)}e[Ct.Settings]=this.zipFields(l)}return e[Ct.Version]=ji.Version5,[e,i]}displayWarnings(e){e.length&&window.alert(e.join("\r\n"))}zipProducts(e,i){const o=this.zipList(e.map(l=>{const d=L.fromString(l.rate).toString(),_=this.zipDiffNumber(l.rateType,mt.Items);return{bare:this.zipFields([l.itemId,d,_,this.zipTruthyString(l.viaId),this.zipTruthyString(l.viaSetting),this.zipTruthyArray(l.viaFactoryModuleIds),this.zipTruthyString(l.viaBeaconCount),this.zipTruthyArray(l.viaBeaconModuleIds),this.zipTruthyString(l.viaBeaconId),this.zipTruthyNumber(l.viaOverclock)]),hash:this.zipFields([this.zipTruthyNString(l.itemId,i.items),d,_,this.zipTruthyNString(l.viaId,l.rateType===mt.Factories?i.recipes:i.items),this.zipTruthyNString(l.viaSetting,l.rateType===mt.Belts?i.belts:l.rateType===mt.Wagons?i.wagons:l.rateType===mt.Factories?i.factories:i.items),this.zipTruthyNArray(l.viaFactoryModuleIds,i.modules),this.zipTruthyString(l.viaBeaconCount),this.zipTruthyNArray(l.viaBeaconModuleIds,i.modules),this.zipTruthyNString(l.viaBeaconId,i.beacons),this.zipTruthyNumber(l.viaOverclock)])}}));return{bare:`${Ct.Products}=${o.bare}`,hash:`${Ct.Products}${o.hash}`}}unzipProducts(e,i){const o=e[Ct.Products].split(fs),l=[],d={};let _=0;for(const g of o){const h=g.split(_s);let b=0;const T=_.toString();let P;i?(P={id:T,itemId:this.parseNString(h[b++],i.items)??"",rate:h[b++],rateType:Number(h[b++])|mt.Items},P.viaId=this.parseNString(h[b++],P.rateType===mt.Factories?i.recipes:i.items),P.viaSetting=this.parseNString(h[b++],P.rateType===mt.Belts?i.belts:P.rateType===mt.Wagons?i.wagons:P.rateType===mt.Factories?i.factories:i.items),P.viaFactoryModuleIds=this.parseNArray(h[b++],i.modules),P.viaBeaconCount=this.parseString(h[b++]),P.viaBeaconModuleIds=this.parseNArray(h[b++],i.modules),P.viaBeaconId=this.parseNString(h[b++],i.beacons),P.viaOverclock=this.parseNumber(h[b++])):P={id:T,itemId:h[b++],rate:h[b++],rateType:Number(h[b++])|mt.Items,viaId:this.parseString(h[b++]),viaSetting:this.parseString(h[b++]),viaFactoryModuleIds:this.parseArray(h[b++]),viaBeaconCount:this.parseString(h[b++]),viaBeaconModuleIds:this.parseArray(h[b++]),viaBeaconId:this.parseString(h[b++]),viaOverclock:this.parseNumber(h[b++])},Object.keys(P).filter(S=>void 0===P[S]).forEach(S=>{delete P[S]}),l.push(T),d[T]=P,_++}return{ids:l,index:_,entities:d}}zipItems(e,i,o){const l=this.zipList(Object.keys(i).map(d=>{const _=i[d],g=this.zipTruthyBool(_.ignore);return{bare:this.zipFields([d,g,this.zipTruthyString(_.beltId),this.zipTruthyString(_.wagonId),this.zipTruthyString(_.recipeId)]),hash:this.zipFields([this.zipTruthyNString(d,o.items),g,this.zipTruthyNString(_.beltId,o.belts),this.zipTruthyNString(_.wagonId,o.wagons),this.zipTruthyNString(_.recipeId,o.recipes)])}}));l.bare.length&&(e.bare+=`&${Ct.Items}=${l.bare}`,e.hash+=`&${Ct.Items}${l.hash}`)}unzipItems(e,i){const o=e[Ct.Items].split(fs),l={};for(const d of o){const _=d.split(_s);let h,b,g=0;i?(h=this.parseNString(_[g++],i.items)??"",b={ignore:this.parseBool(_[g++]),beltId:this.parseNString(_[g++],i.belts),wagonId:this.parseNString(_[g++],i.wagons),recipeId:this.parseNString(_[g++],i.recipes)}):(h=_[g++],b={ignore:this.parseBool(_[g++]),beltId:this.parseString(_[g++]),wagonId:this.parseString(_[g++]),recipeId:this.parseString(_[g++])}),Object.keys(b).filter(T=>void 0===b[T]).forEach(T=>{delete b[T]}),l[h]=b}return l}zipRecipes(e,i,o){const l=this.zipList(Object.keys(i).map(d=>{const _=i[d];return{bare:this.zipFields([d,this.zipTruthyString(_.factoryId),this.zipTruthyArray(_.factoryModuleIds),this.zipTruthyString(_.beaconCount),this.zipTruthyArray(_.beaconModuleIds),this.zipTruthyString(_.beaconId),this.zipTruthyNumber(_.overclock),this.zipTruthyString(_.cost),this.zipTruthyString(_.beaconTotal)]),hash:this.zipFields([this.zipTruthyNString(d,o.recipes),this.zipTruthyNString(_.factoryId,o.factories),this.zipTruthyNArray(_.factoryModuleIds,o.modules),this.zipTruthyString(_.beaconCount),this.zipTruthyNArray(_.beaconModuleIds,o.modules),this.zipTruthyNString(_.beaconId,o.beacons),this.zipTruthyNumber(_.overclock),this.zipTruthyString(_.cost),this.zipTruthyString(_.beaconTotal)])}}));l.bare.length&&(e.bare+=`&${Ct.Recipes}=${l.bare}`,e.hash+=`&${Ct.Recipes}${l.hash}`)}unzipRecipes(e,i){const o=e[Ct.Recipes].split(fs),l={};for(const d of o){const _=d.split(_s);let h,b,g=0;i?(h=this.parseNString(_[g++],i.recipes)??"",b={factoryId:this.parseNString(_[g++],i.factories),factoryModuleIds:this.parseNArray(_[g++],i.modules),beaconCount:this.parseString(_[g++]),beaconModuleIds:this.parseNArray(_[g++],i.modules),beaconId:this.parseNString(_[g++],i.beacons),overclock:this.parseNumber(_[g++]),cost:this.parseString(_[g++]),beaconTotal:this.parseString(_[g++])}):(h=_[g++],b={factoryId:this.parseString(_[g++]),factoryModuleIds:this.parseArray(_[g++]),beaconCount:this.parseString(_[g++]),beaconModuleIds:this.parseArray(_[g++]),beaconId:this.parseString(_[g++]),overclock:this.parseNumber(_[g++]),cost:this.parseString(_[g++]),beaconTotal:this.parseString(_[g++])}),Object.keys(b).filter(T=>void 0===b[T]).forEach(T=>{delete b[T]}),l[h]=b}return l}zipFactories(e,i,o){const l=i.ids?["",...i.ids]:Object.keys(i.entities),d=this.zipList(l.map(_=>{const g=i.entities[_]||{};let h=!0;return""===_&&(_=null==i.ids?"":"1",h=!1),{bare:this.zipFields([_,this.zipTruthyArray(g.moduleRankIds),this.zipTruthyString(g.beaconCount),this.zipTruthyString(g.beaconModuleId),this.zipTruthyString(g.beaconId),this.zipTruthyNumber(g.overclock)]),hash:this.zipFields([h?this.zipTruthyNString(_,o.factories):_,this.zipTruthyNArray(g.moduleRankIds,o.modules),this.zipTruthyString(g.beaconCount),this.zipTruthyNString(g.beaconModuleId,o.modules),this.zipTruthyNString(g.beaconId,o.beacons),this.zipTruthyNumber(g.overclock)])}}));d.bare.length&&(e.bare+=`&${Ct.Factories}=${d.bare}`,e.hash+=`&${Ct.Factories}${d.hash}`)}unzipFactories(e,i){const o=e[Ct.Factories].split(fs);let l;const d={};let _=!1;for(let g=0;g<o.length;g++){const b=o[g].split(_s);let P,S,T=0;i?(P=b[T++],S={moduleRankIds:this.parseNArray(b[T++],i.modules),beaconCount:this.parseString(b[T++]),beaconModuleId:this.parseNString(b[T++],i.modules),beaconId:this.parseNString(b[T++],i.beacons),overclock:this.parseNumber(b[T++])},0===g&&"1"===P?(_=!0,l=[],P=""):(P&&(P=this.parseNString(P,i.factories)),_&&null!=l&&l.push(P??""))):(P=b[T++],S={moduleRankIds:this.parseArray(b[T++]),beaconCount:this.parseString(b[T++]),beaconModuleId:this.parseString(b[T++]),beaconId:this.parseString(b[T++]),overclock:this.parseNumber(b[T++])},0===g&&"1"===P?(_=!0,l=[],P=""):_&&null!=l&&l.push(P)),Object.keys(S).filter(F=>void 0===S[F]).forEach(F=>{delete S[F]}),Object.keys(S).length&&(d[P??""]=S)}return{ids:l,entities:d}}zipSettings(e,i,o){const l=Sn,d={bare:this.zipFields([this.zipDiffString(i.modId,l.modId),this.zipDiffDisplayRate(i.displayRate,l.displayRate),this.zipDiffNumber(i.preset,l.preset),this.zipDiffArray(i.disabledRecipeIds,l.disabledRecipeIds),this.zipDiffString(i.beltId,l.beltId),this.zipDiffString(i.fuelId,l.fuelId),this.zipDiffNumber(i.flowRate,l.flowRate),this.zipDiffNumber(i.miningBonus,l.miningBonus),this.zipDiffNumber(i.researchSpeed,l.researchSpeed),this.zipDiffNumber(i.inserterCapacity,l.inserterCapacity),this.zipDiffNumber(i.inserterTarget,l.inserterTarget),this.zipDiffString(i.cargoWagonId,l.cargoWagonId),this.zipDiffString(i.fluidWagonId,l.fluidWagonId),this.zipDiffString(i.pipeId,l.pipeId),this.zipDiffString(i.costFactor,l.costFactor),this.zipDiffString(i.costFactory,l.costFactory),this.zipDiffString(i.costInput,l.costInput),this.zipDiffString(i.costIgnored,l.costIgnored),this.zipDiffString(i.beaconReceivers,l.beaconReceivers),this.zipDiffString(i.proliferatorSprayId,l.proliferatorSprayId)]),hash:this.zipFields([this.zipDiffDisplayRate(i.displayRate,l.displayRate),this.zipDiffNumber(i.preset,l.preset),this.zipDiffNArray(i.disabledRecipeIds,l.disabledRecipeIds,o.recipes),this.zipDiffNString(i.beltId,l.beltId,o.belts),this.zipDiffNString(i.fuelId,l.fuelId,o.fuels),this.zipDiffNNumber(i.flowRate,l.flowRate),this.zipDiffNNumber(i.miningBonus,l.miningBonus),this.zipDiffNNumber(i.researchSpeed,l.researchSpeed),this.zipDiffNumber(i.inserterCapacity,l.inserterCapacity),this.zipDiffNumber(i.inserterTarget,l.inserterTarget),this.zipDiffNString(i.cargoWagonId,l.cargoWagonId,o.wagons),this.zipDiffNString(i.fluidWagonId,l.fluidWagonId,o.wagons),this.zipDiffNString(i.pipeId,l.pipeId,o.belts),this.zipDiffString(i.costFactor,l.costFactor),this.zipDiffString(i.costFactory,l.costFactory),this.zipDiffString(i.costInput,l.costInput),this.zipDiffString(i.costIgnored,l.costIgnored),this.zipDiffString(i.beaconReceivers,l.beaconReceivers),this.zipDiffNString(i.proliferatorSprayId,l.proliferatorSprayId,o.modules)])};d.bare.length&&(e.bare+=`&${Ct.Settings}=${encodeURIComponent(d.bare)}`,e.hash+=`&${Ct.Settings}${d.hash}`)}unzipSettings(e,i){const l=e[Ct.Settings].split(_s);let _,d=0;return _=i?{displayRate:this.parseDisplayRate(l[d++]),preset:this.parseNumber(l[d++]),disabledRecipeIds:this.parseNArray(l[d++],i.recipes),beltId:this.parseNString(l[d++],i.belts),fuelId:this.parseNString(l[d++],i.fuels),flowRate:this.parseNNumber(l[d++]),miningBonus:this.parseNNumber(l[d++]),researchSpeed:this.parseNNumber(l[d++]),inserterCapacity:this.parseNumber(l[d++]),inserterTarget:this.parseNumber(l[d++]),cargoWagonId:this.parseNString(l[d++],i.wagons),fluidWagonId:this.parseNString(l[d++],i.wagons),pipeId:this.parseNString(l[d++],i.belts),costFactor:this.parseString(l[d++]),costFactory:this.parseString(l[d++]),costInput:this.parseString(l[d++]),costIgnored:this.parseString(l[d++]),beaconReceivers:this.parseString(l[d++]),proliferatorSprayId:this.parseNString(l[d++],i.modules)}:{modId:this.parseString(l[d++]),displayRate:this.parseDisplayRate(l[d++]),preset:this.parseNumber(l[d++]),disabledRecipeIds:this.parseArray(l[d++]),beltId:this.parseString(l[d++]),fuelId:this.parseString(l[d++]),flowRate:this.parseNumber(l[d++]),miningBonus:this.parseNumber(l[d++]),researchSpeed:this.parseNumber(l[d++]),inserterCapacity:this.parseNumber(l[d++]),inserterTarget:this.parseNumber(l[d++]),cargoWagonId:this.parseString(l[d++]),fluidWagonId:this.parseString(l[d++]),pipeId:this.parseString(l[d++]),costFactor:this.parseString(l[d++]),costFactory:this.parseString(l[d++]),costInput:this.parseString(l[d++]),costIgnored:this.parseString(l[d++]),beaconReceivers:this.parseString(l[d++]),proliferatorSprayId:this.parseString(l[d++])},Object.keys(_).filter(g=>void 0===_[g]).forEach(g=>{delete _[g]}),_}zipList(e){return{bare:encodeURIComponent(e.map(i=>i.bare).join(fs)),hash:e.map(i=>i.hash).join(fs)}}zipFields(e){return e.join(_s).replace(/\**$/,"")}zipTruthyString(e){return e??""}zipTruthyNumber(e){return null==e?"":e.toString()}zipTruthyBool(e){return null==e?"":e?"1":"0"}zipTruthyArray(e){return null==e?"":e.length?e.join(ko):Fo}zipTruthyNString(e,i){return null==e?"":this.getId(i.indexOf(e))}zipTruthyNArray(e,i){return null==e?"":e.length?e.map(o=>this.getId(i.indexOf(o))).join(ko):Fo}zipDiffString(e,i){return e===i?"":e??Un}zipDiffNumber(e,i){return e===i?"":null==e?Un:e.toString()}zipDiffDisplayRate(e,i){if(e===i)return"";switch(e){case pn.PerSecond:return"0";case pn.PerMinute:return"1";case pn.PerHour:return"2";default:return Un}}zipDiffBool(e,i){return e===i?"":null==e?Un:e?"1":"0"}zipDiffArray(e,i){const o=null!=e?e.length>0?[...e].sort().join(ko):Fo:Un;return o===(null!=i?i.length>0?[...i].sort().join(ko):Fo:Un)?"":o}zipDiffRank(e,i){const o=e?e.length?e.join(ko):Fo:Un;return o===(i?i.length?i.join(ko):Fo:Un)?"":o}zipDiffNString(e,i,o){return e===i?"":null==e?Un:this.getId(o.indexOf(e))}zipDiffNNumber(e,i){return e===i?"":null==e?Un:this.getId(e)}zipDiffNArray(e,i,o){const l=null!=e?e.length>0?e.map(_=>this.getId(o.indexOf(_))).sort().join(ko):Fo:Un;return l===(null!=i?i.length>0?i.map(_=>this.getId(o.indexOf(_))).sort().join(ko):Fo:Un)?"":l}zipDiffNRank(e,i,o){const l=e?e.length?e.map(_=>this.getId(o.indexOf(_))).join(ko):Fo:Un;return l===(i?i.length?i.map(_=>this.getId(o.indexOf(_))).join(ko):Fo:Un)?"":l}parseString(e){if(e?.length&&e!==Un)return e}parseBool(e){if(e?.length&&e!==Un)return"1"===e}parseNumber(e){if(e?.length&&e!==Un)return Number(e)}parseDisplayRate(e){if(e?.length&&e!==Un)switch(e){case"0":return pn.PerSecond;case"1":return pn.PerMinute;case"2":return pn.PerHour;default:return}}parseArray(e){if(e?.length&&e!==Un)return e===Fo?[]:e.split(ko)}parseNString(e,i){const o=this.parseString(e);return null==o?o:i[this.getN(o)]}parseNNumber(e){if(e?.length&&e!==Un)return this.getN(e)}parseNArray(e,i){const o=this.parseArray(e);return null==o?o:o.map(l=>i[this.getN(l)])}getId(e){return e/$w>=1?this.getId(Math.floor(e/$w))+this.getId(e%$w):Vi[e]}getN(e){const i=sk[e[0]];return e.length>1?(e=e.substring(1),i*Math.pow($w,e.length)+this.getN(e)):i}getBase64Code(e){if(e>=this.base64codes.length)throw new Error("Unable to parse base64 string.");const i=this.base64codes[e];if(255===i)throw new Error("Unable to parse base64 string.");return i}bytesToBase64(e){let o,i="";const l=e.length;for(o=2;o<l;o+=3)i+=Vi[e[o-2]>>2],i+=Vi[(3&e[o-2])<<4|e[o-1]>>4],i+=Vi[(15&e[o-1])<<2|e[o]>>6],i+=Vi[63&e[o]];return o===l+1&&(i+=Vi[e[o-2]>>2],i+=Vi[(3&e[o-2])<<4],i+="__"),o===l&&(i+=Vi[e[o-2]>>2],i+=Vi[(3&e[o-2])<<4|e[o-1]>>4],i+=Vi[(15&e[o-1])<<2],i+="_"),i}inflateSafe(e){try{return this.inflate(e)}catch{console.warn("Router failed to parse url, checking for missing trailing characters...")}try{return this.inflateMend(e,"-")}catch{}try{return this.inflateMend(e,".")}catch{}return this.inflateMend(e,"_")}inflateMend(e,i){const o=this.inflate(e+i);if(!o)throw new Error("Failed to parse, generated empty string");return console.warn(`Router mended url by appending '${i}'`),o}inflate(e){return CM(this.base64ToBytes(e),{to:"string"})}base64ToBytes(e){if(e.length%4!=0)throw new Error("Unable to parse base64 string.");const i=e.indexOf("_");if(-1!==i&&i<e.length-2)throw new Error("Unable to parse base64 string.");const o=e.endsWith("__")?2:e.endsWith("_")?1:0,l=e.length,d=new Uint8Array(l/4*3);let _;for(let g=0,h=0;g<l;g+=4,h+=3)_=this.getBase64Code(e.charCodeAt(g))<<18|this.getBase64Code(e.charCodeAt(g+1))<<12|this.getBase64Code(e.charCodeAt(g+2))<<6|this.getBase64Code(e.charCodeAt(g+3)),d[h]=_>>16,d[h+1]=_>>8&255,d[h+2]=255&_;return d.subarray(0,d.length-o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(br),t.LFG(ad),t.LFG(Ce.yh),t.LFG(nA))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ck=(()=>{class n{constructor(e){this.store=e,this.store.select(rR).subscribe(i=>{for(const o of i.products)o.viaId&&o.viaId!==o.itemId&&o.rate.nonzero()&&i.rates[o.id].isZero()&&this.store.dispatch(new J2(o.id))})}checkHash(){Ar([this.store.select(q_),this.store.select(mi)]).pipe((0,zn.h)(([e,i])=>i.categoryIds.length>0&&null!=i.hash),Mr()).subscribe(([e,i])=>{console.log(e);const o=i.defaults?.disabledRecipeIds??[],l=Object.keys(i.itemRecipeId).map(g=>i.itemRecipeId[g]),d=i.complexRecipeIds.filter(g=>-1===l.indexOf(g)&&!i.itemEntities[g]);if(JSON.stringify(o)!==JSON.stringify(d)?(console.log(`Suggested disabled recipes (${d.length}):`),console.log(JSON.stringify(d))):console.log("No suggested changes to default disabled recipes"),i.hash){const g={items:[...i.hash.items],beacons:[...i.hash.beacons],belts:[...i.hash.belts],fuels:[...i.hash.fuels],wagons:[...i.hash.wagons],factories:[...i.hash.factories],modules:[...i.hash.modules],recipes:[...i.hash.recipes]},h=JSON.stringify(g);for(const b of[...i.itemIds].sort().filter(T=>-1===g.items.indexOf(T)))g.items.push(b);for(const b of[...i.beaconIds].sort().filter(T=>-1===g.beacons.indexOf(T)))g.beacons.push(b);for(const b of[...i.beltIds,...i.pipeIds].sort().filter(T=>-1===g.belts.indexOf(T)))g.belts.push(b);if(i.fuelIds[Kr.Chemical])for(const b of[...i.fuelIds[Kr.Chemical]].sort().filter(T=>-1===g.fuels.indexOf(T)))g.fuels.push(b);for(const b of[...i.cargoWagonIds,...i.fluidWagonIds].sort().filter(T=>-1===g.wagons.indexOf(T)))g.wagons.push(b);for(const b of[...i.factoryIds].sort().filter(T=>-1===g.factories.indexOf(T)))g.factories.push(b);for(const b of[...i.moduleIds].sort().filter(T=>-1===g.modules.indexOf(T)))g.modules.push(b);for(const b of[...i.recipeIds].sort().filter(T=>-1===g.recipes.indexOf(T)))g.recipes.push(b);h===JSON.stringify(g)?console.log("No change in hash"):(console.log("New hash:"),console.log(JSON.stringify(g)))}if(i.defaults){const g=i.defaults.disabledRecipeIds.filter(h=>i.complexRecipeIds.some(b=>b===h));g.length!==i.defaults.disabledRecipeIds.length?(console.log(`Filtered disabled recipes (${g.length}):`),console.log(JSON.stringify(g))):console.log("No unrecognized disabled recipes")}const _=[];for(const g of i.recipeIds)i.recipeEntities[g].producers?.length||_.push(g);_.length&&(console.log(`Found recipes with no producers: (${_.length}):`),console.log(JSON.stringify(_)))})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ce.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oy=(()=>{class n{trackById(e,i){return i.id}trackByKey(e,i){return i.key}sortByValue(e,i){return i.value.sub(e.value).toNumber()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lk=["*"];let Dd=(()=>{class n{constructor(e){this.el=e,this.closeDialog=new t.vpe,this.opening=!0}click(e){this.opening?this.opening=!1:!this.el.nativeElement.contains(e.target)&&document.contains(e.target)&&this.closeDialog.emit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-dialog"]],hostBindings:function(e,i){1&e&&t.NdJ("click",function(l){return i.click(l)},!1,t.evT)},outputs:{closeDialog:"closeDialog"},ngContentSelectors:lk,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;z-index:10;background-color:var(--color-back);box-shadow:var(--shadow-panel);padding:.75rem;min-width:100%}"],changeDetection:0}),n})();function uk(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(2);return d.selectId.emit(l.id),t.KtG(d.open=!1)}),t.TgZ(1,"div",1),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("active",e.id===i.selected),t.xp6(2),t.hij(" ",t.lcZ(3,3,e.name)," ")}}function dk(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-dialog",4),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t.YNc(1,uk,4,5,"button",5),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.options)("ngForTrackBy",e.trackSvc.trackById)}}let Hw=(()=>{class n extends W_{constructor(e){super(),this.trackSvc=e,this.options=[],this.selectId=new t.vpe,this.text=""}ngOnChanges(e){(e.options||e.selected)&&(this.text=this.options.find(i=>i.id===this.selected)?.name||"<None>")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(oy))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-options"]],inputs:{title:"title",selected:"selected",options:"options"},outputs:{selectId:"selectId"},features:[t.qOj,t.TTD],decls:7,vars:7,consts:[[3,"title","click"],[1,"text"],[1,"material-icons"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.open=!i.open}),t.TgZ(1,"div",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"i",2),t._uU(5,"arrow_drop_down"),t.qZA()(),t.YNc(6,dk,2,2,"lab-dialog",3)),2&e&&(t.ekj("active",i.open),t.Q6J("title",i.title),t.xp6(2),t.Oqu(t.lcZ(3,5,i.text)),t.xp6(4),t.Q6J("ngIf",i.open))},dependencies:[Xn,cr,Dd,ki],styles:["[_nghost-%COMP%]{display:flex}lab-dialog[_ngcontent-%COMP%]{max-height:20rem;margin-top:2.25rem;padding:0;display:flex;flex-direction:column;overflow:auto}lab-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:400;filter:none;flex-shrink:0}lab-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:hover):not(.active){background-color:var(--color-dark);color:var(--color-white);box-shadow:var(--shadow-tip)}button[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:space-between}button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{white-space:nowrap}button.active[_ngcontent-%COMP%]:not(:hover){background:var(--color-brand-alt);box-shadow:var(--shadow-active)}"],changeDetection:0}),n})();function fk(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function _k(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.clickId(o.id))}),t._UZ(1,"div",19),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.ekj("checked",i.editValue[e.id].show),t.xp6(2),t.Oqu(t.lcZ(4,3,e.name))}}function pk(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",24),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(3).$implicit,d=t.oxw(3);return t.KtG(d.changePrecision(l.id,o))}),t.qZA()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(3);t.Q6J("value",i.editValue[e.id].precision)}}function gk(n,r){1&n&&t._uU(0,"---")}function hk(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.YNc(2,pk,1,1,"input",21),t.YNc(3,gk,1,0,"ng-template",null,22,t.W1O),t.qZA(),t.TgZ(5,"td")(6,"div",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,l=t.oxw(3);return t.KtG(l.clickFraction(o.id))}),t._UZ(7,"div",19),t.TgZ(8,"div"),t._uU(9,"Fractions"),t.qZA()()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.BQk()}if(2&n){const e=t.MAs(4),i=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(2),t.Q6J("ngIf",null!=o.editValue[i.id].precision)("ngIfElse",e),t.xp6(5),t.ekj("checked",null==o.editValue[i.id].precision),t.xp6(4),t.hij(" ",o.example(i.id)," ")}}function mk(n,r){1&n&&(t.TgZ(0,"td",25),t._uU(1,"n/a"),t.qZA())}function yk(n,r){if(1&n&&(t.ynx(0),t.YNc(1,hk,12,5,"ng-container",15),t.YNc(2,mk,2,0,"ng-template",null,20,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",-1!==o.PrecisionColumns.indexOf(i.id))("ngIfElse",e)}}function vk(n,r){1&n&&t._UZ(0,"td",25)}function bk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,fk,3,3,"div",15),t.YNc(3,_k,5,5,"ng-template",null,16,t.W1O),t.qZA(),t.YNc(5,yk,4,2,"ng-container",15),t.YNc(6,vk,1,0,"ng-template",null,17,t.W1O),t.qZA()),2&n){const e=r.$implicit,i=t.MAs(4),o=t.MAs(7),l=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.id===l.Column.Items||e.id===l.Column.Factories)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",l.editValue[e.id].show)("ngIfElse",o)}}function wk(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-dialog",3),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.close())}),t.TgZ(1,"div",4)(2,"div",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(6,"i",7),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"div",8)(9,"table")(10,"thead")(11,"tr")(12,"th",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",10),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"tr")(19,"td"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,bk,8,4,"tr",11),t.qZA()()(),t.TgZ(30,"div",12)(31,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(32,"span",13),t._uU(33),t.ALo(34,"translate"),t.qZA()(),t.TgZ(35,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.close())}),t._uU(36),t.ALo(37,"translate"),t.qZA()()()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,10,"columns.selectColumns")),t.xp6(10),t.hij(" ",t.lcZ(14,12,"columns.visibility")," "),t.xp6(3),t.hij(" ",t.lcZ(17,14,"columns.precision")," "),t.xp6(4),t.Oqu(t.lcZ(21,16,"columns.decimals")),t.xp6(3),t.Oqu(t.lcZ(24,18,"columns.fractions")),t.xp6(3),t.Oqu(t.lcZ(27,20,"columns.example")),t.xp6(3),t.Q6J("ngForOf",e.columnOptions)("ngForTrackBy",i.trackSvc.trackById),t.xp6(4),t.Oqu(t.lcZ(34,22,"columns.cancel")),t.xp6(3),t.hij(" ",t.lcZ(37,24,"columns.confirm")," ")}}function Ik(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.NdJ("click",function(){const l=t.CHM(e).ngIf,d=t.oxw();return t.KtG(d.clickOpen(l.columns))}),t.Hsn(2),t.qZA(),t.YNc(3,wk,38,26,"lab-dialog",2),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.open)}}const xk=["*"];let ZT=(()=>{class n extends W_{constructor(e,i){super(),this.trackSvc=e,this.store=i,this.vm$=Ar([this.store.select(Iw),this.store.select(tP)]).pipe((0,yt.U)(([o,l])=>({columns:o,columnOptions:l}))),this.edited=!1,this.editValue={},this.PrecisionColumns=Gl,this.Column=rt}clickOpen(e){this.open=!0,this.edited=!1,this.editValue=Object.keys(e).reduce((i,o)=>(i[o]={...e[o]},i),{})}close(){this.edited&&this.store.dispatch(new w2(this.editValue)),this.open=!1}clickId(e){this.edited=!0,this.editValue[e].show=!this.editValue[e].show}changePrecision(e,i){const l=Number(i.target.value);this.edited=!0,this.editValue[e].precision=l}clickFraction(e){this.edited=!0,this.editValue[e].precision=null==this.editValue[e].precision?1:null}example(e){const i=L.from(1,3),o=this.editValue[e].precision;return null!=o?i.toPrecision(o).toString():i.toFraction()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(oy),t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-columns"]],features:[t.qOj],ngContentSelectors:xk,decls:2,vars:3,consts:[[4,"ngIf"],["data-test","lab-columns-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[3,"click"],[1,"material-icons"],[1,"panel"],["rowspan","2",1,"header"],["colspan","3",1,"header"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dialog-buttons"],[1,"text"],["data-test","lab-columns-confirm",1,"green",3,"click"],[4,"ngIf","ngIfElse"],["colCheckbox",""],["noShow",""],["data-test","lab-columns-visibility",1,"flex","option",3,"click"],[1,"checkbox"],["noPrecision",""],["type","number","placeholder","Decimals","min","0","step","1","data-test","lab-columns-decimals",3,"value","input",4,"ngIf","ngIfElse"],["noInput",""],["data-test","lab-columns-fractions",1,"flex","option",3,"click"],["type","number","placeholder","Decimals","min","0","step","1","data-test","lab-columns-decimals",3,"value","input"],["colspan","3"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,Ik,4,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[Xn,cr,Dd,Qr,ki],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:1;display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}.option[_ngcontent-%COMP%]{cursor:pointer;padding:.375rem 0;-webkit-user-select:none;user-select:none}.option[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.375rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem;text-align:center}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:last-child), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid var(--color-back)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-left:1px solid var(--color-back)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid var(--color-back);height:45px}"],changeDetection:0}),n})();function Ek(n,r){if(1&n&&t._UZ(0,"img",6),2&n){const e=t.oxw(2);t.Udp("background-position",e.icon.position)("background-image",e.icon.file?"url("+e.icon.file+")":""),t.ekj("shadow",e.hover&&e.hoverIcon)("scale",e.scale),t.Q6J("ngClass",e.iconId)}}function Ck(n,r){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.text||(null==e.item?null:e.item.iconText)," ")}}function Tk(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"i",9),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.hoverIcon)}}function Dk(n,r){if(1&n&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.tooltip," ")}}function Sk(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"lab-icon",19),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("iconId",e.key)("text",e.value.toString())}}function Ak(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"lab-icon",19),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("iconId",e.key)("text",e.value.toString())}}function Mk(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ak,2,2,"ng-container",16),t.ALo(2,"keyvalue"),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,e.recipe.out))("ngForTrackBy",e.trackSvc.trackByKey)}}function Ok(n,r){if(1&n&&t._UZ(0,"lab-icon",20),2&n){const e=t.oxw(4);t.Q6J("iconId",e.iconId)}}function Pk(n,r){1&n&&t._UZ(0,"lab-icon",21),2&n&&t.Q6J("iconId",r.$implicit)}function Rk(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.AsE("",t.lcZ(3,2,"icon.cost"),": ",e.recipe.cost,"")}}function Nk(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.AsE("",t.lcZ(3,2,"icon.usage"),": ",e.power(e.recipe.usage),"")}}function Fk(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",14),t._UZ(2,"lab-icon",15),t.YNc(3,Sk,2,2,"ng-container",16),t.ALo(4,"keyvalue"),t.TgZ(5,"i",9),t._uU(6,"arrow_forward"),t.qZA(),t.YNc(7,Mk,3,4,"ng-container",0),t.YNc(8,Ok,1,1,"lab-icon",17),t.qZA(),t.TgZ(9,"div",14),t.YNc(10,Pk,1,1,"lab-icon",18),t.qZA(),t.YNc(11,Rk,4,4,"div",0),t.YNc(12,Nk,4,4,"div",0),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("text",e.recipe.time.toString()),t.xp6(1),t.Q6J("ngForOf",t.lcZ(4,8,e.recipe.in))("ngForTrackBy",e.trackSvc.trackByKey),t.xp6(4),t.Q6J("ngIf",e.recipe.out),t.xp6(1),t.Q6J("ngIf",!e.recipe.out),t.xp6(2),t.Q6J("ngForOf",e.recipe.producers),t.xp6(1),t.Q6J("ngIf",e.recipe.cost),t.xp6(1),t.Q6J("ngIf",e.recipe.usage)}}function kk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.energyType")),t.xp6(3),t.Oqu(e.type)}}function Lk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.fuelCategory")),t.xp6(3),t.Oqu(e.category)}}function Bk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.energyConsumption")),t.xp6(3),t.Oqu(i.power(e.usage))}}function Zk(n,r){if(1&n&&(t.TgZ(0,"div")(1,"table")(2,"tr")(3,"td"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()(),t.TgZ(8,"tr")(9,"td"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()(),t.TgZ(14,"tr")(15,"td"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA()(),t.YNc(20,kk,6,4,"tr",0),t.YNc(21,Lk,6,4,"tr",0),t.YNc(22,Bk,6,4,"tr",0),t.qZA()()),2&n){const e=r.ngIf,i=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,9,"icon.effectivity")),t.xp6(3),t.Oqu(i.round(e.effectivity)),t.xp6(3),t.Oqu(t.lcZ(11,11,"icon.modules")),t.xp6(3),t.Oqu(e.modules),t.xp6(3),t.Oqu(t.lcZ(17,13,"icon.range")),t.xp6(3),t.Oqu(e.range),t.xp6(1),t.Q6J("ngIf",e.type),t.xp6(1),t.Q6J("ngIf",e.category),t.xp6(1),t.Q6J("ngIf",e.usage)}}function Uk(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.AsE(" ",o.round(e.speed.mul(o.DisplayRateVal[i.displayRate]))," ",i.displayRate===o.DisplayRate.PerSecond?"Items/s":i.displayRate===o.DisplayRate.PerMinute?"Items/m":"Items/h"," ")}}function Vk(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.AsE(" ",o.round(e.speed.mul(o.DisplayRateVal[i.displayRate]))," ",i.displayRate===o.DisplayRate.PerSecond?"Items/s":i.displayRate===o.DisplayRate.PerMinute?"Items/m":"Items/h"," ")}}function jk(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(3);t.xp6(1),t.AsE(" ",i.round(e.size)," ",t.lcZ(2,2,"icon.inventoryStacks")," ")}}function $k(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(3);t.xp6(1),t.AsE(" ",i.round(e.capacity)," ",t.lcZ(2,2,"icon.fluidCapacity")," ")}}function Hk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.craftingSpeed")),t.xp6(3),t.Oqu(i.round(e.speed))}}function zk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.modules")),t.xp6(3),t.Oqu(e.modules)}}function qk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.energyType")),t.xp6(3),t.Oqu(e.type)}}function Gk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.fuelCategory")),t.xp6(3),t.Oqu(e.category)}}function Jk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.energyConsumption")),t.xp6(3),t.Oqu(i.power(e.usage))}}function Qk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.drain")),t.xp6(3),t.hij(" ",i.power(e.drain)," ")}}function Yk(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.drain")),t.xp6(3),t.hij("",i.round(e.pollution),"/m")}}function Wk(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()(),t.TgZ(7,"tr")(8,"td"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA()(),t.BQk()),2&n){const e=r.ngIf;t.xp6(3),t.Oqu(t.lcZ(4,4,"icon.rocketPartsRequired")),t.xp6(3),t.Oqu(e.parts),t.xp6(3),t.Oqu(t.lcZ(10,6,"icon.launchTime")),t.xp6(3),t.Oqu(e.launch)}}function Kk(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"lab-icon",19),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("iconId",e.key)("text",e.value.toString())}}function Xk(n,r){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,Kk,2,2,"ng-container",16),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,e.consumption))("ngForTrackBy",i.trackSvc.trackByKey)}}function e6(n,r){if(1&n&&(t.TgZ(0,"div")(1,"table"),t.YNc(2,Hk,6,4,"tr",0),t.YNc(3,zk,6,4,"tr",0),t.YNc(4,qk,6,4,"tr",0),t.YNc(5,Gk,6,4,"tr",0),t.YNc(6,Jk,6,4,"tr",0),t.YNc(7,Qk,6,4,"tr",0),t.YNc(8,Yk,6,4,"tr",0),t.YNc(9,Wk,13,8,"ng-container",0),t.qZA(),t.YNc(10,Xk,3,4,"div",23),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(2).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngIf",e.speed&&i.game!==o.Game.CaptainOfIndustry),t.xp6(1),t.Q6J("ngIf",e.modules&&i.game===o.Game.Factorio),t.xp6(1),t.Q6J("ngIf",e.type),t.xp6(1),t.Q6J("ngIf",e.category),t.xp6(1),t.Q6J("ngIf",e.usage),t.xp6(1),t.Q6J("ngIf",e.drain),t.xp6(1),t.Q6J("ngIf",e.pollution),t.xp6(1),t.Q6J("ngIf",e.silo),t.xp6(1),t.Q6J("ngIf",e.consumption)}}function t6(n,r){if(1&n&&(t.TgZ(0,"div")(1,"table")(2,"tr")(3,"td"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()(),t.TgZ(8,"tr")(9,"td"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()()()),2&n){const e=r.ngIf,i=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,4,"icon.category")),t.xp6(3),t.Oqu(e.category),t.xp6(3),t.Oqu(t.lcZ(11,6,"icon.value")),t.xp6(3),t.hij("",i.round(e.value)," MJ")}}function n6(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.consumption")),t.xp6(3),t.Oqu(i.toBonusPercent(e.consumption))}}function r6(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.speed")),t.xp6(3),t.Oqu(i.toBonusPercent(e.speed))}}function i6(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.productivity")),t.xp6(3),t.Oqu(i.toBonusPercent(e.productivity))}}function o6(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.pollution")),t.xp6(3),t.Oqu(i.toBonusPercent(e.pollution))}}function s6(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"icon.sprays")),t.xp6(3),t.Oqu(i.round(e.sprays))}}function a6(n,r){if(1&n&&(t.TgZ(0,"div")(1,"table"),t.YNc(2,n6,6,4,"tr",0),t.YNc(3,r6,6,4,"tr",0),t.YNc(4,i6,6,4,"tr",0),t.YNc(5,o6,6,4,"tr",0),t.YNc(6,s6,6,4,"tr",0),t.qZA()()),2&n){const e=r.ngIf;t.xp6(2),t.Q6J("ngIf",e.consumption),t.xp6(1),t.Q6J("ngIf",e.speed),t.xp6(1),t.Q6J("ngIf",e.productivity),t.xp6(1),t.Q6J("ngIf",e.pollution),t.xp6(1),t.Q6J("ngIf",e.sprays)}}function c6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hover=!1)}),t.YNc(1,Dk,2,1,"div",11),t.YNc(2,Fk,13,10,"ng-container",0),t.YNc(3,Zk,23,15,"div",0),t.YNc(4,Uk,2,2,"div",12),t.YNc(5,Vk,2,2,"div",12),t.YNc(6,jk,3,4,"div",12),t.YNc(7,$k,3,4,"div",12),t.YNc(8,e6,11,9,"div",0),t.YNc(9,t6,14,8,"div",0),t.YNc(10,a6,7,5,"div",0),t.qZA()}if(2&n){const e=t.oxw(2);t.Udp("margin-top",e.tooltipMarginTop,"px")("margin-left",-e.scrollLeft,"px"),t.xp6(1),t.Q6J("ngIf",e.tooltip),t.xp6(1),t.Q6J("ngIf",e.recipe),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.beacon),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.belt),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.pipe),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.cargoWagon),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.fluidWagon),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.factory),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.fuel),t.xp6(1),t.Q6J("ngIf",null==e.item?null:e.item.module)}}function l6(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.YNc(2,Ek,1,9,"img",2),t.YNc(3,Ck,2,1,"div",3),t.qZA(),t.YNc(4,Tk,3,1,"div",4),t.YNc(5,c6,11,14,"div",5),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.iconId&&e.icon),t.xp6(1),t.Q6J("ngIf",e.text||(null==e.item?null:e.item.iconText)),t.xp6(1),t.Q6J("ngIf",e.hover&&e.hoverIcon),t.xp6(1),t.Q6J("ngIf",e.hover&&(e.recipe||e.item||e.tooltip))}}let Za=(()=>{class n{constructor(e,i){this.trackSvc=e,this.store=i,this.scale=!0,this.scrollTop=0,this.scrollLeft=0,this.vm$=Ar([this.store.select(qs),this.store.select(G_)]).pipe((0,yt.U)(([o,l])=>({game:o,displayRate:l}))),this.hover=!1,this.tooltipMarginTop=40,this.DisplayRateVal=mo,this.DisplayRate=pn,this.EnergyType=qo,this.Game=ct}ngOnChanges(e){(e.scale||e.scrollTop)&&(this.tooltipMarginTop=(this.scale?40:72)-this.scrollTop),(e.recipe||e.iconId)&&this.store.select(mi).pipe(Mr(),(0,yt.U)(i=>i.iconEntities)).subscribe(i=>{if(this.recipe){const o=this.iconId+"|recipe";if(i[o])return void(this.icon=i[o])}this.icon=this.iconId?i[this.iconId]:null})}mouseenter(){this.hover=!0}mouseleave(){this.hover=!1}round(e){return Number(e.toNumber().toFixed(2))}power(e){return"string"==typeof e?e=L.fromString(e):"number"==typeof e&&(e=L.fromNumber(e)),e.abs().lt(L.thousand)?`${this.round(e)} kW`:`${this.round(e.div(L.thousand))} MW`}toBonusPercent(e){const i=this.round(e.mul(L.hundred));return e.gt(L.zero)?`+${i}%`:e.lt(L.zero)?`${i}%`:null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(oy),t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-icon"]],hostBindings:function(e,i){1&e&&t.NdJ("mouseenter",function(){return i.mouseenter()})("mouseleave",function(){return i.mouseleave()})},inputs:{iconId:"iconId",scale:"scale",text:"text",tooltip:"tooltip",hoverIcon:"hoverIcon",scrollTop:"scrollTop",scrollLeft:"scrollLeft",recipe:"recipe",item:"item"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[1,"image"],["src","assets/transparent.gif","class","icon",3,"shadow","background-position","background-image","ngClass","scale",4,"ngIf"],["class","icon-text",4,"ngIf"],["class","overlay",4,"ngIf"],["class","tooltip panel dark",3,"marginTop","marginLeft","mouseenter",4,"ngIf"],["src","assets/transparent.gif",1,"icon",3,"ngClass"],[1,"icon-text"],[1,"overlay"],[1,"material-icons"],[1,"tooltip","panel","dark",3,"mouseenter"],["class","header nowrap",4,"ngIf"],["class","nowrap",4,"ngIf"],[1,"header","nowrap"],[1,"flex","center"],["iconId","time",3,"text"],[4,"ngFor","ngForOf","ngForTrackBy"],["text","1",3,"iconId",4,"ngIf"],[3,"iconId",4,"ngFor","ngForOf"],[3,"iconId","text"],["text","1",3,"iconId"],[3,"iconId"],[1,"nowrap"],["class","flex center consumption",4,"ngIf"],[1,"flex","center","consumption"]],template:function(e,i){1&e&&(t.YNc(0,l6,6,4,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[za,Xn,cr,n,Qr,xi,ki],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;-webkit-user-select:none;user-select:none;font-weight:400;position:relative;color:var(--color-white)}[_nghost-%COMP%]:not(.module):not(.grid)   .module[_ngcontent-%COMP%]{filter:invert(100%)}.pad[_nghost-%COMP%]{padding:.125rem}.ignored[_nghost-%COMP%] > .image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{opacity:.25}.button[_nghost-%COMP%]:hover{padding:0;filter:none}.button[_nghost-%COMP%]:hover > .image[_ngcontent-%COMP%]{padding:.125rem;box-shadow:var(--shadow-hover);filter:drop-shadow(0 0 2px var(--color-brand-sha))}.button[_nghost-%COMP%]:hover > .image[_ngcontent-%COMP%] > .icon-text[_ngcontent-%COMP%]{bottom:.25rem;right:.25rem}.grid[_nghost-%COMP%]{padding:.125rem;border-radius:.25rem;background-color:var(--color-back);margin:1px;cursor:pointer;box-shadow:var(--shadow-item)}.grid.selected[_nghost-%COMP%]{background-color:var(--color-brand);box-shadow:var(--shadow-hover)}.grid[_nghost-%COMP%]:hover{background-color:var(--color-brand-drk);box-shadow:var(--shadow-hover)}img.shadow[_ngcontent-%COMP%]{opacity:.25}.image[_ngcontent-%COMP%]{display:flex;position:relative}.overlay[_ngcontent-%COMP%]{position:absolute;color:var(--color-black);top:.375rem;left:.375rem}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:var(--color-dark);opacity:.95;padding:.5rem;-webkit-user-select:none;user-select:none;cursor:default;box-shadow:var(--shadow-tip)}.tooltip[_ngcontent-%COMP%]   .nowrap[_ngcontent-%COMP%]{white-space:nowrap}.tooltip[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.tooltip[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.25rem}.icon-text[_ngcontent-%COMP%]{position:absolute;bottom:.125rem;right:.125rem;color:var(--color-white);font-weight:700;text-shadow:0px 1px 1px var(--color-black),0px -1px 1px var(--color-black),1px 0px 1px var(--color-black),-1px 0px 1px var(--color-black);pointer-events:none}td[_ngcontent-%COMP%]{white-space:nowrap}td[_ngcontent-%COMP%] + td[_ngcontent-%COMP%]{padding-left:.5rem;text-align:right}.consumption[_ngcontent-%COMP%]{margin-top:.5rem}"],changeDetection:0}),n})(),DM=(()=>{class n{constructor(){this.minimum=L.zero}set labValidateMinimum(e){this.minimum=L.fromString(e)}validate(e){if(null==e.value)return null;try{if(L.fromString(e.value).gte(this.minimum))return null}catch{}return{validateNumber:{valid:!1}}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","labValidateNumber","","ngModel",""]],inputs:{labValidateMinimum:"labValidateMinimum"},features:[t._Bn([{provide:yr,useExisting:n,multi:!0}])]}),n})(),sy=(()=>{class n{constructor(){this.title="",this.placeholder="",this.value="",this.minimum="0",this.digits=2,this.setValue=new t.vpe,this.isMinimum=!1,this.min=L.zero,this.width=5}ngOnChanges(e){if(e.minimum&&(this.min=L.fromString(this.minimum)),e.value||e.minimum)try{this.isMinimum=L.fromString(this.value).lte(this.min)}catch{this.isMinimum=!1}e.digits&&(this.width=.75+.625*this.digits)}changeValue(e){try{const o=e.target.value;L.fromString(o).gte(this.min)&&this.setValue.emit(o)}catch{}}increase(){try{const e=L.fromString(this.value),i=e.isInteger()?e.add(L.one):e.ceil();this.setValue.emit(i.toString())}catch{}}decrease(){try{const e=L.fromString(this.value),i=e.isInteger()?e.sub(L.one):e.floor();i.gte(this.min)&&this.setValue.emit(i.toString())}catch{}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-input"]],inputs:{title:"title",placeholder:"placeholder",value:"value",minimum:"minimum",digits:"digits"},outputs:{setValue:"setValue"},features:[t.TTD],decls:10,vars:13,consts:[["type","text","labValidateNumber","","data-test","lab-input-input",3,"title","placeholder","ngModel","labValidateMinimum","input"],["data-test","lab-input-increase",3,"title","click"],[1,"material-icons"],["data-test","lab-input-decrease",3,"title","disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"input",0),t.NdJ("input",function(l){return i.changeValue(l)}),t.qZA(),t.TgZ(1,"div")(2,"button",1),t.NdJ("click",function(){return i.increase()}),t.ALo(3,"translate"),t.TgZ(4,"i",2),t._uU(5,"arrow_drop_up"),t.qZA()(),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.decrease()}),t.ALo(7,"translate"),t.TgZ(8,"i",2),t._uU(9,"arrow_drop_down"),t.qZA()()()),2&e&&(t.Udp("width",i.width,"rem"),t.Q6J("title",i.title)("placeholder",i.placeholder)("ngModel",i.value)("labValidateMinimum",i.minimum),t.xp6(2),t.Q6J("title",t.lcZ(3,9,"input.increase1")),t.xp6(4),t.Q6J("title",t.lcZ(7,11,"input.decrease1"))("disabled",i.isMinimum))},dependencies:[_i,wn,Ls,DM,ki],styles:["[_nghost-%COMP%]{display:flex}button[_ngcontent-%COMP%]{height:1.125rem;width:1.75rem}button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),n})();function u6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"lab-icon",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickId(o.ItemId.Module))}),t.ALo(2,"translate"),t.qZA()()}if(2&n){const e=t.oxw().ngIf,i=t.MAs(1),o=t.oxw(2);t.xp6(1),t.ekj("selected",o.selected===o.ItemId.Module),t.Q6J("tooltip",e.data.game===o.Game.Factorio?"select.noModule":t.lcZ(2,5,"select.noProliferator"))("iconId",o.ItemId.Module)("scrollTop",i.scrollTop)}}function d6(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-icon",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.clickId(l))}),t.qZA(),t.BQk()}if(2&n){const e=r.$implicit,i=t.oxw(2).ngIf,o=t.MAs(1),l=t.oxw(2);let d;t.xp6(1),t.ekj("selected",e===l.selected),t.Q6J("iconId",e)("tooltip",null!==(d=null==i.data.itemEntities[e]?null:i.data.itemEntities[e].name)&&void 0!==d?d:null==i.data.recipeEntities[e]?null:i.data.recipeEntities[e].name)("item",l.selectType===l.IdType.Item?i.data.itemEntities[e]:null)("recipe",l.selectType===l.IdType.Recipe?i.data.recipeEntities[e]:null)("scrollTop",o.scrollTop)}}function f6(n,r){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,d6,2,7,"ng-container",14),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function _6(n,r){if(1&n&&(t.TgZ(0,"div",8,9),t.YNc(2,u6,3,7,"div",10),t.YNc(3,f6,2,1,"div",11),t.qZA()),2&n){const e=t.oxw(2);t.Udp("width",e.width,"rem"),t.xp6(2),t.Q6J("ngIf",e.includeEmptyModule),t.xp6(1),t.Q6J("ngForOf",e.rows)}}function p6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-dialog",2),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t.TgZ(1,"div",3)(2,"div",4),t._uU(3),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t.TgZ(5,"i",6),t._uU(6,"close"),t.qZA()()(),t.YNc(7,_6,4,4,"div",7),t.ALo(8,"async"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.header),t.xp6(4),t.Q6J("ngIf",t.lcZ(8,2,e.vm$))}}const g6=["*"];let zw=(()=>{class n extends W_{constructor(e){super(),this.store=e,this.options=[],this.selectType=Is.Item,this.includeEmptyModule=!1,this.selectId=new t.vpe,this.vm$=this.store.select(Rr).pipe((0,yt.U)(i=>({data:i}))),this.rows=[[]],this.width=0,this.IdType=Is,this.ItemId=st,this.Game=ct}ngOnChanges(e){if((e.options||e.includeEmptyModule)&&(this.rows=this.includeEmptyModule?this.moduleRows(this.options):[this.options]),null!=this.columns)this.width=2.375*this.columns;else if(this.rows.length>1)this.width=2.375*Math.max(...this.rows.map(i=>i.length));else{const i=this.rows[0].length,o=i<=4?i:Math.ceil(Math.sqrt(i));this.width=2.375*o}}clickId(e){this.selectId.emit(e),this.open=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-select"]],inputs:{selected:"selected",options:"options",selectType:"selectType",includeEmptyModule:"includeEmptyModule",columns:"columns"},outputs:{selectId:"selectId"},features:[t.qOj,t.TTD],ngContentSelectors:g6,decls:3,vars:1,consts:[["data-test","lab-select-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[3,"click"],[1,"material-icons"],["class","panel scroll",3,"width",4,"ngIf"],[1,"panel","scroll"],["scroll",""],["class","tile",4,"ngIf"],["class","tile",4,"ngFor","ngForOf"],[1,"tile"],["data-test","lab-select-none",1,"grid",3,"tooltip","iconId","scrollTop","click"],[4,"ngFor","ngForOf"],["data-test","lab-select-option",1,"grid",3,"iconId","tooltip","item","recipe","scrollTop","click"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return i.open=!0}),t.Hsn(1),t.qZA(),t.YNc(2,p6,9,4,"lab-dialog",1)),2&e&&(t.xp6(2),t.Q6J("ngIf",i.open))},dependencies:[Xn,cr,Dd,Za,Qr,ki],styles:["[_nghost-%COMP%]{display:flex}.scroll[_ngcontent-%COMP%]{overflow-y:auto;max-height:16rem;max-width:21.75rem;padding:0}.scroll[_ngcontent-%COMP%] > .tile[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),n})(),qw=(()=>{class n{validate(e){if(null==e.value)return null;try{const i=Number(e.value);if(i>=1&&i<=250)return null}catch{}return{validateOverclock:{valid:!1}}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","labValidateOverclock","","ngModel",""]],features:[t._Bn([{provide:yr,useExisting:n,multi:!0}])]}),n})(),SM=(()=>{class n{transform(e){return null!=e?ic[e]:""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"displayRateLabel",type:n,pure:!0}),n})(),ay=(()=>{class n{transform(e,i){if(null==i)return e.toFraction();{if(-2===i)return Math.round(e.mul(L.hundred).toNumber()).toString();const o=e.toPrecision(i);if(i>0){const d=o.toString().split(".");if(!(d.length>1))return e.isInteger()?o.toString()+" ".repeat(i+1):o.toString()+"."+"0".repeat(i);if(d[1].length<i){const _=i-d[1].length;return o.toString()+"0".repeat(_)}}return o.toString()}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"rate",type:n,pure:!0}),n})(),VT=(()=>{class n{constructor(e){this.rate=e}transform(e,i,o){return o===st.Pumpjack?`${this.rate.transform(e.mul(L.hundred),null!=i?Math.max(i-2,0):i)}%`:this.rate.transform(e,i)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ay,16))},n.\u0275pipe=t.Yjl({name:"factoryRate",type:n,pure:!0}),n})(),jT=(()=>{class n{transform(e,i){return i!==ct.DysonSphereProgram||e!==st.MiningDrill}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"factoryShow",type:n,pure:!0}),n})(),AM=(()=>{class n{transform(e,i){return i!==ct.CaptainOfIndustry||e!==st.MineControlTower}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"factoryShowRate",type:n,pure:!0}),n})(),Gw=(()=>{class n{transform(e){if(null!=e)try{return L.fromString(e).gt(L.zero)}catch{}return!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"gtZero",type:n,pure:!0}),n})(),MM=(()=>{class n{transform(e,i){if(null!=e){const o=rf[i.inserterTarget][i.inserterCapacity]?.find(l=>l.value.gt(e)||l.id===st.StackInserter);return null==o?null:{id:o.id,value:e.div(o.value)}}return null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"inserterSpeed",type:n,pure:!0}),n})(),OM=(()=>{class n{transform(e){return null!=e?" ".repeat(4-e.length)+e:""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"leftPad",type:n,pure:!0}),n})(),$T=(()=>{class n{constructor(e){this.rate=e}transform(e,i,o){switch(o){case ir.GW:return`${this.rate.transform(e.div(L.million),i)} GW`;case ir.MW:return`${this.rate.transform(e.div(L.thousand),i)} MW`;default:return`${this.rate.transform(e,i)} kW`}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ay,16))},n.\u0275pipe=t.Yjl({name:"power",type:n,pure:!0}),n})(),PM=(()=>{class n{constructor(e){this.routerSvc=e}transform(e,i){let o=e;if(o.recipeId){const l=i.recipeR[o.recipeId];l.adjustProd&&l.productivity&&e.items&&(o={...e,items:e.items.div(l.productivity)})}return this.routerSvc.stepHref(o,i.hash)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(BT,16))},n.\u0275pipe=t.Yjl({name:"stepHref",type:n,pure:!0}),n})();function h6(n,r){1&n&&(t.TgZ(0,"th")(1,"div",6),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"list.tree")))}function m6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.resetIgnore())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.itemsTitle"))}function y6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.resetBelt())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.beltsTitle"))}function v6(n,r){if(1&n&&(t.TgZ(0,"th",5)(1,"div",6),t._uU(2),t.ALo(3,"translate"),t.YNc(4,y6,4,3,"button",7),t.qZA()()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.hij(" ",t.lcZ(3,2,"list.belts")," "),t.xp6(2),t.Q6J("ngIf",e.itemsModified.belts)}}function b6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.resetWagon())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.wagonsTitle"))}function w6(n,r){if(1&n&&(t.TgZ(0,"th",5)(1,"div",6),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"displayRateLabel"),t.YNc(5,b6,4,3,"button",7),t.qZA()()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.AsE(" ",t.lcZ(3,3,"list.wagons"),"",t.lcZ(4,5,e.settings.displayRate)," "),t.xp6(3),t.Q6J("ngIf",e.itemsModified.wagons)}}function I6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.resetFactory())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.factoriesTitle"))}function x6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.resetOverclock())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.overclockTitle"))}function E6(n,r){if(1&n&&(t.TgZ(0,"th")(1,"div",6),t._uU(2),t.ALo(3,"translate"),t.YNc(4,x6,4,3,"button",7),t.qZA()()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.hij(" ",t.lcZ(3,2,"list.overclock")," "),t.xp6(2),t.Q6J("ngIf",e.recipesModified.overclock)}}function C6(n,r){1&n&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"list.each")))}function T6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.resetBeacons())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.beaconsTitle"))}function D6(n,r){1&n&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"list.total")))}function S6(n,r){if(1&n&&(t.TgZ(0,"th",9)(1,"div",6),t.YNc(2,C6,3,3,"span",13),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,T6,4,3,"button",7),t.YNc(7,D6,3,3,"span",14),t.qZA()()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",e.settings.beaconReceivers),t.xp6(2),t.Oqu(t.lcZ(5,4,"list.beacons")),t.xp6(2),t.Q6J("ngIf",e.recipesModified.beacons),t.xp6(1),t.Q6J("ngIf",e.settings.beaconReceivers)}}function A6(n,r){1&n&&(t.TgZ(0,"th",17)(1,"div",6),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"list.power")))}function M6(n,r){if(1&n&&(t.TgZ(0,"th")(1,"div",6),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"displayRateLabel"),t.qZA()()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.AsE(" ",t.lcZ(3,2,"list.pollution"),"",t.lcZ(4,4,e.settings.displayRate)," ")}}function O6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th")(1,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,l=t.oxw();return t.KtG(l.export(o.steps,o.itemSettings,o.recipeSettings,o.columns,o.data))}),t.ALo(2,"translate"),t.TgZ(3,"i",4),t._uU(4,"file_download"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("title",t.lcZ(2,1,"list.downloadTitle")))}function P6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,l=t.oxw(2).$implicit,d=t.oxw(4);return t.KtG(d.expanded[l.id]=o[0])}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"expand_more"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.clickToShowDetails"))}function R6(n,r){if(1&n&&(t.ynx(0),t.YNc(1,P6,4,3,"button",7),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(2).$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.length&&!o.expanded[i.id])}}function N6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,l=t.oxw(4);return t.KtG(l.expanded[o.id]=l.StepDetailTab.None)}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"expand_less"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.clickToHideDetails"))}function F6(n,r){if(1&n&&t._UZ(0,"div",34),2&n){const i=r.last;t.ekj("trail",r.$implicit)("last",i)}}function k6(n,r){if(1&n&&(t.ynx(0),t.YNc(1,F6,1,4,"div",32),t._UZ(2,"div",33),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngForOf",i.stepTree[e.id])}}function L6(n,r){if(1&n&&t._UZ(0,"lab-icon",35),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf;t.Q6J("iconId",e.itemId)("tooltip",i.data.itemEntities[e.itemId].name)("recipe",i.data.recipeEntities[i.data.itemRecipeId[e.itemId]])}}function B6(n,r){if(1&n&&t._UZ(0,"lab-icon",35),2&n){const e=t.oxw(4).$implicit,i=t.oxw(3).ngIf;t.Q6J("iconId",e.recipeId)("tooltip",i.data.recipeEntities[e.recipeId].name)("recipe",i.data.recipeEntities[e.recipeId])}}function Z6(n,r){if(1&n&&t.YNc(0,B6,1,3,"lab-icon",36),2&n){const e=t.oxw(3).$implicit;t.Q6J("ngIf",e.recipeId)}}function U6(n,r){if(1&n&&(t.TgZ(0,"td",28)(1,"div",29),t.YNc(2,k6,3,1,"ng-container",0),t.YNc(3,L6,1,3,"lab-icon",30),t.YNc(4,Z6,1,1,"ng-template",null,31,t.W1O),t.qZA()()),2&n){const e=t.MAs(5),i=t.oxw(2).$implicit,o=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngIf",null==o.stepTree[i.id]?null:o.stepTree[i.id].length),t.xp6(1),t.Q6J("ngIf",i.itemId)("ngIfElse",e)}}function V6(n,r){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf,o=t.oxw();t.xp6(1),t.hij("(+",t.xi3(2,1,e.surplus,i.effectivePrecision[o.Column.Surplus]),")")}}function j6(n,r){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf,o=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,e.items.sub(e.surplus||o.Rational.zero),i.effectivePrecision[o.Column.Items]))}}function $6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",37),t.YNc(1,V6,3,4,"span",38),t.YNc(2,j6,3,4,"span",38),t.TgZ(3,"lab-icon",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,l=t.oxw(4);return t.KtG(l.ignoreItem(o.itemId))}),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=t.oxw(2).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",e.surplus&&e.surplus.nonzero()),t.xp6(1),t.Q6J("ngIf",e.items),t.xp6(1),t.ekj("ignored",i.itemSettings[e.itemId].ignore),t.Q6J("title",t.lcZ(4,9,i.itemSettings[e.itemId].ignore?"list.clickToInclude":"list.clickToIgnore"))("iconId",e.itemId)("tooltip",i.data.itemEntities[e.itemId].name)("recipe",i.data.recipeEntities[i.data.itemRecipeId[e.itemId]])("hoverIcon",i.itemSettings[e.itemId].ignore?"visibility":"visibility_off")}}function H6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",44),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(6).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.setBelt(l.itemId,o,d.settings.beltId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",45),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(7).ngIf,o=t.oxw();t.Q6J("header",t.lcZ(1,8,"list.selectABelt"))("selected",e)("options",i.data.beltIds)("columns",i.data.game===o.Game.DysonSphereProgram?3:null),t.xp6(2),t.Q6J("title",t.lcZ(3,10,"list.clickToChangeBelt"))("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function z6(n,r){if(1&n&&(t.ynx(0),t.YNc(1,H6,4,12,"lab-select",43),t.BQk()),2&n){const e=t.oxw(8).ngIf;t.xp6(1),t.Q6J("ngIf",e.settings.beltId)}}function q6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",47),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(7).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.setBelt(l.itemId,o,d.settings.pipeId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",45),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(3).ngIf,i=t.oxw(7).ngIf;t.Q6J("header",t.lcZ(1,7,"list.selectAPipe"))("selected",e)("options",i.data.pipeIds),t.xp6(2),t.Q6J("title",t.lcZ(3,9,"list.clickToChangePipe"))("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function G6(n,r){if(1&n&&(t.ynx(0),t.YNc(1,q6,4,11,"lab-select",46),t.BQk()),2&n){const e=t.oxw(9).ngIf;t.xp6(1),t.Q6J("ngIf",e.settings.pipeId)}}function J6(n,r){if(1&n&&t.YNc(0,G6,2,1,"ng-container",25),2&n){const e=t.oxw().ngIf,i=t.MAs(8),o=t.oxw(7).ngIf;t.Q6J("ngIf",-1!==o.data.pipeIds.indexOf(e))("ngIfElse",i)}}function Q6(n,r){if(1&n&&t._UZ(0,"lab-icon",48),2&n){const e=t.oxw().ngIf,i=t.oxw(7).ngIf,o=t.oxw();t.Q6J("iconId",e)("tooltip",(null==i.data.itemEntities[e]?null:i.data.itemEntities[e].name)||o.PIPE)}}function Y6(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t.YNc(4,z6,2,1,"ng-container",25),t.YNc(5,J6,1,2,"ng-template",null,41,t.W1O),t.YNc(7,Q6,1,2,"ng-template",null,42,t.W1O),t.qZA()),2&n){const e=r.ngIf,i=t.MAs(6),o=t.oxw(4).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,3,o.belts,l.effectivePrecision[d.Column.Belts])),t.xp6(2),t.Q6J("ngIf",-1!==l.data.beltIds.indexOf(e))("ngIfElse",i)}}function W6(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Y6,9,6,"div",24),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].beltId)}}function K6(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,W6,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.itemId&&e.belts)}}function X6(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",47),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(7).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.setWagon(l.itemId,o,d.settings.cargoWagonId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",45),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(3).ngIf,i=t.oxw(7).ngIf;t.Q6J("header",t.lcZ(1,7,"list.selectACargoWagon"))("selected",e)("options",i.data.cargoWagonIds),t.xp6(2),t.Q6J("title",t.lcZ(3,9,"list.clickToChangeCargoWagon"))("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function eL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,X6,4,11,"lab-select",46),t.BQk()),2&n){const e=t.oxw(9).ngIf;t.xp6(1),t.Q6J("ngIf",e.settings.cargoWagonId)}}function tL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,eL,2,1,"ng-container",25),t.BQk()),2&n){t.oxw();const e=t.MAs(8),i=t.oxw(7).ngIf;t.xp6(1),t.Q6J("ngIf",i.data.cargoWagonIds.length>1)("ngIfElse",e)}}function nL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",47),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(7).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.setWagon(l.itemId,o,d.settings.fluidWagonId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",45),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(3).ngIf,i=t.oxw(7).ngIf;t.Q6J("header",t.lcZ(1,7,"list.selectAFluidWagon"))("selected",e)("options",i.data.fluidWagonIds),t.xp6(2),t.Q6J("title",t.lcZ(3,9,"list.clickToChangeFluidWagon"))("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function rL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,nL,4,11,"lab-select",46),t.BQk()),2&n){const e=t.oxw(9).ngIf;t.xp6(1),t.Q6J("ngIf",e.settings.fluidWagonId)}}function iL(n,r){if(1&n&&t.YNc(0,rL,2,1,"ng-container",25),2&n){t.oxw();const e=t.MAs(8),i=t.oxw(7).ngIf;t.Q6J("ngIf",i.data.fluidWagonIds.length>1)("ngIfElse",e)}}function oL(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=t.oxw().ngIf,i=t.oxw(7).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function sL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t.YNc(4,tL,2,2,"ng-container",25),t.YNc(5,iL,1,2,"ng-template",null,49,t.W1O),t.YNc(7,oL,1,3,"ng-template",null,50,t.W1O),t.qZA()),2&n){const e=r.ngIf,i=t.MAs(6),o=t.oxw(4).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,3,o.wagons,l.effectivePrecision[d.Column.Wagons])),t.xp6(2),t.Q6J("ngIf",-1===l.data.fluidWagonIds.indexOf(e))("ngIfElse",i)}}function aL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,sL,9,6,"div",24),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].wagonId)}}function cL(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,aL,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.itemId&&e.wagons)}}function lL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"factoryRate"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).$implicit,o=t.oxw(3).ngIf,l=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,i.factories,o.effectivePrecision[l.Column.Factories],e))}}function uL(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-select",47),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(6).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.changeFactory(l.recipeId,o,d.factories,d.data))}),t.ALo(2,"translate"),t._UZ(3,"lab-icon",45),t.ALo(4,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw().ngIf,o=t.oxw(6).ngIf;t.xp6(1),t.Q6J("header",t.lcZ(2,7,"list.selectAFactory"))("selected",i)("options",e.producers),t.xp6(2),t.Q6J("title",t.lcZ(4,9,"list.clickToChangeFactory"))("iconId",i)("tooltip",o.data.itemEntities[i].name)("item",o.data.itemEntities[i])}}function dL(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=t.oxw(3).ngIf,i=t.oxw(6).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function fL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,uL,5,11,"ng-container",25),t.YNc(2,dL,1,3,"ng-template",null,56,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",i.producers&&i.producers.length>1)("ngIfElse",e)}}function _L(n,r){if(1&n&&(t.ynx(0),t.YNc(1,fL,4,2,"ng-container",0),t.ALo(2,"factoryShow"),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,e,i.data.game))}}function pL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",59),t.NdJ("selectId",function(o){const d=t.CHM(e).index,_=t.oxw(5).$implicit,g=t.oxw(3).ngIf,h=t.oxw();return t.KtG(h.changeRecipeField(_.recipeId,o,g.recipeSettings,g.factories,h.RecipeField.FactoryModules,d,g.data))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",60),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(5).$implicit,o=t.oxw(3).ngIf,l=t.oxw();t.Q6J("header",t.lcZ(1,8,o.data.game===l.Game.Factorio?"list.selectAModule":o.data.game===l.Game.DysonSphereProgram?"list.selectAProliferator":"list.selectResourcePurity"))("selected",e)("options",o.data.recipeModuleIds[i.recipeId])("includeEmptyModule",o.data.game!==l.Game.Satisfactory),t.xp6(2),t.Q6J("title",t.lcZ(3,10,o.data.game===l.Game.Factorio?"list.clickToChangeFactoryModules":o.data.game===l.Game.DysonSphereProgram?"list.clickToChangeProliferator":"list.clickToChangeResourcePurity"))("iconId",e)("tooltip",null==o.data.itemEntities[e]?null:o.data.itemEntities[e].name)("item",o.data.itemEntities[e])}}function gL(n,r){if(1&n&&(t.TgZ(0,"div",57),t.YNc(1,pL,4,12,"lab-select",58),t.qZA()),2&n){const e=r.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function hL(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td",52),t.YNc(2,lL,4,5,"div",24),t.ALo(3,"factoryShowRate"),t.qZA(),t.TgZ(4,"td",53)(5,"div")(6,"div",37),t._UZ(7,"lab-icon",35),t.YNc(8,_L,3,4,"ng-container",0),t.qZA()()(),t.TgZ(9,"td",54)(10,"div",37),t.YNc(11,gL,2,1,"div",55),t.qZA()(),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(3).$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.Q6J("id",i.recipeId),t.xp6(1),t.Q6J("ngIf",i.factories&&i.factories.nonzero()&&t.xi3(3,7,e,o.data.game)),t.xp6(5),t.Q6J("iconId",i.recipeId)("tooltip",o.data.recipeEntities[i.recipeId].name)("recipe",o.data.recipeEntities[i.recipeId]),t.xp6(1),t.Q6J("ngIf",o.data.recipeEntities[i.recipeId]),t.xp6(3),t.Q6J("ngIf",o.recipeSettings[i.recipeId].factoryModuleIds)}}function mL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,hL,12,10,"ng-container",0),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId].factoryId)}}function yL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",62),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(4).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.changeRecipeField(l.recipeId,o,d.recipeSettings,d.factories,_.RecipeField.Overclock))}),t.ALo(1,"translate"),t.qZA()}if(2&n){const e=t.oxw(4).$implicit,i=t.oxw(3).ngIf;t.Q6J("title",t.lcZ(1,2,"list.setOverclock"))("ngModel",i.recipeSettings[e.recipeId].overclock)}}function vL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,yL,2,4,"input",61),t._uU(2," % "),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId])}}function bL(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,vL,3,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.recipeId)}}function wL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",37)(1,"lab-input",63),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(5).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.changeRecipeField(l.recipeId,o,d.recipeSettings,d.factories,_.RecipeField.BeaconCount))}),t.ALo(2,"translate"),t.qZA()()}if(2&n){const e=r.ngIf;t.xp6(1),t.Q6J("title",t.lcZ(2,3,"list.setNumberOfBeacons"))("digits",2)("value",e)}}function IL(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"lab-icon",51),t.BQk()),2&n){const e=t.oxw(2).ngIf,i=t.oxw(7).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function xL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",47),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(6).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.changeRecipeField(l.recipeId,o,d.recipeSettings,d.factories,_.RecipeField.Beacon))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",45),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(7).ngIf;t.Q6J("header",t.lcZ(1,7,"list.selectABeacon"))("selected",e)("options",i.data.beaconIds),t.xp6(2),t.Q6J("title",t.lcZ(3,9,"list.clickToChangeBeacon"))("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function EL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,IL,2,3,"ng-container",25),t.YNc(2,xL,4,11,"ng-template",null,64,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(8).ngIf;t.xp6(1),t.Q6J("ngIf",1===i.data.beaconIds.length)("ngIfElse",e)}}function CL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",59),t.NdJ("selectId",function(o){const d=t.CHM(e).index,_=t.oxw(7).$implicit,g=t.oxw(3).ngIf,h=t.oxw();return t.KtG(h.changeRecipeField(_.recipeId,o,g.recipeSettings,g.factories,h.RecipeField.BeaconModules,d,g.data))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",60),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(10).ngIf;t.Q6J("header",t.lcZ(1,8,"list.selectAModule"))("selected",e)("options",i.data.beaconModuleIds)("includeEmptyModule",!0),t.xp6(2),t.Q6J("title",t.lcZ(3,10,"list.clickToChangeBeaconModules"))("iconId",e)("tooltip",null==i.data.itemEntities[e]?null:i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function TL(n,r){if(1&n&&(t.TgZ(0,"div",57),t.YNc(1,CL,4,12,"lab-select",58),t.qZA()),2&n){const e=r.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function DL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"lab-input",63),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(6).$implicit,d=t.oxw(4);return t.KtG(d.setBeaconTotal(l.recipeId,o))}),t.ALo(2,"translate"),t.qZA()()}if(2&n){const e=t.oxw(6).$implicit;t.xp6(1),t.Q6J("title",t.lcZ(2,3,"list.setTotalBeacons"))("digits",4)("value",e.beacons.toString())}}function SL(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",37),t.YNc(2,TL,2,1,"div",55),t.YNc(3,DL,3,5,"div",0),t.qZA(),t.BQk()),2&n){const e=t.oxw(5).$implicit,i=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngIf",null==i.recipeSettings[e.recipeId]?null:i.recipeSettings[e.recipeId].beaconModuleIds),t.xp6(1),t.Q6J("ngIf",e.beacons)}}function AL(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,wL,3,5,"div",24),t.qZA(),t.TgZ(3,"td",54)(4,"div",37),t.YNc(5,EL,4,2,"ng-container",0),t.ALo(6,"gtZero"),t.qZA()(),t.TgZ(7,"td",54),t.YNc(8,SL,4,2,"ng-container",0),t.ALo(9,"gtZero"),t.qZA(),t.BQk()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngIf",i.recipeSettings[e.recipeId].beaconCount),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,3,i.recipeSettings[e.recipeId].beaconCount)),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,5,i.recipeSettings[e.recipeId].beaconCount))}}function ML(n,r){if(1&n&&(t.ynx(0),t.YNc(1,AL,10,7,"ng-container",25),t.BQk()),2&n){t.oxw(2);const e=t.MAs(15),i=t.oxw().$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",o.recipeSettings[i.recipeId].beaconId)("ngIfElse",e)}}function OL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ML,2,2,"ng-container",25),t.BQk()),2&n){t.oxw();const e=t.MAs(15),i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i.recipeId)("ngIfElse",e)}}function PL(n,r){1&n&&t._UZ(0,"td",9)}function RL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"power"),t.qZA()()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf,o=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,e.power,i.effectivePrecision[o.Column.Power],i.effectivePowerUnit))}}function NL(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,RL,4,5,"div",24),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.power&&e.power.nonzero())}}function FL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf,o=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,1,e.pollution,i.effectivePrecision[o.Column.Pollution]))}}function kL(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,FL,4,4,"div",24),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.pollution&&e.pollution.nonzero())}}function LL(n,r){if(1&n&&(t.TgZ(0,"a",68),t.ALo(1,"translate"),t.ALo(2,"stepHref"),t.TgZ(3,"i",69),t._uU(4,"open_in_new"),t.qZA()()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf;t.Q6J("title",t.lcZ(1,2,"list.clickToOpenThisStepInANewTab"))("href",t.xi3(2,4,e,i.data),t.LSH)}}function BL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).$implicit,l=t.oxw(4);return t.KtG(l.resetStep(o))}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"undo"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"list.undoModificationsToThisStep"))}function ZL(n,r){if(1&n&&(t.TgZ(0,"td",65)(1,"div",29),t.YNc(2,LL,5,7,"a",66),t.YNc(3,BL,4,3,"button",67),t.qZA()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngIf",e.items),t.xp6(1),t.Q6J("ngIf",e.recipeId&&i.stepsModified.recipes[e.recipeId]||e.itemId&&i.stepsModified.items[e.itemId])}}function UL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).$implicit,l=t.oxw(4);return t.KtG(l.expanded[o.id]=l.StepDetailTab.Item)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(4);t.ekj("active",i.expanded[e.id]===i.StepDetailTab.Item),t.xp6(2),t.Oqu(t.lcZ(3,3,"list.item"))}}function VL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).$implicit,l=t.oxw(4);return t.KtG(l.expanded[o.id]=l.StepDetailTab.Recipe)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(4);t.ekj("active",i.expanded[e.id]===i.StepDetailTab.Recipe),t.xp6(2),t.Oqu(t.lcZ(3,3,"list.recipe"))}}function jL(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).$implicit,l=t.oxw(4);return t.KtG(l.expanded[o.id]=l.StepDetailTab.Factory)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(4);t.ekj("active",i.expanded[e.id]===i.StepDetailTab.Factory),t.xp6(2),t.Oqu(t.lcZ(3,3,"list.factory"))}}function $L(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).$implicit,l=t.oxw(4);return t.KtG(l.expanded[o.id]=l.StepDetailTab.Recipes)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(4);t.ekj("active",i.expanded[e.id]===i.StepDetailTab.Recipes),t.xp6(2),t.Oqu(t.lcZ(3,3,"list.recipes"))}}function HL(n,r){if(1&n&&(t.TgZ(0,"tr",84),t._UZ(1,"td",72),t.TgZ(2,"td",85)(3,"span",6),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=t.oxw(5).ngIf;t.xp6(1),t.Q6J("colSpan",e),t.xp6(3),t.Oqu(t.lcZ(5,2,"list.sources"))}}function zL(n,r){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(6).$implicit,o=t.oxw(3).ngIf,l=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,i.items.mul(e),o.effectivePrecision[l.Column.Items]))}}function qL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(2).ngIf,o=t.oxw(6).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.belts.mul(i),l.effectivePrecision[d.Column.Belts])),t.xp6(2),t.Q6J("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||d.PIPE)("item",l.data.itemEntities[e])}}function GL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,qL,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(8).$implicit;t.xp6(1),t.Q6J("ngIf",e.belts)}}function JL(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,GL,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(7).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].beltId)}}function QL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(2).ngIf,o=t.oxw(6).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.wagons.mul(i),l.effectivePrecision[d.Column.Wagons])),t.xp6(2),t.Q6J("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function YL(n,r){if(1&n&&(t.ynx(0),t.YNc(1,QL,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(8).$implicit;t.xp6(1),t.Q6J("ngIf",e.wagons)}}function WL(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,YL,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(7).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].wagonId)}}function KL(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"factoryRate"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(4).$implicit,o=t.oxw(7).ngIf,l=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,i.factories,o.effectivePrecision[l.Column.Factories],e))}}function XL(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=t.oxw().ngIf,i=t.oxw(11).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function e3(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,KL,4,5,"div",24),t.ALo(3,"factoryShowRate"),t.qZA(),t.TgZ(4,"td",54)(5,"div")(6,"div",37),t._UZ(7,"lab-icon",35),t.YNc(8,XL,1,3,"lab-icon",89),t.ALo(9,"factoryShow"),t.qZA()()(),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(4).$implicit,o=t.oxw(7).ngIf;t.xp6(2),t.Q6J("ngIf",i.factories&&i.factories.nonzero()&&t.xi3(3,5,e,o.data.game)),t.xp6(5),t.Q6J("iconId",i.recipeId)("tooltip",o.data.recipeEntities[i.recipeId].name)("recipe",o.data.recipeEntities[i.recipeId]),t.xp6(1),t.Q6J("ngIf",t.xi3(9,8,e,o.data.game))}}function t3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,e3,10,11,"ng-container",0),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(7).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId].factoryId)}}function n3(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"td",72),t.TgZ(2,"td")(3,"div",37),t.YNc(4,zL,3,4,"span",38),t._UZ(5,"lab-icon",35),t.qZA()(),t.YNc(6,JL,2,1,"td",0),t.YNc(7,WL,2,1,"td",0),t.YNc(8,t3,2,1,"ng-container",25),t.TgZ(9,"td",87)(10,"div")(11,"div",88)(12,"i",4),t._uU(13,"arrow_forward"),t.qZA(),t.TgZ(14,"span",40),t._uU(15),t.ALo(16,"leftPad"),t.ALo(17,"rate"),t.qZA(),t._UZ(18,"lab-icon",51),t.qZA()()(),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(2).$implicit;t.oxw(2);const o=t.MAs(18),l=t.oxw(2).$implicit,d=t.oxw().ngIf,_=t.oxw(2).ngIf,g=t.oxw();t.xp6(1),t.Q6J("colSpan",d),t.xp6(3),t.Q6J("ngIf",l.items),t.xp6(1),t.Q6J("iconId",l.itemId)("tooltip",_.data.itemEntities[l.itemId].name)("recipe",_.data.recipeEntities[_.data.itemRecipeId[l.itemId]]),t.xp6(1),t.Q6J("ngIf",_.columns[g.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",_.columns[g.Column.Wagons].show),t.xp6(1),t.Q6J("ngIf",i.recipeId)("ngIfElse",o),t.xp6(7),t.hij("",t.lcZ(16,13,t.xi3(17,15,e,-2)),"%"),t.xp6(3),t.Q6J("iconId",l.itemId)("tooltip",_.data.itemEntities[l.itemId].name)("item",_.data.itemEntities[l.itemId])}}function r3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,n3,19,18,"ng-container",0),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngIf",e.outputs[i.itemId])}}function i3(n,r){if(1&n&&(t.TgZ(0,"tr",86),t.YNc(1,r3,2,1,"ng-container",0),t.qZA()),2&n){const e=r.$implicit,i=r.last,o=t.oxw(4).$implicit;t.ekj("last",i&&!o.parents),t.xp6(1),t.Q6J("ngIf",e.outputs&&o.itemId)}}function o3(n,r){if(1&n&&(t.TgZ(0,"tr",86),t._UZ(1,"td",72),t.TgZ(2,"td",85)(3,"span",6),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=t.oxw(5).ngIf;t.xp6(1),t.Q6J("colSpan",e),t.xp6(3),t.Oqu(t.lcZ(5,2,"list.destinations"))}}function s3(n,r){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(4).$implicit,o=t.oxw(3).ngIf,l=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,i.items.mul(e.value),o.effectivePrecision[l.Column.Items]))}}function a3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).$implicit,o=t.oxw(4).$implicit,l=t.oxw(3).ngIf,d=t.oxw();let _;t.xp6(2),t.Oqu(t.xi3(3,4,o.belts.mul(i.value),l.effectivePrecision[d.Column.Belts])),t.xp6(2),t.Q6J("iconId",e)("tooltip",null!==(_=null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)&&void 0!==_?_:d.PIPE)("item",l.data.itemEntities[e])}}function c3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,a3,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(7).$implicit;t.xp6(1),t.Q6J("ngIf",e.belts)}}function l3(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,c3,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(6).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].beltId)}}function u3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).$implicit,o=t.oxw(4).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.wagons.mul(i.value),l.effectivePrecision[d.Column.Wagons])),t.xp6(2),t.Q6J("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function d3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,u3,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(7).$implicit;t.xp6(1),t.Q6J("ngIf",e.wagons)}}function f3(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,d3,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(6).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].wagonId)}}function _3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"factoryRate"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).$implicit,o=t.oxw(4).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,o.factories.mul(i.value),l.effectivePrecision[d.Column.Factories],e))}}function p3(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=t.oxw().ngIf,i=t.oxw(10).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function g3(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,_3,4,5,"div",24),t.ALo(3,"factoryShowRate"),t.qZA(),t.TgZ(4,"td",54)(5,"div")(6,"div",37),t._UZ(7,"lab-icon",35),t.YNc(8,p3,1,3,"lab-icon",89),t.ALo(9,"factoryShow"),t.qZA()()(),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(7).$implicit,o=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngIf",i.factories&&i.factories.nonzero()&&t.xi3(3,5,e,o.data.game)),t.xp6(5),t.Q6J("iconId",i.recipeId)("tooltip",o.data.recipeEntities[i.recipeId].name)("recipe",o.data.recipeEntities[i.recipeId]),t.xp6(1),t.Q6J("ngIf",t.xi3(9,8,e,o.data.game))}}function h3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,g3,10,11,"ng-container",0),t.BQk()),2&n){const e=t.oxw(6).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId].factoryId)}}function m3(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"td",72),t.TgZ(2,"td")(3,"div",37),t.YNc(4,s3,3,4,"span",38),t._UZ(5,"lab-icon",35),t.qZA()(),t.YNc(6,l3,2,1,"td",0),t.YNc(7,f3,2,1,"td",0),t.YNc(8,h3,2,1,"ng-container",25),t.TgZ(9,"td",87)(10,"div")(11,"div",88)(12,"span",40),t._uU(13),t.ALo(14,"leftPad"),t.ALo(15,"rate"),t.qZA(),t.TgZ(16,"i",4),t._uU(17,"arrow_forward"),t.qZA(),t._UZ(18,"lab-icon",35),t.qZA()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.oxw(2);const i=t.MAs(18),o=t.oxw(2).$implicit,l=t.oxw().ngIf,d=t.oxw(2).ngIf,_=t.oxw();t.xp6(1),t.Q6J("colSpan",l),t.xp6(3),t.Q6J("ngIf",o.items),t.xp6(1),t.Q6J("iconId",o.itemId)("tooltip",d.data.itemEntities[o.itemId].name)("recipe",d.data.recipeEntities[d.data.itemRecipeId[o.itemId]]),t.xp6(1),t.Q6J("ngIf",d.columns[_.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",d.columns[_.Column.Wagons].show),t.xp6(1),t.Q6J("ngIf",o.recipeId&&1===d.stepDetails[o.id].outputs.length)("ngIfElse",i),t.xp6(5),t.hij("",t.lcZ(14,13,t.xi3(15,15,e.value,-2)),"%"),t.xp6(5),t.Q6J("iconId",e.key)("tooltip",d.data.recipeEntities[e.key].name)("recipe",d.data.recipeEntities[e.key])}}function y3(n,r){if(1&n&&(t.TgZ(0,"tr",86),t.YNc(1,m3,19,18,"ng-container",0),t.qZA()),2&n){const e=r.last,i=t.oxw(4).$implicit;t.ekj("last",e),t.xp6(1),t.Q6J("ngIf",i.itemId)}}function v3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,HL,6,4,"tr",81),t.YNc(2,i3,2,3,"tr",82),t.YNc(3,o3,6,4,"tr",83),t.YNc(4,y3,2,3,"tr",82),t.ALo(5,"keyvalue"),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(3).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",i.stepDetails[e.id].outputs.length),t.xp6(1),t.Q6J("ngForOf",i.stepDetails[e.id].outputs)("ngForTrackBy",o.trackSvc.trackById),t.xp6(1),t.Q6J("ngIf",e.parents),t.xp6(1),t.Q6J("ngForOf",t.xi3(5,6,e.parents,o.trackSvc.sortByValue))("ngForTrackBy",o.trackSvc.trackByKey)}}function b3(n,r){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(2).ngIf,o=t.oxw().ngIf,l=t.oxw(12).ngIf,d=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,o.items.mul(i).div(e),l.effectivePrecision[d.Column.Items]))}}function w3(n,r){if(1&n&&(t.TgZ(0,"div",37),t.YNc(1,b3,3,4,"span",38),t._UZ(2,"lab-icon",35),t.qZA()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(8).$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",o.data.recipeR[i.recipeId].productivity),t.xp6(1),t.Q6J("iconId",e.key)("tooltip",o.data.itemEntities[e.key].name)("recipe",o.data.recipeEntities[o.data.itemRecipeId[e.key]])}}function I3(n,r){if(1&n&&(t.TgZ(0,"tr",86),t._UZ(1,"td",72),t.TgZ(2,"td"),t.YNc(3,w3,3,4,"div",24),t.qZA(),t._UZ(4,"td",85),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("colSpan",i),t.xp6(2),t.Q6J("ngIf",e.items)}}function x3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,I3,5,2,"tr",83),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(8).$implicit;t.xp6(1),t.Q6J("ngIf",null==i.outputs?null:i.outputs[e.key])}}function E3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,x3,2,1,"ng-container",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(11).ngIf;t.xp6(1),t.Q6J("ngIf",i.stepByItemEntities[e.key])}}function C3(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",84),t._UZ(2,"td",72),t.TgZ(3,"td",85)(4,"span",6),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.YNc(7,E3,2,1,"ng-container",19),t.ALo(8,"keyvalue"),t.BQk()),2&n){const e=t.oxw(7).$implicit,i=t.oxw().ngIf,o=t.oxw(3);t.xp6(2),t.Q6J("colSpan",i),t.xp6(3),t.Oqu(t.lcZ(6,4,"list.depletion")),t.xp6(2),t.Q6J("ngForOf",t.xi3(8,6,e.outputs,o.trackSvc.sortByValue))("ngForTrackBy",o.trackSvc.trackByKey)}}function T3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,C3,9,9,"ng-container",0),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(8).ngIf;t.xp6(1),t.Q6J("ngIf",null==i.data.itemEntities[e].factory?null:i.data.itemEntities[e].factory.mining)}}function D3(n,r){if(1&n&&(t.TgZ(0,"tr",86),t._UZ(1,"td",72),t.TgZ(2,"td",85)(3,"span",6),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=t.oxw().ngIf,i=t.oxw(6).ngIf,o=t.oxw(2).ngIf,l=t.oxw();t.ekj("first",o.data.game!==l.Game.Factorio||!(null!=o.data.itemEntities[e].factory&&o.data.itemEntities[e].factory.mining)),t.xp6(1),t.Q6J("colSpan",i),t.xp6(3),t.Oqu(t.lcZ(5,4,"list.inputs"))}}function S3(n,r){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw().ngIf,o=t.oxw(10).ngIf,l=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,i.items.mul(e),o.effectivePrecision[l.Column.Items]))}}function A3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).ngIf,o=t.oxw().ngIf,l=t.oxw(10).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.belts.mul(i),l.effectivePrecision[d.Column.Belts])),t.xp6(2),t.Q6J("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||d.PIPE)("item",l.data.itemEntities[e])}}function M3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,A3,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",e.belts)}}function O3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,M3,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(3).ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].beltId)}}function P3(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,O3,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",e.itemId)}}function R3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).ngIf,o=t.oxw().ngIf,l=t.oxw(10).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.wagons.mul(i),l.effectivePrecision[d.Column.Wagons])),t.xp6(2),t.Q6J("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function N3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,R3,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",e.wagons)}}function F3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,N3,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(3).ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].wagonId)}}function k3(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,F3,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",e.itemId)}}function L3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"factoryRate"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(2).ngIf,o=t.oxw().ngIf,l=t.oxw(10).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,o.factories.mul(i),l.effectivePrecision[d.Column.Factories],e))}}function B3(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=t.oxw().ngIf,i=t.oxw(13).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function Z3(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,L3,4,5,"div",24),t.ALo(3,"factoryShowRate"),t.qZA(),t.TgZ(4,"td",54)(5,"div")(6,"div",37),t._UZ(7,"lab-icon",35),t.YNc(8,B3,1,3,"lab-icon",89),t.ALo(9,"factoryShow"),t.qZA()()(),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(3).ngIf,o=t.oxw(10).ngIf;t.xp6(2),t.Q6J("ngIf",i.factories&&i.factories.nonzero()&&t.xi3(3,5,e,o.data.game)),t.xp6(5),t.Q6J("iconId",i.recipeId)("tooltip",o.data.recipeEntities[i.recipeId].name)("recipe",o.data.recipeEntities[i.recipeId]),t.xp6(1),t.Q6J("ngIf",t.xi3(9,8,e,o.data.game))}}function U3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Z3,10,11,"ng-container",0),t.BQk()),2&n){const e=t.oxw(2).ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId].factoryId)}}function V3(n,r){if(1&n&&(t.TgZ(0,"tr",86),t._UZ(1,"td",72),t.TgZ(2,"td")(3,"div",37),t.YNc(4,S3,3,4,"span",38),t._UZ(5,"lab-icon",35),t.qZA()(),t.YNc(6,P3,2,1,"td",0),t.YNc(7,k3,2,1,"td",0),t.YNc(8,U3,2,1,"ng-container",25),t.TgZ(9,"td",87)(10,"div")(11,"div",88)(12,"span",40),t._uU(13),t.ALo(14,"leftPad"),t.ALo(15,"rate"),t.qZA(),t.TgZ(16,"i",4),t._uU(17,"arrow_forward"),t.qZA(),t._UZ(18,"lab-icon",35),t.qZA()()()()),2&n){const e=r.ngIf,i=t.oxw().ngIf,o=t.oxw().$implicit;t.oxw(4);const l=t.MAs(18),d=t.oxw(2).$implicit,_=t.oxw().ngIf,g=t.oxw(2).ngIf,h=t.oxw();t.xp6(1),t.Q6J("colSpan",_),t.xp6(3),t.Q6J("ngIf",i.items),t.xp6(1),t.Q6J("iconId",o.key)("tooltip",g.data.itemEntities[o.key].name)("recipe",g.data.recipeEntities[g.data.itemRecipeId[o.key]]),t.xp6(1),t.Q6J("ngIf",g.columns[h.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",g.columns[h.Column.Wagons].show),t.xp6(1),t.Q6J("ngIf",i.recipeId)("ngIfElse",l),t.xp6(5),t.hij("",t.lcZ(14,13,t.xi3(15,15,e,-2)),"%"),t.xp6(5),t.Q6J("iconId",d.recipeId)("tooltip",g.data.recipeEntities[d.recipeId].name)("recipe",g.data.recipeEntities[d.recipeId])}}function j3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,V3,19,18,"tr",83),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(7).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.parents?null:e.parents[i.recipeId])}}function $3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,j3,2,1,"ng-container",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(9).ngIf;t.xp6(1),t.Q6J("ngIf",i.stepByItemEntities[e.key])}}function H3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",35),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw().ngIf,o=t.oxw().$implicit,l=t.oxw(9).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,i.items.mul(e),l.effectivePrecision[d.Column.Items])),t.xp6(2),t.Q6J("iconId",o.key)("tooltip",l.data.itemEntities[o.key].name)("recipe",l.data.recipeEntities[l.data.itemRecipeId[o.key]])}}function z3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).ngIf,o=t.oxw().ngIf,l=t.oxw(10).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.belts.mul(i),l.effectivePrecision[d.Column.Belts])),t.xp6(2),t.Q6J("iconId",e)("tooltip",(null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)||d.PIPE)("item",l.data.itemEntities[e])}}function q3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,z3,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",e.belts)}}function G3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,q3,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(3).ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemSettings[e.itemId].beltId)}}function J3(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,G3,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",e.itemId)}}function Q3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).ngIf,o=t.oxw().ngIf,l=t.oxw(10).ngIf,d=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.wagons.mul(i),l.effectivePrecision[d.Column.Wagons])),t.xp6(2),t.Q6J("iconId",e)("tooltip",l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function Y3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Q3,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",e.wagons)}}function W3(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Y3,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(3).ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("ngIf",null==i.itemSettings[e.itemId]?null:i.itemSettings[e.itemId].wagonId)}}function K3(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,W3,2,1,"ng-container",0),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",e.itemId)}}function X3(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"factoryRate"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).ngIf,o=t.oxw(10).ngIf,l=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,i.factories,o.effectivePrecision[l.Column.Factories],e))}}function e4(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=t.oxw().ngIf,i=t.oxw(13).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function t4(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,X3,4,5,"div",24),t.ALo(3,"factoryShowRate"),t.qZA(),t.TgZ(4,"td",54)(5,"div")(6,"div",37),t._UZ(7,"lab-icon",35),t.YNc(8,e4,1,3,"lab-icon",89),t.ALo(9,"factoryShow"),t.qZA()()(),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(3).ngIf,o=t.oxw(10).ngIf;t.xp6(2),t.Q6J("ngIf",i.factories&&i.factories.nonzero()&&t.xi3(3,5,e,o.data.game)),t.xp6(5),t.Q6J("iconId",i.recipeId)("tooltip",o.data.recipeEntities[i.recipeId].name)("recipe",o.data.recipeEntities[i.recipeId]),t.xp6(1),t.Q6J("ngIf",t.xi3(9,8,e,o.data.game))}}function n4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,t4,10,11,"ng-container",0),t.BQk()),2&n){const e=t.oxw(2).ngIf,i=t.oxw(10).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId].factoryId)}}function r4(n,r){if(1&n&&(t.TgZ(0,"tr",86),t._UZ(1,"td",72),t.TgZ(2,"td"),t.YNc(3,H3,5,7,"div",24),t.qZA(),t.YNc(4,J3,2,1,"td",0),t.YNc(5,K3,2,1,"td",0),t.YNc(6,n4,2,1,"ng-container",25),t.TgZ(7,"td",87)(8,"div")(9,"div",88)(10,"i",4),t._uU(11,"arrow_forward"),t.qZA(),t.TgZ(12,"span",40),t._uU(13),t.ALo(14,"leftPad"),t.ALo(15,"rate"),t.qZA(),t._UZ(16,"lab-icon",51),t.qZA()()()()),2&n){const e=r.ngIf,i=t.oxw().ngIf,o=t.oxw(),l=o.last,d=o.$implicit;t.oxw(4);const _=t.MAs(18),g=t.oxw(3).ngIf,h=t.oxw(2).ngIf,b=t.oxw();t.ekj("last",l),t.xp6(1),t.Q6J("colSpan",g),t.xp6(2),t.Q6J("ngIf",i.items),t.xp6(1),t.Q6J("ngIf",h.columns[b.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",h.columns[b.Column.Wagons].show),t.xp6(1),t.Q6J("ngIf",i.recipeId)("ngIfElse",_),t.xp6(7),t.hij("",t.lcZ(14,12,t.xi3(15,14,e,-2)),"%"),t.xp6(3),t.Q6J("iconId",d.key)("tooltip",h.data.itemEntities[d.key].name)("item",h.data.itemEntities[d.key])}}function i4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,r4,17,17,"tr",91),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(6).$implicit;t.xp6(1),t.Q6J("ngIf",null==i.outputs?null:i.outputs[e.key])}}function o4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,i4,2,1,"ng-container",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(9).ngIf;t.xp6(1),t.Q6J("ngIf",i.stepByItemEntities[e.key])}}function s4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,T3,2,1,"ng-container",0),t.YNc(2,D3,6,6,"tr",90),t.YNc(3,$3,2,1,"ng-container",19),t.ALo(4,"keyvalue"),t.TgZ(5,"tr",86),t._UZ(6,"td",72),t.TgZ(7,"td",85)(8,"span",6),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.YNc(11,o4,2,1,"ng-container",19),t.ALo(12,"keyvalue"),t.BQk()),2&n){const e=t.oxw(5).$implicit,i=t.oxw().ngIf,o=t.oxw(2).ngIf,l=t.oxw();t.xp6(1),t.Q6J("ngIf",o.data.game===l.Game.Factorio),t.xp6(1),t.Q6J("ngIf",o.data.recipeR[e.recipeId].in),t.xp6(1),t.Q6J("ngForOf",t.xi3(4,8,o.data.recipeR[e.recipeId].in,l.trackSvc.sortByValue))("ngForTrackBy",l.trackSvc.trackByKey),t.xp6(3),t.Q6J("colSpan",i),t.xp6(3),t.Oqu(t.lcZ(10,11,"list.outputs")),t.xp6(2),t.Q6J("ngForOf",t.xi3(12,13,e.outputs,l.trackSvc.sortByValue))("ngForTrackBy",l.trackSvc.trackByKey)}}function a4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,s4,13,16,"ng-container",0),t.BQk()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipeSettings[e.recipeId].factoryId)}}function c4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,a4,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",e.recipeId)}}function l4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",35),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw().ngIf,o=t.oxw().$implicit,l=t.oxw(5).$implicit,d=t.oxw(3).ngIf,_=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,i.items.mul(e).div(l.factories),d.effectivePrecision[_.Column.Items])),t.xp6(2),t.Q6J("iconId",o.key)("tooltip",d.data.itemEntities[o.key].name)("recipe",d.data.recipeEntities[d.data.itemRecipeId[o.key]])}}function u4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw().ngIf,o=t.oxw().ngIf,l=t.oxw(6).$implicit,d=t.oxw(3).ngIf,_=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,o.belts.mul(i).div(l.factories),d.effectivePrecision[_.Column.Belts])),t.xp6(2),t.Q6J("iconId",e)("tooltip",(null==d.data.itemEntities[e]?null:d.data.itemEntities[e].name)||_.PIPE)("item",d.data.itemEntities[e])}}function d4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,u4,5,7,"div",24),t.BQk()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",e.belts)}}function f4(n,r){if(1&n&&(t.TgZ(0,"td")(1,"div",37)(2,"span",40),t._uU(3),t.ALo(4,"rate"),t.qZA(),t._UZ(5,"lab-icon",51),t.qZA()()),2&n){const e=r.ngIf,i=t.oxw(12).ngIf;t.xp6(3),t.Oqu(t.xi3(4,4,e.value,1)),t.xp6(2),t.Q6J("iconId",e.id)("tooltip",i.data.itemEntities[e.id].name)("item",i.data.itemEntities[e.id])}}function _4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,f4,6,7,"td",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw().ngIf,o=t.oxw(6).$implicit,l=t.oxw(3).ngIf,d=t.oxw();t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,i.items.mul(e).div(o.factories).div(d.DisplayRateVal[l.settings.displayRate]),l.settings))}}function p4(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,l4,5,7,"div",24),t.qZA(),t.TgZ(3,"td",72),t.YNc(4,d4,2,1,"ng-container",0),t.qZA(),t.YNc(5,_4,3,4,"ng-container",0),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw().$implicit,o=t.oxw(8).ngIf,l=t.oxw();t.xp6(2),t.Q6J("ngIf",e.items),t.xp6(1),t.Q6J("colSpan",o.itemSettings[i.key].beltId===l.ItemId.Pipe?2:0),t.xp6(1),t.Q6J("ngIf",o.itemSettings[i.key].beltId),t.xp6(1),t.Q6J("ngIf",o.data.game===l.Game.Factorio&&o.itemSettings[i.key].beltId!==l.ItemId.Pipe&&e.items)}}function g4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,p4,6,4,"tr",0),t.BQk()),2&n){const e=r.ngIf,i=t.oxw(6).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.parents?null:e.parents[i.recipeId])}}function h4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,g4,2,1,"ng-container",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(8).ngIf;t.xp6(1),t.Q6J("ngIf",i.stepByItemEntities[e.key])}}function m4(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div",37),t._UZ(2,"lab-icon",35)(3,"lab-icon",51),t.qZA()()),2&n){const e=r.ngIf,i=t.oxw(5).$implicit,o=t.oxw(3).ngIf;t.xp6(2),t.Q6J("iconId",i.recipeId)("tooltip",o.data.recipeEntities[i.recipeId].name)("recipe",o.data.recipeEntities[i.recipeId]),t.xp6(1),t.Q6J("iconId",e)("tooltip",o.data.itemEntities[e].name)("item",o.data.itemEntities[e])}}function y4(n,r){if(1&n&&(t.TgZ(0,"td")(1,"div",37)(2,"span",40),t._uU(3),t.ALo(4,"rate"),t.qZA(),t._UZ(5,"lab-icon",51),t.qZA()()),2&n){const e=r.ngIf,i=t.oxw(11).ngIf;t.xp6(3),t.Oqu(t.xi3(4,4,e.value,1)),t.xp6(2),t.Q6J("iconId",e.id)("tooltip",i.data.itemEntities[e.id].name)("item",i.data.itemEntities[e.id])}}function v4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,y4,6,7,"td",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(9).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,e,i.settings))}}function b4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t._UZ(4,"lab-icon",51),t.qZA()),2&n){const e=r.ngIf,i=t.oxw().ngIf,o=t.oxw(9).ngIf,l=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,4,i.div(o.beltSpeed[e]),o.effectivePrecision[l.Column.Belts])),t.xp6(2),t.Q6J("iconId",e)("tooltip",(null==o.data.itemEntities[e]?null:o.data.itemEntities[e].name)||l.PIPE)("item",o.data.itemEntities[e])}}function w4(n,r){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,v4,3,4,"ng-container",0),t.TgZ(2,"td",72),t.YNc(3,b4,5,7,"div",24),t.qZA(),t.TgZ(4,"td")(5,"div",37)(6,"span",40),t._uU(7),t.ALo(8,"rate"),t.qZA(),t._UZ(9,"lab-icon",35),t.qZA()()()),2&n){const e=r.ngIf,i=t.oxw().$implicit,o=t.oxw(8).ngIf,l=t.oxw();t.xp6(1),t.Q6J("ngIf",o.data.game===l.Game.Factorio&&o.itemSettings[i.key].beltId!==l.ItemId.Pipe),t.xp6(1),t.Q6J("colSpan",o.itemSettings[i.key].beltId===l.ItemId.Pipe?2:0),t.xp6(1),t.Q6J("ngIf",o.itemSettings[i.key].beltId),t.xp6(4),t.Oqu(t.xi3(8,7,e.mul(l.DisplayRateVal[o.settings.displayRate]),o.effectivePrecision[l.Column.Items])),t.xp6(2),t.Q6J("iconId",i.key)("tooltip",o.data.itemEntities[i.key].name)("recipe",o.data.recipeEntities[o.data.itemRecipeId[i.key]])}}function I4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,w4,10,10,"tr",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(5).$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",e.value.div(o.data.recipeR[i.recipeId].time))}}function x4(n,r){if(1&n&&(t.TgZ(0,"div")(1,"table"),t.YNc(2,h4,2,1,"ng-container",19),t.ALo(3,"keyvalue"),t.qZA(),t.TgZ(4,"i",4),t._uU(5,"arrow_forward"),t.qZA(),t.TgZ(6,"table")(7,"tr")(8,"td")(9,"div",37)(10,"span",40),t._uU(11,"1"),t.qZA()()(),t.TgZ(12,"td",54),t.YNc(13,m4,4,6,"div",0),t.qZA()()(),t.TgZ(14,"i",4),t._uU(15,"arrow_forward"),t.qZA(),t.TgZ(16,"table"),t.YNc(17,I4,2,1,"ng-container",19),t.ALo(18,"keyvalue"),t.qZA()()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(3).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,5,i.data.recipeR[e.recipeId].in,o.trackSvc.sortByValue))("ngForTrackBy",o.trackSvc.trackByKey),t.xp6(11),t.Q6J("ngIf",null==i.recipeSettings[e.recipeId]?null:i.recipeSettings[e.recipeId].factoryId),t.xp6(4),t.Q6J("ngForOf",t.xi3(18,8,i.data.recipeR[e.recipeId].out,o.trackSvc.sortByValue))("ngForTrackBy",o.trackSvc.trackByKey)}}function E4(n,r){1&n&&(t.TgZ(0,"div",95)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"a",96),t._uU(5,"wiki."),t.qZA()()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"list.insertCalculateRemark")," "))}function C4(n,r){if(1&n&&(t.TgZ(0,"tr",92),t._UZ(1,"td",72),t.TgZ(2,"td",93),t.YNc(3,x4,19,11,"div",0),t.YNc(4,E4,6,3,"div",94),t.qZA()()),2&n){const e=t.oxw(3).$implicit,i=t.oxw().ngIf,o=t.oxw(2).ngIf,l=t.oxw();t.xp6(1),t.Q6J("colSpan",i),t.xp6(2),t.Q6J("ngIf",e.recipeId&&e.factories),t.xp6(1),t.Q6J("ngIf",o.data.game===l.Game.Factorio)}}function T4(n,r){1&n&&(t.TgZ(0,"div",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"list.defaultRecipeInfo3")," "))}function D4(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-icon",104),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(6).$implicit,_=t.oxw(3).ngIf,g=t.oxw();return t.KtG(g.toggleDefaultRecipe(d.itemId,l,_.itemSettings,_.settings,_.data))}),t.qZA(),t.BQk()}if(2&n){const e=r.$implicit,i=t.oxw(6).$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.ekj("selected",o.data.itemRecipeId[i.itemId]===e),t.Q6J("iconId",e)("tooltip",o.data.recipeEntities[e].name)("recipe",o.data.recipeEntities[e])}}function S4(n,r){if(1&n&&(t.TgZ(0,"tr",86),t._UZ(1,"td",72),t.TgZ(2,"td",98)(3,"div",99),t.YNc(4,D4,2,5,"ng-container",103),t.qZA()()()),2&n){const e=t.oxw(5).$implicit,i=t.oxw().ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("colSpan",i),t.xp6(3),t.Q6J("ngForOf",o.stepDetails[e.id].defaultableRecipeIds)}}function A4(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",84),t._UZ(2,"td",72),t.TgZ(3,"td",85)(4,"div")(5,"div",6),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",95),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",95),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,T4,3,3,"div",101),t.qZA()()(),t.YNc(15,S4,5,2,"tr",83),t.BQk()),2&n){const e=t.oxw(4).$implicit,i=t.oxw().ngIf,o=t.oxw(2).ngIf;t.xp6(2),t.Q6J("colSpan",i),t.xp6(4),t.hij(" ",t.lcZ(7,6,"list.defaultRecipe")," "),t.xp6(3),t.hij(" ",t.lcZ(10,8,"list.defaultRecipeInfo1")," "),t.xp6(3),t.hij(" ",t.lcZ(13,10,"list.defaultRecipeInfo2")," "),t.xp6(2),t.Q6J("ngIf",e.itemId&&null===o.data.itemRecipeId[e.itemId]),t.xp6(1),t.Q6J("ngIf",e.itemId)}}function M4(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-icon",104),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(7).ngIf,_=t.oxw();return t.KtG(_.toggleRecipe(l,d.settings,d.data))}),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(7).ngIf;t.ekj("ignored",-1!==i.settings.disabledRecipeIds.indexOf(e)),t.Q6J("iconId",e)("tooltip",i.data.recipeEntities[e].name)("recipe",i.data.recipeEntities[e])}}function O4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,A4,16,12,"ng-container",0),t.TgZ(2,"tr",86),t._UZ(3,"td",72),t.TgZ(4,"td",85)(5,"div")(6,"div",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",95),t._uU(10),t.ALo(11,"translate"),t.qZA()()()(),t.TgZ(12,"tr",97),t._UZ(13,"td",72),t.TgZ(14,"td",98)(15,"div",99),t.YNc(16,M4,1,5,"lab-icon",100),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw().ngIf,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.stepDetails[e.id].defaultableRecipeIds.length),t.xp6(2),t.Q6J("colSpan",i),t.xp6(4),t.hij(" ",t.lcZ(8,6,"list.enabledRecipes")," "),t.xp6(3),t.hij(" ",t.lcZ(11,8,"list.enabledRecipesInfo")," "),t.xp6(3),t.Q6J("colSpan",i),t.xp6(3),t.Q6J("ngForOf",o.stepDetails[e.id].recipeIds)}}function P4(n,r){1&n&&t._UZ(0,"td",105)}function R4(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",71)(2,"td",72)(3,"div",37)(4,"a",73)(5,"i",4),t._uU(6,"link"),t.qZA()()()(),t.TgZ(7,"td",74)(8,"ul",75),t.YNc(9,UL,4,5,"li",76),t.YNc(10,VL,4,5,"li",76),t.YNc(11,jL,4,5,"li",76),t.YNc(12,$L,4,5,"li",76),t.qZA()()(),t.YNc(13,v3,6,9,"ng-container",0),t.YNc(14,c4,2,1,"ng-container",0),t.YNc(15,C4,5,3,"tr",77),t.YNc(16,O4,17,10,"ng-container",0),t.YNc(17,P4,1,0,"ng-template",null,78,t.W1O),t.TgZ(19,"tr",79),t._UZ(20,"td"),t.qZA(),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw().ngIf,o=t.oxw(2).ngIf,l=t.oxw();t.xp6(2),t.Q6J("colSpan",i),t.xp6(2),t.Q6J("href","#"+e.id,t.LSH),t.xp6(5),t.Q6J("ngIf",-1!==o.stepDetails[e.id].tabs.indexOf(l.StepDetailTab.Item)),t.xp6(1),t.Q6J("ngIf",-1!==o.stepDetails[e.id].tabs.indexOf(l.StepDetailTab.Recipe)),t.xp6(1),t.Q6J("ngIf",-1!==o.stepDetails[e.id].tabs.indexOf(l.StepDetailTab.Factory)),t.xp6(1),t.Q6J("ngIf",-1!==o.stepDetails[e.id].tabs.indexOf(l.StepDetailTab.Recipes)),t.xp6(1),t.Q6J("ngIf",l.expanded[e.id]===l.StepDetailTab.Item),t.xp6(1),t.Q6J("ngIf",l.expanded[e.id]===l.StepDetailTab.Recipe),t.xp6(1),t.Q6J("ngIf",l.expanded[e.id]===l.StepDetailTab.Factory),t.xp6(1),t.Q6J("ngIf",l.expanded[e.id]===l.StepDetailTab.Recipes)}}function N4(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",21)(2,"td",22)(3,"div"),t.YNc(4,R6,2,1,"ng-container",0),t.YNc(5,N6,4,3,"button",7),t.qZA()(),t.YNc(6,U6,6,3,"td",23),t.TgZ(7,"td"),t.YNc(8,$6,5,11,"div",24),t.qZA(),t.YNc(9,K6,2,1,"td",0),t.YNc(10,cL,2,1,"td",0),t.YNc(11,mL,2,1,"ng-container",25),t.YNc(12,bL,2,1,"td",0),t.YNc(13,OL,2,2,"ng-container",0),t.YNc(14,PL,1,0,"ng-template",null,26,t.W1O),t.YNc(16,NL,2,1,"td",0),t.YNc(17,kL,2,1,"td",0),t.YNc(18,ZL,4,2,"td",27),t.qZA(),t.YNc(19,R4,21,10,"ng-container",0),t.BQk()),2&n){const e=t.MAs(15),i=t.oxw().$implicit,o=t.oxw(3).ngIf,l=t.oxw();t.xp6(2),t.Q6J("id",i.itemId),t.xp6(2),t.Q6J("ngIf",o.stepDetails[i.id].tabs),t.xp6(1),t.Q6J("ngIf",l.mode===l.ListMode.All&&l.expanded[i.id]),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Tree].show),t.xp6(2),t.Q6J("ngIf",i.itemId&&i.items),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Wagons].show),t.xp6(1),t.Q6J("ngIf",i.recipeId)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Overclock].show),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Beacons].show),t.xp6(3),t.Q6J("ngIf",o.columns[l.Column.Power].show),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Pollution].show),t.xp6(1),t.Q6J("ngIf",o.columns[l.Column.Link].show),t.xp6(1),t.Q6J("ngIf",l.expanded[i.id])}}function F4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,N4,20,15,"ng-container",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngIf",i.mode===i.ListMode.All||null!=i.selectedId&&e.id===i.selectedId)}}function k4(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=r.ngIf,i=t.oxw().$implicit;t.Q6J("iconId",i.key)("tooltip",e.name)("item",e)}}function L4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t.YNc(4,k4,1,3,"lab-icon",89),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(5).ngIf,o=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,2,e.value,i.effectivePrecision[o.Column.Belts])),t.xp6(2),t.Q6J("ngIf",i.data.itemEntities[e.key])}}function B4(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,L4,5,5,"div",107),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw(4).ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e.totals.belts,i.trackSvc.sortByValue))("ngForTrackBy",i.trackSvc.trackByKey)}}function Z4(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=r.ngIf,i=t.oxw().$implicit;t.Q6J("iconId",i.key)("tooltip",e.name)("item",e)}}function U4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t.YNc(4,Z4,1,3,"lab-icon",89),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(5).ngIf,o=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,2,e.value,i.effectivePrecision[o.Column.Wagons])),t.xp6(2),t.Q6J("ngIf",i.data.itemEntities[e.key])}}function V4(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,U4,5,5,"div",107),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw(4).ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e.totals.wagons,i.trackSvc.sortByValue))("ngForTrackBy",i.trackSvc.trackByKey)}}function j4(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=r.ngIf,i=t.oxw(2).$implicit;t.Q6J("iconId",i.key)("tooltip",e.name)("item",e)}}function $4(n,r){if(1&n&&t._UZ(0,"lab-icon",35),2&n){const e=r.ngIf,i=t.oxw(3).$implicit;t.Q6J("iconId",i.key)("tooltip",e.name)("recipe",e)}}function H4(n,r){if(1&n&&t.YNc(0,$4,1,3,"lab-icon",36),2&n){const e=t.oxw(2).$implicit,i=t.oxw(4).ngIf;t.Q6J("ngIf",i.data.recipeEntities[e.key])}}function z4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t.YNc(4,j4,1,3,"lab-icon",108),t.YNc(5,H4,1,1,"ng-template",null,109,t.W1O),t.qZA()),2&n){const e=t.MAs(6),i=t.oxw().$implicit,o=t.oxw(4).ngIf,l=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,3,i.value,o.effectivePrecision[l.Column.Factories])),t.xp6(2),t.Q6J("ngIf",o.data.itemEntities[i.key])("ngIfElse",e)}}function q4(n,r){if(1&n&&(t.ynx(0),t.YNc(1,z4,7,6,"div",24),t.ALo(2,"factoryShowRate"),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,e.key,i.data.game))}}function G4(n,r){1&n&&t._UZ(0,"td")}function J4(n,r){if(1&n&&t._UZ(0,"lab-icon",51),2&n){const e=r.ngIf,i=t.oxw().$implicit;t.Q6J("iconId",i.key)("tooltip",e.name)("item",e)}}function Q4(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"span",40),t._uU(2),t.ALo(3,"rate"),t.qZA(),t.YNc(4,J4,1,3,"lab-icon",89),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(5).ngIf;t.xp6(2),t.Oqu(t.xi3(3,2,e.value,0)),t.xp6(2),t.Q6J("ngIf",i.data.itemEntities[e.key])}}function Y4(n,r){if(1&n&&(t.TgZ(0,"td",9),t.YNc(1,Q4,5,5,"div",107),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw(4).ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e.totals.beacons,i.trackSvc.sortByValue))("ngForTrackBy",i.trackSvc.trackByKey)}}function W4(n,r){if(1&n&&(t.TgZ(0,"td")(1,"div",37)(2,"span",40),t._uU(3),t.ALo(4,"power"),t.qZA()()()),2&n){const e=t.oxw(4).ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.Dn7(4,1,e.totals.power,e.effectivePrecision[i.Column.Power],e.effectivePowerUnit))}}function K4(n,r){if(1&n&&(t.TgZ(0,"td")(1,"div",37)(2,"span",40),t._uU(3),t.ALo(4,"rate"),t.qZA()()()),2&n){const e=t.oxw(4).ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,e.totals.pollution,e.effectivePrecision[i.Column.Pollution]))}}function X4(n,r){1&n&&t._UZ(0,"td")}function eB(n,r){if(1&n&&(t.TgZ(0,"tr",21)(1,"td",72)(2,"div",106)(3,"span",40),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.YNc(6,B4,3,5,"td",0),t.YNc(7,V4,3,5,"td",0),t.TgZ(8,"td",9),t.YNc(9,q4,3,4,"ng-container",19),t.ALo(10,"keyvalue"),t.qZA(),t.YNc(11,G4,1,0,"td",0),t.YNc(12,Y4,3,5,"td",10),t.YNc(13,W4,5,5,"td",0),t.YNc(14,K4,5,4,"td",0),t.YNc(15,X4,1,0,"td",0),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("colSpan",e+1),t.xp6(3),t.hij("",t.lcZ(5,11,"list.total"),":"),t.xp6(2),t.Q6J("ngIf",i.columns[o.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",i.columns[o.Column.Wagons].show),t.xp6(2),t.Q6J("ngForOf",t.xi3(10,13,i.totals.factories,o.trackSvc.sortByValue))("ngForTrackBy",o.trackSvc.trackByKey),t.xp6(2),t.Q6J("ngIf",i.columns[o.Column.Overclock].show),t.xp6(1),t.Q6J("ngIf",i.columns[o.Column.Beacons].show),t.xp6(1),t.Q6J("ngIf",i.columns[o.Column.Power].show),t.xp6(1),t.Q6J("ngIf",i.columns[o.Column.Pollution].show),t.xp6(1),t.Q6J("ngIf",i.columns[o.Column.Link].show)}}function tB(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",110),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"list.selectANodeToSeeDetails")," "))}function nB(n,r){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,F4,2,1,"ng-container",19),t.YNc(2,eB,16,16,"tr",20),t.YNc(3,tB,4,3,"tr",0),t.qZA()),2&n){const e=t.oxw(2).ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.steps)("ngForTrackBy",i.trackSvc.trackById),t.xp6(1),t.Q6J("ngIf",i.mode===i.ListMode.All),t.xp6(1),t.Q6J("ngIf",i.mode===i.ListMode.Focus&&null==i.selectedId)}}function rB(n,r){if(1&n&&(t.TgZ(0,"table")(1,"thead")(2,"tr",1)(3,"th")(4,"div",2)(5,"lab-columns")(6,"button",3),t.ALo(7,"translate"),t.TgZ(8,"i",4),t._uU(9,"settings"),t.qZA()()()()(),t.YNc(10,h6,4,3,"th",0),t.TgZ(11,"th",5)(12,"div",6),t._uU(13),t.ALo(14,"translate"),t.ALo(15,"displayRateLabel"),t.YNc(16,m6,4,3,"button",7),t.qZA()(),t.YNc(17,v6,5,4,"th",8),t.YNc(18,w6,6,7,"th",8),t.TgZ(19,"th",9)(20,"div",6),t._uU(21),t.ALo(22,"translate"),t.YNc(23,I6,4,3,"button",7),t.qZA()(),t.YNc(24,E6,5,4,"th",0),t.YNc(25,S6,8,6,"th",10),t.YNc(26,A6,4,3,"th",11),t.YNc(27,M6,5,6,"th",0),t.YNc(28,O6,5,3,"th",0),t.qZA()(),t.YNc(29,nB,4,4,"tbody",0),t.qZA()),2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(6),t.Q6J("title",t.lcZ(7,15,"list.setColumnsVisibilityAndPrecision")),t.xp6(4),t.Q6J("ngIf",e.columns[i.Column.Tree].show),t.xp6(3),t.AsE(" ",t.lcZ(14,17,"list.items"),"",t.lcZ(15,19,e.settings.displayRate)," "),t.xp6(3),t.Q6J("ngIf",e.itemsModified.ignore),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Wagons].show),t.xp6(3),t.hij(" ",t.lcZ(22,21,"list.factories")," "),t.xp6(2),t.Q6J("ngIf",e.recipesModified.factories),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Overclock].show),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Beacons].show),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Power].show),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Pollution].show),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Link].show&&i.mode===i.ListMode.All),t.xp6(1),t.Q6J("ngIf",e.columns[i.Column.Tree].show?2:1)}}function iB(n,r){if(1&n&&(t.ynx(0),t.YNc(1,rB,30,23,"table",0),t.BQk()),2&n){const e=r.ngIf;t.xp6(1),t.Q6J("ngIf",e.steps.length)}}let fl=class{constructor(r,e,i,o){this.ref=r,this.route=e,this.trackSvc=i,this.store=o,this.vm$=Ar([this.store.select(md),this.store.select(us),this.store.select(TP),this.store.select(oR),this.store.select(sR),this.store.select(Gs),this.store.select(Dw),this.store.select(aR),this.store.select(cR),this.store.select(lR),this.store.select(uR),this.store.select(yd),this.store.select(YS),this.store.select(Rr),this.store.select(J_),this.store.select(cT),this.store.select(Iw)]).pipe((0,yt.U)(([l,d,_,g,h,b,T,P,S,F,te,ce,me,xe,_e,V,Ze])=>({factories:l,itemSettings:d,itemsModified:_,stepsModified:g,totals:h,steps:b,stepDetails:T,stepByItemEntities:P,stepTree:S,effectivePrecision:F,effectivePowerUnit:te,recipeSettings:ce,recipesModified:me,data:xe,settings:_e,beltSpeed:V,columns:Ze}))),this.mode=ui.All,this.expanded={},this.ColumnsLeftOfPower=[rt.Belts,rt.Factories,rt.Beacons],this.DisplayRateVal=mo,this.PIPE="Pipe",this.Column=rt,this.DisplayRate=pn,this.ItemId=st,this.ListMode=ui,this.StepDetailTab=Go,this.Game=ct,this.RecipeField=Er,this.Rational=L}ngOnInit(){this.route.fragment.pipe(Mr(),(0,zn.h)(r=>null!=r)).subscribe(r=>{this.fragmentId=r}),this.syncDetailTabs()}ngOnChanges(){if(this.expanded={},null!=this.selectedId){const r=this.selectedId;this.store.select(Dw).pipe(Mr()).subscribe(e=>{e[r]?.tabs.length&&(this.expanded[r]=e[r].tabs[0])})}}ngAfterViewInit(){try{this.fragmentId&&(document.querySelector("#"+this.fragmentId)?.scrollIntoView(),Ar([this.store.select(Gs),this.store.select(Dw)]).pipe(Mr()).subscribe(([r,e])=>{const i=r.find(o=>o.id===this.fragmentId);if(i){const o=e[i.id].tabs;o.length&&(this.expanded[i.id]=o[0])}}))}catch{}}syncDetailTabs(){this.store.select(Dw).pipe(cd(this)).subscribe(r=>{for(const e of Object.keys(this.expanded).filter(i=>this.expanded[i])){const i=r[e]?.tabs;i?.length?-1===i.indexOf(this.expanded[e])&&(this.expanded[e]=i[0]):delete this.expanded[e]}this.ref.detectChanges()})}resetStep(r){r.itemId&&this.resetItem(r.itemId),r.recipeId&&this.resetRecipe(r.recipeId)}export(r,e,i,o,l){BS.stepsToCsv(r,o,e,i,l)}toggleDefaultRecipe(r,e,i,o,l){i[r].recipeId===e?this.setDefaultRecipe(r):this.setDefaultRecipe(r,e,wr.defaultRecipe(r,o.disabledRecipeIds??[],l))}toggleRecipe(r,e,i){const o=e.disabledRecipeIds??[],l=i.defaults?.disabledRecipeIds;-1===o.indexOf(r)?this.setDisabledRecipes([...o,r],l):this.setDisabledRecipes(o.filter(d=>d!==r),l)}changeFactory(r,e,i,o){this.setFactory(r,e,wr.bestMatch(o.recipeEntities[r].producers,i.ids??[]))}changeRecipeField(r,e,i,o,l,d,_){const g=i[r];if(g.factoryId){const h=o.entities[g.factoryId];switch(l){case Er.FactoryModules:if(null!=h.moduleRankIds&&null!=_&&"string"==typeof e&&null!=d&&null!=g.factoryModuleIds){const T=[..._.recipeModuleIds[r],st.Module],P=wr.defaultModules(T,h.moduleRankIds,g.factoryModuleIds.length),S=this.generateModules(d,e,g.factoryModuleIds);this.setFactoryModules(r,S,P)}break;case Er.BeaconCount:"string"==typeof e&&this.setBeaconCount(r,e,h.beaconCount);break;case Er.Beacon:"string"==typeof e&&this.setBeacon(r,e,h.beaconId);break;case Er.BeaconModules:if("string"==typeof e&&null!=d&&null!=g.beaconModuleIds){const T=new Array(g.beaconModuleIds.length).fill(h.beaconModuleId),P=this.generateModules(d,e,g.beaconModuleIds);this.setBeaconModules(r,P,T)}break;case Er.Overclock:if("string"!=typeof e){const T=e.target.valueAsNumber;T>=1&&T<=250&&this.setOverclock(r,T,h.overclock)}}}}generateModules(r,e,i){const o=[...i];for(let l=r;l<o.length;l++)o[l]=e;return o}ignoreItem(r){this.store.dispatch(new mP(r))}setBelt(r,e,i){this.store.dispatch(new yP({id:r,value:e,def:i}))}setWagon(r,e,i){this.store.dispatch(new vP({id:r,value:e,def:i}))}setFactory(r,e,i){this.store.dispatch(new DP({id:r,value:e,def:i}))}setFactoryModules(r,e,i){this.store.dispatch(new SP({id:r,value:e,def:i}))}setBeaconCount(r,e,i){this.store.dispatch(new AP({id:r,value:e,def:i}))}setBeacon(r,e,i){this.store.dispatch(new MP({id:r,value:e,def:i}))}setBeaconModules(r,e,i){this.store.dispatch(new OP({id:r,value:e,def:i}))}setBeaconTotal(r,e){this.store.dispatch(new PP({id:r,value:e}))}setOverclock(r,e,i){this.store.dispatch(new RP({id:r,value:e,def:i}))}resetItem(r){this.store.dispatch(new wP(r))}resetRecipe(r){this.store.dispatch(new FP(r))}resetIgnore(){this.store.dispatch(new IP)}resetBelt(){this.store.dispatch(new xP)}resetWagon(){this.store.dispatch(new EP)}resetFactory(){this.store.dispatch(new LP)}resetOverclock(){this.store.dispatch(new ZP)}resetBeacons(){this.store.dispatch(new BP)}setDisabledRecipes(r,e){this.store.dispatch(new US({value:r,def:e}))}setDefaultRecipe(r,e,i){this.store.dispatch(new bP({id:r,value:e,def:i}))}};fl.\u0275fac=function(r){return new(r||fl)(t.Y36(t.sBO),t.Y36(oo),t.Y36(oy),t.Y36(Ce.yh))},fl.\u0275cmp=t.Xpm({type:fl,selectors:[["lab-list"]],inputs:{mode:"mode",selectedId:"selectedId"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[1,"border","col"],[1,"flex","end"],[3,"title"],[1,"material-icons"],[1,"num-icon"],[1,"header"],[3,"title","click",4,"ngIf"],["class","num-icon",4,"ngIf"],["colspan","3"],["colspan","3",4,"ngIf"],["class","num-unit",4,"ngIf"],[3,"title","click"],["class","sub left",4,"ngIf"],["class","sub right",4,"ngIf"],[1,"sub","left"],[1,"sub","right"],[1,"num-unit"],["data-test","lab-list-export",3,"title","click"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","border row col",4,"ngIf"],[1,"border","row","col"],[3,"id"],["class","tree",4,"ngIf"],["class","flex",4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecipeCell",""],["class","nowrap",4,"ngIf"],[1,"tree"],[1,"flex","links"],[3,"iconId","tooltip","recipe",4,"ngIf","ngIfElse"],["recipeIcon",""],["class","connect",3,"trail","last",4,"ngFor","ngForOf"],[1,"indent"],[1,"connect"],[3,"iconId","tooltip","recipe"],[3,"iconId","tooltip","recipe",4,"ngIf"],[1,"flex"],["class","monospace",4,"ngIf"],[1,"button",3,"title","iconId","tooltip","recipe","hoverIcon","click"],[1,"monospace"],["pipePicker",""],["pipeIcon",""],[3,"header","selected","options","columns","selectId",4,"ngIf"],[3,"header","selected","options","columns","selectId"],[1,"button",3,"title","iconId","tooltip","item"],[3,"header","selected","options","selectId",4,"ngIf"],[3,"header","selected","options","selectId"],[3,"iconId","tooltip"],["fluidWagon",""],["wagonDefault",""],[3,"iconId","tooltip","item"],[1,"num",3,"id"],[1,"recipe-icon","split-column"],[1,"split-column"],["class","flex mod",4,"ngIf"],["factoryDefault",""],[1,"flex","mod"],[3,"header","selected","options","includeEmptyModule","selectId",4,"ngFor","ngForOf"],[3,"header","selected","options","includeEmptyModule","selectId"],[1,"button","module",3,"title","iconId","tooltip","item"],["type","number","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"title","ngModel","input",4,"ngIf"],["type","number","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"title","ngModel","input"],["placeholder","# Beacons",3,"title","digits","value","setValue"],["beaconPicker",""],[1,"nowrap"],["class","button","target","_blank",3,"title","href",4,"ngIf"],["data-test","lab-list-reset-step",3,"title","click",4,"ngIf"],["target","_blank",1,"button",3,"title","href"],[1,"clickable","material-icons"],["data-test","lab-list-reset-step",3,"title","click"],[1,"detail-header"],[3,"colSpan"],[1,"button",3,"href"],["colspan","100",1,"detail-tabs"],[1,"tabs"],[3,"active","click",4,"ngIf"],["class","details first last",4,"ngIf"],["noRecipeDetail",""],[1,"spacer"],[3,"click"],["class","details first",4,"ngIf"],["class","details",3,"last",4,"ngFor","ngForOf","ngForTrackBy"],["class","details",4,"ngIf"],[1,"details","first"],["colspan","100"],[1,"details"],["colspan","100",1,"split-column"],[1,"flex","percent"],[3,"iconId","tooltip","item",4,"ngIf"],["class","details",3,"first",4,"ngIf"],["class","details",3,"last",4,"ngIf"],[1,"details","first","last"],["colspan","100",1,"factory"],["class","info",4,"ngIf"],[1,"info"],["href","https://wiki.factorio.com/Inserters#Inserter_Throughput"],[1,"details","last"],["colspan","100",1,"recipes"],[1,"list","tile"],["class","button grid",3,"ignored","iconId","tooltip","recipe","click",4,"ngFor","ngForOf"],["class","info warn",4,"ngIf"],[1,"info","warn"],[4,"ngFor","ngForOf"],[1,"button","grid",3,"iconId","tooltip","recipe","click"],["colspan","2"],[1,"flex","summary-label"],["class","flex",4,"ngFor","ngForOf","ngForTrackBy"],[3,"iconId","tooltip","item",4,"ngIf","ngIfElse"],["totalRecipe",""],["colspan","100",1,"message"]],template:function(r,e){1&r&&(t.YNc(0,iB,2,1,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.vm$))},dependencies:[Xn,cr,_i,su,wn,vc,yc,Ls,ZT,Za,sy,zw,qw,Qr,xi,ki,SM,VT,jT,AM,Gw,MM,OM,$T,ay,PM],styles:["[_nghost-%COMP%]{display:block}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem .5rem}table[_ngcontent-%COMP%]   th.num[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.num[_ngcontent-%COMP%]{width:5.25rem}table[_ngcontent-%COMP%]   th.num-unit[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.num-unit[_ngcontent-%COMP%]{width:7rem}table[_ngcontent-%COMP%]   th.num-icon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.num-icon[_ngcontent-%COMP%]{width:8rem}table[_ngcontent-%COMP%]   th.split-column[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.split-column[_ngcontent-%COMP%]{padding-left:0}table[_ngcontent-%COMP%]   th.split-column[_ngcontent-%COMP%] > .flex[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.split-column[_ngcontent-%COMP%] > .flex[_ngcontent-%COMP%]{justify-content:flex-start}table[_ngcontent-%COMP%]   th.tree[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.tree[_ngcontent-%COMP%]{padding:0 .25rem}table[_ngcontent-%COMP%]   tr.border.row[_ngcontent-%COMP%]{border-top:1px solid var(--color-back)}table[_ngcontent-%COMP%]   tr.border.col[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child):not(.split-column){border-left:1px solid var(--color-back)}tr.detail-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){background-color:var(--color-back)}tr.detail-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){border-top-left-radius:.375rem}tr.detail-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{border-top-right-radius:.375rem}tr.details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{background-color:var(--color-light)}tr.details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child):not(:nth-child(2)):not(.split-column){border-left:1px solid var(--color-back)}tr.details[_ngcontent-%COMP%]:not(.first) > td[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid var(--color-back)}tr.details.last[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){border-bottom-left-radius:.375rem}tr.details.last[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{border-bottom-right-radius:.375rem}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%]{padding:0}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 .5rem}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:0}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%]   .monospace[_ngcontent-%COMP%]{white-space:normal}tr.details[_ngcontent-%COMP%]   .factory[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}tr.details[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%]{padding:.5rem}tr.details[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;max-width:38rem}tr.details[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:1px}tr.details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-left:.5rem}tr.details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){background-color:var(--color-dark)}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:2rem;padding:0 .25rem;margin:0 -.25rem}th[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}th[_ngcontent-%COMP%] > div.end[_ngcontent-%COMP%]{justify-content:flex-end}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{align-self:end;font-size:medium;flex-grow:1}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .sub.left[_ngcontent-%COMP%]{text-align:left}th[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .sub.right[_ngcontent-%COMP%]{text-align:right}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{justify-content:flex-end}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]{justify-content:flex-start}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:0}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{margin-left:1rem;height:2.75rem;border-left:2px dotted transparent}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-color:var(--color-dark)}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){height:1.5rem;margin-bottom:1.25rem;border-color:var(--color-dark)}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:1.5rem}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;width:.625rem;border-top:2px dotted var(--color-dark)}td[_ngcontent-%COMP%] > div.links[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]{padding:0}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%]{justify-content:flex-start}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%]{border-radius:.25rem}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%]:not(:hover), td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > lab-icon[_ngcontent-%COMP%]:not(:hover){background-color:var(--color-gray-1)}td[_ngcontent-%COMP%] > div.mod[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mod[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:0}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *.percent[_ngcontent-%COMP%]{margin-left:0}.summary-label[_ngcontent-%COMP%]{text-align:right}td.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.recipe[_ngcontent-%COMP%]{margin-left:-.5rem;padding:0}.message[_ngcontent-%COMP%]{color:var(--color-header);font-size:large;text-align:center;padding:1rem}tr.spacer[_ngcontent-%COMP%]{height:.25rem}tr[_ngcontent-%COMP%]   td.detail-tabs[_ngcontent-%COMP%]{padding:0}tr[_ngcontent-%COMP%]   td.detail-tabs[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:var(--color-dark);box-shadow:var(--shadow-button-dk)}.info[_ngcontent-%COMP%]{font-size:small;margin-bottom:.25rem}.info.warn[_ngcontent-%COMP%]{color:var(--color-red)}lab-icon[_ngcontent-%COMP%]:not(.button){padding:.125rem}lab-select[_ngcontent-%COMP%]:hover ~ lab-select[_ngcontent-%COMP%]   .button.module[_ngcontent-%COMP%]{background-color:var(--color-brand);box-shadow:var(--shadow-hover);filter:drop-shadow(0 0 2px var(--color-brand-sha))}"],changeDetection:0}),fl=(0,O_.gn)([Kc()],fl);const oB=["svg"];function sB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,l=t.oxw();return t.KtG(l.export(o.sankey))}),t.TgZ(1,"i",12),t._uU(2,"file_download"),t.qZA()()}}function aB(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div"),t._uU(3,"Link text"),t.qZA(),t.TgZ(4,"lab-options",2),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setLinkText(o))}),t.qZA(),t.TgZ(5,"div"),t._uU(6,"Link size"),t.qZA(),t.TgZ(7,"lab-options",3),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setLinkSize(o))}),t.qZA(),t.TgZ(8,"div",1)(9,"span"),t._uU(10,"Sankey align"),t.qZA(),t.TgZ(11,"a",4)(12,"i",5),t._uU(13,"help"),t.qZA()()(),t.TgZ(14,"lab-options",6),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setSankeyAlign(o))}),t.qZA(),t.YNc(15,sB,3,0,"button",7),t.qZA(),t._UZ(16,"div",8,9)(18,"lab-list",10),t.BQk()}if(2&n){const e=r.ngIf,i=t.oxw();t.xp6(4),t.Q6J("selected",e.linkText)("options",e.options),t.xp6(3),t.Q6J("selected",e.linkSize)("options",e.options),t.xp6(7),t.Q6J("selected",e.sankeyAlign)("options",i.sankeyAlignOptions),t.xp6(1),t.Q6J("ngIf",e.sankey),t.xp6(3),t.Q6J("mode",i.ListMode.Focus)("selectedId",i.selectedId)}}let Sd=class{constructor(r,e){this.ref=r,this.store=e,this.vm$=Ar([this.store.select(eA),this.store.select(qs),this.store.select(rT),this.store.select(NS),this.store.select(FS)]).pipe((0,yt.U)(([i,o,l,d,_])=>({sankey:i,linkText:l,linkSize:d,sankeyAlign:_,options:xs(o)}))),this.height=.75*window.innerHeight,this.sankeyAlignOptions=la,this.ListMode=ui}ngAfterViewInit(){Ar([this.store.select(eA),this.store.select(FS)]).pipe(cd(this)).subscribe(([r,e])=>this.rebuildChart(r,e))}rebuildChart(r,e){this.svg&&ls("svg").remove(),r.nodes.length&&r.links.length&&this.createChart(r,e)}createChart(r,e){if(this.svgElement){let P=function(S,F){const te=parseFloat(ls(this).attr("y")),ce=parseFloat(ls(this).attr("x"));F.y0=F.y0+S.dy,F.x0=F.x0+S.dx,F.x1=F.x1+S.dx;const _e="translate("+(T(F.x0)-ce)+","+(T(F.y0)-te)+")";ls(this).attr("transform",_e),ls(`[id='image-${F.id}']`).attr("transform",_e),b&&b.update(o),h.attr("d",i?V=>V.path:uw())},i=!0,o=this.getLayout(r,e,!0,800,this.height);o.nodes.some(S=>!0===S.partOfCycle)||(i=!1,o=this.getLayout(r,e,i,800,this.height));const l=Math.max(...o.nodes.map(S=>this.orZero(S.depth))),d=32*(l+1)+32*l*12,_=Math.min(this.height,.75*d);o=this.getLayout(r,e,i,d,_),this.svg=ls(this.svgElement.nativeElement).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",`${d}px`).attr("height",`${_}px`).style("width",`${d}px`).style("height",`${_}px`).attr("viewBox",`0 0 ${d} ${_}`);const g=this.svg.append("g").attr("fill","none").attr("stroke-opacity",.6).style("will-change","opacity").selectAll("g").data(o.links).join("g").style("mix-blend-mode","multiply"),h=g.append("path").attr("id",S=>`${S.index}`).attr("d",i?S=>S.path:uw()).attr("stroke",S=>S.color).attr("stroke-width",S=>Math.max(1,this.orZero(S.width)));g.append("title").text(S=>S.name);const b=this.skLayout,T=this.orZero;this.svg.append("g").selectAll("text").data(o.links).join("text").append("textPath").attr("startOffset","4px").attr("href",S=>`#${S.index}`).text(S=>`${S.text} ${S.name}`),this.svg.append("g").attr("stroke","var(--color-black)").selectAll("rect").data(o.nodes).join("rect").attr("x",S=>this.orZero(S.x0)).attr("y",S=>this.orZero(S.y0)).attr("height",S=>this.rngY(S)).attr("width",S=>this.orZero(S.x1)-this.orZero(S.x0)).attr("fill",S=>S.color).on("click",(S,F)=>{S.defaultPrevented||this.setSelected(F.stepId)}).call(function aS(){var _,g,h,b,n=jC,r=Dm,e=Sm,i=Z_,o={},l=lC("start","drag","end"),d=0,T=0;function P(V){V.on("mousedown.drag",S).filter(i).on("touchstart.drag",ce).on("touchmove.drag",me,B_).on("touchend.drag touchcancel.drag",xe).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(V,Ze){if(!b&&n.call(this,V,Ze)){var oe=_e(this,r.call(this,V,Ze),V,Ze,"mouse");!oe||(ls(V.view).on("mousemove.drag",F,dd).on("mouseup.drag",te,dd),function Na(n){var r=n.document.documentElement,e=ls(n).on("dragstart.drag",Ra,dd);"onselectstart"in r?e.on("selectstart.drag",Ra,dd):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}(V.view),Tm(V),h=!1,_=V.clientX,g=V.clientY,oe("start",V))}}function F(V){if(Ra(V),!h){var Ze=V.clientX-_,oe=V.clientY-g;h=Ze*Ze+oe*oe>T}o.mouse("drag",V)}function te(V){ls(V.view).on("mousemove.drag mouseup.drag",null),function nw(n,r){var e=n.document.documentElement,i=ls(n).on("dragstart.drag",null);r&&(i.on("click.drag",Ra,dd),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(V.view,h),Ra(V),o.mouse("end",V)}function ce(V,Ze){if(n.call(this,V,Ze)){var et,qe,oe=V.changedTouches,ae=r.call(this,V,Ze),Ue=oe.length;for(et=0;et<Ue;++et)(qe=_e(this,ae,V,Ze,oe[et].identifier,oe[et]))&&(Tm(V),qe("start",V,oe[et]))}}function me(V){var ae,Ue,Ze=V.changedTouches,oe=Ze.length;for(ae=0;ae<oe;++ae)(Ue=o[Ze[ae].identifier])&&(Ra(V),Ue("drag",V,Ze[ae]))}function xe(V){var ae,Ue,Ze=V.changedTouches,oe=Ze.length;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),ae=0;ae<oe;++ae)(Ue=o[Ze[ae].identifier])&&(Tm(V),Ue("end",V,Ze[ae]))}function _e(V,Ze,oe,ae,Ue,et){var Nt,Vn,Yn,qe=l.copy(),nt=tw(et||oe,Ze);if(null!=(Yn=e.call(V,new fd("beforestart",{sourceEvent:oe,target:P,identifier:Ue,active:d,x:nt[0],y:nt[1],dx:0,dy:0,dispatch:qe}),ae)))return Nt=Yn.x-nt[0]||0,Vn=Yn.y-nt[1]||0,function Me(pe,se,Oe){var We,Ne=nt;switch(pe){case"start":o[Ue]=Me,We=d++;break;case"end":delete o[Ue],--d;case"drag":nt=tw(Oe||se,Ze),We=d}qe.call(pe,V,new fd(pe,{sourceEvent:se,subject:Yn,target:P,identifier:Ue,active:We,x:nt[0]+Nt,y:nt[1]+Vn,dx:nt[0]-Ne[0],dy:nt[1]-Ne[1],dispatch:qe}),ae)}}return P.filter=function(V){return arguments.length?(n="function"==typeof V?V:el(!!V),P):n},P.container=function(V){return arguments.length?(r="function"==typeof V?V:el(V),P):r},P.subject=function(V){return arguments.length?(e="function"==typeof V?V:el(V),P):e},P.touchable=function(V){return arguments.length?(i="function"==typeof V?V:el(!!V),P):i},P.on=function(){var V=l.on.apply(l,arguments);return V===l?P:V},P.clickDistance=function(V){return arguments.length?(T=(V=+V)*V,P):Math.sqrt(T)},P}().subject(S=>S).on("drag",P)).append("title").text(S=>S.name),this.svg.append("g").selectAll("svg").data(o.nodes.filter(S=>this.rngY(S)>=16)).join("g").attr("id",S=>`image-${S.id}`).append("svg").attr("viewBox",S=>S.viewBox).attr("width",S=>Math.min(30,this.rngY(S)-2)).attr("height",S=>Math.min(30,this.rngY(S)-2)).attr("x",S=>(this.orZero(S.x1)+this.orZero(S.x0))/2-Math.min(30,this.rngY(S)-2)/2).attr("y",S=>(this.orZero(S.y1)+this.orZero(S.y0))/2-Math.min(30,this.rngY(S)-2)/2).style("pointer-events","none").append("image").attr("href",S=>S.href??"")}}getLayout(r,e,i,o,l){return this.skLayout=(i?a2:y)().nodeId(_=>_.id).nodeWidth(32).nodePadding(8).nodeAlign(this.getAlign(e)).extent([[1,5],[o-1,l-5]]),this.skLayout({nodes:r.nodes.filter(_=>r.links.some(g=>g.source===_.id||g.target===_.id)).map(_=>({..._})),links:r.links.map(_=>({..._}))})}getAlign(r){switch(r){case Ti.Left:return pS;case Ti.Right:return gS;case Ti.Center:return QC;default:return JC}}orZero(r){return r??0}rngY(r){return this.orZero(r.y1)-this.orZero(r.y0)}setSelected(r){this.selectedId=r,this.ref.detectChanges()}export(r){BS.saveAsJson(JSON.stringify(r))}setLinkSize(r){this.store.dispatch(new I2(r))}setLinkText(r){this.store.dispatch(new x2(r))}setSankeyAlign(r){this.store.dispatch(new E2(r))}};function cB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span",3),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.hover=!1)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.tooltip)}}Sd.\u0275fac=function(r){return new(r||Sd)(t.Y36(t.sBO),t.Y36(Ce.yh))},Sd.\u0275cmp=t.Xpm({type:Sd,selectors:[["lab-flow"]],viewQuery:function(r,e){if(1&r&&t.Gf(oB,5),2&r){let i;t.iGM(i=t.CRH())&&(e.svgElement=i.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"flex"],["title","Select flow link text",3,"selected","options","selectId"],["title","Select flow link size",3,"selected","options","selectId"],["href","https://github.com/d3/d3-sankey#alignments","target","_blank"],[1,"material-icons","small"],["title","Select sankey alignment",3,"selected","options","selectId"],["title","Export to JSON","data-test","lab-flow-export",3,"click",4,"ngIf"],["id","lab-flow-svg"],["svg",""],[3,"mode","selectedId"],["title","Export to JSON","data-test","lab-flow-export",3,"click"],[1,"material-icons"]],template:function(r,e){1&r&&(t.YNc(0,aB,19,9,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.vm$))},dependencies:[cr,Hw,fl,Qr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.75rem}#lab-flow-svg[_ngcontent-%COMP%]{display:flex;resize:both;overflow:auto}"],changeDetection:0}),Sd=(0,O_.gn)([Kc()],Sd);let HT=(()=>{class n{constructor(){this.text="",this.tooltip="",this.hover=!1}mouseenter(){this.hover=!0}mouseleave(){this.hover=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-info"]],hostBindings:function(e,i){1&e&&t.NdJ("mouseenter",function(){return i.mouseenter()})("mouseleave",function(){return i.mouseleave()})},inputs:{text:"text",tooltip:"tooltip"},decls:6,vars:2,consts:[[1,"icon"],[1,"material-icons","small"],["class","tooltip panel dark",3,"mouseenter",4,"ngIf"],[1,"tooltip","panel","dark",3,"mouseenter"]],template:function(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA(),t.TgZ(2,"span",0)(3,"i",1),t._uU(4,"info"),t.qZA(),t.YNc(5,cB,2,1,"span",2),t.qZA()),2&e&&(t.xp6(1),t.hij("",i.text," "),t.xp6(4),t.Q6J("ngIf",i.hover))},dependencies:[cr],styles:["[_nghost-%COMP%]{display:inline-block;position:relative;cursor:default;-webkit-user-select:none;user-select:none}.icon[_ngcontent-%COMP%]{position:relative}.material-icons[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-link);vertical-align:middle}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:11;background-color:var(--color-dark);opacity:.95;padding:.5rem;box-shadow:var(--shadow-tip);left:100%;top:100%;white-space:pre;margin-top:.5rem;margin-left:.125rem;text-align:left;color:var(--color-white);font-weight:400}"],changeDetection:0}),n})();function lB(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",1),t._uU(2,"Runtime"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(4),t.hij("",e.result.time," ms")}}function uB(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",1),t._uU(2,"Pivots"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(4),t.Oqu(e.result.pivots)}}function dB(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",1),t._uU(2,"Size"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(4),t.AsE("",e.result.A.length," rows, ",e.result.O.length," cols")}}function fB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.resetCost())}),t.TgZ(1,"i",15),t._uU(2,"undo"),t.qZA()()}}function _B(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"table")(1,"tr")(2,"th",2)(3,"div",3),t._UZ(4,"lab-info",4),t.YNc(5,fB,3,0,"button",5),t.qZA()()(),t.TgZ(6,"tr")(7,"td")(8,"div",3),t._UZ(9,"lab-info",6),t.qZA()(),t.TgZ(10,"td")(11,"lab-input",7),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setCostFactor(o))}),t.qZA()()(),t.TgZ(12,"tr")(13,"td"),t._UZ(14,"lab-info",8),t.qZA(),t.TgZ(15,"td")(16,"lab-input",9),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setCostFactory(o))}),t.qZA()()(),t.TgZ(17,"tr")(18,"td"),t._UZ(19,"lab-info",10),t.qZA(),t.TgZ(20,"td")(21,"lab-input",11),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setCostInput(o))}),t.qZA()()(),t.TgZ(22,"tr")(23,"td"),t._UZ(24,"lab-info",12),t.qZA(),t.TgZ(25,"td")(26,"lab-input",13),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setCostIgnored(o))}),t.qZA()()()()}if(2&n){const e=t.oxw().ngIf;t.xp6(5),t.Q6J("ngIf",e.settingsModified.cost),t.xp6(6),t.Q6J("value",e.settings.costFactor),t.xp6(5),t.Q6J("value",e.settings.costFactory),t.xp6(5),t.Q6J("value",e.settings.costInput),t.xp6(5),t.Q6J("value",e.settings.costIgnored)}}function pB(n,r){if(1&n&&(t.TgZ(0,"th",16),t._uU(1," Inputs "),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.Q6J("colSpan",e.result.inputIds.length)}}function gB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.resetRecipeCost())}),t.TgZ(1,"i",15),t._uU(2,"undo"),t.qZA()()}}function hB(n,r){if(1&n&&(t.TgZ(0,"td"),t._UZ(1,"lab-icon",24),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)}}function mB(n,r){if(1&n&&(t.TgZ(0,"td"),t._UZ(1,"lab-icon",25),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.recipeEntities[e].name)("recipe",i.data.recipeEntities[e])}}function yB(n,r){if(1&n&&(t.TgZ(0,"td"),t._UZ(1,"lab-icon",24),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)}}function vB(n,r){1&n&&(t.TgZ(0,"th",1),t._uU(1,"Objective"),t.qZA())}function bB(n,r){if(1&n&&(t.TgZ(0,"div",30),t._UZ(1,"lab-icon",25),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(4).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.recipeEntities[e].name)("recipe",i.data.recipeEntities[e])}}function wB(n,r){if(1&n&&(t.TgZ(0,"div",30),t._UZ(1,"lab-icon",24),t.qZA()),2&n){const e=r.ngIf,i=t.oxw(5).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)}}function IB(n,r){if(1&n&&t.YNc(0,wB,2,2,"div",31),2&n){const e=t.oxw(2).index,i=t.oxw(2).ngIf;t.Q6J("ngIf",i.result.inputIds[e-1-i.result.recipeIds.length])}}function xB(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,bB,2,3,"div",28),t.YNc(2,IB,1,1,"ng-template",null,29,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw().index,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.result.recipeIds[i-1])("ngIfElse",e)}}function EB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,l=t.oxw(5);return t.KtG(l.setRecipeCost(o))}),t.TgZ(1,"i",15),t._uU(2,"undo"),t.qZA()()}}function CB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"lab-input",34),t.NdJ("setValue",function(o){const d=t.CHM(e).ngIf,_=t.oxw(5);return t.KtG(_.setRecipeCost(d,o))}),t.qZA(),t.YNc(2,EB,3,0,"button",35),t.qZA()}if(2&n){const e=r.ngIf,i=t.oxw().$implicit,o=t.oxw(3).ngIf;t.xp6(1),t.Q6J("value",i.toString()),t.xp6(1),t.Q6J("ngIf",null==o.recipeRaw[e]?null:o.recipeRaw[e].cost)}}function TB(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.toString())}}function DB(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,CB,3,2,"div",32),t.YNc(2,TB,2,1,"ng-template",null,33,t.W1O),t.qZA()),2&n){const e=r.last,i=t.MAs(3),o=t.oxw().index,l=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",e&&l.result.recipeIds[o-1])("ngIfElse",i)}}function SB(n,r){1&n&&(t.TgZ(0,"th",1),t._uU(1,"Objective"),t.qZA())}function AB(n,r){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,vB,2,0,"th",26),t.YNc(2,xB,4,2,"ng-template",null,27,t.W1O),t.YNc(4,DB,4,2,"td",21),t.YNc(5,SB,2,0,"th",26),t.qZA()),2&n){const e=r.$implicit,i=r.index,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0===i)("ngIfElse",o),t.xp6(3),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",0===i)("ngIfElse",o)}}function MB(n,r){if(1&n&&(t.TgZ(0,"th",16),t._uU(1," Inputs "),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.Q6J("colSpan",e.result.inputIds.length)}}function OB(n,r){if(1&n&&(t.TgZ(0,"td"),t._UZ(1,"lab-icon",24),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)}}function PB(n,r){if(1&n&&(t.TgZ(0,"td"),t._UZ(1,"lab-icon",25),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.recipeEntities[e].name)("recipe",i.data.recipeEntities[e])}}function RB(n,r){if(1&n&&(t.TgZ(0,"td"),t._UZ(1,"lab-icon",24),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)}}function NB(n,r){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.toString())}}function FB(n,r){if(1&n&&(t.TgZ(0,"table")(1,"tr")(2,"th",16),t._uU(3," Simplex Canonical Tableau "),t.qZA()(),t.TgZ(4,"tr"),t._UZ(5,"th",17),t.TgZ(6,"th",18),t._uU(7,"I"),t.qZA(),t.TgZ(8,"th",16),t._uU(9,"Items/s"),t.qZA(),t.TgZ(10,"th",16),t._uU(11,"Recipes"),t.qZA(),t.YNc(12,pB,2,1,"th",19),t.TgZ(13,"th",18)(14,"div",3)(15,"span"),t._uU(16,"Cost"),t.qZA(),t.YNc(17,gB,3,0,"button",20),t.qZA()(),t._UZ(18,"th",17),t.qZA(),t.TgZ(19,"tr"),t.YNc(20,hB,2,2,"td",21),t.YNc(21,mB,2,3,"td",21),t.YNc(22,yB,2,2,"td",21),t.qZA(),t.YNc(23,AB,6,5,"tr",21),t.TgZ(24,"tr")(25,"th",16),t._uU(26,"Solution"),t.qZA()(),t.TgZ(27,"tr"),t._UZ(28,"td",22),t.TgZ(29,"th",18),t._uU(30,"I"),t.qZA(),t.TgZ(31,"th",16),t._uU(32,"Surplus/s"),t.qZA(),t.TgZ(33,"th",16),t._uU(34,"Recipes"),t.qZA(),t.YNc(35,MB,2,1,"th",19),t.TgZ(36,"th",18),t._uU(37,"Cost"),t.qZA(),t._UZ(38,"td",22),t.qZA(),t.TgZ(39,"tr"),t.YNc(40,OB,2,2,"td",21),t.YNc(41,PB,2,3,"td",21),t.YNc(42,RB,2,2,"td",21),t.qZA(),t.TgZ(43,"tr"),t.YNc(44,NB,2,1,"td",21),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("colSpan",e.result.O.length+2),t.xp6(6),t.Q6J("colSpan",e.result.itemIds.length),t.xp6(2),t.Q6J("colSpan",e.result.recipeIds.length),t.xp6(2),t.Q6J("ngIf",e.result.inputIds.length),t.xp6(5),t.Q6J("ngIf",e.recipesModified.cost),t.xp6(3),t.Q6J("ngForOf",e.result.itemIds),t.xp6(1),t.Q6J("ngForOf",e.result.recipeIds),t.xp6(1),t.Q6J("ngForOf",e.result.inputIds),t.xp6(1),t.Q6J("ngForOf",e.result.A),t.xp6(2),t.Q6J("colSpan",e.result.O.length+2),t.xp6(6),t.Q6J("colSpan",e.result.itemIds.length),t.xp6(2),t.Q6J("colSpan",e.result.recipeIds.length),t.xp6(2),t.Q6J("ngIf",e.result.inputIds.length),t.xp6(5),t.Q6J("ngForOf",e.result.itemIds),t.xp6(1),t.Q6J("ngForOf",e.result.recipeIds),t.xp6(1),t.Q6J("ngForOf",e.result.inputIds),t.xp6(2),t.Q6J("ngForOf",e.result.O)}}function kB(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"table")(2,"tr")(3,"td",1),t._uU(4,"Simplex Result"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()(),t.YNc(7,lB,5,1,"tr",0),t.YNc(8,uB,5,1,"tr",0),t.YNc(9,dB,5,2,"tr",0),t.qZA(),t.YNc(10,_B,27,5,"table",0),t.YNc(11,FB,45,17,"table",0),t.BQk()),2&n){const e=r.ngIf;t.xp6(6),t.Oqu(e.result.resultType),t.xp6(1),t.Q6J("ngIf",null!=e.result.time),t.xp6(1),t.Q6J("ngIf",null!=e.result.pivots),t.xp6(1),t.Q6J("ngIf",e.result.A&&e.result.O),t.xp6(1),t.Q6J("ngIf",e.result.A),t.xp6(1),t.Q6J("ngIf",e.result.A&&e.result.O&&e.result.itemIds&&e.result.recipeIds&&e.result.inputIds)}}const LB=[{path:"list",component:fl},{path:"flow",component:Sd},{path:"matrix",component:(()=>{class n{constructor(e){this.store=e,this.vm$=Ar([this.store.select(_T),this.store.select(YS),this.store.select(Rr),this.store.select(Q_),this.store.select(_P),this.store.select(Pr)]).pipe((0,yt.U)(([i,o,l,d,_,g])=>({result:i,recipesModified:o,data:l,recipeRaw:d,settingsModified:_,settings:g})))}setCostFactor(e){this.store.dispatch(new DO(e))}setCostFactory(e){this.store.dispatch(new SO(e))}setCostInput(e){this.store.dispatch(new AO(e))}setCostIgnored(e){this.store.dispatch(new MO(e))}setRecipeCost(e,i){this.store.dispatch(new NP({id:e,value:i}))}resetCost(){this.store.dispatch(new PO)}resetRecipeCost(){this.store.dispatch(new UP)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-matrix"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"header"],["colspan","2"],[1,"flex"],["text","Cost Modifiers","tooltip","These values determine the default costs of\neach row in the simplex canonical tableau."],["title","Undo all cost modifiers",3,"click",4,"ngIf"],["text","Recipe","tooltip","Multiplies cost of recipes with a\ndefined cost, usually mining."],["title","Set recipe cost multipler","placeholder","Cost",3,"value","setValue"],["text","Factory","tooltip","Multiplies cost of physical factories running recipes."],["title","Set factory cost multipler","placeholder","Cost",3,"value","setValue"],["text","Input","tooltip","Cost of input items that are produced by no recipes."],["title","Set input item cost","placeholder","Cost",3,"value","setValue"],["text","Ignored","tooltip","Cost of items that have been explicitly ignored."],["title","Set ignored item cost","placeholder","Cost",3,"value","setValue"],["title","Undo all cost modifiers",3,"click"],[1,"material-icons"],[1,"header",3,"colSpan"],["rowspan","2"],["rowspan","2",1,"header"],["class","header",3,"colSpan",4,"ngIf"],["title","Undo all cost modifications",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["rowspan","3"],["title","Undo all cost modifications",3,"click"],[3,"iconId","tooltip"],[3,"iconId","tooltip","recipe"],["class","header",4,"ngIf","ngIfElse"],["notObj",""],["class","flex center",4,"ngIf","ngIfElse"],["notRecipe",""],[1,"flex","center"],["class","flex center",4,"ngIf"],["class","flex",4,"ngIf","ngIfElse"],["valueSpan",""],["title","Set cost","placeholder","Cost",3,"value","setValue"],["title","Undo recipe cost modification",3,"click",4,"ngIf"],["title","Undo recipe cost modification",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,kB,12,6,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[Xn,cr,Za,HT,sy,Qr],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid var(--color-back)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:.5rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem}table[_ngcontent-%COMP%] + table[_ngcontent-%COMP%]{margin-top:1rem}"],changeDetection:0}),n})()},{path:"factorio",redirectTo:"/list?s=&v=4"},{path:"coi",redirectTo:"/list?s=coi&v=4"},{path:"dsp",redirectTo:"/list?s=dsp&v=4"},{path:"satisfactory",redirectTo:"/list?s=sfy&v=4"},{path:"**",redirectTo:"list"}];let BB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[rb.forRoot(LB),rb]}),n})(),zT=(()=>{class n{constructor(e){this.el=e}ngOnInit(){const e=this.el.nativeElement;e.focus(),e.select()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","labFocus",""]]}),n})();function ZB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",19),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.searchValue=o)})("input",function(){t.CHM(e);const o=t.oxw(2).ngIf,l=t.oxw();return t.KtG(l.inputSearch(o.data))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.searchValue)}}function UB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.search=!0)}),t.TgZ(1,"i",10),t._uU(2,"search"),t.qZA()()}}function VB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-icon",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.tab=o)}),t.qZA()}if(2&n){const e=r.ngIf,i=t.oxw().$implicit;t.oxw();const o=t.MAs(13),l=t.oxw(2);t.ekj("selected",i===l.tab),t.Q6J("iconId",i)("scale",!1)("scrollLeft",o.scrollLeft)("tooltip",e.name)}}function jB(n,r){if(1&n&&(t.ynx(0),t.YNc(1,VB,1,6,"lab-icon",21),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",i.data.categoryEntities[e])}}function $B(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-icon",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(4);return d.selectId.emit(l),t.KtG(d.open=!1)}),t.qZA()}if(2&n){const e=r.$implicit;t.oxw(2);const i=t.MAs(16),o=t.oxw().ngIf;t.Q6J("iconId",e)("scrollTop",i.scrollTop)("tooltip",o.data.itemEntities[e].name)("recipe",o.data.recipeEntities[o.data.itemRecipeId[e]])}}function HB(n,r){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,$B,1,4,"lab-icon",24),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function zB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-dialog",3),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(1,"div",4)(2,"div",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",6),t.YNc(6,ZB,1,1,"input",7),t.YNc(7,UB,3,0,"button",8),t.TgZ(8,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(9,"i",10),t._uU(10,"close"),t.qZA()()()(),t.TgZ(11,"div",11)(12,"div",12,13),t.YNc(14,jB,2,1,"ng-container",14),t.qZA(),t.TgZ(15,"div",15,16)(17,"div",17),t.YNc(18,HB,2,1,"div",18),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,5,"picker.select")),t.xp6(3),t.Q6J("ngIf",e.search),t.xp6(1),t.Q6J("ngIf",!e.search),t.xp6(7),t.Q6J("ngForOf",e.categoryIds),t.xp6(4),t.Q6J("ngForOf",e.categoryItemRows[e.tab])}}function qB(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.NdJ("click",function(){const l=t.CHM(e).ngIf,d=t.oxw();return t.KtG(d.clickOpen(l.data))}),t.Hsn(2),t.qZA(),t.YNc(3,zB,19,7,"lab-dialog",2),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.open)}}const GB=["*"];let RM=(()=>{class n extends W_{constructor(e){super(),this.store=e,this.selectId=new t.vpe,this.vm$=this.store.select(Rr).pipe((0,yt.U)(i=>({data:i}))),this.categoryIds=[],this.categoryItemRows={},this.search=!1,this.searchValue="",this.tab=""}ngOnChanges(){this.store.select(Rr).pipe(Mr()).subscribe(e=>{this.tab=null!=this.selected?e.itemEntities[this.selected].category:e.categoryIds[0]})}clickOpen(e){this.open=!0,this.search=!1,this.searchValue="",this.categoryIds=e.categoryIds,this.categoryItemRows=e.categoryItemRows}inputSearch(e){let i=e.itemIds;for(const o of this.searchValue.split(" ")){const l=new RegExp(o,"i");i=i.filter(d=>-1!==e.itemEntities[d].name.search(l))}this.categoryIds=e.categoryIds.filter(o=>i.some(l=>e.itemEntities[l].category===o)),-1===this.categoryIds.indexOf(this.tab)&&(this.tab=this.categoryIds[0]),this.categoryItemRows={};for(const o of this.categoryIds){this.categoryItemRows[o]=[];for(const l of e.categoryItemRows[o])this.categoryItemRows[o].push(l.filter(d=>-1!==i.indexOf(d)));this.categoryItemRows[o]=this.categoryItemRows[o].filter(l=>l.length>0)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-picker"]],inputs:{selected:"selected"},outputs:{selectId:"selectId"},features:[t.qOj,t.TTD],ngContentSelectors:GB,decls:2,vars:3,consts:[[4,"ngIf"],["data-test","lab-picker-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[1,"dialog-menu"],["class","search","data-test","lab-picker-search-value","labFocus","",3,"ngModel","ngModelChange","input",4,"ngIf"],["data-test","lab-picker-search",3,"click",4,"ngIf"],[3,"click"],[1,"material-icons"],[1,"panel"],[1,"tabs"],["tabsScroll",""],[4,"ngFor","ngForOf"],[1,"tab","panel"],["tabScroll",""],[1,"tile"],["class","row",4,"ngFor","ngForOf"],["data-test","lab-picker-search-value","labFocus","",1,"search",3,"ngModel","ngModelChange","input"],["data-test","lab-picker-search",3,"click"],[3,"selected","iconId","scale","scrollLeft","tooltip","click",4,"ngIf"],[3,"iconId","scale","scrollLeft","tooltip","click"],[1,"row"],["class","grid",3,"iconId","scrollTop","tooltip","recipe","click",4,"ngFor","ngForOf"],[1,"grid",3,"iconId","scrollTop","tooltip","recipe","click"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,qB,4,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[Xn,cr,_i,wn,Ls,Dd,Za,zT,Qr,ki],styles:["lab-dialog[_ngcontent-%COMP%] > .panel[_ngcontent-%COMP%]{padding:0;padding-bottom:.75rem}.tabs[_ngcontent-%COMP%]{display:flex;max-width:27rem;overflow-x:auto}.tabs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:inherit;padding:.25rem}.tabs[_ngcontent-%COMP%] > .selected[_ngcontent-%COMP%]{background-color:var(--color-light);margin:.25rem;padding:0}.tabs[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.selected){cursor:pointer;background-color:var(--color-button);box-shadow:var(--shadow-button)}.tabs[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.selected):hover{background-color:var(--color-brand);box-shadow:var(--shadow-hover)}.tab[_ngcontent-%COMP%]{max-height:27rem;overflow-y:auto;margin:.75rem;margin-bottom:0;padding:0}.row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]{padding:.125rem;border-radius:.25rem;background-color:var(--color-back);margin:1px;cursor:pointer;box-shadow:var(--shadow-item)}.row[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]:hover{background-color:var(--color-brand-drk);box-shadow:var(--shadow-hover)}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),n})();function JB(n,r){if(1&n&&t._UZ(0,"lab-icon",18),2&n){const e=t.oxw(2).ngIf,i=t.oxw(4).ngIf;t.Q6J("iconId",e)("tooltip",i.data.recipeEntities[e].name)("recipe",i.data.recipeEntities[e])}}function QB(n,r){if(1&n&&t._UZ(0,"lab-icon",19),2&n){const e=t.oxw(2).ngIf,i=t.oxw(4).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function YB(n,r){if(1&n&&(t.ynx(0),t.YNc(1,JB,1,3,"lab-icon",16),t.YNc(2,QB,1,3,"ng-template",null,17,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.rateType===o.RateType.Factories)("ngIfElse",e)}}function WB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",22),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(5).$implicit,d=t.oxw(2);return t.KtG(d.setVia(l.id,o))}),t._UZ(1,"lab-icon",23),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(3).$implicit,o=t.oxw().ngIf,l=t.oxw();t.Q6J("selected",e)("options",o.productOptions[i.id])("selectType",l.IdType.Recipe),t.xp6(1),t.Q6J("iconId",e)("tooltip",o.data.recipeEntities[e].name)("recipe",o.data.recipeEntities[e])}}function KB(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",24),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(5).$implicit,d=t.oxw(2);return t.KtG(d.setVia(l.id,o))}),t._UZ(1,"lab-icon",25),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(3).$implicit,o=t.oxw().ngIf;t.Q6J("selected",e)("options",o.productOptions[i.id]),t.xp6(1),t.Q6J("iconId",e)("tooltip",o.data.itemEntities[e].name)("item",o.data.itemEntities[e])}}function XB(n,r){if(1&n&&(t.YNc(0,WB,2,6,"lab-select",20),t.YNc(1,KB,2,5,"ng-template",null,21,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(4).$implicit,o=t.oxw(2);t.Q6J("ngIf",i.rateType===o.RateType.Factories)("ngIfElse",e)}}function eZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",29),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(3).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.setViaSetting(d.id,o,_.itemSettings[l].beltId))}),t._UZ(1,"lab-icon",30),t.qZA()}if(2&n){const e=t.oxw().ngIf,i=t.oxw(6).ngIf,o=t.oxw();t.Q6J("selected",e)("options",i.data.beltIds)("columns",i.data.game===o.Game.DysonSphereProgram?3:null),t.xp6(1),t.Q6J("iconId",e)("item",i.data.itemEntities[e])}}function tZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",32),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(4).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.setViaSetting(d.id,o,_.itemSettings[l].beltId))}),t._UZ(1,"lab-icon",33),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(6).ngIf;t.Q6J("selected",e)("options",i.data.pipeIds),t.xp6(1),t.Q6J("iconId",e)}}function nZ(n,r){if(1&n&&t.YNc(0,tZ,2,3,"lab-select",31),2&n){const e=t.oxw().ngIf,i=t.MAs(5),o=t.oxw(6).ngIf;t.Q6J("ngIf",-1!==o.data.pipeIds.indexOf(e))("ngIfElse",i)}}function rZ(n,r){if(1&n&&t._UZ(0,"lab-icon",34),2&n){const e=t.oxw().ngIf,i=t.oxw(6).ngIf,o=t.oxw();t.Q6J("iconId",e)("tooltip",(null==i.data.itemEntities[e]?null:i.data.itemEntities[e].name)||o.PIPE)}}function iZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,eZ,2,5,"lab-select",26),t.YNc(2,nZ,1,2,"ng-template",null,27,t.W1O),t.YNc(4,rZ,1,2,"ng-template",null,28,t.W1O),t.BQk()),2&n){const e=r.ngIf,i=t.MAs(3),o=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",-1!==o.data.beltIds.indexOf(e))("ngIfElse",i)}}function oZ(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,iZ,6,2,"ng-container",0),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).$implicit,o=t.oxw().ngIf;let l;t.xp6(2),t.Oqu(t.lcZ(3,2,"products.using")),t.xp6(2),t.Q6J("ngIf",null!==(l=i.viaSetting)&&void 0!==l?l:o.itemSettings[e].beltId)}}function sZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span"),t._uU(2,"using"),t.qZA(),t.TgZ(3,"lab-select",36),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(4).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.setViaSetting(d.id,o,_.itemSettings[l].wagonId))}),t._UZ(4,"lab-icon",37),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(6).ngIf;t.xp6(3),t.Q6J("selected",e)("options",i.data.cargoWagonIds),t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function aZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,sZ,5,5,"ng-container",0),t.BQk()),2&n){const e=t.oxw(7).ngIf;t.xp6(1),t.Q6J("ngIf",e.data.cargoWagonIds.length>1)}}function cZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span"),t._uU(2,"using"),t.qZA(),t.TgZ(3,"lab-select",38),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(4).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.setViaSetting(d.id,o,_.itemSettings[l].wagonId))}),t._UZ(4,"lab-icon",37),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(6).ngIf;t.xp6(3),t.Q6J("selected",e)("options",i.data.fluidWagonIds),t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function lZ(n,r){if(1&n&&t.YNc(0,cZ,5,5,"ng-container",0),2&n){const e=t.oxw(7).ngIf;t.Q6J("ngIf",e.data.fluidWagonIds.length>1)}}function uZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,aZ,2,1,"ng-container",13),t.YNc(2,lZ,1,1,"ng-template",null,35,t.W1O),t.BQk()),2&n){const e=r.ngIf,i=t.MAs(3),o=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",-1===o.data.fluidWagonIds.indexOf(e))("ngIfElse",i)}}function dZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,uZ,4,2,"ng-container",0),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(3).$implicit,o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",i.viaSetting||o.itemSettings[e].wagonId)}}function fZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(5).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.changeFactory(d.id,o,l,_.factories,_.data))}),t._UZ(2,"lab-icon",42),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw().ngIf,o=t.oxw(6).ngIf;t.xp6(1),t.Q6J("selected",i)("options",e.producers),t.xp6(1),t.Q6J("iconId",i)("tooltip",o.data.itemEntities[i].name)("item",o.data.itemEntities[i])}}function _Z(n,r){if(1&n&&t._UZ(0,"lab-icon",43),2&n){const e=t.oxw(3).ngIf,i=t.oxw(6).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function pZ(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2,"using"),t.qZA(),t.YNc(3,fZ,3,5,"ng-container",13),t.YNc(4,_Z,1,3,"ng-template",null,40,t.W1O),t.BQk()),2&n){const e=t.MAs(5),i=t.oxw().ngIf;t.xp6(3),t.Q6J("ngIf",i.producers&&i.producers.length>1)("ngIfElse",e)}}function gZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",46),t.NdJ("selectId",function(o){const d=t.CHM(e).index,_=t.oxw(5).ngIf,g=t.oxw(3).$implicit,h=t.oxw().ngIf,b=t.oxw();return t.KtG(b.changeRecipeField(g,o,_,h.recipeSettings,h.factories,b.RecipeField.FactoryModules,d,h.data))}),t._UZ(1,"lab-icon",47),t.qZA()}if(2&n){const e=r.$implicit,i=r.first,o=t.oxw(5).ngIf,l=t.oxw(4).ngIf,d=t.oxw();t.Q6J("header",l.data.game===d.Game.Factorio?"Select a module":l.data.game===d.Game.DysonSphereProgram?"Select a proliferator":"Select resource purity")("selected",e)("options",l.data.recipeModuleIds[o])("includeEmptyModule",l.data.game!==d.Game.Satisfactory),t.xp6(1),t.ekj("module",!i),t.Q6J("title",l.data.game===d.Game.Factorio?"Change rate step factory module":l.data.game===d.Game.DysonSphereProgram?"Change rate step proliferator":"Change rate step resource purity")("iconId",e)("tooltip",null==l.data.itemEntities[e]?null:l.data.itemEntities[e].name)("item",l.data.itemEntities[e])}}function hZ(n,r){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,gZ,2,10,"lab-select",45),t.qZA()),2&n){const e=r.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function mZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"input",48),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(4).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.changeRecipeField(d,o,l,_.recipeSettings,_.factories,g.RecipeField.Overclock))}),t.qZA(),t.TgZ(2,"span",49),t._uU(3,"%"),t.qZA()()}if(2&n){const e=t.oxw(7).$implicit;t.xp6(1),t.Q6J("ngModel",e.viaOverclock)}}function yZ(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"lab-icon",43),t.BQk()),2&n){const e=t.oxw(2).ngIf,i=t.oxw(8).ngIf;t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function vZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",52),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(6).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.changeRecipeField(d,o,l,_.recipeSettings,_.factories,g.RecipeField.Beacon))}),t._UZ(1,"lab-icon",53),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(8).ngIf;t.Q6J("selected",e)("options",i.data.beaconIds),t.xp6(1),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function bZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",55),t.NdJ("selectId",function(o){const d=t.CHM(e).index,_=t.oxw(7).ngIf,g=t.oxw(3).$implicit,h=t.oxw().ngIf,b=t.oxw();return t.KtG(b.changeRecipeField(g,o,_,h.recipeSettings,h.factories,b.RecipeField.BeaconModules,d))}),t._UZ(1,"lab-icon",56),t.qZA()}if(2&n){const e=r.$implicit,i=r.first,o=t.oxw(11).ngIf;t.Q6J("selected",e)("options",o.data.beaconModuleIds)("includeEmptyModule",!0),t.xp6(1),t.ekj("module",!i),t.Q6J("iconId",e)("tooltip",null==o.data.itemEntities[e]?null:o.data.itemEntities[e].name)("item",o.data.itemEntities[e])}}function wZ(n,r){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,bZ,2,8,"lab-select",54),t.qZA()),2&n){const e=r.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function IZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,yZ,2,3,"ng-container",13),t.YNc(2,vZ,2,5,"ng-template",null,51,t.W1O),t.YNc(4,wZ,2,1,"div",39),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(8).$implicit,o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",1===o.data.beaconIds.length)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.viaBeaconModuleIds)}}function xZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-input",50),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(4).ngIf,d=t.oxw(3).$implicit,_=t.oxw().ngIf,g=t.oxw();return t.KtG(g.changeRecipeField(d,o,l,_.recipeSettings,_.factories,g.RecipeField.BeaconCount))}),t.qZA(),t.YNc(2,IZ,5,3,"ng-container",0),t.ALo(3,"gtZero"),t.BQk()}if(2&n){const e=t.oxw(7).$implicit;let i;t.xp6(1),t.Q6J("digits",2)("value",null!==(i=e.viaBeaconCount)&&void 0!==i?i:""),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,3,e.viaBeaconCount))}}function EZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,pZ,6,2,"ng-container",0),t.ALo(2,"factoryShow"),t.YNc(3,hZ,2,1,"div",39),t.YNc(4,mZ,4,1,"div",39),t.YNc(5,xZ,4,5,"ng-container",0),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(5).$implicit,o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,4,e,o.data.game)),t.xp6(2),t.Q6J("ngIf",i.viaFactoryModuleIds),t.xp6(1),t.Q6J("ngIf",i.viaOverclock),t.xp6(1),t.Q6J("ngIf",i.viaBeaconId)}}function CZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,EZ,6,7,"ng-container",0),t.BQk()),2&n){const e=t.oxw(2).ngIf,i=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",i.data.recipeEntities[e])}}function TZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,CZ,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngIf",e.viaSetting)}}function DZ(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,YB,4,2,"ng-container",13),t.YNc(5,XB,3,2,"ng-template",null,15,t.W1O),t.YNc(7,oZ,5,4,"ng-container",0),t.YNc(8,dZ,2,1,"ng-container",0),t.YNc(9,TZ,2,1,"ng-container",0),t.BQk()),2&n){const e=t.MAs(6),i=t.oxw(3).$implicit,o=t.oxw().ngIf,l=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,6,"products.of")),t.xp6(2),t.Q6J("ngIf",1===o.productOptions[i.id].length)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.rateType===l.RateType.Belts),t.xp6(1),t.Q6J("ngIf",i.rateType===l.RateType.Wagons),t.xp6(1),t.Q6J("ngIf",i.rateType===l.RateType.Factories)}}function SZ(n,r){if(1&n&&(t.ynx(0),t.YNc(1,DZ,10,8,"ng-container",0),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.viaId)}}function AZ(n,r){1&n&&(t.TgZ(0,"div",57),t._uU(1,"No matching enabled recipes"),t.qZA())}function MZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.removeProduct(o.id))}),t.ALo(2,"translate"),t.TgZ(3,"i",5),t._uU(4,"remove"),t.qZA()(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"lab-picker",3),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.setItem(l.id,o))}),t._UZ(9,"lab-icon",10),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"lab-input",11),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.setRate(l.id,o))}),t.qZA(),t.TgZ(14,"lab-options",12),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.setRateType(l.id,o))}),t.ALo(15,"translate"),t.qZA(),t.YNc(16,SZ,2,1,"ng-container",13),t.YNc(17,AZ,2,0,"ng-template",null,14,t.W1O),t.BQk()}if(2&n){const e=t.MAs(18),i=t.oxw().$implicit,o=t.oxw().ngIf;t.xp6(1),t.Q6J("title",t.lcZ(2,13,"products.removeProduct")),t.xp6(5),t.Oqu(t.lcZ(7,15,"products.produce")),t.xp6(2),t.Q6J("selected",i.itemId),t.xp6(1),t.Q6J("iconId",i.itemId)("tooltip",o.data.itemEntities[i.itemId].name)("item",o.data.itemEntities[i.itemId]),t.xp6(2),t.Oqu(t.lcZ(12,17,"products.from")),t.xp6(2),t.Q6J("value",i.rate),t.xp6(1),t.Q6J("title",t.lcZ(15,19,"products.changeRateType"))("selected",i.rateType)("options",o.rateTypeOptions),t.xp6(2),t.Q6J("ngIf",o.productOptions[i.id].length>0)("ngIfElse",e)}}function OZ(n,r){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,MZ,19,21,"ng-container",0),t.qZA()),2&n){const e=r.$implicit,i=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",e&&i.data.itemEntities[e.itemId])}}function PZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h2"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,OZ,2,1,"div",2),t.TgZ(6,"div")(7,"lab-picker",3),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.addProduct(o))}),t.TgZ(8,"button",4),t.ALo(9,"translate"),t.TgZ(10,"i",5),t._uU(11,"add"),t.qZA(),t.TgZ(12,"div",6),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"lab-options",7),t.NdJ("selectId",function(o){const d=t.CHM(e).ngIf,_=t.oxw();return t.KtG(_.setDisplayRate(o,d.displayRate))}),t.ALo(16,"translate"),t.qZA()()(),t.BQk()}if(2&n){const e=r.ngIf,i=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,9,"products.title")),t.xp6(3),t.Q6J("ngForOf",e.products)("ngForTrackBy",i.trackSvc.trackById),t.xp6(2),t.Q6J("selected",e.data.itemIds[0]),t.xp6(1),t.Q6J("title",t.lcZ(9,11,"products.addAProduct")),t.xp6(5),t.Oqu(t.lcZ(14,13,"products.addAProduct")),t.xp6(2),t.Q6J("title",t.lcZ(16,15,"products.selectDisplayRate"))("selected",e.displayRate)("options",i.DisplayRateOptions)}}let RZ=(()=>{class n{constructor(e,i){this.trackSvc=e,this.store=i,this.vm$=Ar([this.store.select(Zm),this.store.select(HP),this.store.select(us),this.store.select(md),this.store.select(yd),this.store.select(Rr),this.store.select(G_),this.store.select(nP)]).pipe((0,yt.U)(([o,l,d,_,g,h,b,T])=>({products:o,productOptions:l,itemSettings:d,factories:_,recipeSettings:g,data:h,displayRate:b,rateTypeOptions:T}))),this.PIPE="Pipe",this.DisplayRateOptions=ws,this.IdType=Is,this.ItemId=st,this.RateType=mt,this.Game=ct,this.RecipeField=Er}changeFactory(e,i,o,l,d){this.setViaSetting(e,i,wr.bestMatch(d.recipeEntities[o].producers,l.ids??[]))}changeRecipeField(e,i,o,l,d,_,g,h){if(null!=e.viaSetting){const b=this.getState(o,e.viaSetting,l,d);switch(_){case Er.FactoryModules:if(null!=b.factory.moduleRankIds&&null!=h&&"string"==typeof i&&null!=g&&null!=e.viaFactoryModuleIds){const T=e.viaFactoryModuleIds.length,P=[...h.recipeModuleIds[o],st.Module],S=b.fMatch?b.recipe.factoryModuleIds:wr.defaultModules(P,b.factory.moduleRankIds,T),F=this.generateModules(g,i,e.viaFactoryModuleIds);this.setViaFactoryModules(e.id,F,S)}break;case Er.BeaconCount:"string"==typeof i&&this.setViaBeaconCount(e.id,i,b.fMatch?b.recipe.beaconCount:b.factory.beaconCount);break;case Er.Beacon:"string"==typeof i&&this.setViaBeacon(e.id,i,b.fMatch?b.recipe.beaconId:b.factory.beaconId);break;case Er.BeaconModules:if("string"==typeof i&&null!=g&&null!=e.viaBeaconModuleIds){const T=e.viaBeaconModuleIds.length,P=null==e.viaBeaconId||e.viaBeaconId===b.recipe.beaconId,S=b.fMatch&&P?b.recipe.beaconModuleIds:new Array(T).fill(b.factory.beaconModuleId),F=this.generateModules(g,i,e.viaBeaconModuleIds);this.setViaBeaconModules(e.id,F,S)}break;case Er.Overclock:if("string"!=typeof i){const P=i.target.valueAsNumber;P>=1&&P<=250&&this.setViaOverclock(e.id,P,b.fMatch?b.recipe.overclock:b.factory.overclock)}}}}getState(e,i,o,l){const d=o[e];return{recipe:d,factory:l.entities[i],fMatch:i===d.factoryId}}generateModules(e,i,o){const l=[...o];for(let d=e;d<l.length;d++)l[d]=i;return l}removeProduct(e){this.store.dispatch(new L2(e))}setItem(e,i){this.store.dispatch(new B2({id:e,value:i}))}setRate(e,i){this.store.dispatch(new Z2({id:e,value:i}))}setRateType(e,i){this.store.dispatch(new U2({id:e,value:i}))}setVia(e,i){this.store.dispatch(new V2({id:e,value:i}))}setViaSetting(e,i,o){this.store.dispatch(new j2({id:e,value:i,def:o}))}setViaFactoryModules(e,i,o){this.store.dispatch(new $2({id:e,value:i,def:o}))}setViaBeaconCount(e,i,o){this.store.dispatch(new H2({id:e,value:i,def:o}))}setViaBeacon(e,i,o){this.store.dispatch(new z2({id:e,value:i,def:o}))}setViaBeaconModules(e,i,o){this.store.dispatch(new q2({id:e,value:i,def:o}))}setViaOverclock(e,i,o){this.store.dispatch(new G2({id:e,value:i,def:o}))}addProduct(e){this.store.dispatch(new k2(e))}setDisplayRate(e,i){this.store.dispatch(new VS({value:e,prev:i}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(oy),t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-products"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"panel"],["class","product-row",4,"ngFor","ngForOf","ngForTrackBy"],[3,"selected","selectId"],[3,"title"],[1,"material-icons"],[1,"text"],[3,"title","selected","options","selectId"],[1,"product-row"],[3,"title","click"],["title","Change item","hoverIcon","settings",1,"button",3,"iconId","tooltip","item"],["title","Set output rate","placeholder","Rate",3,"value","setValue"],[1,"ratetype",3,"title","selected","options","selectId"],[4,"ngIf","ngIfElse"],["recipeNone",""],["viaPicker",""],["class","pad",3,"iconId","tooltip","recipe",4,"ngIf","ngIfElse"],["singleItem",""],[1,"pad",3,"iconId","tooltip","recipe"],[1,"pad",3,"iconId","tooltip","item"],["header","Select a step to calculate by",3,"selected","options","selectType","selectId",4,"ngIf","ngIfElse"],["itemPicker",""],["header","Select a step to calculate by",3,"selected","options","selectType","selectId"],["title","Change rate step","hoverIcon","settings",1,"button",3,"iconId","tooltip","recipe"],["header","Select a step to calculate by",3,"selected","options","selectId"],["title","Change rate step","hoverIcon","settings",1,"button",3,"iconId","tooltip","item"],["header","Select a belt",3,"selected","options","columns","selectId",4,"ngIf","ngIfElse"],["pipePicker",""],["pipeIcon",""],["header","Select a belt",3,"selected","options","columns","selectId"],["tooltip","Change rate step belt",1,"button",3,"iconId","item"],["header","Select a pipe",3,"selected","options","selectId",4,"ngIf","ngIfElse"],["header","Select a pipe",3,"selected","options","selectId"],["tooltip","Change rate step pipe",1,"button",3,"iconId"],[3,"iconId","tooltip"],["fluidWagon",""],["header","Select a cargo wagon",3,"selected","options","selectId"],["title","Change rate step wagon",1,"button",3,"iconId","tooltip","item"],["header","Select a fluid wagon",3,"selected","options","selectId"],["class","flex",4,"ngIf"],["factoryDefault",""],["header","Select a factory",3,"selected","options","selectId"],["title","Change rate step factory",1,"button",3,"iconId","tooltip","item"],[3,"iconId","tooltip","item"],[1,"flex"],[3,"header","selected","options","includeEmptyModule","selectId",4,"ngFor","ngForOf"],[3,"header","selected","options","includeEmptyModule","selectId"],[1,"button",3,"title","iconId","tooltip","item"],["type","number","title","Set rate step overclock","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"ngModel","input"],[2,"margin-left","0.25rem"],["title","Set rate step number of beacons","placeholder","# Beacons",3,"digits","value","setValue"],["beaconPicker",""],["header","Select a beacon",3,"selected","options","selectId"],["title","Set rate step beacon",1,"button",3,"iconId","tooltip","item"],["header","Select a module",3,"selected","options","includeEmptyModule","selectId",4,"ngFor","ngForOf"],["header","Select a module",3,"selected","options","includeEmptyModule","selectId"],["title","Change rate step beacon module",1,"button",3,"iconId","tooltip","item"],[1,"invalid"]],template:function(e,i){1&e&&(t.YNc(0,PZ,17,17,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[Xn,cr,_i,su,wn,vc,yc,Ls,Za,sy,Hw,RM,zw,qw,Qr,ki,jT,Gw],styles:["[_nghost-%COMP%] > .panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.ratetype[_ngcontent-%COMP%]{width:7.5rem}"],changeDetection:0}),n})();function NZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-icon",14),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.clickId(l,d.data))}),t.qZA()}if(2&n){const e=r.$implicit;t.oxw(2);const i=t.MAs(8),o=t.oxw().ngIf,l=t.oxw();t.ekj("disabled",!l.canAdd(e,o.data))("selected",-1!==l.editValue.indexOf(e)),t.Q6J("iconId",e)("text",l.text(e))("tooltip",o.data.itemEntities[e]?o.data.itemEntities[e].name:null)("item",o.data.itemEntities[e])("scrollTop",i.scrollTop)}}function FZ(n,r){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,NZ,1,9,"lab-icon",13),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function kZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",15),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",16)(5,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.cancel())}),t.TgZ(6,"span",17),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.close())}),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,e.data.game===i.Game.Factorio?"ranker.rankerModuleInfo":"ranker.rankerProliferatorInfo")," "),t.xp6(5),t.Oqu(t.lcZ(8,5,"ranker.cancel")),t.xp6(3),t.hij(" ",t.lcZ(11,7,"ranker.confirm")," ")}}function LZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-dialog",3),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.close())}),t.TgZ(1,"div",4)(2,"div",5),t._uU(3),t.qZA(),t.TgZ(4,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(5,"i",7),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",8,9)(9,"div",10)(10,"lab-icon",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,l=t.oxw();return t.KtG(l.clickId(l.ItemId.Module,o.data))}),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,FZ,2,1,"div",12),t.qZA(),t.YNc(13,kZ,12,9,"ng-container",0),t.qZA()}if(2&n){const e=t.MAs(8),i=t.oxw(2);t.xp6(3),t.Oqu(i.header),t.xp6(4),t.Udp("width",i.width,"rem"),t.xp6(3),t.ekj("selected",!i.editValue.length),t.Q6J("tooltip",t.lcZ(11,11,"ranker.noModule"))("iconId",i.ItemId.Module)("text",i.text(i.ItemId.Module))("scrollTop",e.scrollTop),t.xp6(2),t.Q6J("ngForOf",i.rows),t.xp6(1),t.Q6J("ngIf",i.edited)}}function BZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clickOpen())}),t.Hsn(2),t.qZA(),t.YNc(3,LZ,14,13,"lab-dialog",2),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.open)}}const ZZ=["*"];let NM=(()=>{class n extends W_{constructor(e){super(),this.store=e,this.selected=[],this.options=[],this.selectIds=new t.vpe,this.vm$=this.store.select(Rr).pipe((0,yt.U)(i=>({data:i}))),this.edited=!1,this.editValue=[],this.rows=[[]],this.width=0,this.ItemId=st,this.Game=ct}ngOnChanges(e){if(e.options){this.rows=this.moduleRows(this.options);const i=2.375*Math.max(...this.rows.map(o=>o.length));this.width=this.rows.length>5?i+1.125:i}}text(e){return this.editValue.length>0&&-1!==this.editValue.indexOf(e)?(this.editValue.indexOf(e)+1).toString():null}canAdd(e,i){if(!this.edited||e===st.Module)return!0;if(-1!==this.editValue.indexOf(e))return!1;const o=i.moduleEntities[e].limitation;return!o||!this.editValue.some(l=>i.moduleEntities[l].limitation===o)}clickOpen(){this.open=!0,this.edited=!1,this.editValue=[...this.selected]}close(){this.edited&&this.selectIds.emit(this.editValue),this.open=!1}clickId(e,i){e===st.Module?(this.selectIds.emit(this.edited?this.editValue:[]),this.cancel()):this.canAdd(e,i)&&(this.edited?this.editValue.push(e):(this.edited=!0,this.editValue=[e]),i.moduleEntities[e].limitation||(this.selectIds.emit(this.editValue),this.cancel()))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-ranker"]],inputs:{selected:"selected",options:"options"},outputs:{selectIds:"selectIds"},features:[t.qOj,t.TTD],ngContentSelectors:ZZ,decls:2,vars:3,consts:[[4,"ngIf"],["data-test","lab-ranker-open",3,"click"],[3,"closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[3,"click"],[1,"material-icons"],[1,"panel","scroll"],["scroll",""],[1,"tile"],["data-test","lab-ranker-none",1,"grid",3,"tooltip","iconId","text","scrollTop","click"],["class","tile",4,"ngFor","ngForOf"],["class","grid","data-test","lab-ranker-option",3,"disabled","selected","iconId","text","tooltip","item","scrollTop","click",4,"ngFor","ngForOf"],["data-test","lab-ranker-option",1,"grid",3,"iconId","text","tooltip","item","scrollTop","click"],[1,"info"],[1,"dialog-buttons"],[1,"text"],[1,"green",3,"click"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,BZ,4,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[Xn,cr,Dd,Za,Qr,ki],styles:["[_nghost-%COMP%]{display:flex}lab-dialog[_ngcontent-%COMP%]{max-width:24rem}.scroll[_ngcontent-%COMP%]{overflow-y:auto;max-height:16rem;padding:0}.scroll[_ngcontent-%COMP%] > .tile[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0}lab-icon.grid.disabled[_ngcontent-%COMP%]{cursor:default;background-color:inherit;box-shadow:inherit}lab-icon.grid.disabled[_ngcontent-%COMP%]:hover{background-color:inherit;box-shadow:inherit}.info[_ngcontent-%COMP%]{margin-top:.5rem;font-size:small}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),n})();const UZ=["scrollContainer"];function VZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",20),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.searchValue=o)})("input",function(){t.CHM(e);const o=t.oxw(2).ngIf,l=t.oxw();return t.KtG(l.inputSearch(o.data))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.searchValue)}}function jZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.search=!0)}),t.TgZ(1,"i",11),t._uU(2,"search"),t.qZA()()}}function $Z(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-icon",22),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.clickId(l))}),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2).ngIf,o=t.oxw();t.ekj("ignored",-1!==o.editValue.indexOf(e)),t.Q6J("iconId",e)("scrollTop",o.scrollTop)("tooltip",i.data.recipeEntities[e].name)("recipe",i.data.recipeEntities[e])}}function HZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-dialog",4),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.close())}),t.TgZ(1,"div",5)(2,"div",6),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",7),t.YNc(6,VZ,1,1,"input",8),t.YNc(7,jZ,3,0,"button",9),t.TgZ(8,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(9,"i",11),t._uU(10,"close"),t.qZA()()()(),t.TgZ(11,"div",12,13),t.NdJ("scroll",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.scrollPanel())}),t.TgZ(13,"div",14)(14,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.edited=!0,t.KtG(o.editValue=[])}),t.TgZ(15,"span",2),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,l=t.oxw();return l.edited=!0,t.KtG(l.editValue=o.data.complexRecipeIds)}),t.TgZ(19,"span",2),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"div",16),t.YNc(23,$Z,1,6,"lab-icon",17),t.qZA()(),t.TgZ(24,"div",18)(25,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancel())}),t.TgZ(26,"span",2),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.close())}),t._uU(30),t.ALo(31,"translate"),t.qZA()()()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.Udp("width",e.width,"rem"),t.xp6(3),t.Oqu(t.lcZ(4,12,"toggle.selectRecipes")),t.xp6(3),t.Q6J("ngIf",i.search),t.xp6(1),t.Q6J("ngIf",!i.search),t.xp6(7),t.Q6J("disabled",!i.editValue.length),t.xp6(2),t.Oqu(t.lcZ(17,14,"toggle.enableAll")),t.xp6(2),t.Q6J("disabled",i.editValue.length===e.data.complexRecipeIds.length),t.xp6(2),t.Oqu(t.lcZ(21,16,"toggle.disableAll")),t.xp6(3),t.Q6J("ngForOf",i.complexRecipeIds),t.xp6(4),t.Oqu(t.lcZ(28,18,"toggle.cancel")),t.xp6(3),t.hij(" ",t.lcZ(31,20,"toggle.confirm")," ")}}function zZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",1),t.NdJ("click",function(){const l=t.CHM(e).ngIf,d=t.oxw();return t.KtG(d.clickOpen(l.data))}),t.ALo(2,"translate"),t.TgZ(3,"span",2),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,HZ,32,22,"lab-dialog",3),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("title",t.lcZ(2,5,"toggle.title")),t.xp6(3),t.lnq("",e.selected.length," ",t.lcZ(5,7,"toggle.recipe"),"",1===e.selected.length?"":"s",""),t.xp6(2),t.Q6J("ngIf",e.open)}}let FM=(()=>{class n extends W_{constructor(e){super(),this.store=e,this.selected=[],this.selectIds=new t.vpe,this.vm$=this.store.select(Rr).pipe((0,yt.U)(i=>({data:i,width:2.375*Math.ceil(Math.sqrt(i.complexRecipeIds.length)+2)+3}))),this.complexRecipeIds=[],this.edited=!1,this.editValue=[],this.scrollTop=0,this.search=!1,this.searchValue=""}clickOpen(e){this.open=!0,this.edited=!1,this.search=!1,this.searchValue="",this.complexRecipeIds=e.complexRecipeIds,this.editValue=[...this.selected]}close(){this.edited&&this.selectIds.emit(this.editValue),this.open=!1}clickId(e){this.edited=!0,-1===this.editValue.indexOf(e)?this.editValue.push(e):this.editValue=this.editValue.filter(i=>i!==e)}inputSearch(e){let i=e.complexRecipeIds;for(const o of this.searchValue.split(" ")){const l=new RegExp(o,"i");i=i.filter(d=>-1!==e.recipeEntities[d].name.search(l))}this.complexRecipeIds=i}scrollPanel(){this.scrollContainer&&(this.scrollTop=this.scrollContainer.nativeElement.scrollTop)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ce.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["lab-toggle"]],viewQuery:function(e,i){if(1&e&&t.Gf(UZ,5),2&e){let o;t.iGM(o=t.CRH())&&(i.scrollContainer=o.first)}},inputs:{selected:"selected"},outputs:{selectIds:"selectIds"},features:[t.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["data-test","lab-toggle-open",3,"title","click"],[1,"text"],[3,"width","closeDialog",4,"ngIf"],[3,"closeDialog"],[1,"dialog-title"],[1,"header"],[1,"dialog-menu"],["class","search","data-test","lab-toggle-search-value","labFocus","",3,"ngModel","ngModelChange","input",4,"ngIf"],["data-test","lab-toggle-search",3,"click",4,"ngIf"],[3,"click"],[1,"material-icons"],[1,"panel","scroll",3,"scroll"],["scrollContainer",""],[1,"flex","buttons"],[3,"disabled","click"],[1,"flex","panel","dark","tile"],["class","button grid","data-test","lab-toggle-recipe",3,"ignored","iconId","scrollTop","tooltip","recipe","click",4,"ngFor","ngForOf"],[1,"dialog-buttons"],["data-test","lab-toggle-close",1,"green",3,"click"],["data-test","lab-toggle-search-value","labFocus","",1,"search",3,"ngModel","ngModelChange","input"],["data-test","lab-toggle-search",3,"click"],["data-test","lab-toggle-recipe",1,"button","grid",3,"iconId","scrollTop","tooltip","recipe","click"]],template:function(e,i){1&e&&(t.YNc(0,zZ,7,9,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[Xn,cr,_i,wn,Ls,Dd,Za,zT,Qr,ki],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%] > lab-dialog[_ngcontent-%COMP%]{max-width:25.5rem;max-height:24.5rem;display:flex;flex-direction:column}.scroll[_ngcontent-%COMP%]{overflow-y:auto;padding-bottom:0}.tile[_ngcontent-%COMP%]{flex-wrap:wrap;margin-bottom:.75rem}.buttons[_ngcontent-%COMP%]{margin-bottom:.5rem}.buttons[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}lab-icon[_ngcontent-%COMP%]{position:static}"],changeDetection:0}),n})();function qZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickRemoveState())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"delete"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"setting.deleteSavedState"))}function GZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleEditState())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"edit"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"setting.nameAndSaveState"))}function JZ(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw().ngIf,d=t.oxw();return t.KtG(d.setState(o,l.preferences))}),t.ALo(2,"translate"),t.qZA(),t.YNc(3,qZ,4,3,"button",29),t.YNc(4,GZ,4,3,"button",29),t.BQk()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(1),t.Q6J("title",t.lcZ(2,5,"setting.selectSavedState"))("selected",i.state)("options",e.savedStates),t.xp6(2),t.Q6J("ngIf",i.state),t.xp6(1),t.Q6J("ngIf",i.BrowserUtility.search)}}function QZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickSaveState())}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"save"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"setting.saveState"))}function YZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",31),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.tempState=o)}),t.ALo(1,"translate"),t.qZA(),t.YNc(2,QZ,4,3,"button",29),t.TgZ(3,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.toggleEditState())}),t.ALo(4,"translate"),t.TgZ(5,"i",4),t._uU(6,"close"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("placeholder",t.lcZ(1,4,"setting.enterAName"))("ngModel",e.tempState),t.xp6(2),t.Q6J("ngIf",e.tempState&&e.BrowserUtility.search),t.xp6(1),t.Q6J("title",t.lcZ(4,6,"setting.cancel"))}}function WZ(n,r){1&n&&(t.TgZ(0,"a",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"setting.requestAMod")))}function KZ(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setMod(o))}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,5,"setting.modSet"))("tooltip",t.lcZ(4,7,"setting.modSetTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(7,9,"setting.modSetTitle"))("selected",e.settings.modId)("options",e.modOptions)}}function XZ(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"div"),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.key),t.xp6(2),t.Oqu(e.value)}}function eU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setPowerUnit(o))}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(2),t.Q6J("text",t.lcZ(3,5,"setting.powerUnit"))("tooltip",t.lcZ(4,7,"setting.powerUnitTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(7,9,"setting.powerUnitTitle"))("selected",e.preferences.powerUnit)("options",i.PowerUnitOptions)}}function tU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",38),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(5).ngIf,d=t.oxw();return t.KtG(d.addFactory(o,null==l.data.defaults?null:l.data.defaults.factoryRankIds))}),t.ALo(1,"translate"),t.TgZ(2,"button",39),t.ALo(3,"translate"),t.TgZ(4,"i",4),t._uU(5,"add"),t.qZA()()()}if(2&n){const e=t.oxw(5).ngIf;t.Q6J("header",t.lcZ(1,3,"setting.selectAFactory"))("options",e.factoryOptionIds),t.xp6(2),t.Q6J("title",t.lcZ(3,5,"setting.addFactoryPreference"))}}function nU(n,r){if(1&n&&(t.ynx(0),t.YNc(1,tU,6,7,"lab-select",37),t.BQk()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",e.factoryOptionIds.length)}}function rU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,l=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.removeFactory(o,null==l.data.defaults?null:l.data.defaults.factoryRankIds))}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"remove"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"setting.removeFactoryPreference"))}function iU(n,r){if(1&n&&t._UZ(0,"lab-icon",40),2&n){const e=t.oxw(2).$implicit,i=t.oxw(2).ngIf;t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function oU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.setFactory(l,o,null==d.data.defaults?null:d.data.defaults.factoryRankIds))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",42),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,i=t.oxw(2).ngIf;t.Q6J("header",t.lcZ(1,6,"setting.selectAFactory"))("selected",e)("options",i.factoryOptionIds),t.xp6(2),t.Q6J("iconId",e)("tooltip",i.data.itemEntities[e].name)("item",i.data.itemEntities[e])}}function sU(n,r){1&n&&(t._UZ(0,"lab-icon",43),t.ALo(1,"translate")),2&n&&t.Q6J("tooltip",t.lcZ(1,1,"setting.factoryDefaults"))}function aU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-ranker",46),t.NdJ("selectIds",function(o){t.CHM(e);const l=t.oxw(3).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.setModuleRank(l,o,""===l?null==d.data.defaults?null:d.data.defaults.moduleRankIds:d.factories.entities[""].moduleRankIds))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",47),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(3).ngIf,o=t.oxw();t.Q6J("header",t.lcZ(1,6,i.data.game===o.Game.Factorio?"setting.selectAModule":"setting.selectAProliferator"))("selected",e.moduleRankIds)("options",i.data.moduleIds),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,8,i.data.game===o.Game.Factorio?"setting.modulePreferences":"setting.proliferatorPreferences"))("iconId",e.moduleRankIds.length?e.moduleRankIds[0]:o.ItemId.Module)("text",e.moduleRankIds.length>1?e.moduleRankIds.length.toString():"")}}function cU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",48),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(3).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.setModuleRank(l,[o],""===l?null==d.data.defaults?null:d.data.defaults.moduleRankIds:d.factories.entities[""].moduleRankIds))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",47),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(3).ngIf,o=t.oxw();t.Q6J("header",t.lcZ(1,7,"setting.resourcePurityPreferences"))("selected",e.moduleRankIds[0])("options",i.data.moduleIds)("includeEmptyModule",i.data.game===o.Game.DysonSphereProgram),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,9,"setting.selectResourcePurity"))("iconId",e.moduleRankIds.length?e.moduleRankIds[0]:o.ItemId.Module)("text",e.moduleRankIds.length>1?e.moduleRankIds.length.toString():"")}}function lU(n,r){if(1&n&&(t.ynx(0),t.YNc(1,aU,4,10,"lab-ranker",44),t.YNc(2,cU,4,11,"ng-template",null,45,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(4).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",i.data.game!==o.Game.Satisfactory)("ngIfElse",e)}}function uU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"input",49),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(2).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.changeOverclock(l,o,d.factories))}),t.qZA(),t._uU(2," % "),t.qZA()}if(2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngModel",e.overclock)}}function dU(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"lab-input",51),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(3).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.changeBeaconCount(l,o,d.factories,d.data))}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("title",t.lcZ(2,3,"setting.defaultNumberOfBeacons"))("digits",2)("value",e.beaconCount)}}function fU(n,r){if(1&n&&t._UZ(0,"lab-icon",40),2&n){const e=t.oxw(4).ngIf,i=t.oxw(3).ngIf;t.Q6J("iconId",e.beaconId)("tooltip",i.data.itemEntities[e.beaconId].name)("item",i.data.itemEntities[e.beaconId])}}function _U(n,r){if(1&n&&(t.ynx(0),t.YNc(1,fU,1,3,"lab-icon",34),t.BQk()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",e.beaconId)}}function pU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(5).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.setBeacon(l,o,""===l?null==d.data.defaults?null:d.data.defaults.beaconId:d.factories.entities[""].beaconId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(4).ngIf,i=t.oxw(3).ngIf;t.Q6J("header",t.lcZ(1,5,"setting.selectABeacon"))("selected",e.beaconId)("options",i.data.beaconIds),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,7,"setting.selectDefaultBeacon"))("iconId",e.beaconId)}}function gU(n,r){if(1&n&&t.YNc(0,pU,4,9,"lab-select",35),2&n){const e=t.oxw(3).ngIf;t.Q6J("ngIf",e.beaconId)}}function hU(n,r){if(1&n&&(t.ynx(0),t.YNc(1,_U,2,1,"ng-container",10),t.YNc(2,gU,1,1,"ng-template",null,52,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",1===i.data.beaconIds.length)("ngIfElse",e)}}function mU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",48),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(3).$implicit,d=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.setBeaconModule(l,o,""===l?null==d.data.defaults?null:d.data.defaults.beaconModuleId:d.factories.entities[""].beaconModuleId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(3).ngIf;t.Q6J("header",t.lcZ(1,6,"setting.selectAModule"))("selected",e.beaconModuleId)("options",i.data.beaconModuleIds)("includeEmptyModule",!0),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,8,"setting.beaconModule"))("iconId",e.beaconModuleId)}}function yU(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,dU,3,5,"ng-container",0),t.qZA(),t.TgZ(3,"td"),t.YNc(4,hU,4,2,"ng-container",0),t.ALo(5,"gtZero"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,mU,4,10,"lab-select",50),t.ALo(8,"gtZero"),t.qZA(),t.BQk()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("ngIf",null!=e.beaconCount),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,3,e.beaconCount)),t.xp6(3),t.Q6J("ngIf",t.lcZ(8,5,e.beaconCount)&&e.beaconModuleId)}}function vU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,l=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.raiseFactory(o,null==l.data.defaults?null:l.data.defaults.factoryRankIds))}),t.ALo(1,"translate"),t.TgZ(2,"i",4),t._uU(3,"arrow_drop_up"),t.qZA()()}2&n&&t.Q6J("title",t.lcZ(1,1,"setting.raiseFactoryRank"))}function bU(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,nU,2,1,"ng-container",0),t.YNc(3,rU,4,3,"button",29),t.qZA(),t.TgZ(4,"td"),t.YNc(5,iU,1,3,"lab-icon",34),t.YNc(6,oU,3,8,"lab-select",35),t.YNc(7,sU,2,3,"lab-icon",36),t.qZA(),t.TgZ(8,"td"),t.YNc(9,lU,4,2,"ng-container",0),t.qZA(),t.YNc(10,uU,3,1,"td",0),t.YNc(11,yU,9,7,"ng-container",0),t.TgZ(12,"td"),t.YNc(13,vU,4,3,"button",29),t.qZA()()),2&n){const e=r.ngIf,i=t.oxw(),o=i.$implicit,l=i.index,d=t.oxw(2).ngIf,_=t.oxw();t.xp6(2),t.Q6J("ngIf",!o),t.xp6(1),t.Q6J("ngIf",o),t.xp6(2),t.Q6J("ngIf",o&&!d.factoryOptionIds.length),t.xp6(1),t.Q6J("ngIf",o&&d.factoryOptionIds.length),t.xp6(1),t.Q6J("ngIf",!o),t.xp6(2),t.Q6J("ngIf",e.moduleRankIds),t.xp6(1),t.Q6J("ngIf",d.data.game===_.Game.Satisfactory),t.xp6(1),t.Q6J("ngIf",d.data.game===_.Game.Factorio),t.xp6(2),t.Q6J("ngIf",l>1)}}function wU(n,r){if(1&n&&(t.ynx(0),t.YNc(1,bU,14,9,"tr",0),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",i.factories.entities[e])}}function IU(n,r){if(1&n&&(t.TgZ(0,"table",33),t.YNc(1,wU,2,1,"ng-container",17),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.factoryRows)}}function xU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",54)(2,"div",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,l=t.oxw();return t.KtG(l.toggleBeaconPower(o.settings))}),t._UZ(3,"div",56)(4,"lab-info",8),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA()()()}if(2&n){const e=t.oxw().ngIf;t.xp6(3),t.ekj("checked",e.settings.beaconReceivers),t.xp6(1),t.Q6J("text",t.lcZ(5,4,"setting.estimateBeaconPowerUsage"))("tooltip",t.lcZ(6,6,"setting.estimateBeaconPowerUsageTooltip"))}}function EU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div")(7,"lab-input",57),t.NdJ("setValue",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setBeaconReceivers(o))}),t.ALo(8,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,5,"setting.averageBeaconReceivers"))("tooltip",t.lcZ(4,7,"setting.averageBeaconReceiversTooltip")),t.xp6(5),t.Q6J("title",t.lcZ(8,9,"setting.setAverageBeaconReceivers"))("digits",2)("value",e.settings.beaconReceivers)}}function CU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div")(7,"lab-select",48),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setProliferatorSpray(o))}),t.ALo(8,"translate"),t._UZ(9,"lab-icon",53),t.ALo(10,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,8,"setting.proliferatorSelfSpray"))("tooltip",t.lcZ(4,10,"setting.proliferatorSelfSprayTooltip")),t.xp6(5),t.Q6J("header",t.lcZ(8,12,"setting.selectAProliferator"))("selected",e.settings.proliferatorSprayId)("options",e.data.prodModuleIds)("includeEmptyModule",!0),t.xp6(2),t.Q6J("tooltip",t.lcZ(10,14,"setting.selectAProliferatorTooltip"))("iconId",e.settings.proliferatorSprayId)}}function TU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",58),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw().ngIf,d=t.oxw();return t.KtG(d.setBelt(o,null==l.data.defaults?null:l.data.defaults.beltId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.Q6J("header",t.lcZ(1,6,"setting.defaultTransportBeltHeader"))("selected",e.settings.beltId)("options",e.data.beltIds)("columns",e.data.game===i.Game.DysonSphereProgram?3:null),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,8,"setting.defaultTransportBeltHeaderTooltip"))("iconId",e.settings.beltId)}}function DU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.setPipe(o,null==l.data.defaults?null:l.data.defaults.pipeId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf;t.Q6J("header",t.lcZ(1,5,"setting.defaultPipeHeader"))("selected",e.settings.pipeId)("options",e.data.pipeIds),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,7,"setting.defaultPipeHeaderTooltip"))("iconId",e.settings.pipeId)}}function SU(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div"),t.YNc(7,DU,4,9,"lab-select",35),t.qZA()()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,3,"setting.defaultPipe"))("tooltip",t.lcZ(4,5,"setting.defaultPipeTooltip")),t.xp6(5),t.Q6J("ngIf",e.settings.pipeId)}}function AU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.setCargoWagon(o,null==l.data.defaults?null:l.data.defaults.cargoWagonId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf;t.Q6J("header",t.lcZ(1,5,"setting.defaultCargoWagonHeader"))("selected",e.settings.cargoWagonId)("options",e.data.cargoWagonIds),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,7,"setting.defaultCargoWagonHeaderTooltip"))("iconId",e.settings.cargoWagonId)}}function MU(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div"),t.YNc(7,AU,4,9,"lab-select",35),t.qZA()()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,3,"setting.defaultCargoWagon"))("tooltip",t.lcZ(4,5,"setting.defaultCargoWagonTooltip")),t.xp6(5),t.Q6J("ngIf",e.settings.cargoWagonId)}}function OU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.setFluidWagon(o,null==l.data.defaults?null:l.data.defaults.fluidWagonId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf;t.Q6J("header",t.lcZ(1,5,"setting.defaultFluidWagonHeader"))("selected",e.settings.fluidWagonId)("options",e.data.fluidWagonIds),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,7,"setting.defaultFluidWagonHeaderTooltip"))("iconId",e.settings.fluidWagonId)}}function PU(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div"),t.YNc(7,OU,4,9,"lab-select",35),t.qZA()()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,3,"setting.defaultFluidWagon"))("tooltip",t.lcZ(4,5,"setting.defaultFluidWagonTooltip")),t.xp6(5),t.Q6J("ngIf",e.settings.fluidWagonId)}}function RU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"lab-select",41),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.setFuel(o,null==l.data.defaults?null:l.data.defaults.fuelId))}),t.ALo(1,"translate"),t._UZ(2,"lab-icon",53),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf;t.Q6J("header",t.lcZ(1,5,"setting.chemicalFuelHeader"))("selected",e.settings.fuelId)("options",e.chemicalFuelIds),t.xp6(2),t.Q6J("tooltip",t.lcZ(3,7,"setting.chemicalFuelHeaderTooltip"))("iconId",e.settings.fuelId)}}function NU(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div"),t.YNc(7,RU,4,9,"lab-select",35),t.qZA()()()),2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("text",t.lcZ(3,3,"setting.chemicalFuel"))("tooltip",t.lcZ(4,5,"setting.chemicalFuelTooltip")),t.xp6(5),t.Q6J("ngIf",e.settings.fuelId)}}function FU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"table",14)(1,"tr")(2,"td"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"div",1)(7,"input",59),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.emitNumber("flowRate",o,1))}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"a",60),t._uU(13,"Wiki"),t.qZA()()()()(),t.TgZ(14,"tr")(15,"td"),t._uU(16),t.ALo(17,"translate"),t.TgZ(18,"a",61),t._uU(19,"Wiki"),t.qZA()(),t.TgZ(20,"td")(21,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setInserterTarget(o))}),t.ALo(22,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,9,"setting.pipeFlowRate")),t.xp6(4),t.Q6J("title",t.lcZ(8,11,"setting.pipeFlowRateTitle"))("formControl",i.ctrlFlowRate)("value",e.settings.flowRate),t.xp6(3),t.hij(" ",t.lcZ(11,13,"setting.flowRateUnit")," "),t.xp6(6),t.hij(" ",t.lcZ(17,15,"setting.inserterTarget")," "),t.xp6(5),t.Q6J("title",t.lcZ(22,17,"setting.inserterTargetTitle"))("selected",e.settings.inserterTarget)("options",i.InserterTargetOptions)}}function kU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td",62),t._uU(6," + "),t.TgZ(7,"input",63),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.emitNumber("miningBonus",o,0))}),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t._uU(10," % "),t.qZA()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("text",t.lcZ(3,6,"setting.miningProductivity"))("tooltip",t.lcZ(4,8,"setting.miningProductivityTooltip")),t.xp6(5),t.Q6J("title",t.lcZ(8,10,"setting.miningProductivityTitle"))("placeholder",t.lcZ(9,12,"setting.miningProductivityPlaceholder"))("formControl",i.ctrlMiningProductivity)("value",e.settings.miningBonus)}}function LU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td",62)(6,"input",64),t.NdJ("input",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.emitNumber("miningBonus",o,0,-100))}),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA(),t._uU(9," % "),t.qZA()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("text",t.lcZ(3,6,"setting.miningSpeed"))("tooltip",t.lcZ(4,8,"setting.miningSpeedTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(7,10,"setting.miningSpeedTitle"))("placeholder",t.lcZ(8,12,"setting.miningSpeedPlaceholder"))("formControl",i.ctrlMiningSpeed)("value",e.settings.miningBonus+100)}}function BU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.setResearchSpeed(o))}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("text",t.lcZ(3,5,"setting.researchSpeed"))("tooltip",t.lcZ(4,7,"setting.researchSpeedTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(7,9,"setting.researchSpeedTitle"))("selected",e.settings.researchSpeed)("options",i.ResearchSpeedOptions)}}function ZU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"lab-info",8),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"td")(6,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.setInserterCapacity(o))}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw();t.xp6(2),t.Q6J("text",t.lcZ(3,5,"setting.inserterCapacity"))("tooltip",t.lcZ(4,7,"setting.inserterCapacityTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(7,9,"setting.inserterCapacityTitle"))("selected",e.settings.inserterCapacity)("options",i.InserterCapacityOptions)}}function UU(n,r){if(1&n&&(t.TgZ(0,"div",7)(1,"div")(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"table",28),t.YNc(6,kU,11,14,"tr",0),t.YNc(7,LU,10,14,"tr",0),t.YNc(8,BU,8,11,"tr",0),t.YNc(9,ZU,8,11,"tr",0),t.qZA()()()),2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,5,"setting.bonuses")),t.xp6(3),t.Q6J("ngIf",e.data.game===i.Game.Factorio),t.xp6(1),t.Q6J("ngIf",e.data.game===i.Game.DysonSphereProgram),t.xp6(1),t.Q6J("ngIf",e.data.game===i.Game.Factorio),t.xp6(1),t.Q6J("ngIf",e.data.game===i.Game.Factorio)}}function VU(n,r){1&n&&(t.TgZ(0,"span",67),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"setting.simplexSolverDisabled")))}function jU(n,r){1&n&&(t.TgZ(0,"span",67),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"setting.simplexSolverWasmFloat64")))}function $U(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",65),t.YNc(2,VU,3,3,"span",66),t.YNc(3,jU,3,3,"span",66),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.preferences.simplexType),t.xp6(1),t.Q6J("ngSwitchCase",i.SimplexType.Disabled),t.xp6(1),t.Q6J("ngSwitchCase",i.SimplexType.WasmFloat64)}}function HU(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",1)(6,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clickResetSettings())}),t.ALo(7,"translate"),t.TgZ(8,"i",4),t._uU(9,"delete"),t.qZA()(),t.TgZ(10,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeSettings.emit())}),t.TgZ(11,"i",4),t._uU(12,"close"),t.qZA()()()(),t.TgZ(13,"div",6)(14,"div",7)(15,"div")(16,"div",2),t._UZ(17,"lab-info",8),t.ALo(18,"translate"),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",9),t.YNc(21,JZ,5,7,"ng-container",10),t.YNc(22,YZ,7,8,"ng-template",null,11,t.W1O),t.qZA()()(),t.TgZ(24,"div",7)(25,"div")(26,"div",12)(27,"div",2),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.YNc(30,WZ,3,3,"a",13),t.qZA(),t.TgZ(31,"table",14)(32,"tr")(33,"td"),t._UZ(34,"lab-info",8),t.ALo(35,"translate"),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"td")(38,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setGame(o))}),t.ALo(39,"translate"),t.qZA()()(),t.YNc(40,KZ,8,11,"tr",0),t.TgZ(41,"tr")(42,"td"),t._UZ(43,"lab-info",8),t.ALo(44,"translate"),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"td")(47,"div",16)(48,"table"),t.YNc(49,XZ,6,2,"tr",17),t.ALo(50,"keyvalue"),t.qZA()()()(),t.TgZ(51,"tr")(52,"td"),t._UZ(53,"lab-info",8),t.ALo(54,"translate"),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"td")(57,"lab-toggle",18),t.NdJ("selectIds",function(o){const d=t.CHM(e).ngIf,_=t.oxw();return t.KtG(_.setDisabledRecipes(o,null==d.data.defaults?null:d.data.defaults.disabledRecipeIds))}),t.qZA()()()()()(),t.TgZ(58,"div",7)(59,"div")(60,"div",2),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"table",19)(64,"tr")(65,"td"),t._UZ(66,"lab-info",8),t.ALo(67,"translate"),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"td")(70,"lab-columns",20)(71,"button",21),t.ALo(72,"translate"),t.TgZ(73,"span",22),t._uU(74),t.ALo(75,"translate"),t.qZA()()()()(),t.TgZ(76,"tr")(77,"td"),t._UZ(78,"lab-info",8),t.ALo(79,"translate"),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"td")(82,"lab-options",15),t.NdJ("selectId",function(o){const d=t.CHM(e).ngIf,_=t.oxw();return t.KtG(_.setDisplayRate(o,d.settings.displayRate))}),t.ALo(83,"translate"),t.qZA()()(),t.YNc(84,eU,8,11,"tr",0),t.qZA()()(),t.TgZ(85,"div",7)(86,"div")(87,"div",2),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"table",14)(91,"tr")(92,"td"),t._UZ(93,"lab-info",8),t.ALo(94,"translate"),t.ALo(95,"translate"),t.qZA(),t.TgZ(96,"td")(97,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setPreset(o))}),t.ALo(98,"translate"),t.qZA()()()(),t.YNc(99,IU,2,1,"table",23),t.TgZ(100,"table",24),t.YNc(101,xU,7,8,"tr",0),t.YNc(102,EU,9,11,"tr",0),t.YNc(103,CU,11,16,"tr",0),t.TgZ(104,"tr")(105,"td"),t._UZ(106,"lab-info",8),t.ALo(107,"translate"),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"td")(110,"div"),t.YNc(111,TU,4,10,"lab-select",25),t.qZA()()(),t.YNc(112,SU,8,7,"tr",0),t.YNc(113,MU,8,7,"tr",0),t.YNc(114,PU,8,7,"tr",0),t.YNc(115,NU,8,7,"tr",0),t.qZA(),t.YNc(116,FU,23,19,"table",26),t.qZA()(),t.YNc(117,UU,10,7,"div",27),t.TgZ(118,"div",7)(119,"div")(120,"div",2),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.TgZ(123,"table",28)(124,"tr")(125,"td"),t._UZ(126,"lab-info",8),t.ALo(127,"translate"),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"td")(130,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setSimplexType(o))}),t.ALo(131,"translate"),t.qZA()()(),t.YNc(132,$U,4,3,"tr",0),t.TgZ(133,"tr")(134,"td"),t._UZ(135,"lab-info",8),t.ALo(136,"translate"),t.ALo(137,"translate"),t.qZA(),t.TgZ(138,"td")(139,"lab-options",15),t.NdJ("selectId",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.changeLanguage(o))}),t.ALo(140,"translate"),t.qZA()()()()()()(),t.BQk()}if(2&n){const e=r.ngIf,i=t.MAs(23),o=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,63,"setting.name")),t.xp6(3),t.Q6J("title",t.lcZ(7,65,"setting.deleteAllSettings")),t.xp6(11),t.Q6J("text",t.lcZ(18,67,"setting.saveStates"))("tooltip",t.lcZ(19,69,"setting.saveStatesTooltip")),t.xp6(4),t.Q6J("ngIf",!o.editState)("ngIfElse",i),t.xp6(7),t.Oqu(t.lcZ(29,71,"setting.recipes")),t.xp6(2),t.Q6J("ngIf",e.data.game===o.Game.Factorio),t.xp6(4),t.Q6J("text",t.lcZ(35,73,"setting.game"))("tooltip",t.lcZ(36,75,"setting.gameTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(39,77,"setting.gameTitle"))("selected",e.data.game)("options",o.GameOptions),t.xp6(2),t.Q6J("ngIf",e.data.game===o.Game.Factorio),t.xp6(3),t.Q6J("text",t.lcZ(44,79,"setting.modVersions"))("tooltip",t.lcZ(45,81,"setting.modVersionsTooltip")),t.xp6(6),t.Q6J("ngForOf",t.lcZ(50,83,e.data.version)),t.xp6(4),t.Q6J("text",t.lcZ(54,85,"setting.disabled"))("tooltip",t.lcZ(55,87,"setting.disabledTooltip")),t.xp6(4),t.Q6J("selected",e.settings.disabledRecipeIds),t.xp6(4),t.Oqu(t.lcZ(62,89,"setting.display")),t.xp6(5),t.Q6J("text",t.lcZ(67,91,"setting.columnsAndPrecision"))("tooltip",t.lcZ(68,93,"setting.columnsAndPrecisionTooltip")),t.xp6(5),t.Q6J("title",t.lcZ(72,95,"setting.columnsAndPrecisionTitle")),t.xp6(3),t.AsE("",e.columnsVisible," ",t.lcZ(75,97,"setting.visible"),""),t.xp6(4),t.Q6J("text",t.lcZ(79,99,"setting.displayRate"))("tooltip",t.lcZ(80,101,"setting.displayRateTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(83,103,"setting.displayRateTitle"))("selected",e.settings.displayRate)("options",o.DisplayRateOptions),t.xp6(2),t.Q6J("ngIf",e.columns[o.Column.Power].show),t.xp6(4),t.Oqu(t.lcZ(89,105,"setting.factory")),t.xp6(5),t.Q6J("text",t.lcZ(94,107,"setting.preset"))("tooltip",t.lcZ(95,109,"setting.presetTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(98,111,"setting.presetTitle"))("selected",e.settings.preset)("options",e.presetOptions),t.xp6(2),t.Q6J("ngIf",e.data.game!==o.Game.CaptainOfIndustry),t.xp6(2),t.Q6J("ngIf",e.data.game===o.Game.Factorio),t.xp6(1),t.Q6J("ngIf",e.settings.beaconReceivers),t.xp6(1),t.Q6J("ngIf",e.data.game===o.Game.DysonSphereProgram),t.xp6(3),t.Q6J("text",t.lcZ(107,113,"setting.defaultTransportBelt"))("tooltip",t.lcZ(108,115,"setting.defaultTransportBeltTooltip")),t.xp6(5),t.Q6J("ngIf",e.settings.beltId),t.xp6(1),t.Q6J("ngIf",e.data.pipeIds.length),t.xp6(1),t.Q6J("ngIf",e.data.cargoWagonIds.length>1),t.xp6(1),t.Q6J("ngIf",e.data.fluidWagonIds.length>1),t.xp6(1),t.Q6J("ngIf",e.chemicalFuelIds.length&&e.data.game!==o.Game.Satisfactory),t.xp6(1),t.Q6J("ngIf",e.data.game===o.Game.Factorio),t.xp6(1),t.Q6J("ngIf",e.data.game!==o.Game.Satisfactory),t.xp6(4),t.Oqu(t.lcZ(122,117,"setting.advanced")),t.xp6(5),t.Q6J("text",t.lcZ(127,119,"setting.simplexSolver"))("tooltip",t.lcZ(128,121,"setting.simplexSolverTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(131,123,"setting.simplexSolverTitle"))("selected",e.preferences.simplexType)("options",o.simplexTypeOptions),t.xp6(2),t.Q6J("ngIf",e.preferences.simplexType!==o.SimplexType.JsBigIntRational),t.xp6(3),t.Q6J("text",t.lcZ(136,125,"setting.language"))("tooltip",t.lcZ(137,127,"setting.languageTooltip")),t.xp6(4),t.Q6J("title",t.lcZ(140,129,"setting.languageTitle"))("selected",e.preferences.language)("options",o.languageOptions)}}let Ad=class{constructor(r,e,i,o,l,d){this.el=r,this.ref=e,this.router=i,this.translateSvc=o,this.routerSvc=l,this.store=d,this.closeSettings=new t.vpe,this.vm$=Ar([this.store.select(md),this.store.select(gP),this.store.select(hP),this.store.select(J_),this.store.select(mi),this.store.select(fP),this.store.select(rP),this.store.select(iP),this.store.select(Iw),this.store.select(Fa),this.store.select(N2),this.store.select(F2)]).pipe((0,yt.U)(([_,g,h,b,T,P,S,F,te,ce,me,xe])=>({factories:_,factoryOptionIds:g,factoryRows:h,settings:b,data:T,chemicalFuelIds:P,presetOptions:S,columns:te,preferences:ce,modOptions:F,savedStates:me,columnsVisible:xe}))),this.ctrlFlowRate=new hc(Sn.flowRate,jy.min(1)),this.ctrlMiningProductivity=new hc(Sn.miningBonus,jy.min(0)),this.ctrlMiningSpeed=new hc(Sn.miningBonus+100,jy.min(100)),this.state="",this.tempState="",this.editState=!1,this.opening=!0,this.initial=Sn,this.simplexTypeOptions=[{id:Qi.JsBigIntRational,name:"options.simplexTypeJsBigIntRational"},{id:Qi.WasmFloat64,name:"options.simplexTypeWasmFloat64"},{id:Qi.Disabled,name:"options.simplexTypeDisabled"}],this.languageOptions=[{id:"en",name:"English"},{id:"zh",name:"\u7b80\u4f53\u4e2d\u6587"}],this.GameOptions=Wd,this.ResearchSpeedOptions=ky,this.InserterCapacityOptions=Jl,this.InserterTargetOptions=Kd,this.DisplayRateOptions=ws,this.PowerUnitOptions=Es,this.SimplexType=Qi,this.BrowserUtility=Po,this.ItemId=st,this.Game=ct,this.Column=rt}get isInOverlayMode(){return window.getComputedStyle(this.el.nativeElement).marginRight.startsWith("-")}ngOnInit(){this.store.select(RS).pipe(Mr()).subscribe(r=>{this.state=Object.keys(r).find(e=>r[e]===Po.search)||""}),this.store.select(J_).pipe(cd(this)).subscribe(r=>{this.ctrlFlowRate.setValue(r.flowRate),this.ctrlMiningProductivity.setValue(r.miningBonus),this.ctrlMiningSpeed.setValue(r.miningBonus+100)}),this.router.events.subscribe(()=>this.ref.detectChanges())}scroll(){this.ref.detectChanges()}click(r){this.opening?this.opening=!1:!this.el.nativeElement.contains(r.target)&&document.contains(r.target)&&this.isInOverlayMode&&this.closeSettings.emit()}setGame(r){switch(r){case ct.Factorio:this.setMod(Sn.modId);break;case ct.CaptainOfIndustry:this.setMod("coi");break;case ct.DysonSphereProgram:this.setMod("dsp");break;case ct.Satisfactory:this.setMod("sfy")}}changeBeaconCount(r,e,i,o){null!=o.defaults&&this.setBeaconCount(r,e,""===r?o.defaults.beaconCount:i.entities[""].beaconCount)}changeOverclock(r,e,i){const l=e.target.valueAsNumber;l>=1&&l<=250&&this.setOverclock(r,l,""===r?100:i.entities[""].overclock)}emitNumber(r,e,i,o=0){let d=Number(e.target.value)+o;d=Math.max(d,i),"miningBonus"===r?this.setMiningBonus(d):this.setFlowRate(d)}setState(r,e){const i=e.states[r];if(i){const o=this.routerSvc.getParams(i);this.state=r,this.router.navigate([],{queryParams:o})}}clickSaveState(){this.saveState(this.tempState,Po.search),this.editState=!1,this.state=this.tempState}clickRemoveState(){this.removeState(this.state),this.state=""}toggleEditState(){this.editState=!this.editState,this.tempState=this.state}clickResetSettings(){confirm("\u26a0 Warning:\nThis will delete ALL saved Factorio Lab settings in this browser, are you sure?")&&(localStorage.clear(),this.resetSettings())}toggleBeaconPower(r){this.setBeaconReceivers(r.beaconReceivers?null:"1")}changeLanguage(r){this.translateSvc.use(r),this.setLanguage(r)}resetSettings(){this.store.dispatch(new A2)}saveState(r,e){this.store.dispatch(new v2({id:r,value:e}))}removeState(r){this.store.dispatch(new b2(r))}setPreset(r){this.store.dispatch(new pO(r))}setMod(r){this.store.dispatch(new gO(r))}setDisabledRecipes(r,e){this.store.dispatch(new US({value:r,def:e}))}addFactory(r,e){this.store.dispatch(new iO({value:r,def:e}))}removeFactory(r,e){this.store.dispatch(new oO({value:r,def:e}))}raiseFactory(r,e){this.store.dispatch(new sO({value:r,def:e}))}setFactory(r,e,i){this.store.dispatch(new aO({id:r,value:e,def:i}))}setModuleRank(r,e,i){this.store.dispatch(new cO({id:r,value:e,def:i}))}setBeaconCount(r,e,i){this.store.dispatch(new lO({id:r,value:e,def:i}))}setBeacon(r,e,i){this.store.dispatch(new uO({id:r,value:e,def:i}))}setBeaconModule(r,e,i){this.store.dispatch(new dO({id:r,value:e,def:i}))}setOverclock(r,e,i){this.store.dispatch(new fO({id:r,value:e,def:i}))}setBeaconReceivers(r){this.store.dispatch(new hO(r))}setBelt(r,e){this.store.dispatch(new mO({value:r,def:e}))}setPipe(r,e){this.store.dispatch(new yO({value:r,def:e}))}setFuel(r,e){this.store.dispatch(new vO({value:r,def:e}))}setFlowRate(r){this.store.dispatch(new bO(r))}setCargoWagon(r,e){this.store.dispatch(new wO({value:r,def:e}))}setFluidWagon(r,e){this.store.dispatch(new IO({value:r,def:e}))}setInserterTarget(r){this.store.dispatch(new CO(r))}setMiningBonus(r){this.store.dispatch(new xO(r))}setResearchSpeed(r){this.store.dispatch(new EO(r))}setInserterCapacity(r){this.store.dispatch(new TO(r))}setDisplayRate(r,e){this.store.dispatch(new VS({value:r,prev:e}))}setSimplexType(r){this.store.dispatch(new C2(r))}setLanguage(r){this.store.dispatch(new T2(r))}setPowerUnit(r){this.store.dispatch(new D2(r))}setProliferatorSpray(r){this.store.dispatch(new OO(r))}};function zU(n,r){1&n&&(t.ynx(0),t.TgZ(1,"span",6),t._uU(2,"|"),t.qZA(),t.TgZ(3,"a",13),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"game.Factorio")))}function qU(n,r){1&n&&(t.ynx(0),t.TgZ(1,"span",6),t._uU(2,"|"),t.qZA(),t.TgZ(3,"a",14),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"game.CaptainOfIndustry")))}function GU(n,r){1&n&&(t.ynx(0),t.TgZ(1,"span",6),t._uU(2,"|"),t.qZA(),t.TgZ(3,"a",15),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"game.DysonSphereProgram")))}function JU(n,r){1&n&&(t.ynx(0),t.TgZ(1,"span",6),t._uU(2,"|"),t.qZA(),t.TgZ(3,"a",16),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"game.Satisfactory")))}function QU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",22)(1,"lab-settings",23),t.NdJ("closeSettings",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showSettings=!o.showSettings)}),t.qZA()()}2&n&&t.Q6J("@slideLeftRight",void 0)}function YU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"h2"),t._uU(2,"Poll"),t.qZA(),t.TgZ(3,"div",25)(4,"a",26),t._uU(5,"Have a minute to answer a poll?"),t.qZA(),t.TgZ(6,"div",27)(7,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.hidePoll(!0))}),t.TgZ(8,"span",29),t._uU(9,"Don't show again"),t.qZA()(),t.TgZ(10,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.hidePoll())}),t.TgZ(11,"span",29),t._uU(12,"Close"),t.qZA()()()()()}if(2&n){const e=t.oxw(4);t.xp6(4),t.Q6J("href",e.poll,t.LSH)}}function WU(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.showSettings=!0)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"app.settings")))}function KU(n,r){if(1&n&&(t.TgZ(0,"div")(1,"ul",30)(2,"li",31)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"li",32)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",33)(11,"span"),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.YNc(14,WU,4,3,"li",34),t.qZA(),t.TgZ(15,"div",25),t._UZ(16,"router-outlet"),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(4),t.Oqu(t.lcZ(5,4,"app.list")),t.xp6(4),t.Oqu(t.lcZ(9,6,"app.flow")),t.xp6(4),t.Oqu(t.lcZ(13,8,"app.matrix")),t.xp6(2),t.Q6J("ngIf",!e.showSettings)}}function XU(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t._uU(3),t.qZA()),2&n){const e=t.oxw(4).ngIf;t.xp6(1),t.lnq("Simplex ",e.result.resultType,": ",e.result.time,"ms, ",e.result.pivots," pivots"),t.xp6(2),t.lnq(" Size: ",e.result.A.length," x ",e.result.A[0].length,", Cost: ",e.result.O[e.result.O.length-1].toPrecision(2)," ")}}function e5(n,r){if(1&n&&(t.ynx(0),t.YNc(1,XU,4,6,"span",0),t.BQk()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",e.result.A&&e.result.O)}}function t5(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("Simplex ",e.result.resultType,"")}}function n5(n,r){if(1&n&&(t.TgZ(0,"main"),t.YNc(1,QU,2,1,"div",17),t.TgZ(2,"div",18),t.YNc(3,YU,13,1,"div",19),t._UZ(4,"lab-products"),t.YNc(5,KU,17,10,"div",0),t.TgZ(6,"div")(7,"div",20),t.YNc(8,e5,2,1,"ng-container",10),t.YNc(9,t5,2,1,"ng-template",null,21,t.W1O),t.TgZ(11,"span"),t._uU(12),t.qZA()()()()()),2&n){const e=t.MAs(10),i=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.showSettings),t.xp6(2),t.Q6J("ngIf",o.showPoll),t.xp6(2),t.Q6J("ngIf",i.products.length),t.xp6(3),t.Q6J("ngIf",i.result.resultType===o.MatrixResultType.Solved||i.result.resultType===o.MatrixResultType.Cached)("ngIfElse",e),t.xp6(4),t.Oqu(o.version)}}function r5(n,r){if(1&n&&(t.ynx(0),t.YNc(1,n5,13,6,"main",10),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.MAs(31);t.xp6(1),t.Q6J("ngIf",null!=e.mod)("ngIfElse",i)}}function i5(n,r){1&n&&(t.TgZ(0,"div",35)(1,"div")(2,"div",25),t._uU(3,"Loading data, please wait..."),t.qZA()()())}function o5(n,r){if(1&n&&(t.TgZ(0,"div",36)(1,"div")(2,"h2"),t._uU(3,"Error"),t.qZA(),t.TgZ(4,"div",37)(5,"div"),t._uU(6,"The application has encountered an error:"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"div"),t._uU(9),t.ALo(10,"async"),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"a",4),t._uU(13,"Click here to reset"),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(9),t.Oqu(t.lcZ(10,2,e.errorSvc.message$)),t.xp6(3),t.Q6J("href",e.homeHref,t.LSH)}}function s5(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"a",4)(6,"h1"),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.YNc(9,zU,6,3,"ng-container",0),t.YNc(10,qU,6,3,"ng-container",0),t.YNc(11,GU,6,3,"ng-container",0),t.YNc(12,JU,6,3,"ng-container",0),t.qZA(),t.TgZ(13,"div",2)(14,"a",5),t._uU(15,"Wiki"),t.qZA(),t.TgZ(16,"span",6),t._uU(17,"|"),t.qZA(),t.TgZ(18,"a",7),t._uU(19,"Source"),t.qZA(),t.TgZ(20,"span",6),t._uU(21,"|"),t.qZA(),t.TgZ(22,"a",8),t._uU(23,"Discord"),t.qZA(),t.TgZ(24,"span",6),t._uU(25,"|"),t.qZA(),t.TgZ(26,"a",9),t._uU(27,"Support"),t.qZA()()()(),t.YNc(28,r5,2,2,"ng-container",10),t.ALo(29,"async"),t.YNc(30,i5,4,0,"ng-template",null,11,t.W1O),t.YNc(32,o5,14,4,"ng-template",null,12,t.W1O),t.BQk()),2&n){const e=r.ngIf,i=t.MAs(33),o=t.oxw();t.xp6(5),t.Q6J("href",o.homeHref,t.LSH),t.xp6(2),t.Oqu(t.lcZ(8,8,o.title)),t.xp6(2),t.Q6J("ngIf",e.game!==o.Game.Factorio),t.xp6(1),t.Q6J("ngIf",e.game!==o.Game.CaptainOfIndustry),t.xp6(1),t.Q6J("ngIf",e.game!==o.Game.DysonSphereProgram),t.xp6(1),t.Q6J("ngIf",e.game!==o.Game.Satisfactory),t.xp6(16),t.Q6J("ngIf",null==t.lcZ(29,10,o.errorSvc.message$))("ngIfElse",i)}}Ad.\u0275fac=function(r){return new(r||Ad)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(br),t.Y36(Ia),t.Y36(BT),t.Y36(Ce.yh))},Ad.\u0275cmp=t.Xpm({type:Ad,selectors:[["lab-settings"]],hostBindings:function(r,e){1&r&&t.NdJ("scroll",function(o){return e.scroll(o)})("click",function(o){return e.click(o)},!1,t.evT)},outputs:{closeSettings:"closeSettings"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"flex"],[1,"header"],[1,"dialog-button",3,"title","click"],[1,"material-icons"],[1,"dialog-button",3,"click"],[1,"panel"],[1,"hole"],[3,"text","tooltip"],[1,"flex","states"],[4,"ngIf","ngIfElse"],["stateInput",""],[1,"flex","tween"],["class","small","href","https://github.com/factoriolab/factoriolab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank",4,"ngIf"],[1,"thin"],[3,"title","selected","options","selectId"],[1,"version-scroll"],[4,"ngFor","ngForOf"],[3,"selected","selectIds"],[1,"x-wide"],[1,"relative"],[1,"grow",3,"title"],[1,"text"],["class","factories",4,"ngIf"],[1,"icons"],[3,"header","selected","options","columns","selectId",4,"ngIf"],["class","thin",4,"ngIf"],["class","hole",4,"ngIf"],[1,"wide"],[3,"title","click",4,"ngIf"],[3,"title","click"],["type","text",3,"placeholder","ngModel","ngModelChange"],["href","https://github.com/factoriolab/factoriolab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank",1,"small"],[1,"factories"],["class","pad",3,"iconId","tooltip","item",4,"ngIf"],[3,"header","selected","options","selectId",4,"ngIf"],["class","pad","iconId","production",3,"tooltip",4,"ngIf"],[3,"header","options","selectId",4,"ngIf"],[3,"header","options","selectId"],[3,"title"],[1,"pad",3,"iconId","tooltip","item"],[3,"header","selected","options","selectId"],[1,"button",3,"iconId","tooltip","item"],["iconId","production",1,"pad",3,"tooltip"],[3,"header","selected","options","selectIds",4,"ngIf","ngIfElse"],["moduleSelect",""],[3,"header","selected","options","selectIds"],[1,"button",3,"tooltip","iconId","text"],[3,"header","selected","options","includeEmptyModule","selectId"],["type","number","title","Default overclock","placeholder","100","min","0","max","250","step","10","labValidateOverclock","",3,"ngModel","input"],[3,"header","selected","options","includeEmptyModule","selectId",4,"ngIf"],["placeholder","# Beacons",3,"title","digits","value","setValue"],["beaconPicker",""],[1,"button",3,"tooltip","iconId"],["colspan","2"],[1,"flex","option",3,"click"],[1,"checkbox"],["placeholder","# Receivers","minimum","1",3,"title","digits","value","setValue"],[3,"header","selected","options","columns","selectId"],["type","number","placeholder","1500","min","1","step","1","data-test","lab-settings-flow-rate",3,"title","formControl","value","input"],["href","https://wiki.factorio.com/Fluid_system#Pipelines","target","_blank"],["href","https://wiki.factorio.com/Inserters#Inserter_Throughput","target","_blank"],[1,"right"],["type","number","min","0","step","10","data-test","lab-settings-mining-bonus",3,"title","placeholder","formControl","value","input"],["type","number","min","100","step","10","data-test","lab-settings-mining-bonus",3,"title","placeholder","formControl","value","input"],["colspan","2",1,"message",3,"ngSwitch"],["class","invalid",4,"ngSwitchCase"],[1,"invalid"]],template:function(r,e){1&r&&(t.YNc(0,HU,141,131,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.vm$))},dependencies:[Xn,cr,ne,de,_i,su,wn,vc,yc,Ls,Qo,ZT,Za,HT,sy,Hw,NM,zw,FM,qw,Qr,xi,ki,Gw],styles:["[_nghost-%COMP%]{flex-grow:1;width:20.75rem}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:.75rem}[_nghost-%COMP%] > .flex[_ngcontent-%COMP%] > .flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.25rem}[_nghost-%COMP%] > .panel[_ngcontent-%COMP%]{padding:.125rem}.hole[_ngcontent-%COMP%]{padding:.125rem;margin:.25rem;background-color:var(--color-back);box-shadow:var(--shadow-hole)}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem;margin:1px 0;background-color:var(--color-light);box-shadow:var(--shadow-inner)}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:.25rem}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.factories[_ngcontent-%COMP%]{width:auto}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.factories[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{min-width:2.5rem}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.thin[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:35%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.wide[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:42%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.x-wide[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:50%}.hole[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   table.icons[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child:not(:first-child) > div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.small[_ngcontent-%COMP%]{font-size:small}.states[_ngcontent-%COMP%]{flex-grow:1}.states[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex-grow:1}.states[_ngcontent-%COMP%]   lab-options[_ngcontent-%COMP%]{display:flex}.states[_ngcontent-%COMP%]   lab-options[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex-grow:1}.states[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.25rem}table[_ngcontent-%COMP%] + table[_ngcontent-%COMP%]{margin-top:.5rem}.right[_ngcontent-%COMP%]{text-align:right}.option[_ngcontent-%COMP%]{cursor:pointer;padding:.375rem 0;-webkit-user-select:none;user-select:none}.option[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.375rem}.version-scroll[_ngcontent-%COMP%]{max-height:10rem;max-width:13rem;overflow-y:auto;margin:.25rem 0;padding:.25rem 0}.version-scroll[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-bottom:.5rem}.version-scroll[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{padding-bottom:0}.version-scroll[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{-webkit-hyphens:auto;hyphens:auto}.version-scroll[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:right}.message[_ngcontent-%COMP%]{padding:.5rem 0}"],changeDetection:0}),Ad=(0,O_.gn)([Kc()],Ad);let Md=class{constructor(r,e,i,o,l,d,_,g){this.ref=r,this.titleSvc=e,this.gaSvc=i,this.translateSvc=o,this.errorSvc=l,this.store=d,this.vm$=Ar([this.store.select(qs),this.store.select(ww),this.store.select(Zm),this.store.select(_T)]).pipe((0,yt.U)(([h,b,T,P])=>({game:h,mod:b,products:T,result:P}))),this.title="Factory Calculator",this.showSettings=!1,this.poll="https://www.survey-maker.com/Q62LJFYVL",this.pollKey="poll1",this.showPoll=!1,this.version=`${gr} 2.0.36`,this.ItemId=st,this.MatrixResultType=lr,this.Game=ct,o.setDefaultLang("en")}get lsHidePoll(){return!!localStorage.getItem(this.pollKey)}ngOnInit(){this.store.select(qs).pipe(cd(this)).subscribe(r=>{switch(this.gaSvc.event("set_game",r),r){case ct.Factorio:this.title="title.lab",this.homeHref="factorio";break;case ct.CaptainOfIndustry:this.title="title.coi",this.homeHref="coi";break;case ct.DysonSphereProgram:this.title="title.dsp",this.homeHref="dsp";break;case ct.Satisfactory:this.title="title.sfy",this.homeHref="satisfactory"}this.translateSvc.get(this.title).subscribe(e=>{this.titleSvc.setTitle(`${gr} | ${e}`)})}),this.lsHidePoll&&(this.showPoll=!1),this.store.select(kS).subscribe(r=>{this.translateSvc.use(r),this.gaSvc.event("set_lang",r)}),this.store.select(q_).subscribe(r=>{this.gaSvc.event("set_mod_id",r)})}ngAfterViewInit(){this.errorSvc.message$.subscribe(()=>this.ref.detectChanges())}hidePoll(r=!1){r&&localStorage.setItem(this.pollKey,"hide"),this.showPoll=!1}};Md.\u0275fac=function(r){return new(r||Md)(t.Y36(t.sBO),t.Y36(Bl),t.Y36(ad),t.Y36(Ia),t.Y36(rA),t.Y36(Ce.yh),t.Y36(BT),t.Y36(ck))},Md.\u0275cmp=t.Xpm({type:Md,selectors:[["lab-root"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"top-bar"],[1,"links"],[1,"header"],[3,"href"],["target","_blank","href","https://github.com/factoriolab/factoriolab/wiki"],[1,"separator"],["target","_blank","href","https://github.com/factoriolab/factoriolab"],["target","_blank","href","https://discord.gg/N4FKV687x2"],["target","_blank","href","https://ko-fi.com/dcbroad3"],[4,"ngIf","ngIfElse"],["loading",""],["errorTile",""],["href","factorio"],["href","coi"],["href","dsp"],["href","satisfactory"],["class","settings",4,"ngIf"],[1,"view"],["class","poll",4,"ngIf"],[1,"panel","dark","flex","tween"],["notSolved",""],[1,"settings"],[3,"closeSettings"],[1,"poll"],[1,"panel"],["target","_blank",3,"href"],[1,"flex","buttons"],[3,"click"],[1,"text"],["role","navigation",1,"tabs"],["routerLink","/list","routerLinkActive","active","queryParamsHandling","preserve"],["routerLink","/flow","routerLinkActive","active","queryParamsHandling","preserve"],["routerLink","/matrix","routerLinkActive","active","queryParamsHandling","preserve"],[3,"click",4,"ngIf"],[1,"view","msg","load"],[1,"view","msg","err"],[1,"panel","invalid"]],template:function(r,e){1&r&&(t.YNc(0,s5,34,12,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.vm$))},dependencies:[cr,Zh,nd,jE,RZ,Ad,Qr,ki],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:max-content}.top-bar[_ngcontent-%COMP%]{background-color:#00000080;padding:1rem;font-size:110%}.top-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 1rem;margin:auto;display:flex;justify-content:space-between;flex-wrap:wrap}.top-bar[_ngcontent-%COMP%]   lab-icon[_ngcontent-%COMP%]{margin:-.5rem .5rem -.5rem 0}.top-bar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:larger}.top-bar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .top-bar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-header);text-decoration:none}.top-bar[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;align-items:center}.top-bar[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%] + .links[_ngcontent-%COMP%]{margin-left:1rem}.top-bar[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--color-link);margin:0 .5rem}main[_ngcontent-%COMP%]{flex-grow:1;display:flex;margin:0 auto;margin-bottom:5rem}.view[_ngcontent-%COMP%]{margin-top:.75rem;padding:0 1rem}.view[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.75rem}.view[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%]{background-color:var(--color-back);box-shadow:var(--shadow-main);padding:.75rem}.settings[_ngcontent-%COMP%]{z-index:3;display:flex;margin:.75rem 0 1rem 1rem;align-self:flex-start}@media screen and (max-width: 1000px){.settings[_ngcontent-%COMP%]{margin-right:-23.25rem}}.msg[_ngcontent-%COMP%]{align-self:center}.msg.load[_ngcontent-%COMP%]{width:20rem}.poll[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.buttons[_ngcontent-%COMP%]{margin-top:.5rem}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"],data:{animation:[function N1(n,r){return{type:7,name:n,definitions:r,options:{}}}("slideLeftRight",[mg(":enter",[bc({marginLeft:"-23.25rem",marginRight:"1rem",opacity:0}),hg("300ms ease",bc({marginLeft:"*",marginRight:"*",opacity:1}))]),mg(":leave",[bc({marginLeft:"*",marginRight:"*",opacity:1}),hg("300ms ease",bc({marginLeft:"-23.25rem",marginRight:"1rem",opacity:0}))])])]}}),Md=(0,O_.gn)([Kc()],Md);let d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[$T,ay,VT],imports:[Ks,pg,gh]}),n})();M(4154);function LM(n){let r=!0;return function(e,i){const o=n(e,i);return r?(r=!1,Po.mergeState(o)):(Po.saveState(o),o)}}const f5={datasetsState:function kO(n=FO,r){return"[Datasets] Load Mod"===r.type?{...n,dataEntities:r.payload.data?{...n.dataEntities,[r.payload.data.id]:r.payload.data.value}:n.dataEntities,hashEntities:r.payload.hash?{...n.hashEntities,[r.payload.hash.id]:r.payload.hash.value}:n.hashEntities,i18nEntities:r.payload.i18n?{...n.i18nEntities,[r.payload.i18n.id]:r.payload.i18n.value}:n.i18nEntities}:n},productsState:function rO(n=oT,r){switch(r.type){case Or.LOAD:return r.payload.productsState?r.payload.productsState:oT;case Or.RESET:case"[Settings] Set Mod":return oT;case"[Products] Reset":{const e="0";return{ids:[e],entities:{[e]:{id:e,itemId:r.payload,rate:"60",rateType:mt.Items}},index:1}}case"[Products] Add":{let e="60",i=mt.Items;if(n.ids.length>0){const o=n.ids[n.ids.length-1];e=n.entities[o].rate,i=n.entities[o].rateType}return{...n,ids:[...n.ids,n.index.toString()],entities:{...n.entities,[n.index]:{id:n.index.toString(),itemId:r.payload,rate:e,rateType:i}},index:n.index+1}}case"[Products] Remove":{const e={...n.entities};return delete e[r.payload],{...n,ids:n.ids.filter(i=>i!==r.payload),entities:e}}case"[Products] Set Item":{const e=Ot.assignValue(n.entities,"itemId",r.payload);return e[r.payload.id].rateType===mt.Factories&&(e[r.payload.id].rateType=mt.Items),{...n,entities:Ot.resetFields(e,["viaId","viaSetting","viaFactoryModuleIds","viaBeaconCount","viaBeaconId","viaBeaconModuleIds","viaOverclock"],r.payload.id)}}case"[Products] Set Rate":return{...n,entities:Ot.assignValue(n.entities,"rate",r.payload)};case"[Products] Set Rate Type":return{...n,entities:Ot.resetFields(Ot.assignValue(n.entities,"rateType",r.payload),["viaId","viaSetting","viaFactoryModuleIds","viaBeaconCount","viaBeaconId","viaBeaconModuleIds","viaOverclock"],r.payload.id)};case"[Products] Set Via":return{...n,entities:Ot.resetFields(Ot.assignValue(n.entities,"viaId",r.payload),["viaSetting","viaFactoryModuleIds","viaBeaconCount","viaBeaconId","viaBeaconModuleIds","viaOverclock"],r.payload.id)};case"[Products] Reset Via":return{...n,entities:Ot.resetFields(n.entities,["viaId","viaSetting","viaFactoryModuleIds","viaBeaconCount","viaBeaconId","viaBeaconModuleIds","viaOverclock"],r.payload)};case"[Products] Set Via Setting":return{...n,entities:Ot.resetFields(Ot.compareReset(n.entities,"viaSetting",r.payload),["viaFactoryModuleIds","viaBeaconCount","viaBeaconId","viaBeaconModuleIds","viaOverclock"],r.payload.id)};case"[Products] Set Via Factory Modules":return{...n,entities:Ot.compareReset(n.entities,"viaFactoryModuleIds",r.payload)};case"[Products] Set Via Beacon Count":return{...n,entities:Ot.compareReset(n.entities,"viaBeaconCount",r.payload)};case"[Products] Set Via Beacon":return{...n,entities:Ot.resetField(Ot.compareReset(n.entities,"viaBeaconId",r.payload),"viaBeaconModuleIds",r.payload.id)};case"[Products] Set Via Beacon Modules":return{...n,entities:Ot.compareReset(n.entities,"viaBeaconModuleIds",r.payload)};case"[Products] Set Via Overclock":return{...n,entities:Ot.compareReset(n.entities,"viaOverclock",r.payload)};case"[Products] Adjust Display Rate":{const e=L.fromString(r.payload),i={...n.entities};for(const o of n.ids.filter(l=>n.entities[l].rateType===mt.Items||n.entities[l].rateType===mt.Wagons)){const l=L.fromString(n.entities[o].rate).mul(e).toString();i[o]={...n.entities[o],rate:l}}return{...n,entities:i}}default:return n}},itemsState:function CP(n=lT,r){switch(r.type){case Or.LOAD:return{...lT,...r.payload.itemsState};case Or.RESET:case"[Settings] Set Mod":return lT;case"[Items] Ignore Item":return Ot.compareReset(n,"ignore",{id:r.payload,value:!n[r.payload]?.ignore,def:!1});case"[Items] Set Belt":return Ot.compareReset(n,"beltId",r.payload);case"[Items] Set Wagon":return Ot.compareReset(n,"wagonId",r.payload);case"[Items] Set Recipe":return Ot.compareReset(n,"recipeId",r.payload);case"[Items] Reset Item":{const e={...n};return delete e[r.payload],e}case"[Items] Reset Ignore":return Ot.resetField(n,"ignore");case"[Items] Reset Belt":return Ot.resetField(n,"beltId");case"[Items] Reset Wagon":return Ot.resetField(n,"wagonId");default:return n}},recipesState:function VP(n=uT,r){switch(r.type){case Or.LOAD:return{...uT,...r.payload.recipesState};case Or.RESET:case"[Settings] Set Mod":return uT;case"[Recipes] Set Factory":return Ot.resetFields(Ot.compareReset(n,"factoryId",r.payload),["factoryModuleIds","beaconCount","beaconId","beaconModuleIds"],r.payload.id);case"[Recipes] Set Modules":return Ot.compareReset(n,"factoryModuleIds",r.payload);case"[Recipes] Set Beacon Count":return Ot.compareReset(n,"beaconCount",r.payload);case"[Recipes] Set Beacon":return Ot.resetField(Ot.compareReset(n,"beaconId",r.payload),"beaconModuleIds",r.payload.id);case"[Recipes] Set Beacon Modules":return Ot.compareReset(n,"beaconModuleIds",r.payload);case"[Recipes] Set Beacon Total":return Ot.assignValue(n,"beaconTotal",r.payload);case"[Recipes] Set Overclock":return Ot.compareReset(n,"overclock",r.payload);case"[Recipes] Set Cost":return Ot.compareReset(n,"cost",r.payload);case"[Recipes] Reset Recipe":{const e={...n};return delete e[r.payload],e}case"[Recipes] Reset Recipe Modules":return Ot.resetFields(n,["factoryModuleIds","beaconCount","beaconId","beaconModuleIds","beaconTotal"],r.payload);case"[Recipes] Reset Factory":return Ot.resetFields(n,["factoryId","factoryModuleIds","beaconCount","beaconId","beaconModuleIds","beaconTotal"]);case"[Recipes] Reset Beacons":return Ot.resetFields(n,["beaconCount","beaconId","beaconModuleIds","beaconTotal"]);case"[Recipes] Reset Overclock":return Ot.resetFields(n,["overclock"]);case"[Recipes] Reset Cost":return Ot.resetFields(n,["cost"]);default:return n}},factoriesState:function _O(n=bw,r){switch(r.type){case Or.LOAD:return{...bw,...r.payload.factoriesState};case Or.RESET:case"[Settings] Set Mod":case"[Settings] Set Preset":return bw;case"[Factories] Add":{const e=[...n.ids??r.payload.def??[],r.payload.value],i=Ot.compareRank(e,r.payload.def);return{...n,ids:i}}case"[Factories] Remove":{const e=(n.ids??r.payload.def??[]).filter(l=>l!==r.payload.value),i=Ot.compareRank(e,r.payload.def),o={...n,ids:i,entities:{...n.entities}};return delete o.entities[r.payload.value],o}case"[Factories] Raise":{const e=[...n.ids??r.payload.def??[]],i=e.indexOf(r.payload.value);if(-1!==i&&i>0){e.splice(i-1,0,e.splice(i,1)[0]);const o=Ot.compareRank(e,r.payload.def);return{...n,ids:o}}return n}case"[Factories] Set Factory":{const e=[...n.ids??r.payload.def??[]],i=e.indexOf(r.payload.id);if(-1!==i){e[i]=r.payload.value;const o=Ot.compareRank(e,r.payload.def),l={...n,ids:o,entities:{...n.entities}};return l.entities[r.payload.value]=l.entities[r.payload.id],delete l.entities[r.payload.id],l}return n}case"[Factories] Set Module Rank":{const e=Ot.compareReset(n.entities,"moduleRankIds",r.payload,!0);return{...n,entities:e}}case"[Factories] Set Beacon Count":{const e=Ot.compareReset(n.entities,"beaconCount",r.payload);return{...n,entities:e}}case"[Factories] Set Beacon":{const e=Ot.compareReset(n.entities,"beaconId",r.payload);return{...n,entities:e}}case"[Factories] Set Beacon Module":{const e=Ot.compareReset(n.entities,"beaconModuleId",r.payload);return{...n,entities:e}}case"[Factories] Set Overclock":{const e=Ot.compareReset(n.entities,"overclock",r.payload);return{...n,entities:e}}default:return n}},settingsState:function RO(n=Sn,r){switch(r.type){case Or.LOAD:return r.payload.settingsState?{...Sn,...r.payload.settingsState}:Sn;case Or.RESET:return Sn;case"[Settings] Set Preset":return{...n,preset:r.payload};case"[Settings] Set Mod":const e={...n,modId:r.payload,preset:Pn.Minimum,miningBonus:0,researchSpeed:zt.Speed6};return delete e.disabledRecipeIds,delete e.beltId,delete e.pipeId,delete e.fuelId,delete e.cargoWagonId,delete e.fluidWagonId,e;case"[Settings] Set Disabled Recipes":return{...n,disabledRecipeIds:Ot.compareValues(r.payload)};case"[Settings] Set Beacon Receivers":return{...n,beaconReceivers:r.payload};case"[Settings] Set Belt":return{...n,beltId:Ot.compareValue(r.payload)};case"[Settings] Set Pipe":return{...n,pipeId:Ot.compareValue(r.payload)};case"[Settings] Set Fuel":return{...n,fuelId:Ot.compareValue(r.payload)};case"[Settings] Set Flow Rate":return{...n,flowRate:r.payload};case"[Settings] Set Cargo Wagon":return{...n,cargoWagonId:Ot.compareValue(r.payload)};case"[Settings] Set Fluid Wagon":return{...n,fluidWagonId:Ot.compareValue(r.payload)};case"[Settings] Set Display Rate":return{...n,displayRate:r.payload.value};case"[Settings] Set Mining Bonus":return{...n,miningBonus:r.payload};case"[Settings] Set Research Speed":return{...n,researchSpeed:r.payload};case"[Settings] Set Inserter Target":return{...n,inserterTarget:r.payload};case"[Settings] Set Inserter Capacity":return{...n,inserterCapacity:r.payload};case"[Settings] Set Cost Factor":return{...n,costFactor:r.payload};case"[Settings] Set Factory Cost":return{...n,costFactory:r.payload};case"[Settings] Set Input Cost":return{...n,costInput:r.payload};case"[Settings] Set Ignored Cost":return{...n,costIgnored:r.payload};case"[Settings] Set Proliferator Spray":return{...n,proliferatorSprayId:r.payload};case"[Settings] Reset Cost Modifiers":return{...n,costFactor:Sn.costFactor,costFactory:Sn.costFactory,costInput:Sn.costInput,costIgnored:Sn.costIgnored};default:return n}},preferencesState:function M2(n=PS,r){switch(r.type){case Or.RESET:return PS;case"[Preferences] Save State":{const e={...n.states,[r.payload.id]:r.payload.value};return{...n,states:e}}case"[Preferences] Remove State":{const e={...n.states};return delete e[r.payload],{...n,states:e}}case"[Preferences] Set Columns":return{...n,columns:r.payload,powerUnit:r.payload[rt.Power].show?n.powerUnit:ir.Auto};case"[Preferences] Set Link Size":return{...n,linkSize:r.payload};case"[Preferences] Set Link Text":return{...n,linkText:r.payload};case"[Preferences] Set Sankey Align":return{...n,sankeyAlign:r.payload};case"[Preferences] Set Simplex Type":return{...n,simplexType:r.payload};case"[Preferences] Set Display Language":return{...n,language:r.payload};case"[Preferences] Set Power Unit":return{...n,powerUnit:r.payload};default:return n}}},_5=[LM];let p5=(()=>{class n{constructor(e,i){this.gaSvc=e,this.actions$=i,this.logEvent$=Su(()=>this.actions$.pipe(Qn(o=>{this.gaSvc.event("action",o.type)})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ad),t.LFG(To))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),g5=(()=>{class n{constructor(e,i){this.actions$=e,this.dataSvc=i,this.appLoad$=Su(()=>this.actions$.pipe(Do(Or.LOAD),(0,$r.w)(o=>this.dataSvc.requestData(o.payload.settingsState?.modId||Sn.modId).pipe((0,zn.h)(()=>!o.payload.productsState),(0,yt.U)(([d])=>new vw(d.items[0].id)))))),this.appReset$=Su(()=>this.actions$.pipe(Do(Or.RESET),(0,$r.w)(()=>this.dataSvc.requestData(Sn.modId).pipe((0,yt.U)(([o])=>new vw(o.items[0].id)))))),this.setModId$=Su(()=>this.actions$.pipe(Do("[Settings] Set Mod"),(0,$r.w)(o=>this.dataSvc.requestData(o.payload).pipe((0,yt.U)(([l])=>new vw(l.items[0].id))))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(To),t.LFG(nA))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),h5=(()=>{class n{constructor(e,i){this.actions$=e,this.store=i,this.resetRecipeSettings$=Su(()=>this.actions$.pipe(Do("[Factories] Add","[Factories] Remove","[Factories] Raise","[Factories] Set Factory"),(0,$r.w)(()=>Ar([this.store.select(Q_),this.store.select(yd),this.store.select(mi)]).pipe(Mr())),(0,$r.w)(([o,l,d])=>{const _=[];for(const g of Object.keys(o)){const h=o[g];if(h&&(null!=h.factoryModuleIds||null!=h.beaconCount||null!=h.beaconId||null!=h.beaconModuleIds)){const b=l[g].factoryId;if(b){const T=d.factoryEntities[b];(!wr.allowsModules(d.recipeEntities[g],T)||h.factoryModuleIds&&h.factoryModuleIds.length!==T.modules)&&_.push(new kP(g))}}}return _})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(To),t.LFG(Ce.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),m5=(()=>{class n{constructor(e){this.actions$=e,this.adjustDisplayRate$=Su(()=>this.actions$.pipe(Do("[Settings] Set Display Rate"),(0,yt.U)(i=>{const o=mo[i.payload.value].div(mo[i.payload.prev]);return new Q2(o.toString())})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(To))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function y5(){return(0,hh.loadModule)("assets/glpk-wasm/glpk.all.wasm")}let v5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n,bootstrap:[Md]}),n.\u0275inj=t.cJS({providers:[{provide:Ke,useValue:"/"},{provide:t.qLn,useClass:dR},{provide:t.ip1,useFactory:()=>y5,multi:!0}],imports:[kl,Av,Je,pg,M1,Ce.Aw.forRoot(f5,{metaReducers:_5}),zv.FT.instrument({logOnly:true}),i_.forRoot([g5,m5,h5,p5]),gh.forRoot({loader:{provide:Uc,useFactory:r=>new Zx(r,"./assets/i18n/",".json"),deps:[fa]},defaultLanguage:"en"}),om.forRoot("G-TFR5Z43GPH"),yb,BB,d5]}),n})();(0,t.G48)(),console.info(`${gr} 2.0.36`),_p().bootstrapModule(v5).catch(n=>console.error(n))},4154:K=>{K.exports=function j(M){Object.freeze(M);var t="function"==typeof M,Y=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(M).forEach(function(W){Y.call(M,W)&&(!t||"caller"!==W&&"callee"!==W&&"arguments"!==W)&&null!==M[W]&&("object"==typeof M[W]||"function"==typeof M[W])&&!Object.isFrozen(M[W])&&j(M[W])}),M}},3675:(K,j,M)=>{var t=M(3113);K.exports=function(W,m){var k,q=[],re=[],$=[],O={},G=[];function J(Ae){$[Ae]=!1,O.hasOwnProperty(Ae)&&Object.keys(O[Ae]).forEach(function(ve){delete O[Ae][ve],$[ve]&&J(ve)})}function X(Ae){var Ve,Qe,ve=!1;for(re.push(Ae),$[Ae]=!0,Ve=0;Ve<G[Ae].length;Ve++)(Qe=G[Ae][Ve])===k?(Ie(k,re),ve=!0):$[Qe]||(ve=X(Qe));if(ve)J(Ae);else for(Ve=0;Ve<G[Ae].length;Ve++){var Ye=O[Qe=G[Ae][Ve]];Ye||(O[Qe]=Ye={}),Ye[Qe]=!0}return re.pop(),ve}function Ie(Ae,ve){var Ve=[].concat(ve).concat(Ae);m?m(Ve):q.push(Ve)}function ke(Ae){!function Ee(Ae){for(var ve=0;ve<W.length;ve++)(ve<Ae||!W[ve])&&(W[ve]=[]),W[ve]=W[ve].filter(function(Ve){return Ve>=Ae})}(Ae);for(var wt,Qe=t(W).components.filter(function(Fe){return Fe.length>1}),Ye=1/0,ht=0;ht<Qe.length;ht++)for(var ue=0;ue<Qe[ht].length;ue++)Qe[ht][ue]<Ye&&(Ye=Qe[ht][ue],wt=ht);var be=Qe[wt];return!!be&&{leastVertex:Ye,adjList:W.map(function(Fe,ye){return-1===be.indexOf(ye)?[]:Fe.filter(function(He){return-1!==be.indexOf(He)})})}}k=0;for(var Se=W.length;k<Se;){var Te=ke(k);if(k=Te.leastVertex,G=Te.adjList){for(var Re=0;Re<G.length;Re++)for(var Ke=0;Ke<G[Re].length;Ke++){var Ge=G[Re][Ke];$[+Ge]=!1,O[Ge]={}}X(k),k+=1}else k=Se}if(!m)return q}},4327:function(K,j){var Y;void 0!==(Y=function(){"use strict";function m(k,J,X){var Ie=new XMLHttpRequest;Ie.open("GET",k),Ie.responseType="blob",Ie.onload=function(){G(Ie.response,J,X)},Ie.onerror=function(){console.error("could not download file")},Ie.send()}function q(k){var J=new XMLHttpRequest;J.open("HEAD",k,!1);try{J.send()}catch{}return 200<=J.status&&299>=J.status}function re(k){try{k.dispatchEvent(new MouseEvent("click"))}catch{var J=document.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(J)}}var $="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,O=$.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),G=$.saveAs||("object"!=typeof window||window!==$?function(){}:"download"in HTMLAnchorElement.prototype&&!O?function(k,J,X){var Ie=$.URL||$.webkitURL,Ee=document.createElement("a");Ee.download=J=J||k.name||"download",Ee.rel="noopener","string"==typeof k?(Ee.href=k,Ee.origin===location.origin?re(Ee):q(Ee.href)?m(k,J,X):re(Ee,Ee.target="_blank")):(Ee.href=Ie.createObjectURL(k),setTimeout(function(){Ie.revokeObjectURL(Ee.href)},4e4),setTimeout(function(){re(Ee)},0))}:"msSaveOrOpenBlob"in navigator?function(k,J,X){if(J=J||k.name||"download","string"!=typeof k)navigator.msSaveOrOpenBlob(function W(k,J){return typeof J>"u"?J={autoBom:!1}:"object"!=typeof J&&(console.warn("Deprecated: Expected third argument to be a object"),J={autoBom:!J}),J.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(k.type)?new Blob(["\ufeff",k],{type:k.type}):k}(k,X),J);else if(q(k))m(k,J,X);else{var Ie=document.createElement("a");Ie.href=k,Ie.target="_blank",setTimeout(function(){re(Ie)})}}:function(k,J,X,Ie){if((Ie=Ie||open("","_blank"))&&(Ie.document.title=Ie.document.body.innerText="downloading..."),"string"==typeof k)return m(k,J,X);var Ee="application/octet-stream"===k.type,ke=/constructor/i.test($.HTMLElement)||$.safari,Se=/CriOS\/[\d]+/.test(navigator.userAgent);if((Se||Ee&&ke||O)&&typeof FileReader<"u"){var Te=new FileReader;Te.onloadend=function(){var Ge=Te.result;Ge=Se?Ge:Ge.replace(/^data:[^;]*;/,"data:attachment/file;"),Ie?Ie.location.href=Ge:location=Ge,Ie=null},Te.readAsDataURL(k)}else{var Re=$.URL||$.webkitURL,Ke=Re.createObjectURL(k);Ie?Ie.location=Ke:location.href=Ke,Ie=null,setTimeout(function(){Re.revokeObjectURL(Ke)},4e4)}});$.saveAs=G.saveAs=G,K.exports=G}.apply(j,[]))&&(K.exports=Y)},1720:function(K,j,M){!function(t,Y){"use strict";function W(he){return he&&"object"==typeof he&&"default"in he?he:{default:he}}var m=W(Y);function re(he,E,Q,ge){return new(Q||(Q=Promise))(function(ut,ft){function Xe(gn){try{gt(ge.next(gn))}catch(xr){ft(xr)}}function $e(gn){try{gt(ge.throw(gn))}catch(xr){ft(xr)}}function gt(gn){gn.done?ut(gn.value):function it(ut){return ut instanceof Q?ut:new Q(function(ft){ft(ut)})}(gn.value).then(Xe,$e)}gt((ge=ge.apply(he,E||[])).next())})}let $,O;var k,he,E;function J(he,E){return void 0===he?void 0===E?k.BoundType.FREE:k.BoundType.UB:void 0===E?k.BoundType.LB:he===E?k.BoundType.FIXED:k.BoundType.BOUNDED}function X(he){const E=he.model.numConstrs,Q=he.model.numVars,ge=O._malloc(12*(Q+1));let it=new Float64Array(O.HEAPU8.buffer,ge,Q+1),ut=new Int32Array(O.HEAPU8.buffer,ge+8*(Q+1),Q+1);O._glp_eval_tab_row(he.model.ptr,he instanceof Ke?E+he.id:he.id,ge+8*(Q+1),ge);const ft=Array.from(ut.slice(1).filter(Xe=>Xe>0),(Xe,$e)=>[Xe<=E?he.model.constrs[Xe-1]:he.model.vars[Xe-1-E],it[$e+1]]);return O._free(ge),ft}function Ie(he){const E=he.model.numConstrs,Q=O._malloc(12*(E+1));let ge=new Float64Array(O.HEAPU8.buffer,Q,E+1),it=new Int32Array(O.HEAPU8.buffer,Q+8*(E+1),E+1);O._glp_eval_tab_col(he.model.ptr,he instanceof Ke?E+he.id:he.id,Q+8*(E+1),Q);const ut=Array.from(it.slice(1).filter(ft=>ft>0),(ft,Xe)=>[ft<=E?he.model.constrs[ft-1]:he.model.vars[ft-1-E],ge[Xe+1]]);return O._free(Q),ut}(E=(he=k||(k={})).ObjectiveDirection||(he.ObjectiveDirection={}))[E.MIN=1]="MIN",E[E.MAX=2]="MAX",function(E){E[E.FREE=1]="FREE",E[E.LB=2]="LB",E[E.UB=3]="UB",E[E.BOUNDED=4]="BOUNDED",E[E.FIXED=5]="FIXED"}(he.BoundType||(he.BoundType={})),function(E){E[E.BASIC=1]="BASIC",E[E.LB=2]="LB",E[E.UB=3]="UB",E[E.FREE=4]="FREE",E[E.FIXED=5]="FIXED"}(he.VariableStatus||(he.VariableStatus={})),function(E){E[E.CONTINUOUS=1]="CONTINUOUS",E[E.INTEGER=2]="INTEGER",E[E.BINARY=3]="BINARY"}(he.VariableType||(he.VariableType={})),function(E){E[E.GEOMETRIC_MEAN=1]="GEOMETRIC_MEAN",E[E.EQUILIBRATION=16]="EQUILIBRATION",E[E.POWER_TWO=32]="POWER_TWO",E[E.SKIP=64]="SKIP",E[E.AUTO=128]="AUTO"}(he.Scaling||(he.Scaling={})),function(E){E[E.BASIC=1]="BASIC",E[E.INTERIOR_POINT=2]="INTERIOR_POINT",E[E.MIXED_INTEGER=3]="MIXED_INTEGER"}(he.SolutionIndicator||(he.SolutionIndicator={})),function(E){E[E.UNDEFINED=1]="UNDEFINED",E[E.FEASIBLE=2]="FEASIBLE",E[E.INFEASIBLE=3]="INFEASIBLE",E[E.NO_FEASIBLE=4]="NO_FEASIBLE",E[E.OPTIMAL=5]="OPTIMAL",E[E.UNBOUNDED=6]="UNBOUNDED"}(he.Status||(he.Status={})),function(E){E[E.OFF=0]="OFF",E[E.ERR=1]="ERR",E[E.ON=2]="ON",E[E.ALL=3]="ALL",E[E.DBG=4]="DBG"}(he.MessageLevel||(he.MessageLevel={})),function(E){E[E.PRIMAL=1]="PRIMAL",E[E.DUALP=2]="DUALP",E[E.DUAL=3]="DUAL"}(he.Method||(he.Method={})),function(E){E[E.STD=17]="STD",E[E.PSE=34]="PSE"}(he.Pricing||(he.Pricing={})),function(E){E[E.STD=17]="STD",E[E.HAR=34]="HAR",E[E.FLIP=51]="FLIP"}(he.RatioTest||(he.RatioTest={})),function(E){E[E.NONE=0]="NONE",E[E.QMD=1]="QMD",E[E.AMD=2]="AMD",E[E.SYMAMD=3]="SYMAMD"}(he.OrderingAlgorithm||(he.OrderingAlgorithm={})),function(E){E[E.OK=0]="OK",E[E.EBADB=1]="EBADB",E[E.ESING=2]="ESING",E[E.ECOND=3]="ECOND",E[E.EBOUND=4]="EBOUND",E[E.EFAIL=5]="EFAIL",E[E.EOBJLL=6]="EOBJLL",E[E.EOBJUL=7]="EOBJUL",E[E.EITLIM=8]="EITLIM",E[E.ETMLIM=9]="ETMLIM",E[E.ENOPFS=10]="ENOPFS",E[E.ENODFS=11]="ENODFS",E[E.EROOT=12]="EROOT",E[E.ESTOP=13]="ESTOP",E[E.EMIPGAP=14]="EMIPGAP",E[E.ENOFEAS=15]="ENOFEAS",E[E.ENOCVG=16]="ENOCVG",E[E.EINSTAB=17]="EINSTAB",E[E.EDATA=18]="EDATA",E[E.ERANGE=19]="ERANGE"}(he.ReturnCode||(he.ReturnCode={})),function(E){E[E.FFV=1]="FFV",E[E.LFV=2]="LFV",E[E.MFV=3]="MFV",E[E.DTH=4]="DTH",E[E.PCH=5]="PCH"}(he.BranchingTechnique||(he.BranchingTechnique={})),function(E){E[E.DFS=1]="DFS",E[E.BFS=2]="BFS",E[E.BLB=3]="BLB",E[E.BPH=4]="BPH"}(he.BacktrackingTechnique||(he.BacktrackingTechnique={})),function(E){E[E.NONE=0]="NONE",E[E.ROOT=1]="ROOT",E[E.ALL=2]="ALL"}(he.PreprocessingTechnique||(he.PreprocessingTechnique={})),function(E){E[E.PE=1]="PE",E[E.PB=2]="PB",E[E.DE=3]="DE",E[E.DB=4]="DB",E[E.CS=5]="CS"}(he.ConditionIndicator||(he.ConditionIndicator={})),function(E){E[E.ROWGEN=1]="ROWGEN",E[E.BINGO=2]="BINGO",E[E.HEUR=3]="HEUR",E[E.CUTGEN=4]="CUTGEN",E[E.BRANCH=5]="BRANCH",E[E.SELECT=6]="SELECT",E[E.PREPRO=7]="PREPRO"}(he.ReasonCode||(he.ReasonCode={})),function(E){E[E.NO_BRNCH=0]="NO_BRNCH",E[E.DN_BRNCH=1]="DN_BRNCH",E[E.UP_BRNCH=2]="UP_BRNCH"}(he.BranchSelection||(he.BranchSelection={})),function(E){E[E.REG=0]="REG",E[E.LAZY=1]="LAZY",E[E.CUT=2]="CUT"}(he.RowOrigin||(he.RowOrigin={})),function(E){E[E.GMI=1]="GMI",E[E.MIR=2]="MIR",E[E.COV=3]="COV",E[E.CLQ=4]="CLQ"}(he.RowClass||(he.RowClass={})),function(E){E[E.DECK=1]="DECK",E[E.FILE=2]="FILE"}(he.MPSFormat||(he.MPSFormat={}));const Ee=new Map([[void 0,k.VariableType.CONTINUOUS],["c",k.VariableType.CONTINUOUS],["cont",k.VariableType.CONTINUOUS],["continuous",k.VariableType.CONTINUOUS],["i",k.VariableType.INTEGER],["int",k.VariableType.INTEGER],["integer",k.VariableType.INTEGER],["b",k.VariableType.BINARY],["bin",k.VariableType.BINARY],["binary",k.VariableType.BINARY]]),ke=new Map(Array.from(Ee.entries(),([he,E])=>[E,he]));const Re=new Map(Array.from(new Map([["basic",k.VariableStatus.BASIC],["lower-bound",k.VariableStatus.LB],["upper-bound",k.VariableStatus.UB],["free",k.VariableStatus.FREE],["fixed",k.VariableStatus.FIXED]]).entries(),([he,E])=>[E,he]));class Ke{constructor(E,Q,ge){if(this._lb=0,this._ub=0,this.model=E,this._idx=Q,void 0===ge)return;const{obj:it,lb:ut,ub:ft,type:Xe,name:$e}=ge;void 0!==it&&(this.obj=it),this.setBounds(ut,ft),void 0!==Xe&&(this.type=Xe),void 0!==$e&&(this.name=$e)}get ptr(){return this.model.ptr}get id(){return this._idx}setBounds(E,Q){if(E===this._lb&&Q===this._ub)return;this._lb=E,this._ub=Q;const ge=J(E,Q);O._glp_set_col_bnds(this.ptr,this._idx,ge,E||0,Q||0)}set bounds([E,Q]){this.setBounds(E,Q)}set name(E){const Q=O.lengthBytesUTF8(E)+1,ge=O._malloc(Q);O.stringToUTF8(E,ge,Q),O._glp_set_col_name(this.ptr,this._idx,ge),O._free(ge)}get name(){const E=O._glp_get_col_name(this.ptr,this._idx);return O.UTF8ToString(E)}set lb(E){this.setBounds(E,this.ub)}set ub(E){this.setBounds(this.lb,E)}get lb(){return this._lb}get ub(){return this._ub}get obj(){return O._glp_get_obj_coef(this.ptr,this._idx)}set obj(E){if("number"!=typeof E)throw new Error("obj should be a number");O._glp_set_obj_coef(this.ptr,this._idx,E)}set type(E){O._glp_set_col_kind(this.ptr,this._idx,function Se(he){const E=Ee.get(he);if(void 0===E)throw new Error(`unknown variable type '${he}'`);return E}(E))}get type(){return ke.get(O._glp_get_col_kind(this.ptr,this._idx))}get value(){return O._glp_get_col_prim(this.ptr,this._idx)}get dual(){return O._glp_get_col_dual(this.ptr,this._idx)}get valueInt(){return O._glp_ipt_col_prim(this.ptr,this._idx)}get dualInt(){return O._glp_ipt_col_dual(this.ptr,this._idx)}get valueMIP(){return O._glp_mip_col_val(this.ptr,this._idx)}get status(){return Re.get(O._glp_get_col_stat(this.ptr,this._idx))}get row(){return X(this)}get column(){return Ie(this)}}class Ge{constructor(E,Q,ge){if(this._needsUpdate=!1,this._lb=0,this._ub=0,this.model=E,this._idx=Q,this._coeffs=new Map,!ge)return;const{lb:it,ub:ut,coeffs:ft,name:Xe}=ge;this.setBounds(it,ut),void 0!==ft&&this.addCollection(ft),void 0!==Xe&&(this.name=Xe)}get ptr(){return this.model.ptr}get id(){return this._idx}set name(E){const Q=O.lengthBytesUTF8(E)+1,ge=O._malloc(Q);O.stringToUTF8(E,ge,Q),O._glp_set_row_name(this.ptr,this._idx,ge),O._free(ge)}get name(){const E=O._glp_get_row_name(this.ptr,this._idx);return O.UTF8ToString(E)}setBounds(E,Q){if(E===this._lb&&Q===this._ub)return;const ge=J(E,Q);this._lb=E,this._ub=Q,O._glp_set_row_bnds(this.ptr,this._idx,ge,E||0,Q||0)}set bounds([E,Q]){this.setBounds(E,Q)}set lb(E){this.setBounds(E,this._ub)}set ub(E){this.setBounds(this.lb,E)}get lb(){return this._lb}get ub(){return this._ub}add(E,Q){if(void 0===Q)return this.addCollection(E);if(!(E instanceof Ke))throw new Error("variable should have type Variable");if(!Q)return this;const ge=(this._coeffs.get(E.id)||0)+Q;return ge?this._coeffs.set(E.id,ge):this._coeffs.delete(E.id),this._needsUpdate=!0,this}addCollection(E){const Q=E instanceof Array?E:E instanceof Map?E.entries():void 0;if(void 0===Q)throw new Error("coeffs should have type Array or Map");for(const[ge,it]of Q){if(!(ge instanceof Ke))throw new Error("variable should have type Variable");if(!it)continue;const ut=(this._coeffs.get(ge.id)||0)+it;ut?this._coeffs.set(ge.id,ut):this._coeffs.delete(ge.id),this._needsUpdate=!0}return this}update(){if(!this._needsUpdate)return this;const E=this._coeffs.size+1,Q=O._malloc(4*E),ge=O._malloc(8*E);let it=new Int32Array(O.HEAPU8.buffer,Q,E),ut=new Float64Array(O.HEAPU8.buffer,ge,E);it[0]=0,ut[0]=0;let ft=0;for(const[Xe,$e]of this._coeffs.entries())ft++,it[ft]=Xe,ut[ft]=$e;return O._glp_set_mat_row(this.ptr,this._idx,E-1,Q,ge),O._free(Q),O._free(ge),this._needsUpdate=!1,this}get value(){return O._glp_get_row_prim(this.ptr,this._idx)}get dual(){return O._glp_get_row_dual(this.ptr,this._idx)}get valueInt(){return O._glp_ipt_row_prim(this.ptr,this._idx)}get dualInt(){return O._glp_ipt_row_dual(this.ptr,this._idx)}get valueMIP(){return O._glp_mip_row_val(this.ptr,this._idx)}get status(){return Re.get(O._glp_get_row_stat(this.ptr,this._idx))}get row(){return X(this)}get column(){return Ie(this)}}const ve=new Map(Array.from(new Map([["optimal",k.Status.OPTIMAL],["feasible",k.Status.FEASIBLE],["infeasible",k.Status.INFEASIBLE],["no_feasible",k.Status.NO_FEASIBLE],["unbounded",k.Status.UNBOUNDED],["undefined",k.Status.UNDEFINED]]).entries(),([he,E])=>[E,he]));function Ve(he){return ve.get(he)}function Qe(he){const E={all:k.MessageLevel.ALL,on:k.MessageLevel.ON,off:k.MessageLevel.OFF,debug:k.MessageLevel.DBG,error:k.MessageLevel.ERR}[he];if(void 0===E)throw new Error(`unknown message level '${he}'`);return E}t.Interior=void 0,function(he){he.solve=function Q(ge,it){const ut=O._malloc(392);O._glp_init_iptcp(ut),void 0!==it.msgLevel&&O.setValue(ut,Qe(it.msgLevel),"i32"),void 0!==it.ordering&&O.setValue(ut+4,function E(ge){const it={none:k.OrderingAlgorithm.NONE,qmd:k.OrderingAlgorithm.QMD,amd:k.OrderingAlgorithm.AMD,symamd:k.OrderingAlgorithm.SYMAMD}[ge];if(void 0===it)throw new Error(`unknown ordering '${ge}'`);return it}(it.ordering),"i32");const ft=O._glp_interior(ge.ptr,ut);switch(O._free(ut),ft){case k.ReturnCode.OK:return"ok";case k.ReturnCode.EFAIL:return"no_data";case k.ReturnCode.ENOCVG:return"no_convergence";case k.ReturnCode.EITLIM:return"iteration_limit";case k.ReturnCode.EINSTAB:return"instability";default:throw new Error(`unknown return code from interior: ${ft}`)}}}(t.Interior||(t.Interior={})),t.Simplex=void 0,function(he){function it($e){switch($e){case k.ReturnCode.OK:return"ok";case k.ReturnCode.EBADB:return"basis_invalid";case k.ReturnCode.ESING:return"basis_singular";case k.ReturnCode.ECOND:return"basis_ill_conditioned";case k.ReturnCode.EBOUND:return"bounds_incorrect";case k.ReturnCode.EFAIL:return"failure";case k.ReturnCode.EOBJLL:return"objective_lower";case k.ReturnCode.EOBJUL:return"objective_upper";case k.ReturnCode.EITLIM:return"iteration_limit";case k.ReturnCode.ETMLIM:return"time_limit";case k.ReturnCode.ENOPFS:return"no_primal_feasible";case k.ReturnCode.ENODFS:return"no_dual_feasible";default:throw new Error(`unknown return code from simplex: ${$e}`)}}function ut($e){const gt=O._malloc(352);return O._glp_init_smcp(gt),void 0!==$e.msgLevel&&O.setValue(gt,Qe($e.msgLevel),"i32"),void 0!==$e.method&&O.setValue(gt+4,function E($e){const gt={primal:k.Method.PRIMAL,dual:k.Method.DUAL,dual_primal:k.Method.DUALP}[$e];if(void 0===gt)throw new Error(`unknown method '${$e}'`);return gt}($e.method),"i32"),void 0!==$e.pricing&&O.setValue(gt+8,function Q($e){const gt={std:k.Pricing.STD,pse:k.Pricing.PSE}[$e];if(void 0===gt)throw new Error(`unknown pricing '${$e}'`);return gt}($e.pricing),"i32"),void 0!==$e.ratioTest&&O.setValue(gt+12,function ge($e){const gt={std:k.RatioTest.STD,harris:k.RatioTest.HAR,flipflop:k.RatioTest.FLIP}[$e];if(void 0===gt)throw new Error(`unknown ratioTest '${$e}'`);return gt}($e.ratioTest),"i32"),void 0!==$e.tolPrimal&&O.setValue(gt+16,$e.tolPrimal,"double"),void 0!==$e.tolDual&&O.setValue(gt+24,$e.tolDual,"double"),void 0!==$e.tolPivot&&O.setValue(gt+32,$e.tolPivot,"double"),void 0!==$e.objLower&&O.setValue(gt+40,$e.objLower,"double"),void 0!==$e.objUpper&&O.setValue(gt+48,$e.objUpper,"double"),void 0!==$e.limitIter&&O.setValue(gt+56,$e.limitIter,"i32"),void 0!==$e.limitTime&&O.setValue(gt+60,$e.limitTime,"i32"),void 0!==$e.logFreq&&O.setValue(gt+64,$e.logFreq,"i32"),void 0!==$e.logDelay&&O.setValue(gt+68,$e.logDelay,"i32"),void 0!==$e.presolve&&O.setValue(gt+72,$e.presolve?1:0,"i32"),gt}he.solve=function ft($e,gt){const gn=ut(gt),xr=O._glp_simplex($e.ptr,gn);return O._free(gn),it(xr)},he.solveExact=function Xe($e,gt){const gn=ut(gt),xr=O._glp_exact($e.ptr,gn);return O._free(gn),it(xr)}}(t.Simplex||(t.Simplex={}));const wt=new Map(Object.entries({row:k.ReasonCode.ROWGEN,improved:k.ReasonCode.BINGO,heuristic:k.ReasonCode.HEUR,cut:k.ReasonCode.CUTGEN,branch:k.ReasonCode.BRANCH,select:k.ReasonCode.SELECT,preprocessing:k.ReasonCode.PREPRO}).map(([he,E])=>[E,he])),ue=new Map(Object.entries({regular:k.RowOrigin.REG,lazy:k.RowOrigin.LAZY,cut:k.RowOrigin.CUT}).map(([he,E])=>[E,he])),fe=new Map(Object.entries({gomory:k.RowClass.GMI,mir:k.RowClass.MIR,cover:k.RowClass.COV,clique:k.RowClass.CLQ}).map(([he,E])=>[E,he])),Fe={down:k.BranchSelection.DN_BRNCH,up:k.BranchSelection.UP_BRNCH,general:k.BranchSelection.NO_BRNCH};class ye{constructor(E,Q){this.tree=E,this.idx=Q}select(){O._glp_ios_select_node(this.tree.ptr,this.idx)}get next(){const E=O._glp_ios_next_node(this.tree.ptr,this.idx);if(0!==E)return new ye(this.tree,E)}get previous(){const E=O._glp_ios_prev_node(this.tree.ptr,this.idx);if(0!==E)return new ye(this.tree,E)}get parent(){const E=O._glp_ios_up_node(this.tree.ptr,this.idx);if(0!==E)return new ye(this.tree,E)}get level(){return O._glp_ios_node_level(this.tree.ptr,this.idx)}get bound(){return O._glp_ios_node_bound(this.tree.ptr,this.idx)}}class He{constructor(E){this.ptr=E}static _alloc(){void 0===He._data&&(He._data=O._malloc(72))}get reason(){const E=O._glp_ios_reason(this.ptr),Q=wt.get(E);if(void 0===Q)throw new Error(`unknown reason code '${E}'`);return Q}get model(){const E=O._glp_ios_get_prob(this.ptr);return Pt.fromPointer(E)}rowAttribute(E){return He._alloc(),O._glp_ios_row_attr(this.ptr,E,He._data),{level:O.getValue(He._data+0,"i32"),origin:ue.get(O.getValue(He._data+4,"i32")),cls:fe.get(O.getValue(He._data+8,"i32"))}}get gap(){return O._glp_ios_mip_gap(this.ptr)}setHeuristicSolution(E){const Q=E.length,ge=O._malloc(8*Q),it=new Float64Array(O.HEAPU8.buffer,ge,Q);if(E instanceof Float64Array)E.set(it);else for(let[ut,ft]of E.entries())it[ut]=ft;O._glp_ios_heur_sol(this.ptr,ge),O._free(ge)}canBranch(E){return O._glp_ios_can_branch(this.ptr,E)}branchUpon(E,Q){const ge=Fe[Q];if(void 0===ge)throw new Error(`unknown branch selection '${Q}'`);O._glp_ios_branch_upon(this.ptr,E,ge)}terminate(){O._glp_ios_terminate(this.ptr)}get size(){He._alloc();const E=He._data;return O._glp_ios_tree_size(this.ptr,E,E+4,E+8),{active:O.getValue(E,"i32"),current:O.getValue(E+4,"i32"),total:O.getValue(E+8,"i32")}}get currentNode(){const E=O._glp_ios_curr_node(this.ptr);if(0!==E)return new ye(this,E)}get bestNode(){const E=O._glp_ios_best_node(this.ptr);if(0!==E)return new ye(this,E)}get firstNode(){const E=O._glp_ios_next_node(this.ptr,0);if(0!==E)return new ye(this,E)}get lastNode(){const E=O._glp_ios_prev_node(this.ptr,0);if(0!==E)return new ye(this,E)}get cutPoolSize(){return O._glp_ios_pool_size(this.ptr)}clearCutPool(){O._glp_ios_clear_pool(this.ptr)}}t.MIP=void 0,function(he){const E={ffv:k.BranchingTechnique.FFV,lfv:k.BranchingTechnique.LFV,mfv:k.BranchingTechnique.MFV,dth:k.BranchingTechnique.DTH,pch:k.BranchingTechnique.PCH,first_fractional:k.BranchingTechnique.FFV,last_fractional:k.BranchingTechnique.LFV,most_fractional:k.BranchingTechnique.MFV,driebeck_tomlin:k.BranchingTechnique.DTH,hybrid_pseudocost:k.BranchingTechnique.PCH},Q={dfs:k.BacktrackingTechnique.DFS,bfs:k.BacktrackingTechnique.BFS,blb:k.BacktrackingTechnique.BLB,bph:k.BacktrackingTechnique.BPH,depth_first:k.BacktrackingTechnique.DFS,breadth_first:k.BacktrackingTechnique.BFS,best_bound:k.BacktrackingTechnique.BLB,best_projection:k.BacktrackingTechnique.BPH},ge={none:k.PreprocessingTechnique.NONE,root:k.PreprocessingTechnique.ROOT,all:k.PreprocessingTechnique.ALL};he.solve=function ft(Xe,$e){if(void 0!==$e.callback){const xr=$e.callback;$e.callbackPtr=O.addFunction(yi=>xr(new He(yi)),"vii")}const gt=function ut(Xe){const $e=O._malloc(328);let gt;if(O._glp_init_iocp($e),void 0!==Xe.msgLevel&&O.setValue($e,Qe(Xe.msgLevel),"i32"),void 0!==Xe.branching){if(gt=E[Xe.branching],void 0===gt)throw new Error(`unknown branching technique '${Xe.branching}'`);O.setValue($e+4,gt,"i32")}if(void 0!==Xe.backtracking){if(gt=Q[Xe.backtracking],void 0===gt)throw new Error(`unknown backtracking technique '${Xe.backtracking}'`);O.setValue($e+8,gt,"i32")}if(void 0!==Xe.tolInt&&O.setValue($e+16,Xe.tolInt,"double"),void 0!==Xe.tolObj&&O.setValue($e+24,Xe.tolObj,"double"),void 0!==Xe.limitTime&&O.setValue($e+32,Xe.limitTime,"i32"),void 0!==Xe.logFreq&&O.setValue($e+36,Xe.logFreq,"i32"),void 0!==Xe.logDelay&&O.setValue($e+40,Xe.logDelay,"i32"),void 0!==Xe.callbackPtr&&O.setValue($e+44,Xe.callbackPtr,"*"),void 0!==Xe.preprocessing){if(gt=ge[Xe.preprocessing],void 0===gt)throw new Error(`unknown preprocessing technique '${Xe.preprocessing}'`);O.setValue($e+56,gt,"i32")}return void 0!==Xe.gapMIP&&O.setValue($e+64,Xe.gapMIP,"double"),void 0!==Xe.cutsMIR&&O.setValue($e+72,Xe.cutsMIR?1:0,"i32"),void 0!==Xe.cutsGomory&&O.setValue($e+76,Xe.cutsGomory?1:0,"i32"),void 0!==Xe.cutsCover&&O.setValue($e+80,Xe.cutsCover?1:0,"i32"),void 0!==Xe.cutsClique&&O.setValue($e+84,Xe.cutsClique?1:0,"i32"),void 0!==Xe.presolve&&O.setValue($e+88,Xe.presolve?1:0,"i32"),void 0!==Xe.binarize&&O.setValue($e+92,Xe.binarize?1:0,"i32"),void 0!==Xe.heuristicFP&&O.setValue($e+96,Xe.heuristicFP?1:0,"i32"),void 0!==Xe.heuristicPS&&O.setValue($e+100,Xe.heuristicPS?1:0,"i32"),void 0!==Xe.limitProxy&&O.setValue($e+104,Xe.limitProxy,"i32"),void 0!==Xe.heuristicRound&&O.setValue($e+108,Xe.heuristicRound?1:0,"i32"),$e}($e||{}),gn=O._glp_intopt(Xe.ptr,gt);return O._free(gt),void 0!==$e.callback&&(O.removeFunction($e.callbackPtr),$e.callbackPtr=void 0),function it(Xe){switch(Xe){case k.ReturnCode.OK:return"ok";case k.ReturnCode.EBOUND:return"bounds_incorrect";case k.ReturnCode.EROOT:return"no_root_basis";case k.ReturnCode.ENOPFS:return"no_primal_feasible";case k.ReturnCode.ENODFS:return"no_dual_feasible";case k.ReturnCode.EFAIL:return"failure";case k.ReturnCode.EMIPGAP:return"mip_gap_tolerance";case k.ReturnCode.ETMLIM:return"time_limit";case k.ReturnCode.ESTOP:return"stopped";default:throw new Error(`unknown return code from intopt: ${Xe}`)}}(gn)}}(t.MIP||(t.MIP={}));class Pt{constructor(E){if(this._vars=[],this._constrs=[],void 0===O)throw new Error("wasm module not loaded");if(this.ptr=O._glp_create_prob(),void 0===E)return;const{name:Q,sense:ge}=E;void 0!==Q&&(this.name=Q),void 0!==ge&&(this.sense=ge)}get vars(){return this._vars}get constrs(){return this._constrs}set name(E){const Q=O.lengthBytesUTF8(E)+1,ge=O._malloc(Q);O.stringToUTF8(E,ge,Q),O._glp_set_prob_name(this.ptr,ge),O._free(ge)}get name(){const E=O._glp_get_prob_name(this.ptr);return O.UTF8ToString(E)}static fromPointer(E){const Q=Object.create(Pt.prototype);return Q.ptr=E,Q}get value(){return O._glp_get_obj_val(this.ptr)}get valueInt(){return O._glp_ipt_obj_val(this.ptr)}get valueMIP(){return O._glp_mip_obj_val(this.ptr)}get numVars(){return O._glp_get_num_cols(this.ptr)}get numConstrs(){return O._glp_get_num_rows(this.ptr)}get numNZs(){return O._glp_get_num_nz(this.ptr)}get numBinary(){return O._glp_get_num_bin(this.ptr)}get numInteger(){return O._glp_get_num_int(this.ptr)}get status(){return Ve(O._glp_get_status(this.ptr))}get statusPrimal(){return Ve(O._glp_get_prim_stat(this.ptr))}get statusDual(){return Ve(O._glp_get_dual_stat(this.ptr))}get statusInt(){return Ve(O._glp_ipt_status(this.ptr))}get statusMIP(){return Ve(O._glp_mip_status(this.ptr))}addVars(E,Q){return Number.isInteger(E)?this.addVarsByCount(E,Q):Array.isArray(E)?0===E.length||"string"==typeof E[0]?this.addVarsByKeys(E,Q):this.addVarsByProperties(E):this.addVarsFromPropertiesArray(E)}addVar(E){const Q=O._glp_add_cols(this.ptr,1),ge=new Ke(this,Q,E);return this._vars.push(ge),ge}addVarsByProperties(E){const Q=O._glp_add_cols(this.ptr,E.length),ge=E.map((it,ut)=>new Ke(this,Q+ut,it));return this._vars=this._vars.concat(ge),ge}addVarsByCount(E,Q){const ge=O._glp_add_cols(this.ptr,E),it=Array.from(Array(E).keys(),ut=>new Ke(this,ge+ut,Q&&Q.name?Object.assign(Object.assign({},Q),{name:`${Q.name}_${ut}`}):Q));return this._vars=this._vars.concat(it),it}addVarsByKeys(E,Q){const ge=Q||{},{name:it}=ge,ut=function q(he,E){var Q={};for(var ge in he)Object.prototype.hasOwnProperty.call(he,ge)&&E.indexOf(ge)<0&&(Q[ge]=he[ge]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ge=Object.getOwnPropertySymbols(he);it<ge.length;it++)E.indexOf(ge[it])<0&&Object.prototype.propertyIsEnumerable.call(he,ge[it])&&(Q[ge[it]]=he[ge[it]])}return Q}(ge,["name"]);return this.addVarsFromPropertiesArray(Object.fromEntries(E.map(ft=>[ft,Object.assign(Object.assign({},ut),{name:`${it}[${ft}]`})])))}addVarsFromPropertiesArray(E){const Q=[...Object.keys(E)];return Object.fromEntries(this.addVarsByProperties(Object.values(E)).map((ge,it)=>[Q[it],ge]))}addConstrs(E,Q){return Number.isInteger(E)?this.addConstrsByCount(E,Q):this.addConstrsByProperties(E)}addConstr(E){const Q=O._glp_add_rows(this.ptr,1),ge=new Ge(this,Q,E);return this._constrs.push(ge),ge}addConstrsByProperties(E){const Q=O._glp_add_rows(this.ptr,E.length),ge=E.map((it,ut)=>new Ge(this,Q+ut,it));return this._constrs=this._constrs.concat(ge),ge}addConstrsByCount(E,Q){const ge=O._glp_add_rows(this.ptr,E),it=Array.from(Array(E).keys(),ut=>new Ge(this,ge+ut,Q&&Q.name?Object.assign(Object.assign({},Q),{name:`${Q.name}_${ut}`}):Q));return this._constrs=this._constrs.concat(it),it}update(){for(const E of this._constrs)E.update()}get sense(){return O._glp_get_obj_dir(this.ptr)===k.ObjectiveDirection.MIN?"min":"max"}set sense(E){if("min"!==E&&"max"!==E)throw new Error(`unknown sense '${E}'`);O._glp_set_obj_dir(this.ptr,"min"===E?k.ObjectiveDirection.MIN:k.ObjectiveDirection.MAX)}toModelLP(){this.update();const E="_tmp.lp",Q=O._malloc(E.length+1);return O.stringToUTF8(E,Q,E.length+1),O._glp_write_lp(this.ptr,0,Q),O._free(Q),O.FS.readFile(E,{encoding:"utf8"})}static fromModelLP(E){const Q=new Pt,ge="_tmp.mps";O.FS.writeFile(ge,E);const it=O._malloc(ge.length+1);return O.stringToUTF8(ge,it,ge.length+1),O._glp_read_lp(Q.ptr,0,it),O._free(it),Q}toMPS(){this.update();const E="_tmp.mps",Q=O._malloc(E.length+1);return O.stringToUTF8(E,Q,E.length+1),O._glp_write_mps(this.ptr,k.MPSFormat.FILE,0,Q),O._free(Q),O.FS.readFile(E,{encoding:"utf8"})}static fromMPS(E,Q){const ge=new Pt,it="_tmp.mps";O.FS.writeFile(it,E);const ut=O._malloc(it.length+1);O.stringToUTF8(it,ut,it.length+1);const Xe=O._glp_read_mps(ge.ptr,"deck"===Q?k.MPSFormat.DECK:k.MPSFormat.FILE,0,ut);if(O._free(ut),0!==Xe)throw new Error("mps reading failed");return ge}simplex(E){return this.update(),t.Simplex.solve(this,E||{})}exact(E){return this.update(),t.Simplex.solveExact(this,E||{})}interior(E){return this.update(),t.Interior.solve(this,E||{})}intopt(E){return this.update(),t.MIP.solve(this,E||{})}get solution(){switch(this.status){case"undefined":case"infeasible":throw new Error(`status is '${this.status}', run simplex first`);case"feasible":case"optimal":return[`status = ${this.status}`,...this._vars.map(E=>`${E.name} = ${E.value}`),`value = ${this.value}`].join("\n");case"unbounded":return"problem is unbounded";case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionInt(){switch(this.statusInt){case"undefined":case"infeasible":throw new Error(`status is '${this.statusInt}', run interior first`);case"optimal":return[`status = ${this.statusInt}`,...this._vars.map(E=>`${E.name} = ${Number(E.valueInt.toFixed(6))}`),`value = ${Number(this.valueInt.toFixed(6))}`].join("\n");case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionMIP(){switch(this.statusMIP){case"undefined":throw new Error(`status is '${this.statusMIP}', run intopt first`);case"feasible":case"optimal":return[`status = ${this.statusMIP}`,...this._vars.map(E=>`${E.name} = ${E.valueMIP}`),`value = ${this.valueMIP}`].join("\n");case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get ray(){const E=O._glp_get_unbnd_ray(this.ptr);if(0===E)throw new Error("no unbounded ray");return E<=this.numConstrs?this._constrs[E-1]:this._vars[E-1-this.numConstrs]}getTableau(E){const Q=void 0===E?E=ge=>ge.toString():E;return[...[...this.vars,...this.constrs].filter(ge=>"basic"===ge.status).map(ge=>ge.name+" = "+[...ge.row.map(([it,ut])=>`${Q(it instanceof Ke?ut:-ut)} ${it.name}`),Q(ge.value)].join(" + ")),"z = "+[...[...this.vars,...this.constrs].filter(ge=>"basic"!==ge.status).map(ge=>`${Q(ge instanceof Ke?ge.dual:-ge.dual)} ${ge.name}`),Q(this.value)].join(" + ")].join("\n")}}t.Constraint=Ge,t.Model=Pt,t.Node=ye,t.Tree=He,t.Variable=Ke,t.loadModule=function G(he){return re(this,void 0,void 0,function*(){return void 0===$&&($=void 0===he?m.default():m.default({locateFile:()=>he})),O=yield $,O})},Object.defineProperty(t,"__esModule",{value:!0})}(j,M(5340))},5340:(K,j,M)=>{var Y,t=(Y=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(Y=Y||__filename),function(m){var q,re;(m=typeof(m=m||{})<"u"?m:{}).ready=new Promise(function(v,x){q=v,re=x});var O,$={};for(O in m)m.hasOwnProperty(O)&&($[O]=m[O]);var G=[],X=!1,Ie=!1,Ee=!1,ke=!1;X="object"==typeof window,Ie="function"==typeof importScripts,Ee="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,ke=!X&&!Ee&&!Ie;var Re,Ke,Ge,ve,Ve,Se="";function Te(v){return m.locateFile?m.locateFile(v,Se):Se+v}Ee?(Se=Ie?M(8165).dirname(Se)+"/":__dirname+"/",Re=function(x,C){return ve||(ve=M(1874)),Ve||(Ve=M(8165)),x=Ve.normalize(x),ve.readFileSync(x,C?null:"utf8")},Ge=function(x){var C=Re(x,!0);return C.buffer||(C=new Uint8Array(C)),gn(C.buffer),C},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),G=process.argv.slice(2),process.on("uncaughtException",function(v){if(!(v instanceof ff))throw v}),process.on("unhandledRejection",Nn),m.inspect=function(){return"[Emscripten Module object]"}):ke?(typeof read<"u"&&(Re=function(x){return read(x)}),Ge=function(x){var C;return"function"==typeof readbuffer?new Uint8Array(readbuffer(x)):(gn("object"==typeof(C=read(x,"binary"))),C)},typeof scriptArgs<"u"?G=scriptArgs:typeof arguments<"u"&&(G=arguments),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(X||Ie)&&(Ie?Se=self.location.href:typeof document<"u"&&document.currentScript&&(Se=document.currentScript.src),Y&&(Se=Y),Se=0!==Se.indexOf("blob:")?Se.substr(0,Se.lastIndexOf("/")+1):"",Re=function(v){var x=new XMLHttpRequest;return x.open("GET",v,!1),x.send(null),x.responseText},Ie&&(Ge=function(v){var x=new XMLHttpRequest;return x.open("GET",v,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}),Ke=function(v,x,C){var N=new XMLHttpRequest;N.open("GET",v,!0),N.responseType="arraybuffer",N.onload=function(){200==N.status||0==N.status&&N.response?x(N.response):C()},N.onerror=C,N.send(null)});var Qe=m.print||console.log.bind(console),Ye=m.printErr||console.warn.bind(console);for(O in $)$.hasOwnProperty(O)&&(m[O]=$[O]);$=null,m.arguments&&(G=m.arguments);var wt=16;function ht(v,x){return x||(x=wt),Math.ceil(v/x)*x}function ue(v,x){if("function"==typeof WebAssembly.Function){for(var C={i:"i32",j:"i64",f:"f32",d:"f64"},N={parameters:[],results:"v"==x[0]?[]:[C[x[0]]]},Z=1;Z<x.length;++Z)N.parameters.push(C[x[Z]]);return new WebAssembly.Function(N,v)}var H=[1,0,1,96],ee=x.slice(0,1),le=x.slice(1),Je={i:127,j:126,f:125,d:124};for(H.push(le.length),Z=0;Z<le.length;++Z)H.push(Je[le[Z]]);"v"==ee?H.push(0):H=H.concat([1,Je[ee]]),H[1]=H.length-2;var St=new Uint8Array([0,97,115,109,1,0,0,0].concat(H,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),Zt=new WebAssembly.Module(St);return new WebAssembly.Instance(Zt,{e:{f:v}}).exports.f}var fe,be=[];function Fe(){if(be.length)return be.pop();try{pt.grow(1)}catch(v){throw v instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":v}return pt.length-1}function ye(v,x){if(!fe){fe=new WeakMap;for(var C=0;C<pt.length;C++){var N=pt.get(C);N&&fe.set(N,C)}}if(fe.has(v))return fe.get(v);var Z=Fe();try{pt.set(Z,v)}catch(ee){if(!(ee instanceof TypeError))throw ee;var H=ue(v,x);pt.set(Z,H)}return fe.set(v,Z),Z}function He(v){fe.delete(pt.get(v)),be.push(v)}function Pt(v,x){return ye(v,x)}var ge,he=0,E=function(v){he=v},Q=function(){return he};function ut(v,x,C,N){switch("*"===(C=C||"i8").charAt(C.length-1)&&(C="i32"),C){case"i1":case"i8":hn[v>>0]=x;break;case"i16":Hi[v>>1]=x;break;case"i32":_t[v>>2]=x;break;case"i64":Fn=[x>>>0,($t=x,+Math.abs($t)>=1?$t>0?(0|Math.min(+Math.floor($t/4294967296),4294967295))>>>0:~~+Math.ceil(($t-+(~~$t>>>0))/4294967296)>>>0:0)],_t[v>>2]=Fn[0],_t[v+4>>2]=Fn[1];break;case"float":ai[v>>2]=x;break;case"double":ja[v>>3]=x;break;default:Nn("invalid type for setValue: "+C)}}function ft(v,x,C){switch("*"===(x=x||"i8").charAt(x.length-1)&&(x="i32"),x){case"i1":case"i8":return hn[v>>0];case"i16":return Hi[v>>1];case"i32":case"i64":return _t[v>>2];case"float":return ai[v>>2];case"double":return ja[v>>3];default:Nn("invalid type for getValue: "+x)}return null}m.wasmBinary&&(ge=m.wasmBinary),"object"!=typeof WebAssembly&&Nn("no native wasm support detected");var Xe,$e=!1;function gn(v,x){v||Nn("Assertion failed: "+x)}var Bo,hn,Cn,Hi,_t,ai,ja,xr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function yi(v,x,C){for(var N=x+C,Z=x;v[Z]&&!(Z>=N);)++Z;if(Z-x>16&&v.subarray&&xr)return xr.decode(v.subarray(x,Z));for(var H="";x<Z;){var ee=v[x++];if(128&ee){var le=63&v[x++];if(192!=(224&ee)){var Je=63&v[x++];if((ee=224==(240&ee)?(15&ee)<<12|le<<6|Je:(7&ee)<<18|le<<12|Je<<6|63&v[x++])<65536)H+=String.fromCharCode(ee);else{var St=ee-65536;H+=String.fromCharCode(55296|St>>10,56320|1023&St)}}else H+=String.fromCharCode((31&ee)<<6|le)}else H+=String.fromCharCode(ee)}return H}function co(v,x){return v?yi(Cn,v,x):""}function Fr(v,x,C,N){if(!(N>0))return 0;for(var Z=C,H=C+N-1,ee=0;ee<v.length;++ee){var le=v.charCodeAt(ee);if(le>=55296&&le<=57343&&(le=65536+((1023&le)<<10)|1023&v.charCodeAt(++ee)),le<=127){if(C>=H)break;x[C++]=le}else if(le<=2047){if(C+1>=H)break;x[C++]=192|le>>6,x[C++]=128|63&le}else if(le<=65535){if(C+2>=H)break;x[C++]=224|le>>12,x[C++]=128|le>>6&63,x[C++]=128|63&le}else{if(C+3>=H)break;x[C++]=240|le>>18,x[C++]=128|le>>12&63,x[C++]=128|le>>6&63,x[C++]=128|63&le}}return x[C]=0,C-Z}function lo(v,x,C){return Fr(v,Cn,x,C)}function si(v){for(var x=0,C=0;C<v.length;++C){var N=v.charCodeAt(C);N>=55296&&N<=57343&&(N=65536+((1023&N)<<10)|1023&v.charCodeAt(++C)),N<=127?++x:x+=N<=2047?2:N<=65535?3:4}return x}function pl(v){var x=si(v)+1,C=Ga(x);return C&&Fr(v,hn,C,x),C}function Tt(v,x){return v%x>0&&(v+=x-v%x),v}function tn(v){Bo=v,m.HEAP8=hn=new Int8Array(v),m.HEAP16=Hi=new Int16Array(v),m.HEAP32=_t=new Int32Array(v),m.HEAPU8=Cn=new Uint8Array(v),m.HEAPU16=new Uint16Array(v),m.HEAPU32=new Uint32Array(v),m.HEAPF32=ai=new Float32Array(v),m.HEAPF64=ja=new Float64Array(v)}var pt,hl=[],fr=[],jt=[],vi=[];function Zo(){if(m.preRun)for("function"==typeof m.preRun&&(m.preRun=[m.preRun]);m.preRun.length;)ml(m.preRun.shift());In(hl)}function yn(){!m.noFSInit&&!A.init.initialized&&A.init(),Br.init(),In(fr)}function Gr(){A.ignorePermissions=!1,In(jt)}function nn(){if(m.postRun)for("function"==typeof m.postRun&&(m.postRun=[m.postRun]);m.postRun.length;)$a(m.postRun.shift());In(vi)}function ml(v){hl.unshift(v)}function uo(v){fr.unshift(v)}function $a(v){vi.unshift(v)}var Lr=0,Uo=null,bi=null;function Vo(v){Lr++,m.monitorRunDependencies&&m.monitorRunDependencies(Lr)}function zi(v){if(Lr--,m.monitorRunDependencies&&m.monitorRunDependencies(Lr),0==Lr&&(null!==Uo&&(clearInterval(Uo),Uo=null),bi)){var x=bi;bi=null,x()}}function Nn(v){m.onAbort&&m.onAbort(v),Ye(v+=""),$e=!0,v="abort("+v+"). Build with -s ASSERTIONS=1 for more info.";var x=new WebAssembly.RuntimeError(v);throw re(x),x}function gs(v,x){return String.prototype.startsWith?v.startsWith(x):0===v.indexOf(x)}m.preloadedImages={},m.preloadedAudios={};var on="data:application/octet-stream;base64,";function Wn(v){return gs(v,on)}var sr="file://";function Kn(v){return gs(v,sr)}var $t,Fn,cn="glpk.all.wasm";function ot(v){try{if(v==cn&&ge)return new Uint8Array(ge);if(Ge)return Ge(v);throw"both async and sync fetching of the wasm failed"}catch(x){Nn(x)}}function Lt(){if(!ge&&(X||Ie)){if("function"==typeof fetch&&!Kn(cn))return fetch(cn,{credentials:"same-origin"}).then(function(v){if(!v.ok)throw"failed to load wasm binary file at '"+cn+"'";return v.arrayBuffer()}).catch(function(){return ot(cn)});if(Ke)return new Promise(function(v,x){Ke(cn,function(C){v(new Uint8Array(C))},x)})}return Promise.resolve().then(function(){return ot(cn)})}function ln(){var v={a:Yt};function x(ee,le){m.asm=ee.exports,tn((Xe=m.asm.F).buffer),pt=m.asm.P,uo(m.asm.G),zi()}function C(ee){x(ee.instance)}function N(ee){return Lt().then(function(le){return WebAssembly.instantiate(le,v)}).then(ee,function(le){Ye("failed to asynchronously prepare wasm: "+le),Nn(le)})}if(Vo(),m.instantiateWasm)try{return m.instantiateWasm(v,x)}catch(ee){return Ye("Module.instantiateWasm callback failed with error: "+ee),!1}return function Z(){return ge||"function"!=typeof WebAssembly.instantiateStreaming||Wn(cn)||Kn(cn)||"function"!=typeof fetch?N(C):fetch(cn,{credentials:"same-origin"}).then(function(ee){return WebAssembly.instantiateStreaming(ee,v).then(C,function(Je){return Ye("wasm streaming compile failed: "+Je),Ye("falling back to ArrayBuffer instantiation"),N(C)})})}().catch(re),{}}function In(v){for(;v.length>0;){var x=v.shift();if("function"!=typeof x){var C=x.func;"number"==typeof C?void 0===x.arg?pt.get(C)():pt.get(C)(x.arg):C(void 0===x.arg?null:x.arg)}else x(m)}}function ci(v,x,C,N){Nn("Assertion failed: "+co(v)+", at: "+[x?co(x):"unknown filename",C,N?co(N):"unknown function"])}function dn(v){return _t[sc()>>2]=v,v}Wn(cn)||(cn=Te(cn));var Qt={splitPath:function(v){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(v).slice(1)},normalizeArray:function(v,x){for(var C=0,N=v.length-1;N>=0;N--){var Z=v[N];"."===Z?v.splice(N,1):".."===Z?(v.splice(N,1),C++):C&&(v.splice(N,1),C--)}if(x)for(;C;C--)v.unshift("..");return v},normalize:function(v){var x="/"===v.charAt(0),C="/"===v.substr(-1);return!(v=Qt.normalizeArray(v.split("/").filter(function(N){return!!N}),!x).join("/"))&&!x&&(v="."),v&&C&&(v+="/"),(x?"/":"")+v},dirname:function(v){var x=Qt.splitPath(v),C=x[0],N=x[1];return C||N?(N&&(N=N.substr(0,N.length-1)),C+N):"."},basename:function(v){if("/"===v)return"/";var x=(v=(v=Qt.normalize(v)).replace(/\/$/,"")).lastIndexOf("/");return-1===x?v:v.substr(x+1)},extname:function(v){return Qt.splitPath(v)[3]},join:function(){var v=Array.prototype.slice.call(arguments,0);return Qt.normalize(v.join("/"))},join2:function(v,x){return Qt.normalize(v+"/"+x)}};function Jr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var v=new Uint8Array(1);return function(){return crypto.getRandomValues(v),v[0]}}if(Ee)try{var x=M(5762);return function(){return x.randomBytes(1)[0]}}catch{}return function(){Nn("randomDevice")}}var Dt={resolve:function(){for(var v="",x=!1,C=arguments.length-1;C>=-1&&!x;C--){var N=C>=0?arguments[C]:A.cwd();if("string"!=typeof N)throw new TypeError("Arguments to path.resolve must be strings");if(!N)return"";v=N+"/"+v,x="/"===N.charAt(0)}return(x?"/":"")+(v=Qt.normalizeArray(v.split("/").filter(function(Z){return!!Z}),!x).join("/"))||"."},relative:function(v,x){function C(St){for(var Zt=0;Zt<St.length&&""===St[Zt];Zt++);for(var bt=St.length-1;bt>=0&&""===St[bt];bt--);return Zt>bt?[]:St.slice(Zt,bt-Zt+1)}v=Dt.resolve(v).substr(1),x=Dt.resolve(x).substr(1);for(var N=C(v.split("/")),Z=C(x.split("/")),H=Math.min(N.length,Z.length),ee=H,le=0;le<H;le++)if(N[le]!==Z[le]){ee=le;break}var Je=[];for(le=ee;le<N.length;le++)Je.push("..");return(Je=Je.concat(Z.slice(ee))).join("/")}},Br={ttys:[],init:function(){},shutdown:function(){},register:function(v,x){Br.ttys[v]={input:[],output:[],ops:x},A.registerDevice(v,Br.stream_ops)},stream_ops:{open:function(v){var x=Br.ttys[v.node.rdev];if(!x)throw new A.ErrnoError(43);v.tty=x,v.seekable=!1},close:function(v){v.tty.ops.flush(v.tty)},flush:function(v){v.tty.ops.flush(v.tty)},read:function(v,x,C,N,Z){if(!v.tty||!v.tty.ops.get_char)throw new A.ErrnoError(60);for(var H=0,ee=0;ee<N;ee++){var le;try{le=v.tty.ops.get_char(v.tty)}catch{throw new A.ErrnoError(29)}if(void 0===le&&0===H)throw new A.ErrnoError(6);if(null==le)break;H++,x[C+ee]=le}return H&&(v.node.timestamp=Date.now()),H},write:function(v,x,C,N,Z){if(!v.tty||!v.tty.ops.put_char)throw new A.ErrnoError(60);try{for(var H=0;H<N;H++)v.tty.ops.put_char(v.tty,x[C+H])}catch{throw new A.ErrnoError(29)}return N&&(v.node.timestamp=Date.now()),H}},default_tty_ops:{get_char:function(v){if(!v.input.length){var x=null;if(Ee){var N=Buffer.alloc?Buffer.alloc(256):new Buffer(256),Z=0;try{Z=ve.readSync(process.stdin.fd,N,0,256,null)}catch(H){if(-1==H.toString().indexOf("EOF"))throw H;Z=0}x=Z>0?N.slice(0,Z).toString("utf-8"):null}else typeof window<"u"&&"function"==typeof window.prompt?null!==(x=window.prompt("Input: "))&&(x+="\n"):"function"==typeof readline&&null!==(x=readline())&&(x+="\n");if(!x)return null;v.input=tt(x,!0)}return v.input.shift()},put_char:function(v,x){null===x||10===x?(Qe(yi(v.output,0)),v.output=[]):0!=x&&v.output.push(x)},flush:function(v){v.output&&v.output.length>0&&(Qe(yi(v.output,0)),v.output=[])}},default_tty1_ops:{put_char:function(v,x){null===x||10===x?(Ye(yi(v.output,0)),v.output=[]):0!=x&&v.output.push(x)},flush:function(v){v.output&&v.output.length>0&&(Ye(yi(v.output,0)),v.output=[])}}};function fo(v){for(var x=ht(v,16384),C=Ga(x);v<x;)hn[C+v++]=0;return C}var Rt={ops_table:null,mount:function(v){return Rt.createNode(null,"/",16895,0)},createNode:function(v,x,C,N){if(A.isBlkdev(C)||A.isFIFO(C))throw new A.ErrnoError(63);Rt.ops_table||(Rt.ops_table={dir:{node:{getattr:Rt.node_ops.getattr,setattr:Rt.node_ops.setattr,lookup:Rt.node_ops.lookup,mknod:Rt.node_ops.mknod,rename:Rt.node_ops.rename,unlink:Rt.node_ops.unlink,rmdir:Rt.node_ops.rmdir,readdir:Rt.node_ops.readdir,symlink:Rt.node_ops.symlink},stream:{llseek:Rt.stream_ops.llseek}},file:{node:{getattr:Rt.node_ops.getattr,setattr:Rt.node_ops.setattr},stream:{llseek:Rt.stream_ops.llseek,read:Rt.stream_ops.read,write:Rt.stream_ops.write,allocate:Rt.stream_ops.allocate,mmap:Rt.stream_ops.mmap,msync:Rt.stream_ops.msync}},link:{node:{getattr:Rt.node_ops.getattr,setattr:Rt.node_ops.setattr,readlink:Rt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Rt.node_ops.getattr,setattr:Rt.node_ops.setattr},stream:A.chrdev_stream_ops}});var Z=A.createNode(v,x,C,N);return A.isDir(Z.mode)?(Z.node_ops=Rt.ops_table.dir.node,Z.stream_ops=Rt.ops_table.dir.stream,Z.contents={}):A.isFile(Z.mode)?(Z.node_ops=Rt.ops_table.file.node,Z.stream_ops=Rt.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):A.isLink(Z.mode)?(Z.node_ops=Rt.ops_table.link.node,Z.stream_ops=Rt.ops_table.link.stream):A.isChrdev(Z.mode)&&(Z.node_ops=Rt.ops_table.chrdev.node,Z.stream_ops=Rt.ops_table.chrdev.stream),Z.timestamp=Date.now(),v&&(v.contents[x]=Z,v.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:function(v){return v.contents?v.contents.subarray?v.contents.subarray(0,v.usedBytes):new Uint8Array(v.contents):new Uint8Array(0)},expandFileStorage:function(v,x){var C=v.contents?v.contents.length:0;if(!(C>=x)){x=Math.max(x,C*(C<1048576?2:1.125)>>>0),0!=C&&(x=Math.max(x,256));var Z=v.contents;v.contents=new Uint8Array(x),v.usedBytes>0&&v.contents.set(Z.subarray(0,v.usedBytes),0)}},resizeFileStorage:function(v,x){if(v.usedBytes!=x)if(0==x)v.contents=null,v.usedBytes=0;else{var C=v.contents;v.contents=new Uint8Array(x),C&&v.contents.set(C.subarray(0,Math.min(x,v.usedBytes))),v.usedBytes=x}},node_ops:{getattr:function(v){var x={};return x.dev=A.isChrdev(v.mode)?v.id:1,x.ino=v.id,x.mode=v.mode,x.nlink=1,x.uid=0,x.gid=0,x.rdev=v.rdev,x.size=A.isDir(v.mode)?4096:A.isFile(v.mode)?v.usedBytes:A.isLink(v.mode)?v.link.length:0,x.atime=new Date(v.timestamp),x.mtime=new Date(v.timestamp),x.ctime=new Date(v.timestamp),x.blksize=4096,x.blocks=Math.ceil(x.size/x.blksize),x},setattr:function(v,x){void 0!==x.mode&&(v.mode=x.mode),void 0!==x.timestamp&&(v.timestamp=x.timestamp),void 0!==x.size&&Rt.resizeFileStorage(v,x.size)},lookup:function(v,x){throw A.genericErrors[44]},mknod:function(v,x,C,N){return Rt.createNode(v,x,C,N)},rename:function(v,x,C){if(A.isDir(v.mode)){var N;try{N=A.lookupNode(x,C)}catch{}if(N)for(var Z in N.contents)throw new A.ErrnoError(55)}delete v.parent.contents[v.name],v.parent.timestamp=Date.now(),v.name=C,x.contents[C]=v,x.timestamp=v.parent.timestamp,v.parent=x},unlink:function(v,x){delete v.contents[x],v.timestamp=Date.now()},rmdir:function(v,x){var C=A.lookupNode(v,x);for(var N in C.contents)throw new A.ErrnoError(55);delete v.contents[x],v.timestamp=Date.now()},readdir:function(v){var x=[".",".."];for(var C in v.contents)!v.contents.hasOwnProperty(C)||x.push(C);return x},symlink:function(v,x,C){var N=Rt.createNode(v,x,41471,0);return N.link=C,N},readlink:function(v){if(!A.isLink(v.mode))throw new A.ErrnoError(28);return v.link}},stream_ops:{read:function(v,x,C,N,Z){var H=v.node.contents;if(Z>=v.node.usedBytes)return 0;var ee=Math.min(v.node.usedBytes-Z,N);if(ee>8&&H.subarray)x.set(H.subarray(Z,Z+ee),C);else for(var le=0;le<ee;le++)x[C+le]=H[Z+le];return ee},write:function(v,x,C,N,Z,H){if(x.buffer===hn.buffer&&(H=!1),!N)return 0;var ee=v.node;if(ee.timestamp=Date.now(),x.subarray&&(!ee.contents||ee.contents.subarray)){if(H)return ee.contents=x.subarray(C,C+N),ee.usedBytes=N,N;if(0===ee.usedBytes&&0===Z)return ee.contents=x.slice(C,C+N),ee.usedBytes=N,N;if(Z+N<=ee.usedBytes)return ee.contents.set(x.subarray(C,C+N),Z),N}if(Rt.expandFileStorage(ee,Z+N),ee.contents.subarray&&x.subarray)ee.contents.set(x.subarray(C,C+N),Z);else for(var le=0;le<N;le++)ee.contents[Z+le]=x[C+le];return ee.usedBytes=Math.max(ee.usedBytes,Z+N),N},llseek:function(v,x,C){var N=x;if(1===C?N+=v.position:2===C&&A.isFile(v.node.mode)&&(N+=v.node.usedBytes),N<0)throw new A.ErrnoError(28);return N},allocate:function(v,x,C){Rt.expandFileStorage(v.node,x+C),v.node.usedBytes=Math.max(v.node.usedBytes,x+C)},mmap:function(v,x,C,N,Z,H){if(0!==x)throw new A.ErrnoError(28);if(!A.isFile(v.node.mode))throw new A.ErrnoError(43);var ee,le,Je=v.node.contents;if(2&H||Je.buffer!==Bo){if((N>0||N+C<Je.length)&&(Je=Je.subarray?Je.subarray(N,N+C):Array.prototype.slice.call(Je,N,N+C)),le=!0,!(ee=fo(C)))throw new A.ErrnoError(48);hn.set(Je,ee)}else le=!1,ee=Je.byteOffset;return{ptr:ee,allocated:le}},msync:function(v,x,C,N,Z){if(!A.isFile(v.node.mode))throw new A.ErrnoError(43);return 2&Z||Rt.stream_ops.write(v,x,0,N,C,!1),0}}},A={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(v,x){if(x=x||{},!(v=Dt.resolve(A.cwd(),v)))return{path:"",node:null};var C={follow_mount:!0,recurse_count:0};for(var N in C)void 0===x[N]&&(x[N]=C[N]);if(x.recurse_count>8)throw new A.ErrnoError(32);for(var Z=Qt.normalizeArray(v.split("/").filter(function(Mt){return!!Mt}),!1),H=A.root,ee="/",le=0;le<Z.length;le++){var Je=le===Z.length-1;if(Je&&x.parent)break;if(H=A.lookupNode(H,Z[le]),ee=Qt.join2(ee,Z[le]),A.isMountpoint(H)&&(!Je||Je&&x.follow_mount)&&(H=H.mounted.root),!Je||x.follow)for(var St=0;A.isLink(H.mode);){var Zt=A.readlink(ee);if(ee=Dt.resolve(Qt.dirname(ee),Zt),H=A.lookupPath(ee,{recurse_count:x.recurse_count}).node,St++>40)throw new A.ErrnoError(32)}}return{path:ee,node:H}},getPath:function(v){for(var x;;){if(A.isRoot(v)){var C=v.mount.mountpoint;return x?"/"!==C[C.length-1]?C+"/"+x:C+x:C}x=x?v.name+"/"+x:v.name,v=v.parent}},hashName:function(v,x){for(var C=0,N=0;N<x.length;N++)C=(C<<5)-C+x.charCodeAt(N)|0;return(v+C>>>0)%A.nameTable.length},hashAddNode:function(v){var x=A.hashName(v.parent.id,v.name);v.name_next=A.nameTable[x],A.nameTable[x]=v},hashRemoveNode:function(v){var x=A.hashName(v.parent.id,v.name);if(A.nameTable[x]===v)A.nameTable[x]=v.name_next;else for(var C=A.nameTable[x];C;){if(C.name_next===v){C.name_next=v.name_next;break}C=C.name_next}},lookupNode:function(v,x){var C=A.mayLookup(v);if(C)throw new A.ErrnoError(C,v);for(var N=A.hashName(v.id,x),Z=A.nameTable[N];Z;Z=Z.name_next)if(Z.parent.id===v.id&&Z.name===x)return Z;return A.lookup(v,x)},createNode:function(v,x,C,N){var Z=new A.FSNode(v,x,C,N);return A.hashAddNode(Z),Z},destroyNode:function(v){A.hashRemoveNode(v)},isRoot:function(v){return v===v.parent},isMountpoint:function(v){return!!v.mounted},isFile:function(v){return 32768==(61440&v)},isDir:function(v){return 16384==(61440&v)},isLink:function(v){return 40960==(61440&v)},isChrdev:function(v){return 8192==(61440&v)},isBlkdev:function(v){return 24576==(61440&v)},isFIFO:function(v){return 4096==(61440&v)},isSocket:function(v){return 49152==(49152&v)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(v){var x=A.flagModes[v];if(typeof x>"u")throw new Error("Unknown file open mode: "+v);return x},flagsToPermissionString:function(v){var x=["r","w","rw"][3&v];return 512&v&&(x+="w"),x},nodePermissions:function(v,x){return A.ignorePermissions||(-1===x.indexOf("r")||292&v.mode)&&(-1===x.indexOf("w")||146&v.mode)&&(-1===x.indexOf("x")||73&v.mode)?0:2},mayLookup:function(v){return A.nodePermissions(v,"x")||(v.node_ops.lookup?0:2)},mayCreate:function(v,x){try{return A.lookupNode(v,x),20}catch{}return A.nodePermissions(v,"wx")},mayDelete:function(v,x,C){var N;try{N=A.lookupNode(v,x)}catch(H){return H.errno}var Z=A.nodePermissions(v,"wx");if(Z)return Z;if(C){if(!A.isDir(N.mode))return 54;if(A.isRoot(N)||A.getPath(N)===A.cwd())return 10}else if(A.isDir(N.mode))return 31;return 0},mayOpen:function(v,x){return v?A.isLink(v.mode)?32:A.isDir(v.mode)&&("r"!==A.flagsToPermissionString(x)||512&x)?31:A.nodePermissions(v,A.flagsToPermissionString(x)):44},MAX_OPEN_FDS:4096,nextfd:function(v,x){x=x||A.MAX_OPEN_FDS;for(var C=v=v||0;C<=x;C++)if(!A.streams[C])return C;throw new A.ErrnoError(33)},getStream:function(v){return A.streams[v]},createStream:function(v,x,C){A.FSStream||(A.FSStream=function(){},A.FSStream.prototype={object:{get:function(){return this.node},set:function(ee){this.node=ee}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var N=new A.FSStream;for(var Z in v)N[Z]=v[Z];v=N;var H=A.nextfd(x,C);return v.fd=H,A.streams[H]=v,v},closeStream:function(v){A.streams[v]=null},chrdev_stream_ops:{open:function(v){var x=A.getDevice(v.node.rdev);v.stream_ops=x.stream_ops,v.stream_ops.open&&v.stream_ops.open(v)},llseek:function(){throw new A.ErrnoError(70)}},major:function(v){return v>>8},minor:function(v){return 255&v},makedev:function(v,x){return v<<8|x},registerDevice:function(v,x){A.devices[v]={stream_ops:x}},getDevice:function(v){return A.devices[v]},getMounts:function(v){for(var x=[],C=[v];C.length;){var N=C.pop();x.push(N),C.push.apply(C,N.mounts)}return x},syncfs:function(v,x){"function"==typeof v&&(x=v,v=!1),A.syncFSRequests++,A.syncFSRequests>1&&Ye("warning: "+A.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var C=A.getMounts(A.root.mount),N=0;function Z(ee){return A.syncFSRequests--,x(ee)}function H(ee){if(ee)return H.errored?void 0:(H.errored=!0,Z(ee));++N>=C.length&&Z(null)}C.forEach(function(ee){if(!ee.type.syncfs)return H(null);ee.type.syncfs(ee,v,H)})},mount:function(v,x,C){var H,N="/"===C,Z=!C;if(N&&A.root)throw new A.ErrnoError(10);if(!N&&!Z){var ee=A.lookupPath(C,{follow_mount:!1});if(C=ee.path,A.isMountpoint(H=ee.node))throw new A.ErrnoError(10);if(!A.isDir(H.mode))throw new A.ErrnoError(54)}var le={type:v,opts:x,mountpoint:C,mounts:[]},Je=v.mount(le);return Je.mount=le,le.root=Je,N?A.root=Je:H&&(H.mounted=le,H.mount&&H.mount.mounts.push(le)),Je},unmount:function(v){var x=A.lookupPath(v,{follow_mount:!1});if(!A.isMountpoint(x.node))throw new A.ErrnoError(28);var C=x.node,N=C.mounted,Z=A.getMounts(N);Object.keys(A.nameTable).forEach(function(ee){for(var le=A.nameTable[ee];le;){var Je=le.name_next;-1!==Z.indexOf(le.mount)&&A.destroyNode(le),le=Je}}),C.mounted=null;var H=C.mount.mounts.indexOf(N);C.mount.mounts.splice(H,1)},lookup:function(v,x){return v.node_ops.lookup(v,x)},mknod:function(v,x,C){var Z=A.lookupPath(v,{parent:!0}).node,H=Qt.basename(v);if(!H||"."===H||".."===H)throw new A.ErrnoError(28);var ee=A.mayCreate(Z,H);if(ee)throw new A.ErrnoError(ee);if(!Z.node_ops.mknod)throw new A.ErrnoError(63);return Z.node_ops.mknod(Z,H,x,C)},create:function(v,x){return x=void 0!==x?x:438,x&=4095,A.mknod(v,x|=32768,0)},mkdir:function(v,x){return x=void 0!==x?x:511,x&=1023,A.mknod(v,x|=16384,0)},mkdirTree:function(v,x){for(var C=v.split("/"),N="",Z=0;Z<C.length;++Z)if(C[Z]){N+="/"+C[Z];try{A.mkdir(N,x)}catch(H){if(20!=H.errno)throw H}}},mkdev:function(v,x,C){return typeof C>"u"&&(C=x,x=438),A.mknod(v,x|=8192,C)},symlink:function(v,x){if(!Dt.resolve(v))throw new A.ErrnoError(44);var N=A.lookupPath(x,{parent:!0}).node;if(!N)throw new A.ErrnoError(44);var Z=Qt.basename(x),H=A.mayCreate(N,Z);if(H)throw new A.ErrnoError(H);if(!N.node_ops.symlink)throw new A.ErrnoError(63);return N.node_ops.symlink(N,Z,v)},rename:function(v,x){var le,Je,C=Qt.dirname(v),N=Qt.dirname(x),Z=Qt.basename(v),H=Qt.basename(x);if(le=A.lookupPath(v,{parent:!0}).node,Je=A.lookupPath(x,{parent:!0}).node,!le||!Je)throw new A.ErrnoError(44);if(le.mount!==Je.mount)throw new A.ErrnoError(75);var bt,St=A.lookupNode(le,Z),Zt=Dt.relative(v,N);if("."!==Zt.charAt(0))throw new A.ErrnoError(28);if("."!==(Zt=Dt.relative(x,C)).charAt(0))throw new A.ErrnoError(55);try{bt=A.lookupNode(Je,H)}catch{}if(St!==bt){var Mt=A.isDir(St.mode),Bt=A.mayDelete(le,Z,Mt);if(Bt)throw new A.ErrnoError(Bt);if(Bt=bt?A.mayDelete(Je,H,Mt):A.mayCreate(Je,H))throw new A.ErrnoError(Bt);if(!le.node_ops.rename)throw new A.ErrnoError(63);if(A.isMountpoint(St)||bt&&A.isMountpoint(bt))throw new A.ErrnoError(10);if(Je!==le&&(Bt=A.nodePermissions(le,"w")))throw new A.ErrnoError(Bt);try{A.trackingDelegate.willMovePath&&A.trackingDelegate.willMovePath(v,x)}catch(en){Ye("FS.trackingDelegate['willMovePath']('"+v+"', '"+x+"') threw an exception: "+en.message)}A.hashRemoveNode(St);try{le.node_ops.rename(St,Je,H)}catch(en){throw en}finally{A.hashAddNode(St)}try{A.trackingDelegate.onMovePath&&A.trackingDelegate.onMovePath(v,x)}catch(en){Ye("FS.trackingDelegate['onMovePath']('"+v+"', '"+x+"') threw an exception: "+en.message)}}},rmdir:function(v){var C=A.lookupPath(v,{parent:!0}).node,N=Qt.basename(v),Z=A.lookupNode(C,N),H=A.mayDelete(C,N,!0);if(H)throw new A.ErrnoError(H);if(!C.node_ops.rmdir)throw new A.ErrnoError(63);if(A.isMountpoint(Z))throw new A.ErrnoError(10);try{A.trackingDelegate.willDeletePath&&A.trackingDelegate.willDeletePath(v)}catch(ee){Ye("FS.trackingDelegate['willDeletePath']('"+v+"') threw an exception: "+ee.message)}C.node_ops.rmdir(C,N),A.destroyNode(Z);try{A.trackingDelegate.onDeletePath&&A.trackingDelegate.onDeletePath(v)}catch(ee){Ye("FS.trackingDelegate['onDeletePath']('"+v+"') threw an exception: "+ee.message)}},readdir:function(v){var C=A.lookupPath(v,{follow:!0}).node;if(!C.node_ops.readdir)throw new A.ErrnoError(54);return C.node_ops.readdir(C)},unlink:function(v){var C=A.lookupPath(v,{parent:!0}).node,N=Qt.basename(v),Z=A.lookupNode(C,N),H=A.mayDelete(C,N,!1);if(H)throw new A.ErrnoError(H);if(!C.node_ops.unlink)throw new A.ErrnoError(63);if(A.isMountpoint(Z))throw new A.ErrnoError(10);try{A.trackingDelegate.willDeletePath&&A.trackingDelegate.willDeletePath(v)}catch(ee){Ye("FS.trackingDelegate['willDeletePath']('"+v+"') threw an exception: "+ee.message)}C.node_ops.unlink(C,N),A.destroyNode(Z);try{A.trackingDelegate.onDeletePath&&A.trackingDelegate.onDeletePath(v)}catch(ee){Ye("FS.trackingDelegate['onDeletePath']('"+v+"') threw an exception: "+ee.message)}},readlink:function(v){var C=A.lookupPath(v).node;if(!C)throw new A.ErrnoError(44);if(!C.node_ops.readlink)throw new A.ErrnoError(28);return Dt.resolve(A.getPath(C.parent),C.node_ops.readlink(C))},stat:function(v,x){var N=A.lookupPath(v,{follow:!x}).node;if(!N)throw new A.ErrnoError(44);if(!N.node_ops.getattr)throw new A.ErrnoError(63);return N.node_ops.getattr(N)},lstat:function(v){return A.stat(v,!0)},chmod:function(v,x,C){var N;if(!(N="string"==typeof v?A.lookupPath(v,{follow:!C}).node:v).node_ops.setattr)throw new A.ErrnoError(63);N.node_ops.setattr(N,{mode:4095&x|-4096&N.mode,timestamp:Date.now()})},lchmod:function(v,x){A.chmod(v,x,!0)},fchmod:function(v,x){var C=A.getStream(v);if(!C)throw new A.ErrnoError(8);A.chmod(C.node,x)},chown:function(v,x,C,N){var Z;if(!(Z="string"==typeof v?A.lookupPath(v,{follow:!N}).node:v).node_ops.setattr)throw new A.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown:function(v,x,C){A.chown(v,x,C,!0)},fchown:function(v,x,C){var N=A.getStream(v);if(!N)throw new A.ErrnoError(8);A.chown(N.node,x,C)},truncate:function(v,x){if(x<0)throw new A.ErrnoError(28);var C;if(!(C="string"==typeof v?A.lookupPath(v,{follow:!0}).node:v).node_ops.setattr)throw new A.ErrnoError(63);if(A.isDir(C.mode))throw new A.ErrnoError(31);if(!A.isFile(C.mode))throw new A.ErrnoError(28);var Z=A.nodePermissions(C,"w");if(Z)throw new A.ErrnoError(Z);C.node_ops.setattr(C,{size:x,timestamp:Date.now()})},ftruncate:function(v,x){var C=A.getStream(v);if(!C)throw new A.ErrnoError(8);if(0==(2097155&C.flags))throw new A.ErrnoError(28);A.truncate(C.node,x)},utime:function(v,x,C){var Z=A.lookupPath(v,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(x,C)})},open:function(v,x,C,N,Z){if(""===v)throw new A.ErrnoError(44);var H;if(C=typeof C>"u"?438:C,C=64&(x="string"==typeof x?A.modeStringToFlags(x):x)?4095&C|32768:0,"object"==typeof v)H=v;else{v=Qt.normalize(v);try{H=A.lookupPath(v,{follow:!(131072&x)}).node}catch{}}var le=!1;if(64&x)if(H){if(128&x)throw new A.ErrnoError(20)}else H=A.mknod(v,C,0),le=!0;if(!H)throw new A.ErrnoError(44);if(A.isChrdev(H.mode)&&(x&=-513),65536&x&&!A.isDir(H.mode))throw new A.ErrnoError(54);if(!le){var Je=A.mayOpen(H,x);if(Je)throw new A.ErrnoError(Je)}512&x&&A.truncate(H,0),x&=-131713;var St=A.createStream({node:H,path:A.getPath(H),flags:x,seekable:!0,position:0,stream_ops:H.stream_ops,ungotten:[],error:!1},N,Z);St.stream_ops.open&&St.stream_ops.open(St),m.logReadFiles&&!(1&x)&&(A.readFiles||(A.readFiles={}),v in A.readFiles||(A.readFiles[v]=1,Ye("FS.trackingDelegate error on read file: "+v)));try{if(A.trackingDelegate.onOpenFile){var Zt=0;1!=(2097155&x)&&(Zt|=A.tracking.openFlags.READ),0!=(2097155&x)&&(Zt|=A.tracking.openFlags.WRITE),A.trackingDelegate.onOpenFile(v,Zt)}}catch(bt){Ye("FS.trackingDelegate['onOpenFile']('"+v+"', flags) threw an exception: "+bt.message)}return St},close:function(v){if(A.isClosed(v))throw new A.ErrnoError(8);v.getdents&&(v.getdents=null);try{v.stream_ops.close&&v.stream_ops.close(v)}catch(x){throw x}finally{A.closeStream(v.fd)}v.fd=null},isClosed:function(v){return null===v.fd},llseek:function(v,x,C){if(A.isClosed(v))throw new A.ErrnoError(8);if(!v.seekable||!v.stream_ops.llseek)throw new A.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new A.ErrnoError(28);return v.position=v.stream_ops.llseek(v,x,C),v.ungotten=[],v.position},read:function(v,x,C,N,Z){if(N<0||Z<0)throw new A.ErrnoError(28);if(A.isClosed(v))throw new A.ErrnoError(8);if(1==(2097155&v.flags))throw new A.ErrnoError(8);if(A.isDir(v.node.mode))throw new A.ErrnoError(31);if(!v.stream_ops.read)throw new A.ErrnoError(28);var H=typeof Z<"u";if(H){if(!v.seekable)throw new A.ErrnoError(70)}else Z=v.position;var ee=v.stream_ops.read(v,x,C,N,Z);return H||(v.position+=ee),ee},write:function(v,x,C,N,Z,H){if(N<0||Z<0)throw new A.ErrnoError(28);if(A.isClosed(v))throw new A.ErrnoError(8);if(0==(2097155&v.flags))throw new A.ErrnoError(8);if(A.isDir(v.node.mode))throw new A.ErrnoError(31);if(!v.stream_ops.write)throw new A.ErrnoError(28);v.seekable&&1024&v.flags&&A.llseek(v,0,2);var ee=typeof Z<"u";if(ee){if(!v.seekable)throw new A.ErrnoError(70)}else Z=v.position;var le=v.stream_ops.write(v,x,C,N,Z,H);ee||(v.position+=le);try{v.path&&A.trackingDelegate.onWriteToFile&&A.trackingDelegate.onWriteToFile(v.path)}catch(Je){Ye("FS.trackingDelegate['onWriteToFile']('"+v.path+"') threw an exception: "+Je.message)}return le},allocate:function(v,x,C){if(A.isClosed(v))throw new A.ErrnoError(8);if(x<0||C<=0)throw new A.ErrnoError(28);if(0==(2097155&v.flags))throw new A.ErrnoError(8);if(!A.isFile(v.node.mode)&&!A.isDir(v.node.mode))throw new A.ErrnoError(43);if(!v.stream_ops.allocate)throw new A.ErrnoError(138);v.stream_ops.allocate(v,x,C)},mmap:function(v,x,C,N,Z,H){if(0!=(2&Z)&&0==(2&H)&&2!=(2097155&v.flags))throw new A.ErrnoError(2);if(1==(2097155&v.flags))throw new A.ErrnoError(2);if(!v.stream_ops.mmap)throw new A.ErrnoError(43);return v.stream_ops.mmap(v,x,C,N,Z,H)},msync:function(v,x,C,N,Z){return v&&v.stream_ops.msync?v.stream_ops.msync(v,x,C,N,Z):0},munmap:function(v){return 0},ioctl:function(v,x,C){if(!v.stream_ops.ioctl)throw new A.ErrnoError(59);return v.stream_ops.ioctl(v,x,C)},readFile:function(v,x){if((x=x||{}).flags=x.flags||0,x.encoding=x.encoding||"binary","utf8"!==x.encoding&&"binary"!==x.encoding)throw new Error('Invalid encoding type "'+x.encoding+'"');var C,N=A.open(v,x.flags),H=A.stat(v).size,ee=new Uint8Array(H);return A.read(N,ee,0,H,0),"utf8"===x.encoding?C=yi(ee,0):"binary"===x.encoding&&(C=ee),A.close(N),C},writeFile:function(v,x,C){(C=C||{}).flags=C.flags||577;var N=A.open(v,C.flags,C.mode);if("string"==typeof x){var Z=new Uint8Array(si(x)+1),H=Fr(x,Z,0,Z.length);A.write(N,Z,0,H,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(x))throw new Error("Unsupported data type");A.write(N,x,0,x.byteLength,void 0,C.canOwn)}A.close(N)},cwd:function(){return A.currentPath},chdir:function(v){var x=A.lookupPath(v,{follow:!0});if(null===x.node)throw new A.ErrnoError(44);if(!A.isDir(x.node.mode))throw new A.ErrnoError(54);var C=A.nodePermissions(x.node,"x");if(C)throw new A.ErrnoError(C);A.currentPath=x.path},createDefaultDirectories:function(){A.mkdir("/tmp"),A.mkdir("/home"),A.mkdir("/home/web_user")},createDefaultDevices:function(){A.mkdir("/dev"),A.registerDevice(A.makedev(1,3),{read:function(){return 0},write:function(x,C,N,Z,H){return Z}}),A.mkdev("/dev/null",A.makedev(1,3)),Br.register(A.makedev(5,0),Br.default_tty_ops),Br.register(A.makedev(6,0),Br.default_tty1_ops),A.mkdev("/dev/tty",A.makedev(5,0)),A.mkdev("/dev/tty1",A.makedev(6,0));var v=Jr();A.createDevice("/dev","random",v),A.createDevice("/dev","urandom",v),A.mkdir("/dev/shm"),A.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){A.mkdir("/proc");var v=A.mkdir("/proc/self");A.mkdir("/proc/self/fd"),A.mount({mount:function(){var x=A.createNode(v,"fd",16895,73);return x.node_ops={lookup:function(C,N){var H=A.getStream(+N);if(!H)throw new A.ErrnoError(8);var ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return H.path}}};return ee.parent=ee,ee}},x}},{},"/proc/self/fd")},createStandardStreams:function(){m.stdin?A.createDevice("/dev","stdin",m.stdin):A.symlink("/dev/tty","/dev/stdin"),m.stdout?A.createDevice("/dev","stdout",null,m.stdout):A.symlink("/dev/tty","/dev/stdout"),m.stderr?A.createDevice("/dev","stderr",null,m.stderr):A.symlink("/dev/tty1","/dev/stderr"),A.open("/dev/stdin",0),A.open("/dev/stdout",1),A.open("/dev/stderr",1)},ensureErrnoError:function(){A.ErrnoError||(A.ErrnoError=function(x,C){this.node=C,this.setErrno=function(N){this.errno=N},this.setErrno(x),this.message="FS error"},A.ErrnoError.prototype=new Error,A.ErrnoError.prototype.constructor=A.ErrnoError,[44].forEach(function(v){A.genericErrors[v]=new A.ErrnoError(v),A.genericErrors[v].stack="<generic error, no stack>"}))},staticInit:function(){A.ensureErrnoError(),A.nameTable=new Array(4096),A.mount(Rt,{},"/"),A.createDefaultDirectories(),A.createDefaultDevices(),A.createSpecialDirectories(),A.filesystems={MEMFS:Rt}},init:function(v,x,C){A.init.initialized=!0,A.ensureErrnoError(),m.stdin=v||m.stdin,m.stdout=x||m.stdout,m.stderr=C||m.stderr,A.createStandardStreams()},quit:function(){A.init.initialized=!1;var v=m._fflush;v&&v(0);for(var x=0;x<A.streams.length;x++){var C=A.streams[x];!C||A.close(C)}},getMode:function(v,x){var C=0;return v&&(C|=365),x&&(C|=146),C},findObject:function(v,x){var C=A.analyzePath(v,x);return C.exists?C.object:null},analyzePath:function(v,x){try{v=(C=A.lookupPath(v,{follow:!x})).path}catch{}var N={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=A.lookupPath(v,{parent:!0});N.parentExists=!0,N.parentPath=C.path,N.parentObject=C.node,N.name=Qt.basename(v),C=A.lookupPath(v,{follow:!x}),N.exists=!0,N.path=C.path,N.object=C.node,N.name=C.node.name,N.isRoot="/"===C.path}catch(Z){N.error=Z.errno}return N},createPath:function(v,x,C,N){v="string"==typeof v?v:A.getPath(v);for(var Z=x.split("/").reverse();Z.length;){var H=Z.pop();if(H){var ee=Qt.join2(v,H);try{A.mkdir(ee)}catch{}v=ee}}return ee},createFile:function(v,x,C,N,Z){var H=Qt.join2("string"==typeof v?v:A.getPath(v),x),ee=A.getMode(N,Z);return A.create(H,ee)},createDataFile:function(v,x,C,N,Z,H){var ee=x?Qt.join2("string"==typeof v?v:A.getPath(v),x):v,le=A.getMode(N,Z),Je=A.create(ee,le);if(C){if("string"==typeof C){for(var St=new Array(C.length),Zt=0,bt=C.length;Zt<bt;++Zt)St[Zt]=C.charCodeAt(Zt);C=St}A.chmod(Je,146|le);var Mt=A.open(Je,577);A.write(Mt,C,0,C.length,0,H),A.close(Mt),A.chmod(Je,le)}return Je},createDevice:function(v,x,C,N){var Z=Qt.join2("string"==typeof v?v:A.getPath(v),x),H=A.getMode(!!C,!!N);A.createDevice.major||(A.createDevice.major=64);var ee=A.makedev(A.createDevice.major++,0);return A.registerDevice(ee,{open:function(le){le.seekable=!1},close:function(le){N&&N.buffer&&N.buffer.length&&N(10)},read:function(le,Je,St,Zt,bt){for(var Mt=0,Bt=0;Bt<Zt;Bt++){var en;try{en=C()}catch{throw new A.ErrnoError(29)}if(void 0===en&&0===Mt)throw new A.ErrnoError(6);if(null==en)break;Mt++,Je[St+Bt]=en}return Mt&&(le.node.timestamp=Date.now()),Mt},write:function(le,Je,St,Zt,bt){for(var Mt=0;Mt<Zt;Mt++)try{N(Je[St+Mt])}catch{throw new A.ErrnoError(29)}return Zt&&(le.node.timestamp=Date.now()),Mt}}),A.mkdev(Z,H,ee)},forceLoadFile:function(v){if(v.isDevice||v.isFolder||v.link||v.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Re)throw new Error("Cannot load without read() or XMLHttpRequest.");try{v.contents=tt(Re(v.url),!0),v.usedBytes=v.contents.length}catch{throw new A.ErrnoError(29)}},createLazyFile:function(v,x,C,N,Z){function H(){this.lengthKnown=!1,this.chunks=[]}if(H.prototype.get=function(Mt){if(!(Mt>this.length-1||Mt<0)){var Bt=Mt%this.chunkSize;return this.getter(Mt/this.chunkSize|0)[Bt]}},H.prototype.setDataGetter=function(Mt){this.getter=Mt},H.prototype.cacheLength=function(){var Mt=new XMLHttpRequest;if(Mt.open("HEAD",C,!1),Mt.send(null),!(Mt.status>=200&&Mt.status<300||304===Mt.status))throw new Error("Couldn't load "+C+". Status: "+Mt.status);var en,Bt=Number(Mt.getResponseHeader("Content-length")),fi=(en=Mt.getResponseHeader("Accept-Ranges"))&&"bytes"===en,hr=(en=Mt.getResponseHeader("Content-Encoding"))&&"gzip"===en,mr=1048576;fi||(mr=Bt);var Gn=this;Gn.setDataGetter(function(bn){var _a=bn*mr,Ln=(bn+1)*mr-1;if(Ln=Math.min(Ln,Bt-1),typeof Gn.chunks[bn]>"u"&&(Gn.chunks[bn]=function(bn,_a){if(bn>_a)throw new Error("invalid range ("+bn+", "+_a+") or no bytes requested!");if(_a>Bt-1)throw new Error("only "+Bt+" bytes available! programmer error!");var Ln=new XMLHttpRequest;if(Ln.open("GET",C,!1),Bt!==mr&&Ln.setRequestHeader("Range","bytes="+bn+"-"+_a),typeof Uint8Array<"u"&&(Ln.responseType="arraybuffer"),Ln.overrideMimeType&&Ln.overrideMimeType("text/plain; charset=x-user-defined"),Ln.send(null),!(Ln.status>=200&&Ln.status<300||304===Ln.status))throw new Error("Couldn't load "+C+". Status: "+Ln.status);return void 0!==Ln.response?new Uint8Array(Ln.response||[]):tt(Ln.responseText||"",!0)}(_a,Ln)),typeof Gn.chunks[bn]>"u")throw new Error("doXHR failed!");return Gn.chunks[bn]}),(hr||!Bt)&&(mr=Bt=1,Bt=this.getter(0).length,mr=Bt,Qe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Bt,this._chunkSize=mr,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Ie)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ee=new H;Object.defineProperties(ee,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var le={isDevice:!1,contents:ee}}else le={isDevice:!1,url:C};var Je=A.createFile(v,x,le,N,Z);le.contents?Je.contents=le.contents:le.url&&(Je.contents=null,Je.url=le.url),Object.defineProperties(Je,{usedBytes:{get:function(){return this.contents.length}}});var St={};return Object.keys(Je.stream_ops).forEach(function(bt){var Mt=Je.stream_ops[bt];St[bt]=function(){return A.forceLoadFile(Je),Mt.apply(null,arguments)}}),St.read=function(Mt,Bt,en,fi,hr){A.forceLoadFile(Je);var mr=Mt.node.contents;if(hr>=mr.length)return 0;var Cr=Math.min(mr.length-hr,fi);if(mr.slice)for(var Gn=0;Gn<Cr;Gn++)Bt[en+Gn]=mr[hr+Gn];else for(Gn=0;Gn<Cr;Gn++)Bt[en+Gn]=mr.get(hr+Gn);return Cr},Je.stream_ops=St,Je},createPreloadedFile:function(v,x,C,N,Z,H,ee,le,Je,St){Browser.init();var Zt=x?Dt.resolve(Qt.join2(v,x)):v;function Mt(Bt){function en(hr){St&&St(),le||A.createDataFile(v,x,hr,N,Z,Je),H&&H(),zi()}var fi=!1;m.preloadPlugins.forEach(function(hr){fi||hr.canHandle(Zt)&&(hr.handle(Bt,Zt,en,function(){ee&&ee(),zi()}),fi=!0)}),fi||en(Bt)}Vo(),"string"==typeof C?Browser.asyncLoad(C,function(Bt){Mt(Bt)},ee):Mt(C)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(v,x,C){x=x||function(){},C=C||function(){};var N=A.indexedDB();try{var Z=N.open(A.DB_NAME(),A.DB_VERSION)}catch(H){return C(H)}Z.onupgradeneeded=function(){Qe("creating db"),Z.result.createObjectStore(A.DB_STORE_NAME)},Z.onsuccess=function(){var le=Z.result.transaction([A.DB_STORE_NAME],"readwrite"),Je=le.objectStore(A.DB_STORE_NAME),St=0,Zt=0,bt=v.length;function Mt(){0==Zt?x():C()}v.forEach(function(Bt){var en=Je.put(A.analyzePath(Bt).object.contents,Bt);en.onsuccess=function(){++St+Zt==bt&&Mt()},en.onerror=function(){Zt++,St+Zt==bt&&Mt()}}),le.onerror=C},Z.onerror=C},loadFilesFromDB:function(v,x,C){x=x||function(){},C=C||function(){};var N=A.indexedDB();try{var Z=N.open(A.DB_NAME(),A.DB_VERSION)}catch(H){return C(H)}Z.onupgradeneeded=C,Z.onsuccess=function(){var ee=Z.result;try{var le=ee.transaction([A.DB_STORE_NAME],"readonly")}catch(Bt){return void C(Bt)}var Je=le.objectStore(A.DB_STORE_NAME),St=0,Zt=0,bt=v.length;function Mt(){0==Zt?x():C()}v.forEach(function(Bt){var en=Je.get(Bt);en.onsuccess=function(){A.analyzePath(Bt).exists&&A.unlink(Bt),A.createDataFile(Qt.dirname(Bt),Qt.basename(Bt),en.result,!0,!0,!0),++St+Zt==bt&&Mt()},en.onerror=function(){Zt++,St+Zt==bt&&Mt()}}),le.onerror=C},Z.onerror=C}},Ht={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(v,x,C){if("/"===x[0])return x;var N;if(-100===v)N=A.cwd();else{var Z=A.getStream(v);if(!Z)throw new A.ErrnoError(8);N=Z.path}if(0==x.length){if(!C)throw new A.ErrnoError(44);return N}return Qt.join2(N,x)},doStat:function(v,x,C){try{var N=v(x)}catch(Z){if(Z&&Z.node&&Qt.normalize(x)!==Qt.normalize(A.getPath(Z.node)))return-54;throw Z}return _t[C>>2]=N.dev,_t[C+4>>2]=0,_t[C+8>>2]=N.ino,_t[C+12>>2]=N.mode,_t[C+16>>2]=N.nlink,_t[C+20>>2]=N.uid,_t[C+24>>2]=N.gid,_t[C+28>>2]=N.rdev,_t[C+32>>2]=0,Fn=[N.size>>>0,($t=N.size,+Math.abs($t)>=1?$t>0?(0|Math.min(+Math.floor($t/4294967296),4294967295))>>>0:~~+Math.ceil(($t-+(~~$t>>>0))/4294967296)>>>0:0)],_t[C+40>>2]=Fn[0],_t[C+44>>2]=Fn[1],_t[C+48>>2]=4096,_t[C+52>>2]=N.blocks,_t[C+56>>2]=N.atime.getTime()/1e3|0,_t[C+60>>2]=0,_t[C+64>>2]=N.mtime.getTime()/1e3|0,_t[C+68>>2]=0,_t[C+72>>2]=N.ctime.getTime()/1e3|0,_t[C+76>>2]=0,Fn=[N.ino>>>0,($t=N.ino,+Math.abs($t)>=1?$t>0?(0|Math.min(+Math.floor($t/4294967296),4294967295))>>>0:~~+Math.ceil(($t-+(~~$t>>>0))/4294967296)>>>0:0)],_t[C+80>>2]=Fn[0],_t[C+84>>2]=Fn[1],0},doMsync:function(v,x,C,N,Z){var H=Cn.slice(v,v+C);A.msync(x,H,Z,C,N)},doMkdir:function(v,x){return"/"===(v=Qt.normalize(v))[v.length-1]&&(v=v.substr(0,v.length-1)),A.mkdir(v,x,0),0},doMknod:function(v,x,C){switch(61440&x){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return A.mknod(v,x,C),0},doReadlink:function(v,x,C){if(C<=0)return-28;var N=A.readlink(v),Z=Math.min(C,si(N)),H=hn[x+Z];return lo(N,x,C+1),hn[x+Z]=H,Z},doAccess:function(v,x){if(-8&x)return-28;var C;if(!(C=A.lookupPath(v,{follow:!0}).node))return-44;var Z="";return 4&x&&(Z+="r"),2&x&&(Z+="w"),1&x&&(Z+="x"),Z&&A.nodePermissions(C,Z)?-2:0},doDup:function(v,x,C){var N=A.getStream(C);return N&&A.close(N),A.open(v,x,0,C,C).fd},doReadv:function(v,x,C,N){for(var Z=0,H=0;H<C;H++){var le=_t[x+(8*H+4)>>2],Je=A.read(v,hn,_t[x+8*H>>2],le,N);if(Je<0)return-1;if(Z+=Je,Je<le)break}return Z},doWritev:function(v,x,C,N){for(var Z=0,H=0;H<C;H++){var Je=A.write(v,hn,_t[x+8*H>>2],_t[x+(8*H+4)>>2],N);if(Je<0)return-1;Z+=Je}return Z},varargs:void 0,get:function(){return Ht.varargs+=4,_t[Ht.varargs-4>>2]},getStr:function(v){return co(v)},getStreamFromFD:function(v){var x=A.getStream(v);if(!x)throw new A.ErrnoError(8);return x},get64:function(v,x){return v}};function jo(v,x,C){Ht.varargs=C;try{var N=Ht.getStreamFromFD(v);switch(x){case 0:return(Z=Ht.get())<0?-28:A.open(N.path,N.flags,0,Z).fd;case 1:case 2:case 13:case 14:return 0;case 3:return N.flags;case 4:var Z=Ht.get();return N.flags|=Z,0;case 12:return Z=Ht.get(),Hi[Z+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return dn(28),-1}}catch(le){return(typeof A>"u"||!(le instanceof A.ErrnoError))&&Nn(le),-le.errno}}function wi(v,x,C){Ht.varargs=C;try{var N=Ht.getStreamFromFD(v);switch(x){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return N.tty?0:-59;case 21519:if(!N.tty)return-59;var Z=Ht.get();return _t[Z>>2]=0,0;case 21520:return N.tty?-28:-59;case 21531:return Z=Ht.get(),A.ioctl(N,x,Z);default:Nn("bad ioctl syscall "+x)}}catch(H){return(typeof A>"u"||!(H instanceof A.ErrnoError))&&Nn(H),-H.errno}}function ar(v,x,C){Ht.varargs=C;try{var N=Ht.getStr(v),Z=C?Ht.get():0;return A.open(N,x,Z).fd}catch(ee){return(typeof A>"u"||!(ee instanceof A.ErrnoError))&&Nn(ee),-ee.errno}}function qi(){Nn()}function Ha(v,x){throw qn(v,x||1),"longjmp"}function un(v,x){return Ha(v,x)}function Ws(v,x,C){Cn.copyWithin(v,x,x+C)}function za(v){try{return Xe.grow(v-Bo.byteLength+65535>>>16),tn(Xe.buffer),1}catch{}}function hs(v){var x=Cn.length,C=2147483648;if((v>>>=0)>C)return!1;for(var N=1;N<=4;N*=2){var Z=x*(1+.2/N);if(Z=Math.min(Z,v+100663296),za(Math.min(C,Tt(Math.max(v,Z),65536))))return!0}return!1}function ms(v){try{var x=Ht.getStreamFromFD(v);return A.close(x),0}catch(C){return(typeof A>"u"||!(C instanceof A.ErrnoError))&&Nn(C),C.errno}}function $o(v,x,C,N){try{var Z=Ht.getStreamFromFD(v),H=Ht.doReadv(Z,x,C);return _t[N>>2]=H,0}catch(ee){return(typeof A>"u"||!(ee instanceof A.ErrnoError))&&Nn(ee),ee.errno}}function Xn(v,x,C,N,Z){try{var H=Ht.getStreamFromFD(v),le=4294967296*C+(x>>>0),Je=9007199254740992;return le<=-Je||le>=Je?-61:(A.llseek(H,le,N),Fn=[H.position>>>0,($t=H.position,+Math.abs($t)>=1?$t>0?(0|Math.min(+Math.floor($t/4294967296),4294967295))>>>0:~~+Math.ceil(($t-+(~~$t>>>0))/4294967296)>>>0:0)],_t[Z>>2]=Fn[0],_t[Z+4>>2]=Fn[1],H.getdents&&0===le&&0===N&&(H.getdents=null),0)}catch(St){return(typeof A>"u"||!(St instanceof A.ErrnoError))&&Nn(St),St.errno}}function Ii(v,x,C,N){try{var Z=Ht.getStreamFromFD(v),H=Ht.doWritev(Z,x,C);return _t[N>>2]=H,0}catch(ee){return(typeof A>"u"||!(ee instanceof A.ErrnoError))&&Nn(ee),ee.errno}}function rr(){return 0|Q()}function cr(v){var x=Date.now();return _t[v>>2]=x/1e3|0,_t[v+4>>2]=x%1e3*1e3|0,0}function er(v,x){var C=new Date(1e3*_t[v>>2]);_t[x>>2]=C.getUTCSeconds(),_t[x+4>>2]=C.getUTCMinutes(),_t[x+8>>2]=C.getUTCHours(),_t[x+12>>2]=C.getUTCDate(),_t[x+16>>2]=C.getUTCMonth(),_t[x+20>>2]=C.getUTCFullYear()-1900,_t[x+24>>2]=C.getUTCDay(),_t[x+36>>2]=0,_t[x+32>>2]=0;var N=Date.UTC(C.getUTCFullYear(),0,1,0,0,0,0),Z=(C.getTime()-N)/864e5|0;return _t[x+28>>2]=Z,er.GMTString||(er.GMTString=pl("GMT")),_t[x+40>>2]=er.GMTString,x}function U(v){E(0|v)}function we(v){var x=Date.now()/1e3|0;return v&&(_t[v>>2]=x),x}var ne=function(v,x,C,N){v||(v=this),this.parent=v,this.mount=v.mount,this.mounted=null,this.id=A.nextInode++,this.name=x,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=N},de=365,je=146;function tt(v,x,C){var N=C>0?C:si(v)+1,Z=new Array(N),H=Fr(v,Z,0,Z.length);return x&&(Z.length=H),Z}Object.defineProperties(ne.prototype,{read:{get:function(){return(this.mode&de)===de},set:function(v){v?this.mode|=de:this.mode&=~de}},write:{get:function(){return(this.mode&je)===je},set:function(v){v?this.mode|=je:this.mode&=~je}},isFolder:{get:function(){return A.isDir(this.mode)}},isDevice:{get:function(){return A.isChrdev(this.mode)}}}),A.FSNode=ne,A.staticInit();var uc,Yt={l:ci,t:jo,z:wi,A:ar,m:qi,h:un,w:Ws,x:hs,s:ms,y:$o,v:Xn,r:Ii,a:rr,C:cr,D:er,p:Fp,u:df,j:Np,g:Wl,e:Os,i:uf,E:Kl,d:lf,o:lc,f:fa,n:ac,c:Zy,k:Uy,q:cc,b:U,B:we},Ga=(ln(),m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.G).apply(null,arguments)},m._glp_printf=function(){return(m._glp_printf=m.asm.H).apply(null,arguments)},m._glp_alloc=function(){return(m._glp_alloc=m.asm.I).apply(null,arguments)},m._glp_free=function(){return(m._glp_free=m.asm.J).apply(null,arguments)},m._glp_adv_basis=function(){return(m._glp_adv_basis=m.asm.K).apply(null,arguments)},m._glp_std_basis=function(){return(m._glp_std_basis=m.asm.L).apply(null,arguments)},m._glp_set_row_stat=function(){return(m._glp_set_row_stat=m.asm.M).apply(null,arguments)},m._glp_set_col_stat=function(){return(m._glp_set_col_stat=m.asm.N).apply(null,arguments)},m._glp_assert_=function(){return(m._glp_assert_=m.asm.O).apply(null,arguments)},m._glp_asnprob_hall=function(){return(m._glp_asnprob_hall=m.asm.Q).apply(null,arguments)},m._glp_check_asnprob=function(){return(m._glp_check_asnprob=m.asm.R).apply(null,arguments)},m._glp_asnprob_lp=function(){return(m._glp_asnprob_lp=m.asm.S).apply(null,arguments)},m._glp_erase_prob=function(){return(m._glp_erase_prob=m.asm.T).apply(null,arguments)},m._glp_set_prob_name=function(){return(m._glp_set_prob_name=m.asm.U).apply(null,arguments)},m._glp_set_obj_dir=function(){return(m._glp_set_obj_dir=m.asm.V).apply(null,arguments)},m._glp_add_rows=function(){return(m._glp_add_rows=m.asm.W).apply(null,arguments)},m._glp_set_row_name=function(){return(m._glp_set_row_name=m.asm.X).apply(null,arguments)},m._glp_set_row_bnds=function(){return(m._glp_set_row_bnds=m.asm.Y).apply(null,arguments)},m._glp_add_cols=function(){return(m._glp_add_cols=m.asm.Z).apply(null,arguments)},m._glp_set_col_name=function(){return(m._glp_set_col_name=m.asm._).apply(null,arguments)},m._glp_set_mat_col=function(){return(m._glp_set_mat_col=m.asm.$).apply(null,arguments)},m._glp_set_col_bnds=function(){return(m._glp_set_col_bnds=m.asm.aa).apply(null,arguments)},m._glp_set_obj_coef=function(){return(m._glp_set_obj_coef=m.asm.ba).apply(null,arguments)},m._glp_asnprob_okalg=function(){return(m._glp_asnprob_okalg=m.asm.ca).apply(null,arguments)},m._glp_check_cnfsat=function(){return(m._glp_check_cnfsat=m.asm.da).apply(null,arguments)},m._glp_init_cpxcp=function(){return(m._glp_init_cpxcp=m.asm.ea).apply(null,arguments)},m._glp_read_lp=function(){return(m._glp_read_lp=m.asm.fa).apply(null,arguments)},m._malloc=function(){return(Ga=m._malloc=m.asm.ga).apply(null,arguments)}),sc=(m._glp_create_index=function(){return(m._glp_create_index=m.asm.ha).apply(null,arguments)},m._glp_set_obj_name=function(){return(m._glp_set_obj_name=m.asm.ia).apply(null,arguments)},m._glp_find_row=function(){return(m._glp_find_row=m.asm.ja).apply(null,arguments)},m._glp_set_mat_row=function(){return(m._glp_set_mat_row=m.asm.ka).apply(null,arguments)},m._glp_get_col_name=function(){return(m._glp_get_col_name=m.asm.la).apply(null,arguments)},m._glp_get_num_int=function(){return(m._glp_get_num_int=m.asm.ma).apply(null,arguments)},m._glp_get_num_bin=function(){return(m._glp_get_num_bin=m.asm.na).apply(null,arguments)},m._glp_delete_index=function(){return(m._glp_delete_index=m.asm.oa).apply(null,arguments)},m._glp_sort_matrix=function(){return(m._glp_sort_matrix=m.asm.pa).apply(null,arguments)},m._glp_set_col_kind=function(){return(m._glp_set_col_kind=m.asm.qa).apply(null,arguments)},m._free=function(){return(m._free=m.asm.ra).apply(null,arguments)},m._glp_write_lp=function(){return(m._glp_write_lp=m.asm.sa).apply(null,arguments)},m._glp_get_obj_name=function(){return(m._glp_get_obj_name=m.asm.ta).apply(null,arguments)},m._glp_get_row_name=function(){return(m._glp_get_row_name=m.asm.ua).apply(null,arguments)},m._glp_find_col=function(){return(m._glp_find_col=m.asm.va).apply(null,arguments)},m._glp_cpp=function(){return(m._glp_cpp=m.asm.wa).apply(null,arguments)},m._glp_top_sort=function(){return(m._glp_top_sort=m.asm.xa).apply(null,arguments)},m._glp_cpx_basis=function(){return(m._glp_cpx_basis=m.asm.ya).apply(null,arguments)},m._glp_get_num_rows=function(){return(m._glp_get_num_rows=m.asm.za).apply(null,arguments)},m._glp_get_num_cols=function(){return(m._glp_get_num_cols=m.asm.Aa).apply(null,arguments)},m._glp_get_row_type=function(){return(m._glp_get_row_type=m.asm.Ba).apply(null,arguments)},m._glp_get_row_lb=function(){return(m._glp_get_row_lb=m.asm.Ca).apply(null,arguments)},m._glp_get_row_ub=function(){return(m._glp_get_row_ub=m.asm.Da).apply(null,arguments)},m._glp_get_col_type=function(){return(m._glp_get_col_type=m.asm.Ea).apply(null,arguments)},m._glp_get_col_lb=function(){return(m._glp_get_col_lb=m.asm.Fa).apply(null,arguments)},m._glp_get_col_ub=function(){return(m._glp_get_col_ub=m.asm.Ga).apply(null,arguments)},m._glp_get_obj_coef=function(){return(m._glp_get_obj_coef=m.asm.Ha).apply(null,arguments)},m._glp_get_obj_dir=function(){return(m._glp_get_obj_dir=m.asm.Ia).apply(null,arguments)},m._glp_get_mat_col=function(){return(m._glp_get_mat_col=m.asm.Ja).apply(null,arguments)},m._glp_create_graph=function(){return(m._glp_create_graph=m.asm.Ka).apply(null,arguments)},m._glp_set_graph_name=function(){return(m._glp_set_graph_name=m.asm.La).apply(null,arguments)},m._glp_add_vertices=function(){return(m._glp_add_vertices=m.asm.Ma).apply(null,arguments)},m._glp_set_vertex_name=function(){return(m._glp_set_vertex_name=m.asm.Na).apply(null,arguments)},m._glp_add_arc=function(){return(m._glp_add_arc=m.asm.Oa).apply(null,arguments)},m._glp_del_vertices=function(){return(m._glp_del_vertices=m.asm.Pa).apply(null,arguments)},m._glp_del_arc=function(){return(m._glp_del_arc=m.asm.Qa).apply(null,arguments)},m._glp_erase_graph=function(){return(m._glp_erase_graph=m.asm.Ra).apply(null,arguments)},m._glp_delete_graph=function(){return(m._glp_delete_graph=m.asm.Sa).apply(null,arguments)},m._glp_create_v_index=function(){return(m._glp_create_v_index=m.asm.Ta).apply(null,arguments)},m._glp_find_vertex=function(){return(m._glp_find_vertex=m.asm.Ua).apply(null,arguments)},m._glp_delete_v_index=function(){return(m._glp_delete_v_index=m.asm.Va).apply(null,arguments)},m._glp_gridgen=function(){return(m._glp_gridgen=m.asm.Wa).apply(null,arguments)},m._glp_intfeas1=function(){return(m._glp_intfeas1=m.asm.Xa).apply(null,arguments)},m._glp_create_prob=function(){return(m._glp_create_prob=m.asm.Ya).apply(null,arguments)},m._glp_minisat1=function(){return(m._glp_minisat1=m.asm.Za).apply(null,arguments)},m._glp_delete_prob=function(){return(m._glp_delete_prob=m.asm._a).apply(null,arguments)},m._glp_del_rows=function(){return(m._glp_del_rows=m.asm.$a).apply(null,arguments)},m._glp_maxflow_ffalg=function(){return(m._glp_maxflow_ffalg=m.asm.ab).apply(null,arguments)},m._glp_maxflow_lp=function(){return(m._glp_maxflow_lp=m.asm.bb).apply(null,arguments)},m._glp_mincost_lp=function(){return(m._glp_mincost_lp=m.asm.cb).apply(null,arguments)},m._glp_mincost_okalg=function(){return(m._glp_mincost_okalg=m.asm.db).apply(null,arguments)},m._glp_mincost_relax4=function(){return(m._glp_mincost_relax4=m.asm.eb).apply(null,arguments)},m._glp_mpl_alloc_wksp=function(){return(m._glp_mpl_alloc_wksp=m.asm.fb).apply(null,arguments)},m._glp_mpl_init_rand=function(){return(m._glp_mpl_init_rand=m.asm.gb).apply(null,arguments)},m._glp_mpl_read_model=function(){return(m._glp_mpl_read_model=m.asm.hb).apply(null,arguments)},m._glp_mpl_read_data=function(){return(m._glp_mpl_read_data=m.asm.ib).apply(null,arguments)},m._glp_mpl_generate=function(){return(m._glp_mpl_generate=m.asm.jb).apply(null,arguments)},m._glp_mpl_build_prob=function(){return(m._glp_mpl_build_prob=m.asm.kb).apply(null,arguments)},m._glp_mpl_postsolve=function(){return(m._glp_mpl_postsolve=m.asm.lb).apply(null,arguments)},m._glp_get_row_stat=function(){return(m._glp_get_row_stat=m.asm.mb).apply(null,arguments)},m._glp_get_row_prim=function(){return(m._glp_get_row_prim=m.asm.nb).apply(null,arguments)},m._glp_get_row_dual=function(){return(m._glp_get_row_dual=m.asm.ob).apply(null,arguments)},m._glp_ipt_row_prim=function(){return(m._glp_ipt_row_prim=m.asm.pb).apply(null,arguments)},m._glp_ipt_row_dual=function(){return(m._glp_ipt_row_dual=m.asm.qb).apply(null,arguments)},m._glp_mip_row_val=function(){return(m._glp_mip_row_val=m.asm.rb).apply(null,arguments)},m._glp_get_col_stat=function(){return(m._glp_get_col_stat=m.asm.sb).apply(null,arguments)},m._glp_get_col_prim=function(){return(m._glp_get_col_prim=m.asm.tb).apply(null,arguments)},m._glp_get_col_dual=function(){return(m._glp_get_col_dual=m.asm.ub).apply(null,arguments)},m._glp_ipt_col_prim=function(){return(m._glp_ipt_col_prim=m.asm.vb).apply(null,arguments)},m._glp_ipt_col_dual=function(){return(m._glp_ipt_col_dual=m.asm.wb).apply(null,arguments)},m._glp_mip_col_val=function(){return(m._glp_mip_col_val=m.asm.xb).apply(null,arguments)},m._glp_mpl_free_wksp=function(){return(m._glp_mpl_free_wksp=m.asm.yb).apply(null,arguments)},m._glp_init_mpscp=function(){return(m._glp_init_mpscp=m.asm.zb).apply(null,arguments)},m._glp_read_mps=function(){return(m._glp_read_mps=m.asm.Ab).apply(null,arguments)},m._glp_write_mps=function(){return(m._glp_write_mps=m.asm.Bb).apply(null,arguments)},m._glp_netgen=function(){return(m._glp_netgen=m.asm.Cb).apply(null,arguments)},m._glp_npp_alloc_wksp=function(){return(m._glp_npp_alloc_wksp=m.asm.Db).apply(null,arguments)},m._glp_npp_load_prob=function(){return(m._glp_npp_load_prob=m.asm.Eb).apply(null,arguments)},m._glp_npp_preprocess1=function(){return(m._glp_npp_preprocess1=m.asm.Fb).apply(null,arguments)},m._glp_npp_build_prob=function(){return(m._glp_npp_build_prob=m.asm.Gb).apply(null,arguments)},m._glp_npp_postprocess=function(){return(m._glp_npp_postprocess=m.asm.Hb).apply(null,arguments)},m._glp_get_status=function(){return(m._glp_get_status=m.asm.Ib).apply(null,arguments)},m._glp_ipt_status=function(){return(m._glp_ipt_status=m.asm.Jb).apply(null,arguments)},m._glp_mip_status=function(){return(m._glp_mip_status=m.asm.Kb).apply(null,arguments)},m._glp_npp_obtain_sol=function(){return(m._glp_npp_obtain_sol=m.asm.Lb).apply(null,arguments)},m._glp_npp_free_wksp=function(){return(m._glp_npp_free_wksp=m.asm.Mb).apply(null,arguments)},m._glp_print_ipt=function(){return(m._glp_print_ipt=m.asm.Nb).apply(null,arguments)},m._glp_print_mip=function(){return(m._glp_print_mip=m.asm.Ob).apply(null,arguments)},m._glp_load_matrix=function(){return(m._glp_load_matrix=m.asm.Pb).apply(null,arguments)},m._glp_check_dup=function(){return(m._glp_check_dup=m.asm.Qb).apply(null,arguments)},m._glp_del_cols=function(){return(m._glp_del_cols=m.asm.Rb).apply(null,arguments)},m._glp_copy_prob=function(){return(m._glp_copy_prob=m.asm.Sb).apply(null,arguments)},m._glp_get_bfcp=function(){return(m._glp_get_bfcp=m.asm.Tb).apply(null,arguments)},m._glp_set_bfcp=function(){return(m._glp_set_bfcp=m.asm.Ub).apply(null,arguments)},m._glp_get_prob_name=function(){return(m._glp_get_prob_name=m.asm.Vb).apply(null,arguments)},m._glp_get_num_nz=function(){return(m._glp_get_num_nz=m.asm.Wb).apply(null,arguments)},m._glp_get_mat_row=function(){return(m._glp_get_mat_row=m.asm.Xb).apply(null,arguments)},m._glp_set_rii=function(){return(m._glp_set_rii=m.asm.Yb).apply(null,arguments)},m._glp_set_sjj=function(){return(m._glp_set_sjj=m.asm.Zb).apply(null,arguments)},m._glp_get_rii=function(){return(m._glp_get_rii=m.asm._b).apply(null,arguments)},m._glp_get_sjj=function(){return(m._glp_get_sjj=m.asm.$b).apply(null,arguments)},m._glp_unscale_prob=function(){return(m._glp_unscale_prob=m.asm.ac).apply(null,arguments)},m._glp_print_ranges=function(){return(m._glp_print_ranges=m.asm.bc).apply(null,arguments)},m._glp_bf_exists=function(){return(m._glp_bf_exists=m.asm.cc).apply(null,arguments)},m._glp_version=function(){return(m._glp_version=m.asm.dc).apply(null,arguments)},m._glp_analyze_bound=function(){return(m._glp_analyze_bound=m.asm.ec).apply(null,arguments)},m._glp_analyze_coef=function(){return(m._glp_analyze_coef=m.asm.fc).apply(null,arguments)},m._glp_print_sol=function(){return(m._glp_print_sol=m.asm.gc).apply(null,arguments)},m._glp_read_asnprob=function(){return(m._glp_read_asnprob=m.asm.hc).apply(null,arguments)},m._glp_read_ccdata=function(){return(m._glp_read_ccdata=m.asm.ic).apply(null,arguments)},m._glp_read_graph=function(){return(m._glp_read_graph=m.asm.jc).apply(null,arguments)},m._glp_read_cnfsat=function(){return(m._glp_read_cnfsat=m.asm.kc).apply(null,arguments)},m._glp_read_ipt=function(){return(m._glp_read_ipt=m.asm.lc).apply(null,arguments)},m._glp_read_maxflow=function(){return(m._glp_read_maxflow=m.asm.mc).apply(null,arguments)},m._glp_read_mincost=function(){return(m._glp_read_mincost=m.asm.nc).apply(null,arguments)},m._glp_read_mip=function(){return(m._glp_read_mip=m.asm.oc).apply(null,arguments)},m._glp_read_prob=function(){return(m._glp_read_prob=m.asm.pc).apply(null,arguments)},m._glp_read_sol=function(){return(m._glp_read_sol=m.asm.qc).apply(null,arguments)},m._glp_rmfgen=function(){return(m._glp_rmfgen=m.asm.rc).apply(null,arguments)},m._glp_strong_comp=function(){return(m._glp_strong_comp=m.asm.sc).apply(null,arguments)},m._glp_weak_comp=function(){return(m._glp_weak_comp=m.asm.tc).apply(null,arguments)},m._glp_wclique_exact=function(){return(m._glp_wclique_exact=m.asm.uc).apply(null,arguments)},m._glp_write_asnprob=function(){return(m._glp_write_asnprob=m.asm.vc).apply(null,arguments)},m._glp_write_ccdata=function(){return(m._glp_write_ccdata=m.asm.wc).apply(null,arguments)},m._glp_write_graph=function(){return(m._glp_write_graph=m.asm.xc).apply(null,arguments)},m._glp_write_cnfsat=function(){return(m._glp_write_cnfsat=m.asm.yc).apply(null,arguments)},m._glp_write_ipt=function(){return(m._glp_write_ipt=m.asm.zc).apply(null,arguments)},m._glp_write_maxflow=function(){return(m._glp_write_maxflow=m.asm.Ac).apply(null,arguments)},m._glp_write_mincost=function(){return(m._glp_write_mincost=m.asm.Bc).apply(null,arguments)},m._glp_write_mip=function(){return(m._glp_write_mip=m.asm.Cc).apply(null,arguments)},m._glp_write_prob=function(){return(m._glp_write_prob=m.asm.Dc).apply(null,arguments)},m._glp_write_sol=function(){return(m._glp_write_sol=m.asm.Ec).apply(null,arguments)},m._glp_realloc=function(){return(m._glp_realloc=m.asm.Fc).apply(null,arguments)},m._glp_simplex=function(){return(m._glp_simplex=m.asm.Gc).apply(null,arguments)},m._glp_scale_prob=function(){return(m._glp_scale_prob=m.asm.Hc).apply(null,arguments)},m._glp_init_smcp=function(){return(m._glp_init_smcp=m.asm.Ic).apply(null,arguments)},m._glp_factorize=function(){return(m._glp_factorize=m.asm.Jc).apply(null,arguments)},m._glp_get_prim_stat=function(){return(m._glp_get_prim_stat=m.asm.Kc).apply(null,arguments)},m._glp_get_dual_stat=function(){return(m._glp_get_dual_stat=m.asm.Lc).apply(null,arguments)},m._glp_get_obj_val=function(){return(m._glp_get_obj_val=m.asm.Mc).apply(null,arguments)},m._glp_get_unbnd_ray=function(){return(m._glp_get_unbnd_ray=m.asm.Nc).apply(null,arguments)},m._glp_get_it_cnt=function(){return(m._glp_get_it_cnt=m.asm.Oc).apply(null,arguments)},m._glp_set_it_cnt=function(){return(m._glp_set_it_cnt=m.asm.Pc).apply(null,arguments)},m._glp_exact=function(){return(m._glp_exact=m.asm.Qc).apply(null,arguments)},m._glp_time=function(){return(m._glp_time=m.asm.Rc).apply(null,arguments)},m._glp_interior=function(){return(m._glp_interior=m.asm.Sc).apply(null,arguments)},m._glp_init_iptcp=function(){return(m._glp_init_iptcp=m.asm.Tc).apply(null,arguments)},m._glp_ipt_obj_val=function(){return(m._glp_ipt_obj_val=m.asm.Uc).apply(null,arguments)},m._glp_get_col_kind=function(){return(m._glp_get_col_kind=m.asm.Vc).apply(null,arguments)},m._glp_intopt=function(){return(m._glp_intopt=m.asm.Wc).apply(null,arguments)},m._glp_init_iocp=function(){return(m._glp_init_iocp=m.asm.Xc).apply(null,arguments)},m._glp_mip_obj_val=function(){return(m._glp_mip_obj_val=m.asm.Yc).apply(null,arguments)},m._glp_bf_updated=function(){return(m._glp_bf_updated=m.asm.Zc).apply(null,arguments)},m._glp_get_bhead=function(){return(m._glp_get_bhead=m.asm._c).apply(null,arguments)},m._glp_get_row_bind=function(){return(m._glp_get_row_bind=m.asm.$c).apply(null,arguments)},m._glp_get_col_bind=function(){return(m._glp_get_col_bind=m.asm.ad).apply(null,arguments)},m._glp_ftran=function(){return(m._glp_ftran=m.asm.bd).apply(null,arguments)},m._glp_btran=function(){return(m._glp_btran=m.asm.cd).apply(null,arguments)},m._glp_warm_up=function(){return(m._glp_warm_up=m.asm.dd).apply(null,arguments)},m._glp_eval_tab_row=function(){return(m._glp_eval_tab_row=m.asm.ed).apply(null,arguments)},m._glp_eval_tab_col=function(){return(m._glp_eval_tab_col=m.asm.fd).apply(null,arguments)},m._glp_transform_row=function(){return(m._glp_transform_row=m.asm.gd).apply(null,arguments)},m._glp_transform_col=function(){return(m._glp_transform_col=m.asm.hd).apply(null,arguments)},m._glp_prim_rtest=function(){return(m._glp_prim_rtest=m.asm.id).apply(null,arguments)},m._glp_dual_rtest=function(){return(m._glp_dual_rtest=m.asm.jd).apply(null,arguments)},m._glp_ios_reason=function(){return(m._glp_ios_reason=m.asm.kd).apply(null,arguments)},m._glp_ios_get_prob=function(){return(m._glp_ios_get_prob=m.asm.ld).apply(null,arguments)},m._glp_ios_tree_size=function(){return(m._glp_ios_tree_size=m.asm.md).apply(null,arguments)},m._glp_ios_curr_node=function(){return(m._glp_ios_curr_node=m.asm.nd).apply(null,arguments)},m._glp_ios_next_node=function(){return(m._glp_ios_next_node=m.asm.od).apply(null,arguments)},m._glp_ios_prev_node=function(){return(m._glp_ios_prev_node=m.asm.pd).apply(null,arguments)},m._glp_ios_up_node=function(){return(m._glp_ios_up_node=m.asm.qd).apply(null,arguments)},m._glp_ios_node_level=function(){return(m._glp_ios_node_level=m.asm.rd).apply(null,arguments)},m._glp_ios_node_bound=function(){return(m._glp_ios_node_bound=m.asm.sd).apply(null,arguments)},m._glp_ios_best_node=function(){return(m._glp_ios_best_node=m.asm.td).apply(null,arguments)},m._glp_ios_mip_gap=function(){return(m._glp_ios_mip_gap=m.asm.ud).apply(null,arguments)},m._glp_ios_node_data=function(){return(m._glp_ios_node_data=m.asm.vd).apply(null,arguments)},m._glp_ios_row_attr=function(){return(m._glp_ios_row_attr=m.asm.wd).apply(null,arguments)},m._glp_ios_pool_size=function(){return(m._glp_ios_pool_size=m.asm.xd).apply(null,arguments)},m._glp_ios_add_row=function(){return(m._glp_ios_add_row=m.asm.yd).apply(null,arguments)},m._glp_ios_del_row=function(){return(m._glp_ios_del_row=m.asm.zd).apply(null,arguments)},m._glp_ios_clear_pool=function(){return(m._glp_ios_clear_pool=m.asm.Ad).apply(null,arguments)},m._glp_ios_can_branch=function(){return(m._glp_ios_can_branch=m.asm.Bd).apply(null,arguments)},m._glp_ios_branch_upon=function(){return(m._glp_ios_branch_upon=m.asm.Cd).apply(null,arguments)},m._glp_ios_select_node=function(){return(m._glp_ios_select_node=m.asm.Dd).apply(null,arguments)},m._glp_ios_heur_sol=function(){return(m._glp_ios_heur_sol=m.asm.Ed).apply(null,arguments)},m._glp_ios_terminate=function(){return(m._glp_ios_terminate=m.asm.Fd).apply(null,arguments)},m._glp_difftime=function(){return(m._glp_difftime=m.asm.Gd).apply(null,arguments)},m._glp_mem_usage=function(){return(m._glp_mem_usage=m.asm.Hd).apply(null,arguments)},m._glp_mem_limit=function(){return(m._glp_mem_limit=m.asm.Id).apply(null,arguments)},m._glp_init_env=function(){return(m._glp_init_env=m.asm.Jd).apply(null,arguments)},m._glp_config=function(){return(m._glp_config=m.asm.Kd).apply(null,arguments)},m._glp_free_env=function(){return(m._glp_free_env=m.asm.Ld).apply(null,arguments)},m._glp_at_error=function(){return(m._glp_at_error=m.asm.Md).apply(null,arguments)},m._glp_error_hook=function(){return(m._glp_error_hook=m.asm.Nd).apply(null,arguments)},m._glp_puts=function(){return(m._glp_puts=m.asm.Od).apply(null,arguments)},m._glp_term_out=function(){return(m._glp_term_out=m.asm.Pd).apply(null,arguments)},m._glp_term_hook=function(){return(m._glp_term_hook=m.asm.Qd).apply(null,arguments)},m._glp_open_tee=function(){return(m._glp_open_tee=m.asm.Rd).apply(null,arguments)},m._glp_close_tee=function(){return(m._glp_close_tee=m.asm.Sd).apply(null,arguments)},m.___errno_location=function(){return(sc=m.___errno_location=m.asm.Td).apply(null,arguments)}),Gt=m.stackSave=function(){return(Gt=m.stackSave=m.asm.Ud).apply(null,arguments)},or=m.stackRestore=function(){return(or=m.stackRestore=m.asm.Vd).apply(null,arguments)},qn=m._setThrew=function(){return(qn=m._setThrew=m.asm.Wd).apply(null,arguments)};function fa(v,x,C){var N=Gt();try{pt.get(v)(x,C)}catch(Z){if(or(N),Z!==Z+0&&"longjmp"!==Z)throw Z;qn(1,0)}}function Os(v,x,C){var N=Gt();try{return pt.get(v)(x,C)}catch(Z){if(or(N),Z!==Z+0&&"longjmp"!==Z)throw Z;qn(1,0)}}function lf(v,x){var C=Gt();try{pt.get(v)(x)}catch(N){if(or(C),N!==N+0&&"longjmp"!==N)throw N;qn(1,0)}}function Np(v){var x=Gt();try{return pt.get(v)()}catch(C){if(or(x),C!==C+0&&"longjmp"!==C)throw C;qn(1,0)}}function Zy(v,x,C,N){var Z=Gt();try{pt.get(v)(x,C,N)}catch(H){if(or(Z),H!==H+0&&"longjmp"!==H)throw H;qn(1,0)}}function Wl(v,x){var C=Gt();try{return pt.get(v)(x)}catch(N){if(or(C),N!==N+0&&"longjmp"!==N)throw N;qn(1,0)}}function ac(v,x,C,N){var Z=Gt();try{pt.get(v)(x,C,N)}catch(H){if(or(Z),H!==H+0&&"longjmp"!==H)throw H;qn(1,0)}}function uf(v,x,C,N){var Z=Gt();try{return pt.get(v)(x,C,N)}catch(H){if(or(Z),H!==H+0&&"longjmp"!==H)throw H;qn(1,0)}}function cc(v,x,C,N,Z,H){var ee=Gt();try{pt.get(v)(x,C,N,Z,H)}catch(le){if(or(ee),le!==le+0&&"longjmp"!==le)throw le;qn(1,0)}}function Uy(v,x,C,N,Z,H){var ee=Gt();try{pt.get(v)(x,C,N,Z,H)}catch(le){if(or(ee),le!==le+0&&"longjmp"!==le)throw le;qn(1,0)}}function Fp(v,x){var C=Gt();try{return pt.get(v)(x)}catch(N){if(or(C),N!==N+0&&"longjmp"!==N)throw N;qn(1,0)}}function lc(v,x,C){var N=Gt();try{pt.get(v)(x,C)}catch(Z){if(or(N),Z!==Z+0&&"longjmp"!==Z)throw Z;qn(1,0)}}function Kl(v,x,C,N,Z,H){var ee=Gt();try{return pt.get(v)(x,C,N,Z,H)}catch(le){if(or(ee),le!==le+0&&"longjmp"!==le)throw le;qn(1,0)}}function df(v,x,C){var N=Gt();try{return pt.get(v)(x,C)}catch(Z){if(or(N),Z!==Z+0&&"longjmp"!==Z)throw Z;qn(1,0)}}function ff(v){this.name="ExitStatus",this.message="Program terminated with exit("+v+")",this.status=v}function Di(v){function x(){uc||(uc=!0,m.calledRun=!0,!$e&&(yn(),Gr(),q(m),m.onRuntimeInitialized&&m.onRuntimeInitialized(),nn()))}v=v||G,Lr>0||(Zo(),Lr>0)||(m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),x()},1)):x())}if(m.setValue=ut,m.getValue=ft,m.UTF8ToString=co,m.stringToUTF8=lo,m.lengthBytesUTF8=si,m.addFunction=Pt,m.removeFunction=He,m.FS=A,bi=function v(){uc||Di(),uc||(bi=v)},m.run=Di,m.preInit)for("function"==typeof m.preInit&&(m.preInit=[m.preInit]);m.preInit.length>0;)m.preInit.pop()();return Di(),m.ready});K.exports=t},1135:(K,j,M)=>{"use strict";M.d(j,{X:()=>Y});var t=M(7579);class Y extends t.x{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const q=super._subscribe(m);return!q.closed&&m.next(this._value),q}getValue(){const{hasError:m,thrownError:q,_value:re}=this;if(m)throw q;return this._throwIfClosed(),re}next(m){super.next(this._value=m)}}},8306:(K,j,M)=>{"use strict";M.d(j,{y:()=>k});var t=M(930),Y=M(727),W=M(8822),m=M(4671);var $=M(2416),O=M(576),G=M(2806);let k=(()=>{class Ee{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Te=new Ee;return Te.source=this,Te.operator=Se,Te}subscribe(Se,Te,Re){const Ke=function Ie(Ee){return Ee&&Ee instanceof t.Lv||function X(Ee){return Ee&&(0,O.m)(Ee.next)&&(0,O.m)(Ee.error)&&(0,O.m)(Ee.complete)}(Ee)&&(0,Y.Nn)(Ee)}(Se)?Se:new t.Hp(Se,Te,Re);return(0,G.x)(()=>{const{operator:Ge,source:Ae}=this;Ke.add(Ge?Ge.call(Ke,Ae):Ae?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Te){Se.error(Te)}}forEach(Se,Te){return new(Te=J(Te))((Re,Ke)=>{const Ge=new t.Hp({next:Ae=>{try{Se(Ae)}catch(ve){Ke(ve),Ge.unsubscribe()}},error:Ke,complete:Re});this.subscribe(Ge)})}_subscribe(Se){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Se)}[W.L](){return this}pipe(...Se){return function re(Ee){return 0===Ee.length?m.y:1===Ee.length?Ee[0]:function(Se){return Ee.reduce((Te,Re)=>Re(Te),Se)}}(Se)(this)}toPromise(Se){return new(Se=J(Se))((Te,Re)=>{let Ke;this.subscribe(Ge=>Ke=Ge,Ge=>Re(Ge),()=>Te(Ke))})}}return Ee.create=ke=>new Ee(ke),Ee})();function J(Ee){var ke;return null!==(ke=Ee??$.v.Promise)&&void 0!==ke?ke:Promise}},4707:(K,j,M)=>{"use strict";M.d(j,{t:()=>W});var t=M(7579),Y=M(6063);class W extends t.x{constructor(q=1/0,re=1/0,$=Y.l){super(),this._bufferSize=q,this._windowTime=re,this._timestampProvider=$,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=re===1/0,this._bufferSize=Math.max(1,q),this._windowTime=Math.max(1,re)}next(q){const{isStopped:re,_buffer:$,_infiniteTimeWindow:O,_timestampProvider:G,_windowTime:k}=this;re||($.push(q),!O&&$.push(G.now()+k)),this._trimBuffer(),super.next(q)}_subscribe(q){this._throwIfClosed(),this._trimBuffer();const re=this._innerSubscribe(q),{_infiniteTimeWindow:$,_buffer:O}=this,G=O.slice();for(let k=0;k<G.length&&!q.closed;k+=$?1:2)q.next(G[k]);return this._checkFinalizedStatuses(q),re}_trimBuffer(){const{_bufferSize:q,_timestampProvider:re,_buffer:$,_infiniteTimeWindow:O}=this,G=(O?1:2)*q;if(q<1/0&&G<$.length&&$.splice(0,$.length-G),!O){const k=re.now();let J=0;for(let X=1;X<$.length&&$[X]<=k;X+=2)J=X;J&&$.splice(0,J+1)}}}},7579:(K,j,M)=>{"use strict";M.d(j,{x:()=>$});var t=M(8306),Y=M(727);const m=(0,M(3888).d)(G=>function(){G(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=M(8737),re=M(2806);let $=(()=>{class G extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const X=new O(this,this);return X.operator=J,X}_throwIfClosed(){if(this.closed)throw new m}next(J){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(J)}})}error(J){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:X}=this;for(;X.length;)X.shift().error(J)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:X,isStopped:Ie,observers:Ee}=this;return X||Ie?Y.Lc:(this.currentObservers=null,Ee.push(J),new Y.w0(()=>{this.currentObservers=null,(0,q.P)(Ee,J)}))}_checkFinalizedStatuses(J){const{hasError:X,thrownError:Ie,isStopped:Ee}=this;X?J.error(Ie):Ee&&J.complete()}asObservable(){const J=new t.y;return J.source=this,J}}return G.create=(k,J)=>new O(k,J),G})();class O extends ${constructor(k,J){super(),this.destination=k,this.source=J}next(k){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===X||X.call(J,k)}error(k){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===X||X.call(J,k)}complete(){var k,J;null===(J=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===J||J.call(k)}_subscribe(k){var J,X;return null!==(X=null===(J=this.source)||void 0===J?void 0:J.subscribe(k))&&void 0!==X?X:Y.Lc}}},930:(K,j,M)=>{"use strict";M.d(j,{Hp:()=>Se,Lv:()=>X});var t=M(576),Y=M(727),W=M(2416),m=M(7849),q=M(5032);const re=G("C",void 0,void 0);function G(Ae,ve,Ve){return{kind:Ae,value:ve,error:Ve}}var k=M(3410),J=M(2806);class X extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Ge}static create(ve,Ve,Qe){return new Se(ve,Ve,Qe)}next(ve){this.isStopped?Ke(function O(Ae){return G("N",Ae,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ke(function $(Ae){return G("E",void 0,Ae)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ke(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ie=Function.prototype.bind;function Ee(Ae,ve){return Ie.call(Ae,ve)}class ke{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(ve)}catch(Qe){Te(Qe)}}error(ve){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(ve)}catch(Qe){Te(Qe)}else Te(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ve){Te(Ve)}}}class Se extends X{constructor(ve,Ve,Qe){let Ye;if(super(),(0,t.m)(ve)||!ve)Ye={next:ve??void 0,error:Ve??void 0,complete:Qe??void 0};else{let wt;this&&W.v.useDeprecatedNextContext?(wt=Object.create(ve),wt.unsubscribe=()=>this.unsubscribe(),Ye={next:ve.next&&Ee(ve.next,wt),error:ve.error&&Ee(ve.error,wt),complete:ve.complete&&Ee(ve.complete,wt)}):Ye=ve}this.destination=new ke(Ye)}}function Te(Ae){W.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Ae):(0,m.h)(Ae)}function Ke(Ae,ve){const{onStoppedNotification:Ve}=W.v;Ve&&k.z.setTimeout(()=>Ve(Ae,ve))}const Ge={closed:!0,next:q.Z,error:function Re(Ae){throw Ae},complete:q.Z}},727:(K,j,M)=>{"use strict";M.d(j,{Lc:()=>re,w0:()=>q,Nn:()=>$});var t=M(576);const W=(0,M(3888).d)(G=>function(J){G(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((X,Ie)=>`${Ie+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var m=M(8737);class q{constructor(k){this.initialTeardown=k,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let k;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Ee of J)Ee.remove(this);else J.remove(this);const{initialTeardown:X}=this;if((0,t.m)(X))try{X()}catch(Ee){k=Ee instanceof W?Ee.errors:[Ee]}const{_finalizers:Ie}=this;if(Ie){this._finalizers=null;for(const Ee of Ie)try{O(Ee)}catch(ke){k=k??[],ke instanceof W?k=[...k,...ke.errors]:k.push(ke)}}if(k)throw new W(k)}}add(k){var J;if(k&&k!==this)if(this.closed)O(k);else{if(k instanceof q){if(k.closed||k._hasParent(this))return;k._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(k)}}_hasParent(k){const{_parentage:J}=this;return J===k||Array.isArray(J)&&J.includes(k)}_addParent(k){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(k),J):J?[J,k]:k}_removeParent(k){const{_parentage:J}=this;J===k?this._parentage=null:Array.isArray(J)&&(0,m.P)(J,k)}remove(k){const{_finalizers:J}=this;J&&(0,m.P)(J,k),k instanceof q&&k._removeParent(this)}}q.EMPTY=(()=>{const G=new q;return G.closed=!0,G})();const re=q.EMPTY;function $(G){return G instanceof q||G&&"closed"in G&&(0,t.m)(G.remove)&&(0,t.m)(G.add)&&(0,t.m)(G.unsubscribe)}function O(G){(0,t.m)(G)?G():G.unsubscribe()}},2416:(K,j,M)=>{"use strict";M.d(j,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(K,j,M)=>{"use strict";M.d(j,{E:()=>Y});const Y=new(M(8306).y)(q=>q.complete())},457:(K,j,M)=>{"use strict";M.d(j,{D:()=>Ve});var t=M(8421),Y=M(5363),W=M(4482);function m(Qe,Ye=0){return(0,W.e)((wt,ht)=>{ht.add(Qe.schedule(()=>wt.subscribe(ht),Ye))})}var $=M(8306),G=M(2202),k=M(576),J=M(9672);function Ie(Qe,Ye){if(!Qe)throw new Error("Iterable cannot be null");return new $.y(wt=>{(0,J.f)(wt,Ye,()=>{const ht=Qe[Symbol.asyncIterator]();(0,J.f)(wt,Ye,()=>{ht.next().then(ue=>{ue.done?wt.complete():wt.next(ue.value)})},0,!0)})})}var Ee=M(3670),ke=M(8239),Se=M(1144),Te=M(6495),Re=M(2206),Ke=M(4532),Ge=M(3260);function Ve(Qe,Ye){return Ye?function ve(Qe,Ye){if(null!=Qe){if((0,Ee.c)(Qe))return function q(Qe,Ye){return(0,t.Xf)(Qe).pipe(m(Ye),(0,Y.Q)(Ye))}(Qe,Ye);if((0,Se.z)(Qe))return function O(Qe,Ye){return new $.y(wt=>{let ht=0;return Ye.schedule(function(){ht===Qe.length?wt.complete():(wt.next(Qe[ht++]),wt.closed||this.schedule())})})}(Qe,Ye);if((0,ke.t)(Qe))return function re(Qe,Ye){return(0,t.Xf)(Qe).pipe(m(Ye),(0,Y.Q)(Ye))}(Qe,Ye);if((0,Re.D)(Qe))return Ie(Qe,Ye);if((0,Te.T)(Qe))return function X(Qe,Ye){return new $.y(wt=>{let ht;return(0,J.f)(wt,Ye,()=>{ht=Qe[G.h](),(0,J.f)(wt,Ye,()=>{let ue,be;try{({value:ue,done:be}=ht.next())}catch(fe){return void wt.error(fe)}be?wt.complete():wt.next(ue)},0,!0)}),()=>(0,k.m)(ht?.return)&&ht.return()})}(Qe,Ye);if((0,Ge.L)(Qe))return function Ae(Qe,Ye){return Ie((0,Ge.Q)(Qe),Ye)}(Qe,Ye)}throw(0,Ke.z)(Qe)}(Qe,Ye):(0,t.Xf)(Qe)}},8421:(K,j,M)=>{"use strict";M.d(j,{Xf:()=>Ie});var t=M(655),Y=M(1144),W=M(8239),m=M(8306),q=M(3670),re=M(2206),$=M(4532),O=M(6495),G=M(3260),k=M(576),J=M(7849),X=M(8822);function Ie(Ae){if(Ae instanceof m.y)return Ae;if(null!=Ae){if((0,q.c)(Ae))return function Ee(Ae){return new m.y(ve=>{const Ve=Ae[X.L]();if((0,k.m)(Ve.subscribe))return Ve.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,Y.z)(Ae))return function ke(Ae){return new m.y(ve=>{for(let Ve=0;Ve<Ae.length&&!ve.closed;Ve++)ve.next(Ae[Ve]);ve.complete()})}(Ae);if((0,W.t)(Ae))return function Se(Ae){return new m.y(ve=>{Ae.then(Ve=>{ve.closed||(ve.next(Ve),ve.complete())},Ve=>ve.error(Ve)).then(null,J.h)})}(Ae);if((0,re.D)(Ae))return Re(Ae);if((0,O.T)(Ae))return function Te(Ae){return new m.y(ve=>{for(const Ve of Ae)if(ve.next(Ve),ve.closed)return;ve.complete()})}(Ae);if((0,G.L)(Ae))return function Ke(Ae){return Re((0,G.Q)(Ae))}(Ae)}throw(0,$.z)(Ae)}function Re(Ae){return new m.y(ve=>{(function Ge(Ae,ve){var Ve,Qe,Ye,wt;return(0,t.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,t.KL)(Ae);!(Qe=yield Ve.next()).done;)if(ve.next(Qe.value),ve.closed)return}catch(ht){Ye={error:ht}}finally{try{Qe&&!Qe.done&&(wt=Ve.return)&&(yield wt.call(Ve))}finally{if(Ye)throw Ye.error}}ve.complete()})})(Ae,ve).catch(Ve=>ve.error(Ve))})}},6451:(K,j,M)=>{"use strict";M.d(j,{T:()=>re});var t=M(8189),Y=M(8421),W=M(515),m=M(7669),q=M(457);function re(...$){const O=(0,m.yG)($),G=(0,m._6)($,1/0),k=$;return k.length?1===k.length?(0,Y.Xf)(k[0]):(0,t.J)(G)((0,q.D)(k,O)):W.E}},9646:(K,j,M)=>{"use strict";M.d(j,{of:()=>W});var t=M(7669),Y=M(457);function W(...m){const q=(0,t.yG)(m);return(0,Y.D)(m,q)}},5403:(K,j,M)=>{"use strict";M.d(j,{Q:()=>W,x:()=>Y});var t=M(930);function Y(m,q,re,$,O){return new W(m,q,re,$,O)}class W extends t.Lv{constructor(q,re,$,O,G,k){super(q),this.onFinalize=G,this.shouldUnsubscribe=k,this._next=re?function(J){try{re(J)}catch(X){q.error(X)}}:super._next,this._error=O?function(J){try{O(J)}catch(X){q.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=$?function(){try{$()}catch(J){q.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},262:(K,j,M)=>{"use strict";M.d(j,{K:()=>m});var t=M(8421),Y=M(5403),W=M(4482);function m(q){return(0,W.e)((re,$)=>{let k,O=null,G=!1;O=re.subscribe((0,Y.x)($,void 0,void 0,J=>{k=(0,t.Xf)(q(J,m(q)(re))),O?(O.unsubscribe(),O=null,k.subscribe($)):G=!0})),G&&(O.unsubscribe(),O=null,k.subscribe($))})}},4351:(K,j,M)=>{"use strict";M.d(j,{b:()=>W});var t=M(5577),Y=M(576);function W(m,q){return(0,Y.m)(q)?(0,t.z)(m,q,1):(0,t.z)(m,1)}},8372:(K,j,M)=>{"use strict";M.d(j,{b:()=>m});var t=M(4986),Y=M(4482),W=M(5403);function m(q,re=t.z){return(0,Y.e)(($,O)=>{let G=null,k=null,J=null;const X=()=>{if(G){G.unsubscribe(),G=null;const Ee=k;k=null,O.next(Ee)}};function Ie(){const Ee=J+q,ke=re.now();if(ke<Ee)return G=this.schedule(void 0,Ee-ke),void O.add(G);X()}$.subscribe((0,W.x)(O,Ee=>{k=Ee,J=re.now(),G||(G=re.schedule(Ie,q),O.add(G))},()=>{X(),O.complete()},void 0,()=>{k=G=null}))})}},9300:(K,j,M)=>{"use strict";M.d(j,{h:()=>W});var t=M(4482),Y=M(5403);function W(m,q){return(0,t.e)((re,$)=>{let O=0;re.subscribe((0,Y.x)($,G=>m.call(q,G,O++)&&$.next(G)))})}},4004:(K,j,M)=>{"use strict";M.d(j,{U:()=>W});var t=M(4482),Y=M(5403);function W(m,q){return(0,t.e)((re,$)=>{let O=0;re.subscribe((0,Y.x)($,G=>{$.next(m.call(q,G,O++))}))})}},8189:(K,j,M)=>{"use strict";M.d(j,{J:()=>W});var t=M(5577),Y=M(4671);function W(m=1/0){return(0,t.z)(Y.y,m)}},5577:(K,j,M)=>{"use strict";M.d(j,{z:()=>O});var t=M(4004),Y=M(8421),W=M(4482),m=M(9672),q=M(5403),$=M(576);function O(G,k,J=1/0){return(0,$.m)(k)?O((X,Ie)=>(0,t.U)((Ee,ke)=>k(X,Ee,Ie,ke))((0,Y.Xf)(G(X,Ie))),J):("number"==typeof k&&(J=k),(0,W.e)((X,Ie)=>function re(G,k,J,X,Ie,Ee,ke,Se){const Te=[];let Re=0,Ke=0,Ge=!1;const Ae=()=>{Ge&&!Te.length&&!Re&&k.complete()},ve=Qe=>Re<X?Ve(Qe):Te.push(Qe),Ve=Qe=>{Ee&&k.next(Qe),Re++;let Ye=!1;(0,Y.Xf)(J(Qe,Ke++)).subscribe((0,q.x)(k,wt=>{Ie?.(wt),Ee?ve(wt):k.next(wt)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Re--;Te.length&&Re<X;){const wt=Te.shift();ke?(0,m.f)(k,ke,()=>Ve(wt)):Ve(wt)}Ae()}catch(wt){k.error(wt)}}))};return G.subscribe((0,q.x)(k,ve,()=>{Ge=!0,Ae()})),()=>{Se?.()}}(X,Ie,G,J)))}},5363:(K,j,M)=>{"use strict";M.d(j,{Q:()=>m});var t=M(9672),Y=M(4482),W=M(5403);function m(q,re=0){return(0,Y.e)(($,O)=>{$.subscribe((0,W.x)(O,G=>(0,t.f)(O,q,()=>O.next(G),re),()=>(0,t.f)(O,q,()=>O.complete(),re),G=>(0,t.f)(O,q,()=>O.error(G),re)))})}},5026:(K,j,M)=>{"use strict";M.d(j,{R:()=>m});var t=M(4482),Y=M(5403);function W(q,re,$,O,G){return(k,J)=>{let X=$,Ie=re,Ee=0;k.subscribe((0,Y.x)(J,ke=>{const Se=Ee++;Ie=X?q(Ie,ke,Se):(X=!0,ke),O&&J.next(Ie)},G&&(()=>{X&&J.next(Ie),J.complete()})))}}function m(q,re){return(0,t.e)(W(q,re,arguments.length>=2,!0))}},3099:(K,j,M)=>{"use strict";M.d(j,{B:()=>re});var t=M(457),Y=M(5698),W=M(7579),m=M(930),q=M(4482);function re(O={}){const{connector:G=(()=>new W.x),resetOnError:k=!0,resetOnComplete:J=!0,resetOnRefCountZero:X=!0}=O;return Ie=>{let Ee=null,ke=null,Se=null,Te=0,Re=!1,Ke=!1;const Ge=()=>{ke?.unsubscribe(),ke=null},Ae=()=>{Ge(),Ee=Se=null,Re=Ke=!1},ve=()=>{const Ve=Ee;Ae(),Ve?.unsubscribe()};return(0,q.e)((Ve,Qe)=>{Te++,!Ke&&!Re&&Ge();const Ye=Se=Se??G();Qe.add(()=>{Te--,0===Te&&!Ke&&!Re&&(ke=$(ve,X))}),Ye.subscribe(Qe),Ee||(Ee=new m.Hp({next:wt=>Ye.next(wt),error:wt=>{Ke=!0,Ge(),ke=$(Ae,k,wt),Ye.error(wt)},complete:()=>{Re=!0,Ge(),ke=$(Ae,J),Ye.complete()}}),(0,t.D)(Ve).subscribe(Ee))})(Ie)}}function $(O,G,...k){return!0===G?(O(),null):!1===G?null:G(...k).pipe((0,Y.q)(1)).subscribe(()=>O())}},5684:(K,j,M)=>{"use strict";M.d(j,{T:()=>Y});var t=M(9300);function Y(W){return(0,t.h)((m,q)=>W<=q)}},3900:(K,j,M)=>{"use strict";M.d(j,{w:()=>m});var t=M(8421),Y=M(4482),W=M(5403);function m(q,re){return(0,Y.e)(($,O)=>{let G=null,k=0,J=!1;const X=()=>J&&!G&&O.complete();$.subscribe((0,W.x)(O,Ie=>{G?.unsubscribe();let Ee=0;const ke=k++;(0,t.Xf)(q(Ie,ke)).subscribe(G=(0,W.x)(O,Se=>O.next(re?re(Ie,Se,ke,Ee++):Se),()=>{G=null,X()}))},()=>{J=!0,X()}))})}},5698:(K,j,M)=>{"use strict";M.d(j,{q:()=>m});var t=M(515),Y=M(4482),W=M(5403);function m(q){return q<=0?()=>t.E:(0,Y.e)((re,$)=>{let O=0;re.subscribe((0,W.x)($,G=>{++O<=q&&($.next(G),q<=O&&$.complete())}))})}},2722:(K,j,M)=>{"use strict";M.d(j,{R:()=>q});var t=M(4482),Y=M(5403),W=M(8421),m=M(5032);function q(re){return(0,t.e)(($,O)=>{(0,W.Xf)(re).subscribe((0,Y.x)(O,()=>O.complete(),m.Z)),!O.closed&&$.subscribe(O)})}},1749:(K,j,M)=>{"use strict";M.d(j,{V:()=>G});var t=M(4986),W=M(4482),m=M(8421),q=M(3888),re=M(5403),$=M(9672);const O=(0,q.d)(J=>function(Ie=null){J(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ie});function G(J,X){const{first:Ie,each:Ee,with:ke=k,scheduler:Se=X??t.z,meta:Te=null}=function Y(J){return J instanceof Date&&!isNaN(J)}(J)?{first:J}:"number"==typeof J?{each:J}:J;if(null==Ie&&null==Ee)throw new TypeError("No timeout provided.");return(0,W.e)((Re,Ke)=>{let Ge,Ae,ve=null,Ve=0;const Qe=Ye=>{Ae=(0,$.f)(Ke,Se,()=>{try{Ge.unsubscribe(),(0,m.Xf)(ke({meta:Te,lastValue:ve,seen:Ve})).subscribe(Ke)}catch(wt){Ke.error(wt)}},Ye)};Ge=Re.subscribe((0,re.x)(Ke,Ye=>{Ae?.unsubscribe(),Ve++,Ke.next(ve=Ye),Ee>0&&Qe(Ee)},void 0,void 0,()=>{Ae?.closed||Ae?.unsubscribe(),ve=null})),!Ve&&Qe(null!=Ie?"number"==typeof Ie?Ie:+Ie-Se.now():Ee)})}function k(J){throw new O(J)}},1365:(K,j,M)=>{"use strict";M.d(j,{M:()=>$});var t=M(4482),Y=M(5403),W=M(8421),m=M(4671),q=M(5032),re=M(7669);function $(...O){const G=(0,re.jO)(O);return(0,t.e)((k,J)=>{const X=O.length,Ie=new Array(X);let Ee=O.map(()=>!1),ke=!1;for(let Se=0;Se<X;Se++)(0,W.Xf)(O[Se]).subscribe((0,Y.x)(J,Te=>{Ie[Se]=Te,!ke&&!Ee[Se]&&(Ee[Se]=!0,(ke=Ee.every(m.y))&&(Ee=null))},q.Z));k.subscribe((0,Y.x)(J,Se=>{if(ke){const Te=[Se,...Ie];J.next(G?G(...Te):Te)}}))})}},4408:(K,j,M)=>{"use strict";M.d(j,{o:()=>q});var t=M(727);class Y extends t.w0{constructor($,O){super()}schedule($,O=0){return this}}const W={setInterval(re,$,...O){const{delegate:G}=W;return G?.setInterval?G.setInterval(re,$,...O):setInterval(re,$,...O)},clearInterval(re){const{delegate:$}=W;return($?.clearInterval||clearInterval)(re)},delegate:void 0};var m=M(8737);class q extends Y{constructor($,O){super($,O),this.scheduler=$,this.work=O,this.pending=!1}schedule($,O=0){if(this.closed)return this;this.state=$;const G=this.id,k=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(k,G,O)),this.pending=!0,this.delay=O,this.id=this.id||this.requestAsyncId(k,this.id,O),this}requestAsyncId($,O,G=0){return W.setInterval($.flush.bind($,this),G)}recycleAsyncId($,O,G=0){if(null!=G&&this.delay===G&&!1===this.pending)return O;W.clearInterval(O)}execute($,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const G=this._execute($,O);if(G)return G;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($,O){let k,G=!1;try{this.work($)}catch(J){G=!0,k=J||new Error("Scheduled action threw falsy error")}if(G)return this.unsubscribe(),k}unsubscribe(){if(!this.closed){const{id:$,scheduler:O}=this,{actions:G}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,m.P)(G,this),null!=$&&(this.id=this.recycleAsyncId(O,$,null)),this.delay=null,super.unsubscribe()}}}},7565:(K,j,M)=>{"use strict";M.d(j,{v:()=>W});var t=M(6063);class Y{constructor(q,re=Y.now){this.schedulerActionCtor=q,this.now=re}schedule(q,re=0,$){return new this.schedulerActionCtor(this,q).schedule($,re)}}Y.now=t.l.now;class W extends Y{constructor(q,re=Y.now){super(q,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(q){const{actions:re}=this;if(this._active)return void re.push(q);let $;this._active=!0;do{if($=q.execute(q.state,q.delay))break}while(q=re.shift());if(this._active=!1,$){for(;q=re.shift();)q.unsubscribe();throw $}}}},4986:(K,j,M)=>{"use strict";M.d(j,{z:()=>W});var t=M(4408);const W=new(M(7565).v)(t.o)},6063:(K,j,M)=>{"use strict";M.d(j,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},233:(K,j,M)=>{"use strict";M.d(j,{N:()=>q});var t=M(4408),W=M(7565);const q=new class m extends W.v{}(class Y extends t.o{constructor(O,G){super(O,G),this.scheduler=O,this.work=G}schedule(O,G=0){return G>0?super.schedule(O,G):(this.delay=G,this.state=O,this.scheduler.flush(this),this)}execute(O,G){return G>0||this.closed?super.execute(O,G):this._execute(O,G)}requestAsyncId(O,G,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(O,G,k):O.flush(this)}})},3410:(K,j,M)=>{"use strict";M.d(j,{z:()=>t});const t={setTimeout(Y,W,...m){const{delegate:q}=t;return q?.setTimeout?q.setTimeout(Y,W,...m):setTimeout(Y,W,...m)},clearTimeout(Y){const{delegate:W}=t;return(W?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(K,j,M)=>{"use strict";M.d(j,{h:()=>Y});const Y=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(K,j,M)=>{"use strict";M.d(j,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(K,j,M)=>{"use strict";M.d(j,{_6:()=>re,jO:()=>m,yG:()=>q});var t=M(576);function W($){return $[$.length-1]}function m($){return(0,t.m)(W($))?$.pop():void 0}function q($){return function Y($){return $&&(0,t.m)($.schedule)}(W($))?$.pop():void 0}function re($,O){return"number"==typeof W($)?$.pop():O}},8737:(K,j,M)=>{"use strict";function t(Y,W){if(Y){const m=Y.indexOf(W);0<=m&&Y.splice(m,1)}}M.d(j,{P:()=>t})},3888:(K,j,M)=>{"use strict";function t(Y){const m=Y(q=>{Error.call(q),q.stack=(new Error).stack});return m.prototype=Object.create(Error.prototype),m.prototype.constructor=m,m}M.d(j,{d:()=>t})},2806:(K,j,M)=>{"use strict";M.d(j,{O:()=>m,x:()=>W});var t=M(2416);let Y=null;function W(q){if(t.v.useDeprecatedSynchronousErrorHandling){const re=!Y;if(re&&(Y={errorThrown:!1,error:null}),q(),re){const{errorThrown:$,error:O}=Y;if(Y=null,$)throw O}}else q()}function m(q){t.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=q)}},9672:(K,j,M)=>{"use strict";function t(Y,W,m,q=0,re=!1){const $=W.schedule(function(){m(),re?Y.add(this.schedule(null,q)):this.unsubscribe()},q);if(Y.add($),!re)return $}M.d(j,{f:()=>t})},4671:(K,j,M)=>{"use strict";function t(Y){return Y}M.d(j,{y:()=>t})},1144:(K,j,M)=>{"use strict";M.d(j,{z:()=>t});const t=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(K,j,M)=>{"use strict";M.d(j,{D:()=>Y});var t=M(576);function Y(W){return Symbol.asyncIterator&&(0,t.m)(W?.[Symbol.asyncIterator])}},576:(K,j,M)=>{"use strict";function t(Y){return"function"==typeof Y}M.d(j,{m:()=>t})},3670:(K,j,M)=>{"use strict";M.d(j,{c:()=>W});var t=M(8822),Y=M(576);function W(m){return(0,Y.m)(m[t.L])}},6495:(K,j,M)=>{"use strict";M.d(j,{T:()=>W});var t=M(2202),Y=M(576);function W(m){return(0,Y.m)(m?.[t.h])}},8239:(K,j,M)=>{"use strict";M.d(j,{t:()=>Y});var t=M(576);function Y(W){return(0,t.m)(W?.then)}},3260:(K,j,M)=>{"use strict";M.d(j,{L:()=>m,Q:()=>W});var t=M(655),Y=M(576);function W(q){return(0,t.FC)(this,arguments,function*(){const $=q.getReader();try{for(;;){const{value:O,done:G}=yield(0,t.qq)($.read());if(G)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(O)}}finally{$.releaseLock()}})}function m(q){return(0,Y.m)(q?.getReader)}},4482:(K,j,M)=>{"use strict";M.d(j,{A:()=>Y,e:()=>W});var t=M(576);function Y(m){return(0,t.m)(m?.lift)}function W(m){return q=>{if(Y(q))return q.lift(function(re){try{return m(re,this)}catch($){this.error($)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(K,j,M)=>{"use strict";function t(){}M.d(j,{Z:()=>t})},7849:(K,j,M)=>{"use strict";M.d(j,{h:()=>W});var t=M(2416),Y=M(3410);function W(m){Y.z.setTimeout(()=>{const{onUnhandledError:q}=t.v;if(!q)throw m;q(m)})}},4532:(K,j,M)=>{"use strict";function t(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(j,{z:()=>t})},3113:K=>{"use strict";K.exports=function j(M){for(var t=M.length,Y=new Array(t),W=new Array(t),m=new Array(t),q=new Array(t),re=new Array(t),$=new Array(t),O=0;O<t;++O)Y[O]=-1,W[O]=0,m[O]=!1,q[O]=0,re[O]=-1,$[O]=[];var Ie,G=0,k=[],J=[];function X(Se){var Te=[Se],Re=[Se];for(Y[Se]=W[Se]=G,m[Se]=!0,G+=1;Re.length>0;){var Ke=M[Se=Re[Re.length-1]];if(q[Se]<Ke.length){for(var Ge=q[Se];Ge<Ke.length;++Ge){var Ae=Ke[Ge];if(Y[Ae]<0){Y[Ae]=W[Ae]=G,m[Ae]=!0,G+=1,Te.push(Ae),Re.push(Ae);break}m[Ae]&&(W[Se]=0|Math.min(W[Se],W[Ae])),re[Ae]>=0&&$[Se].push(re[Ae])}q[Se]=Ge}else{if(W[Se]===Y[Se]){var ve=[],Ve=[],Qe=0;for(Ge=Te.length-1;Ge>=0;--Ge){var Ye=Te[Ge];if(m[Ye]=!1,ve.push(Ye),Ve.push($[Ye]),Qe+=$[Ye].length,re[Ye]=k.length,Ye===Se){Te.length=Ge;break}}k.push(ve);var wt=new Array(Qe);for(Ge=0;Ge<Ve.length;Ge++)for(var ht=0;ht<Ve[Ge].length;ht++)wt[--Qe]=Ve[Ge][ht];J.push(wt)}Re.pop()}}}for(O=0;O<t;++O)Y[O]<0&&X(O);for(O=0;O<J.length;O++){var Ee=J[O];if(0!==Ee.length){Ee.sort(function(Te,Re){return Te-Re}),Ie=[Ee[0]];for(var ke=1;ke<Ee.length;ke++)Ee[ke]!==Ee[ke-1]&&Ie.push(Ee[ke]);J[O]=Ie}}return{components:k,adjacencyList:J}}},655:(K,j,M)=>{"use strict";function q(ue,be,fe,Fe){var Pt,ye=arguments.length,He=ye<3?be:null===Fe?Fe=Object.getOwnPropertyDescriptor(be,fe):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(ue,be,fe,Fe);else for(var he=ue.length-1;he>=0;he--)(Pt=ue[he])&&(He=(ye<3?Pt(He):ye>3?Pt(be,fe,He):Pt(be,fe))||He);return ye>3&&He&&Object.defineProperty(be,fe,He),He}function O(ue,be,fe,Fe){return new(fe||(fe=Promise))(function(He,Pt){function he(ge){try{Q(Fe.next(ge))}catch(it){Pt(it)}}function E(ge){try{Q(Fe.throw(ge))}catch(it){Pt(it)}}function Q(ge){ge.done?He(ge.value):function ye(He){return He instanceof fe?He:new fe(function(Pt){Pt(He)})}(ge.value).then(he,E)}Q((Fe=Fe.apply(ue,be||[])).next())})}function Te(ue){return this instanceof Te?(this.v=ue,this):new Te(ue)}function Re(ue,be,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,Fe=fe.apply(ue,be||[]),He=[];return ye={},Pt("next"),Pt("throw"),Pt("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function Pt(ut){Fe[ut]&&(ye[ut]=function(ft){return new Promise(function(Xe,$e){He.push([ut,ft,Xe,$e])>1||he(ut,ft)})})}function he(ut,ft){try{!function E(ut){ut.value instanceof Te?Promise.resolve(ut.value.v).then(Q,ge):it(He[0][2],ut)}(Fe[ut](ft))}catch(Xe){it(He[0][3],Xe)}}function Q(ut){he("next",ut)}function ge(ut){he("throw",ut)}function it(ut,ft){ut(ft),He.shift(),He.length&&he(He[0][0],He[0][1])}}function Ge(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,be=ue[Symbol.asyncIterator];return be?be.call(ue):(ue=function X(ue){var be="function"==typeof Symbol&&Symbol.iterator,fe=be&&ue[be],Fe=0;if(fe)return fe.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Fe>=ue.length&&(ue=void 0),{value:ue&&ue[Fe++],done:!ue}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),fe={},Fe("next"),Fe("throw"),Fe("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Fe(He){fe[He]=ue[He]&&function(Pt){return new Promise(function(he,E){!function ye(He,Pt,he,E){Promise.resolve(E).then(function(Q){He({value:Q,done:he})},Pt)}(he,E,(Pt=ue[He](Pt)).done,Pt.value)})}}}M.d(j,{FC:()=>Re,KL:()=>Ge,gn:()=>q,mG:()=>O,qq:()=>Te})},5762:()=>{},1874:()=>{},8165:()=>{},4650:(K,j,M)=>{"use strict";M.d(j,{$8M:()=>st,$Z:()=>Ig,AFp:()=>Nb,ALo:()=>nd,AaK:()=>O,AsE:()=>Ch,BQk:()=>Nu,CHM:()=>ea,CRH:()=>_b,CZH:()=>N_,CqO:()=>zv,D6c:()=>dw,Dn7:()=>eb,EEQ:()=>ur,EJc:()=>bC,EpF:()=>$v,F$t:()=>$r,F4k:()=>kx,FYo:()=>j0,FiY:()=>ac,G48:()=>Kb,Gf:()=>XE,GfV:()=>Jh,Gpc:()=>J,GuJ:()=>Zo,Hsn:()=>Uc,JOm:()=>Jo,KtG:()=>Ml,LFG:()=>Gt,LSH:()=>fc,Lbi:()=>yC,MAs:()=>n_,MMx:()=>Kh,NdJ:()=>rs,OlP:()=>mt,Oqu:()=>Eh,PXZ:()=>NC,PiD:()=>uf,Q6J:()=>ih,QGY:()=>Hv,QP$:()=>Wc,QbO:()=>vC,Qsj:()=>CE,R0b:()=>gi,RDi:()=>Iy,Rgc:()=>id,SBq:()=>Xu,Sil:()=>IC,Suo:()=>fb,TTD:()=>wl,TgZ:()=>Ru,Udp:()=>yh,W1O:()=>yb,X6Q:()=>UC,XFs:()=>Tt,Xpm:()=>uo,Y36:()=>dr,YKP:()=>V0,YNc:()=>rh,Yjl:()=>gs,Yz7:()=>ft,ZZ4:()=>Om,_Bn:()=>Z0,_UZ:()=>r_,_Vd:()=>Hs,_c5:()=>uw,_uU:()=>e0,aQg:()=>V_,c2e:()=>hm,cJS:()=>$e,cg1:()=>Sa,dDg:()=>MC,deG:()=>Cp,dqk:()=>lt,eFA:()=>Hb,ekj:()=>Ea,eoX:()=>Ub,evT:()=>gI,f3M:()=>qn,g9A:()=>kb,h0i:()=>so,hGG:()=>Pm,hM9:()=>Yh,hij:()=>l_,iGM:()=>KE,ifc:()=>tn,ip1:()=>Rb,kL8:()=>$u,lG2:()=>Nn,lcZ:()=>X0,lnq:()=>Th,lqb:()=>qt,lri:()=>wm,n5z:()=>kn,oAB:()=>ps,oxw:()=>qv,qLn:()=>nu,qOj:()=>no,qZA:()=>ah,rWj:()=>Im,sBO:()=>VC,sIi:()=>Au,s_b:()=>S_,soG:()=>ud,tBr:()=>Wl,tb:()=>Lb,tp0:()=>cc,uIk:()=>eh,vHH:()=>ke,vpe:()=>cs,wAp:()=>Et,xi3:()=>im,xp6:()=>pg,ynx:()=>i_,z2F:()=>k_,zSh:()=>B1,zs3:()=>vo});var t=M(7579),Y=M(727),W=M(8306),m=M(6451),q=M(3099);function re(s){for(let a in s)if(s[a]===re)return a;throw Error("Could not find renamed property on target object.")}function $(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function O(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(O).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function G(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const k=re({__forward_ref__:re});function J(s){return s.__forward_ref__=J,s.toString=function(){return O(this())},s}function X(s){return Ie(s)?s():s}function Ie(s){return"function"==typeof s&&s.hasOwnProperty(k)&&s.__forward_ref__===J}class ke extends Error{constructor(a,c){super(function Se(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function Te(s){return"string"==typeof s?s:null==s?"":String(s)}function ve(s,a){throw new ke(-201,!1)}function E(s,a){null==s&&function Q(s,a,c,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,s,null,"!=")}function ft(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function $e(s){return{providers:s.providers||[],imports:s.imports||[]}}function gt(s){return gn(s,Fr)||gn(s,si)}function gn(s,a){return s.hasOwnProperty(a)?s[a]:null}function co(s){return s&&(s.hasOwnProperty(lo)||s.hasOwnProperty(pl))?s[lo]:null}const Fr=re({\u0275prov:re}),lo=re({\u0275inj:re}),si=re({ngInjectableDef:re}),pl=re({ngInjectorDef:re});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Bo;function Cn(s){const a=Bo;return Bo=s,a}function Hi(s,a,c){const u=gt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Tt.Optional?null:void 0!==a?a:void ve(O(s))}function _t(s){return{toString:s}.toString()}var kr=(()=>((kr=kr||{})[kr.OnPush=0]="OnPush",kr[kr.Default=1]="Default",kr))(),tn=(()=>{return(s=tn||(tn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",tn;var s})();const lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fr={},jt=[],vi=re({\u0275cmp:re}),nr=re({\u0275dir:re}),Zo=re({\u0275pipe:re}),yn=re({\u0275mod:re}),Gr=re({\u0275fac:re}),nn=re({__NG_ELEMENT_ID__:re});let ml=0;function uo(s){return _t(()=>{const c=!0===s.standalone,u={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===kr.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||tn.Emulated,id:"c"+ml++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=zi(s.inputs,u),f.outputs=zi(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Lr).filter(Uo):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(sr).filter(Uo):null,f})}function Lr(s){return on(s)||Wn(s)}function Uo(s){return null!==s}const bi={};function ps(s){return _t(()=>{const a={type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(bi[s.id]=s.type),a})}function zi(s,a){if(null==s)return fr;const c={};for(const u in s)if(s.hasOwnProperty(u)){let f=s[u],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=u,a&&(a[f]=p)}return c}const Nn=uo;function gs(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function on(s){return s[vi]||null}function Wn(s){return s[nr]||null}function sr(s){return s[Zo]||null}function Kn(s,a){const c=s[yn]||null;if(!c&&!0===a)throw new Error(`Type ${O(s)} does not have '\u0275mod' property.`);return c}const A=15;function er(s){return Array.isArray(s)&&"object"==typeof s[1]}function U(s){return Array.isArray(s)&&!0===s[1]}function we(s){return 0!=(8&s.flags)}function ne(s){return 2==(2&s.flags)}function de(s){return 1==(1&s.flags)}function je(s){return null!==s.template}function tt(s){return 0!=(256&s[2])}function xi(s,a){return s.hasOwnProperty(Gr)?s[Gr]:null}class Nd{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function wl(){return Fd}function Fd(s){return s.type.prototype.ngOnChanges&&(s.setInput=Il),ip}function ip(){const s=Ga(this),a=s?.current;if(a){const c=s.previous;if(c===fr)s.previous=a;else for(let u in a)c[u]=a[u];s.current=null,this.ngOnChanges(a)}}function Il(s,a,c,u){const f=Ga(s)||function vy(s,a){return s[qa]=a}(s,{previous:fr,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],I=y[w];p[w]=new Nd(I&&I.currentValue,a,y===fr),s[u]=a}wl.ngInherit=!0;const qa="__ngSimpleChanges__";function Ga(s){return s[qa]||null}let Bd;function Iy(s){Bd=s}function En(s){return!!s.listen}const Zd={createRenderer:(s,a)=>function El(){return void 0!==Bd?Bd:typeof document<"u"?document:void 0}()};function Mn(s){for(;Array.isArray(s);)s=s[0];return s}function _o(s,a){return Mn(a[s])}function Wr(s,a){return Mn(a[s.index])}function Cl(s,a){return s.data[a]}function Ho(s,a){return s[a]}function Ur(s,a){const c=a[s];return er(c)?c:c[0]}function Vd(s){return 4==(4&s[2])}function Tl(s){return 64==(64&s[2])}function li(s,a){return null==a?null:s[a]}function Xs(s){s[18]=0}function Qa(s,a){s[5]+=a;let c=s,u=s[3];for(;null!==u&&(1===a&&1===c[5]||-1===a&&0===c[5]);)u[5]+=a,c=u,u=u[3]}const Ft={lFrame:kl(null),bindingsEnabled:!0};function Al(){return Ft.bindingsEnabled}function Be(){return Ft.lFrame.lView}function Kt(){return Ft.lFrame.tView}function ea(s){return Ft.lFrame.contextLView=s,s[8]}function Ml(s){return Ft.lFrame.contextLView=null,s}function tr(){let s=ta();for(;null!==s&&64===s.type;)s=s.parent;return s}function ta(){return Ft.lFrame.currentTNode}function Ei(s,a){const c=Ft.lFrame;c.currentTNode=s,c.isParent=a}function Ya(){return Ft.lFrame.isParent}function Wa(){Ft.lFrame.isParent=!1}function _r(){const s=Ft.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Gi(){return Ft.lFrame.bindingIndex}function vs(){return Ft.lFrame.bindingIndex++}function Ji(s){const a=Ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function Dy(s,a){const c=Ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,Pl(a)}function Pl(s){Ft.lFrame.currentDirectiveIndex=s}function $d(){return Ft.lFrame.currentQueryIndex}function Xa(s){Ft.lFrame.currentQueryIndex=s}function _p(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Nl(s,a,c){if(c&Tt.SkipSelf){let f=a,p=s;for(;!(f=f.parent,null!==f||c&Tt.Host||(f=_p(p),null===f||(p=p[A],10&f.type))););if(null===f)return!1;a=f,s=p}const u=Ft.lFrame=Fl();return u.currentTNode=a,u.lView=s,!0}function ra(s){const a=Fl(),c=s[1];Ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Fl(){const s=Ft.lFrame,a=null===s?null:s.child;return null===a?kl(s):a}function kl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function pp(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Hd=pp;function Ll(){const s=pp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function pr(){return Ft.lFrame.selectedIndex}function po(s){Ft.lFrame.selectedIndex=s}function On(){const s=Ft.lFrame;return Cl(s.tView,s.selectedIndex)}function ia(s,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),I&&(s.viewHooks||(s.viewHooks=[])).push(-c,I),D&&((s.viewHooks||(s.viewHooks=[])).push(c,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,D)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(c,R)}}function Ul(s,a,c){Gd(s,a,3,c)}function Vl(s,a,c,u){(3&s[2])===c&&Gd(s,a,c,u)}function qd(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function Gd(s,a,c,u){const p=u??-1,y=a.length-1;let w=0;for(let I=void 0!==u?65535&s[18]:0;I<y;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=u&&w>=u)break}else a[I]<0&&(s[18]+=65536),(w<p||-1==p)&&(My(s,c,a,I),s[18]=(4294901760&s[18])+I+2),I++}function My(s,a,c,u){const f=c[u]<0,p=c[u+1],w=s[f?-c[u]:c[u]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class ec{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function jl(s,a,c){const u=En(s);let f=0;for(;f<c.length;){const p=c[f];if("number"==typeof p){if(0!==p)break;f++;const y=c[f++],w=c[f++],I=c[f++];u?s.setAttribute(a,w,I,y):a.setAttributeNS(y,w,I)}else{const y=p,w=c[++f];Qd(y)?u&&s.setProperty(a,y,w):u?s.setAttribute(a,y,w):a.setAttribute(y,w),f++}}return f}function yp(s){return 3===s||4===s||6===s}function Qd(s){return 64===s.charCodeAt(0)}function tc(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?c=f:0===c||vp(s,c,f,null,-1===c||2===c?a[++u]:null)}}return s}function vp(s,a,c,u,f){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==f&&(s[p+1]=f));if(u===s[p+1])return void(s[p+2]=f)}p++,null!==u&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,c),null!==u&&s.splice(p++,0,u),null!==f&&s.splice(p++,0,f)}function bp(s){return-1!==s}function bs(s){return 32767&s}function Vr(s,a){let c=function sa(s){return s>>16}(s),u=a;for(;c>0;)u=u[A],c--;return u}let nc=!0;function L(s){const a=nc;return nc=s,a}let wp=0;const Ci={};function aa(s,a){const c=zl(s,a);if(-1!==c)return c;const u=a[1];u.firstCreatePass&&(s.injectorIndex=a.length,Hl(u.data,s),Hl(a,null),Hl(u.blueprint,null));const f=rc(s,a),p=s.injectorIndex;if(bp(f)){const y=bs(f),w=Vr(f,a),I=w[1].data;for(let D=0;D<8;D++)a[p+D]=w[y+D]|I[y+D]}return a[p+8]=f,p}function Hl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function zl(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function rc(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,u=null,f=a;for(;null!==f;){if(u=Kd(f),null===u)return-1;if(c++,f=f[A],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return-1}function ca(s,a,c){!function Ip(s,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(nn)&&(u=c[nn]),null==u&&(u=c[nn]=wp++);const f=255&u;a.data[s+(f>>5)]|=1<<f}(s,a,c)}function Wd(s,a,c){if(c&Tt.Optional)return s;ve()}function rt(s,a,c,u){if(c&Tt.Optional&&void 0===u&&(u=null),0==(c&(Tt.Self|Tt.Host))){const f=s[9],p=Cn(void 0);try{return f?f.get(a,u,c&Tt.Optional):Hi(a,u,c&Tt.Optional)}finally{Cn(p)}}return Wd(u,0,c)}function ql(s,a,c,u=Tt.Default,f){if(null!==s){if(1024&a[2]){const y=function Xr(s,a,c,u,f){let p=s,y=a;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Gl(p,y,c,u|Tt.Self,Ci);if(w!==Ci)return w;let I=p.parent;if(!I){const D=y[21];if(D){const R=D.get(c,Ci,u);if(R!==Ci)return R}I=Kd(y),y=y[A]}p=I}return f}(s,a,c,u,Ci);if(y!==Ci)return y}const p=Gl(s,a,c,u,Ci);if(p!==Ci)return p}return rt(a,c,u,f)}function Gl(s,a,c,u,f){const p=function mo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(nn)?s[nn]:void 0;return"number"==typeof a?a>=0?255&a:Is:a}(c);if("function"==typeof p){if(!Nl(a,s,u))return u&Tt.Host?Wd(f,0,u):rt(a,c,u,f);try{const y=p(u);if(null!=y||u&Tt.Optional)return y;ve()}finally{Hd()}}else if("number"==typeof p){let y=null,w=zl(s,a),I=-1,D=u&Tt.Host?a[16][6]:null;for((-1===w||u&Tt.SkipSelf)&&(I=-1===w?rc(s,a):a[w+8],-1!==I&&qo(u,!1)?(y=a[1],w=bs(I),a=Vr(I,a)):w=-1);-1!==w;){const R=a[1];if(ic(p,w,R.data)){const B=xp(w,a,c,y,u,D);if(B!==Ci)return B}I=a[w+8],-1!==I&&qo(u,a[1].data[w+8]===D)&&ic(p,w,a)?(y=R,w=bs(I),a=Vr(I,a)):w=-1}}return f}function xp(s,a,c,u,f,p){const y=a[1],w=y.data[s+8],R=pn(w,y,c,null==u?ne(w)&&nc:u!=y&&0!=(3&w.type),f&Tt.Host&&p===w);return null!==R?ws(a,y,R,w):Ci}function pn(s,a,c,u,f){const p=s.providerIndexes,y=a.data,w=1048575&p,I=s.directiveStart,R=p>>20,z=f?w+R:s.directiveEnd;for(let ie=u?w:w+R;ie<z;ie++){const Pe=y[ie];if(ie<I&&c===Pe||ie>=I&&Pe.type===c)return ie}if(f){const ie=y[I];if(ie&&je(ie)&&ie.type===c)return I}return null}function ws(s,a,c,u){let f=s[c];const p=a.data;if(function Oy(s){return s instanceof ec}(f)){const y=f;y.resolving&&function Ke(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Re(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Te(s)}(p[c]));const w=L(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Cn(y.injectImpl):null;Nl(s,u,Tt.Default);try{f=s[c]=y.factory(void 0,p,s,u),a.firstCreatePass&&c>=u.directiveStart&&function Zl(s,a,c){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(u){const y=Fd(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],a)}finally{null!==I&&Cn(I),L(w),y.resolving=!1,Hd()}}return f}function ic(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function qo(s,a){return!(s&Tt.Self||s&Tt.Host&&a)}class Kr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return ql(this._tNode,this._lView,a,u,c)}}function Is(){return new Kr(tr(),Be())}function kn(s){return _t(()=>{const a=s.prototype.constructor,c=a[Gr]||Jl(a),u=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==u;){const p=f[Gr]||Jl(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Jl(s){return Ie(s)?()=>{const a=Jl(X(s));return a&&a()}:xi(s)}function Kd(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function st(s){return function ct(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const u=c.length;let f=0;for(;f<u;){const p=c[f];if(yp(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<u&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}(tr(),s)}const xs="__parameters__";function Es(s,a,c){return _t(()=>{const u=function ir(s){return function(...c){if(s){const u=s(...c);for(const f in u)this[f]=u[f]}}}(a);function f(...p){if(this instanceof f)return u.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(I,D,R){const B=I.hasOwnProperty(xs)?I[xs]:Object.defineProperty(I,xs,{value:[]})[xs];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(y),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class mt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ft({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cp=new mt("AnalyzeForEntryComponents");function gr(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let u=s[c];Array.isArray(u)?(a===s&&(a=s.slice(0,c)),gr(u,a)):a!==s&&a.push(u)}return a}function Yi(s,a){s.forEach(c=>Array.isArray(c)?Yi(c,a):a(c))}function tf(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function oc(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Ds(s,a){const c=[];for(let u=0;u<s;u++)c.push(a);return c}function Hn(s,a,c){let u=yt(s,a);return u>=0?s[1|u]=c:(u=~u,function rf(s,a,c,u){let f=s.length;if(f==a)s.push(c,u);else if(1===f)s.push(u,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=c,s[a+1]=u}}(s,u,a,c)),u}function zn(s,a){const c=yt(s,a);if(c>=0)return s[1|c]}function yt(s,a){return function Ql(s,a,c){let u=0,f=s.length>>c;for(;f!==u;){const p=u+(f-u>>1),y=s[p<<c];if(a===y)return p<<c;y>a?f=p:u=p+1}return~(f<<c)}(s,a,1)}const ua={},Yl="__NG_DI_FLAG__",da="ngTempTokenPath",cf=/\n/gm,As="__source";let vn;function Ms(s){const a=vn;return vn=s,a}function sc(s,a=Tt.Default){if(void 0===vn)throw new ke(-203,"");return null===vn?Hi(s,void 0,a):vn.get(s,a&Tt.Optional?null:void 0,a)}function Gt(s,a=Tt.Default){return(function hn(){return Bo}()||sc)(X(s),a)}function qn(s,a=Tt.Default){return Gt(s,a)}function fa(s){const a=[];for(let c=0;c<s.length;c++){const u=X(s[c]);if(Array.isArray(u)){if(0===u.length)throw new ke(900,"");let f,p=Tt.Default;for(let y=0;y<u.length;y++){const w=u[y],I=lf(w);"number"==typeof I?-1===I?f=w.token:p|=I:f=w}a.push(Gt(f,p))}else a.push(Gt(u))}return a}function Os(s,a){return s[Yl]=a,s.prototype[Yl]=a,s}function lf(s){return s[Yl]}const Wl=Os(Es("Inject",s=>({token:s})),-1),ac=Os(Es("Optional"),8),uf=Os(Es("Self"),2),cc=Os(Es("SkipSelf"),4);class Ps{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Rs(s){return s instanceof Ps?s.changingThisBreaksApplicationSecurity:s}const qy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var wn=(()=>((wn=wn||{})[wn.NONE=0]="NONE",wn[wn.HTML=1]="HTML",wn[wn.STYLE=2]="STYLE",wn[wn.SCRIPT=3]="SCRIPT",wn[wn.URL=4]="URL",wn[wn.RESOURCE_URL=5]="RESOURCE_URL",wn))();function fc(s){const a=function yf(){const s=Be();return s&&s[12]}();return a?a.sanitize(wn.URL,s)||"":function _i(s,a){const c=function Ns(s){return s instanceof Ps&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}(s,"URL")?Rs(s):function Xl(s){return(s=String(s)).match(qy)||s.match(Gy)?s:"unsafe:"+s}(Te(s))}function vf(s){return s.ngOriginalError}class nu{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&vf(a);for(;c&&vf(c);)c=vf(c);return c||null}}const wf=new Map;let qp=0;function Gp(s){return wf.get(s)||null}class o1{constructor(a,c,u){this.lViewId=a,this.nodeIndex=c,this.native=u}get lView(){return Gp(this.lViewId)}}function ur(s){let a=Fs(s);if(a){if(er(a)){const c=a;let u,f,p;if(function xf(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(u=function iu(s,a){const c=s[1].components;if(c)for(let u=0;u<c.length;u++){const f=c[u];if(Ur(f,s)[8]===a)return f}else if(Ur(22,s)[8]===a)return 22;return-1}(c,s),-1==u)throw new Error("The provided component was not found in the application");f=s}else if(function Ef(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(u=function fI(s,a){let c=s[1].firstChild;for(;c;){const f=c.directiveEnd;for(let p=c.directiveStart;p<f;p++)if(s[p]===a)return c.index;c=Qp(c)}return-1}(c,s),-1==u)throw new Error("The provided directive was not found in the application");p=function c1(s,a,c){const u=a[1].data[s];let f=u.directiveStart;return 0==f?jt:(!c&&2&u.flags&&f++,a.slice(f,u.directiveEnd))}(u,c,!1)}else if(u=a1(c,s),-1==u)return null;const y=Mn(c[u]),w=Fs(y),I=w&&!Array.isArray(w)?w:s1(c,u,y);if(f&&void 0===I.component&&(I.component=f,jr(I.component,I)),p&&void 0===I.directives){I.directives=p;for(let D=0;D<p.length;D++)jr(p[D],I)}jr(I.native,I),a=I}}else{const c=s;let u=c;for(;u=u.parentNode;){const f=Fs(u);if(f){const p=Array.isArray(f)?f:f.lView;if(!p)return null;const y=a1(p,c);if(y>=0){const w=Mn(p[y]),I=s1(p,y,w);jr(w,I),a=I;break}}}}return a||null}function s1(s,a,c){return new o1(s[20],a,c)}const Jp="__ngContext__";function jr(s,a){er(a)?(s[Jp]=a[20],function If(s){wf.set(s[20],s)}(a)):s[Jp]=a}function Fs(s){const a=s[Jp];return"number"==typeof a?Gp(a):a||null}function ga(s){const a=Fs(s);return a?er(a)?a:a.lView:null}function a1(s,a){const c=s[1];for(let u=22;u<c.bindingStartIndex;u++)if(Mn(s[u])===a)return u;return-1}function Qp(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}const u1=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(lt))();function gI(s){return s.ownerDocument}function ks(s){return s instanceof Function?s():s}var Jo=(()=>((Jo=Jo||{})[Jo.Important=1]="Important",Jo[Jo.DashCase=2]="DashCase",Jo))();function ma(s,a){return undefined(s,a)}function gc(s){const a=s[3];return U(a)?a[3]:a}function eg(s){return vI(s[13])}function Tf(s){return vI(s[4])}function vI(s){for(;null!==s&&!U(s);)s=s[4];return s}function ou(s,a,c,u,f){if(null!=u){let p,y=!1;U(u)?p=u:er(u)&&(y=!0,u=u[0]);const w=Mn(u);0===s&&null!==c?null==f?y1(a,c,w):Qo(a,c,w,f||null,!0):1===s&&null!==c?Qo(a,c,w,f||null,!0):2===s?function cg(s,a,c){const u=Pf(s,a);u&&function CI(s,a,c,u){En(s)?s.removeChild(a,c,u):a.removeChild(c)}(s,u,a,c)}(a,w,y):3===s&&a.destroyNode(w),null!=p&&function I1(s,a,c,u,f){const p=c[7];p!==Mn(c)&&ou(a,s,u,p,f);for(let w=10;w<c.length;w++){const I=c[w];Nf(I[1],I,s,a,u,p)}}(a,s,p,c,f)}}function tg(s,a,c){if(En(s))return s.createElement(a,c);{const u=null!==c?function wy(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===u?s.createElement(a):s.createElementNS(u,a)}}function xI(s,a){const c=s[9],u=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Qa(f,-1)),c.splice(u,1)}function Df(s,a){if(s.length<=10)return;const c=10+a,u=s[c];if(u){const f=u[17];null!==f&&f!==s&&xI(f,u),a>0&&(s[c-1][4]=u[4]);const p=oc(s,10+a);!function p1(s,a){Nf(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function g1(s,a){if(!(128&a[2])){const c=a[11];En(c)&&c.destroyNode&&Nf(s,a,c,3,null,null),function wI(s){let a=s[13];if(!a)return Sf(s[1],s);for(;a;){let c=null;if(er(a))c=a[13];else{const u=a[10];u&&(c=u)}if(!c){for(;a&&!a[4]&&a!==s;)er(a)&&Sf(a[1],a),a=a[3];null===a&&(a=s),er(a)&&Sf(a[1],a),c=a&&a[4]}a=c}}(a)}}function Sf(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function h1(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let u=0;u<c.length;u+=2){const f=a[c[u]];if(!(f instanceof ec)){const p=c[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],I=p[y+1];try{I.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,a),function EI(s,a){const c=s.cleanup,u=a[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(a):Mn(a[y]),I=u[f=c[p+2]],D=c[p+3];"boolean"==typeof D?w.removeEventListener(c[p],I,D):D>=0?u[f=D]():u[f=-D].unsubscribe(),p+=2}else{const y=u[f=c[p+1]];c[p].call(y)}if(null!==u){for(let p=f+1;p<u.length;p++)u[p]();a[7]=null}}(s,a),1===a[1].type&&En(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&U(a[3])){c!==a[3]&&xI(c,a);const u=a[19];null!==u&&u.detachView(s)}!function i1(s){wf.delete(s[20])}(a)}}function Af(s,a,c){return function m1(s,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[0];if(2&u.flags){const f=s.data[u.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return Wr(u,c)}(s,a.parent,c)}function Qo(s,a,c,u,f){En(s)?s.insertBefore(a,c,u,f):(Of(a)?a.content:a).insertBefore(c,u,f)}function y1(s,a,c){En(s)?s.appendChild(a,c):(Of(a)?a.content:a).appendChild(c)}function Mf(s,a,c,u,f){null!==u?Qo(s,a,c,u,f):y1(s,a,c)}function Of(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}function Pf(s,a){return En(s)?s.parentNode(a):a.parentNode}function rg(s,a,c){return ig(s,a,c)}let ig=function v1(s,a,c){return 40&s.type?Wr(s,c):null};function Rf(s,a,c,u){const f=Af(s,u,a),p=a[11],w=rg(u.parent||a[6],u,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)Mf(p,f,c[I],w,!1);else Mf(p,f,c,w,!1)}function mc(s,a){if(null!==a){const c=a.type;if(3&c)return Wr(a,s);if(4&c)return ag(-1,s[a.index]);if(8&c){const u=a.child;if(null!==u)return mc(s,u);{const f=s[a.index];return U(f)?ag(-1,f):Mn(f)}}if(32&c)return ma(a,s)()||Mn(s[a.index]);{const u=b1(s,a);return null!==u?Array.isArray(u)?u[0]:mc(gc(s[16]),u):mc(s,a.next)}}return null}function b1(s,a){return null!==a?s[16][6].projection[a.projection]:null}function ag(s,a){const c=10+s+1;if(c<a.length){const u=a[c],f=u[1].firstChild;if(null!==f)return mc(u,f)}return a[7]}function lg(s,a,c,u,f,p,y){for(;null!=c;){const w=u[c.index],I=c.type;if(y&&0===a&&(w&&jr(Mn(w),u),c.flags|=4),64!=(64&c.flags))if(8&I)lg(s,a,c.child,u,f,p,!1),ou(a,s,f,w,p);else if(32&I){const D=ma(c,u);let R;for(;R=D();)ou(a,s,f,R,p);ou(a,s,f,w,p)}else 16&I?w1(s,a,u,c,f,p):ou(a,s,f,w,p);c=y?c.projectionNext:c.next}}function Nf(s,a,c,u,f,p){lg(c,u,s.firstChild,a,f,p,!1)}function w1(s,a,c,u,f,p){const y=c[16],I=y[6].projection[u.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)ou(a,s,f,I[D],p);else lg(s,a,I,y[3],f,p,!0)}function Bs(s,a,c){En(s)?s.setAttribute(a,"style",c):a.style.cssText=c}function dg(s,a,c){En(s)?""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c):a.className=c}function yc(s,a,c){let u=s.length;for(;;){const f=s.indexOf(a,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=a.length;if(f+p===u||s.charCodeAt(f+p)<=32)return f}c=f+1}}const vc="ng-template";function TI(s,a,c){let u=0;for(;u<s.length;){let f=s[u++];if(c&&"class"===f){if(f=s[u],-1!==yc(f.toLowerCase(),a,0))return!0}else if(1===f){for(;u<s.length&&"string"==typeof(f=s[u++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function E1(s){return 4===s.type&&s.value!==vc}function fg(s,a,c){return a===(4!==s.type||c?s.value:vc)}function C1(s,a,c){let u=4;const f=s.attrs||[],p=function DI(s){for(let a=0;a<s.length;a++)if(yp(s[a]))return a;return s.length}(f);let y=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!fg(s,I,c)||""===I&&1===a.length){if(eo(u))return!1;y=!0}}else{const D=8&u?I:a[++w];if(8&u&&null!==s.attrs){if(!TI(s.attrs,D,c)){if(eo(u))return!1;y=!0}continue}const B=T1(8&u?"class":I,f,E1(s),c);if(-1===B){if(eo(u))return!1;y=!0;continue}if(""!==D){let z;z=B>p?"":f[B+1].toLowerCase();const ie=8&u?z:null;if(ie&&-1!==yc(ie,D,0)||2&u&&D!==z){if(eo(u))return!1;y=!0}}}}else{if(!y&&!eo(u)&&!eo(I))return!1;if(y&&eo(I))continue;y=!1,u=I|1&u}}return eo(u)||y}function eo(s){return 0==(1&s)}function T1(s,a,c,u){if(null===a)return-1;let f=0;if(u||!c){let p=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function A1(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const u=s[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,s)}function D1(s,a,c=!1){for(let u=0;u<a.length;u++)if(C1(s,a[u],c))return!0;return!1}function SI(s,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(s.length===u.length){for(let f=0;f<s.length;f++)if(s[f]!==u[f])continue e;return!0}}return!1}function _g(s,a){return s?":not("+a.trim()+")":a}function tD(s){let a=s[0],c=1,u=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&u){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!eo(y)&&(a+=_g(p,f),f=""),u=y,p=p||!eo(u);c++}return""!==f&&(a+=_g(p,f)),a}const Vt={};function pg(s){M1(Kt(),Be(),pr()+s,!1)}function M1(s,a,c,u){if(!u)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&Ul(a,p,c)}else{const p=s.preOrderHooks;null!==p&&Vl(a,p,0,c)}po(c)}const gg=new mt("ENVIRONMENT_INITIALIZER"),R1=new mt("INJECTOR_DEF_TYPES");function Yo(...s){return{\u0275providers:N1(0,s)}}function N1(s,...a){const c=[],u=new Set;let f;return Yi(a,p=>{const y=p;F1(y,c,[],u)&&(f||(f=[]),f.push(y))}),void 0!==f&&hg(f,c),c}function hg(s,a){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Yi(f,p=>{a.push(p)})}}function F1(s,a,c,u){if(!(s=X(s)))return!1;let f=null,p=co(s);const y=!p&&on(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const I=s.ngModule;if(p=co(I),!p)return!1;f=I}const w=u.has(f);if(y){if(w)return!1;if(u.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const D of I)F1(D,a,c,u)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let D;u.add(f);try{Yi(p.imports,R=>{F1(R,a,c,u)&&(D||(D=[]),D.push(R))})}finally{}void 0!==D&&hg(D,a)}if(!w){const D=xi(f)||(()=>new f);a.push({provide:f,useFactory:D,deps:jt},{provide:R1,useValue:f,multi:!0},{provide:gg,useValue:()=>Gt(f),multi:!0})}const I=p.providers;null==I||w||Yi(I,R=>{a.push(R)})}}return f!==s&&void 0!==s.providers}const bc=re({provide:String,useValue:re});function k1(s){return null!==s&&"object"==typeof s&&bc in s}function wc(s){return"function"==typeof s}const L1=new mt("INJECTOR",-1);class PI{get(a,c=ua){if(c===ua){const u=new Error(`NullInjectorError: No provider for ${O(a)}!`);throw u.name="NullInjectorError",u}return c}}const B1=new mt("Set Injector scope."),au={},cu={};let Ff;function lu(){return void 0===Ff&&(Ff=new PI),Ff}class qt{}class uu extends qt{constructor(a,c,u,f){super(),this.parent=c,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yg(a,y=>this.processProvider(y)),this.records.set(L1,Ic(void 0,this)),f.has("environment")&&this.records.set(qt,Ic(void 0,this));const p=this.records.get(B1);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(R1.multi,jt,Tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}get(a,c=ua,u=Tt.Default){this.assertNotDestroyed();const f=Ms(this),p=Cn(void 0);try{if(!(u&Tt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const I=function LI(s){return"function"==typeof s||"object"==typeof s&&s instanceof mt}(a)&&gt(a);w=I&&this.injectableDefInScope(I)?Ic(kf(a),au):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(u&Tt.Self?lu():this.parent).get(a,c=u&Tt.Optional&&c===ua?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[da]=y[da]||[]).unshift(O(a)),f)throw y;return function Np(s,a,c,u){const f=s[da];throw a[As]&&f.unshift(a[As]),s.message=function Zy(s,a,c,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=O(a);if(Array.isArray(a))f=a.map(O).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):O(w)))}f=`{${p.join(", ")}}`}return`${c}${u?"("+u+")":""}[${f}]: ${s.replace(cf,"\n  ")}`}("\n"+s.message,f,c,u),s.ngTokenPath=f,s[da]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Cn(p),Ms(f)}}resolveInjectorInitializers(){const a=Ms(this),c=Cn(void 0);try{const u=this.get(gg.multi,jt,Tt.Self);for(const f of u)f()}finally{Ms(a),Cn(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(O(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(a){let c=wc(a=X(a))?a:X(a&&a.provide);const u=function NI(s){return k1(s)?Ic(void 0,s.useValue):Ic(Z1(s),au)}(a);if(wc(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Ic(void 0,au,!0),f.factory=()=>fa(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===au&&(c.value=cu,c.value=c.factory()),"object"==typeof c.value&&c.value&&function kI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=X(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function kf(s){const a=gt(s),c=null!==a?a.factory:xi(s);if(null!==c)return c;if(s instanceof mt)throw new ke(204,!1);if(s instanceof Function)return function RI(s){const a=s.length;if(a>0)throw Ds(a,"?"),new ke(204,!1);const c=function xr(s){const a=s&&(s[Fr]||s[si]);if(a){const c=function yi(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new ke(204,!1)}function Z1(s,a,c){let u;if(wc(s)){const f=X(s);return xi(f)||kf(f)}if(k1(s))u=()=>X(s.useValue);else if(function mg(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...fa(s.deps||[]));else if(function OI(s){return!(!s||!s.useExisting)}(s))u=()=>Gt(X(s.useExisting));else{const f=X(s&&(s.useClass||s.provide));if(!function FI(s){return!!s.deps}(s))return xi(f)||kf(f);u=()=>new f(...fa(s.deps))}return u}function Ic(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function BI(s){return!!s.\u0275providers}function yg(s,a){for(const c of s)Array.isArray(c)?yg(c,a):BI(c)?yg(c.\u0275providers,a):a(c)}function U1(s,a=null,c=null,u){const f=ZI(s,a,c,u);return f.resolveInjectorInitializers(),f}function ZI(s,a=null,c=null,u,f=new Set){const p=[c||jt,Yo(s)];return u=u||("object"==typeof s?void 0:O(s)),new uu(p,a||lu(),u||null,f)}let vo=(()=>{class s{static create(c,u){if(Array.isArray(c))return U1({name:""},u,c,"");{const f=c.name??"";return U1({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=ua,s.NULL=new PI,s.\u0275prov=ft({token:s,providedIn:"any",factory:()=>Gt(L1)}),s.__NG_ELEMENT_ID__=-1,s})();function dr(s,a=Tt.Default){const c=Be();return null===c?Gt(s,a):ql(tr(),c,X(s),a)}function Ig(){throw new Error("invalid")}function fu(s,a){return s<<17|a<<2}function to(s){return s>>17&32767}function Cc(s){return 2|s}function Si(s){return(131068&s)>>2}function Hf(s,a){return-131069&s|a<<2}function wo(s){return 1|s}function av(s,a){const c=s.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const f=c[u],p=c[u+1];if(-1!==p){const y=s.data[p];Xa(f),y.contentQueries(2,a[p],p)}}}function yu(s,a,c,u,f,p,y,w,I,D,R){const B=a.blueprint.slice();return B[0]=f,B[2]=76|u,(null!==R||s&&1024&s[2])&&(B[2]|=1024),Xs(B),B[3]=B[A]=s,B[8]=c,B[10]=y||s&&s[10],B[11]=w||s&&s[11],B[12]=I||s&&s[12]||null,B[9]=D||s&&s[9]||null,B[6]=p,B[20]=function r1(){return qp++}(),B[21]=R,B[16]=2==a.type?s[16]:B,B}function Dc(s,a,c,u,f){let p=s.data[a];if(null===p)p=function Ng(s,a,c,u,f){const p=ta(),y=Ya(),I=s.data[a]=function _v(s,a,c,u,f,p){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,u,f);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(s,a,c,u,f),function fp(){return Ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=u,p.attrs=f;const y=function zo(){const s=Ft.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ei(p,!0),p}function Mi(s,a,c,u){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(u),s.blueprint.push(u),s.data.push(null);return f}function ba(s,a,c){ra(a);try{const u=s.viewQuery;null!==u&&ti(1,u,c);const f=s.template;null!==f&&cv(s,a,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&av(s,a),s.staticViewQueries&&ti(2,s.viewQuery,c);const p=s.components;null!==p&&function ix(s,a){for(let c=0;c<a.length;c++)yx(s,a[c])}(a,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{a[2]&=-5,Ll()}}function Us(s,a,c,u){const f=a[2];if(128!=(128&f)){ra(a);try{Xs(a),function Ol(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&cv(s,a,c,2,u);const y=3==(3&f);if(y){const D=s.preOrderCheckHooks;null!==D&&Ul(a,D,null)}else{const D=s.preOrderHooks;null!==D&&Vl(a,D,0,null),qd(a,0)}if(function $g(s){for(let a=eg(s);null!==a;a=Tf(a)){if(!a[2])continue;const c=a[9];for(let u=0;u<c.length;u++){const f=c[u],p=f[3];0==(512&f[2])&&Qa(p,1),f[2]|=512}}}(a),function Pi(s){for(let a=eg(s);null!==a;a=Tf(a))for(let c=10;c<a.length;c++){const u=a[c],f=u[1];Tl(u)&&Us(f,u,f.template,u[8])}}(a),null!==s.contentQueries&&av(s,a),y){const D=s.contentCheckHooks;null!==D&&Ul(a,D)}else{const D=s.contentHooks;null!==D&&Vl(a,D,1),qd(a,1)}!function sv(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const f=c[u];if(f<0)po(~f);else{const p=f,y=c[++u],w=c[++u];Dy(y,p),w(2,a[p])}}}finally{po(-1)}}(s,a);const w=s.components;null!==w&&function rx(s,a){for(let c=0;c<a.length;c++)wu(s,a[c])}(a,w);const I=s.viewQuery;if(null!==I&&ti(2,I,u),y){const D=s.viewCheckHooks;null!==D&&Ul(a,D)}else{const D=s.viewHooks;null!==D&&Vl(a,D,2),qd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Qa(a[3],-1))}finally{Ll()}}}function Qf(s,a,c,u){const f=a[10],y=Vd(a);try{!y&&f.begin&&f.begin(),y&&ba(s,a,u),Us(s,a,c,u)}finally{!y&&f.end&&f.end()}}function cv(s,a,c,u,f){const p=pr(),y=2&u;try{po(-1),y&&a.length>22&&M1(s,a,22,!1),c(u,f)}finally{po(p)}}function lv(s,a,c){if(we(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Fg(s,a,c){!Al()||(function ux(s,a,c,u){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||aa(c,a),jr(u,a);const y=c.initialInputs;for(let w=f;w<p;w++){const I=s.data[w],D=je(I);D&&Vg(a,c,I);const R=ws(a,s,w,c);jr(R,a),null!==y&&gx(0,w-f,R,I,0,y),D&&(Ur(c.index,a)[8]=R)}}(s,a,c,Wr(c,a)),128==(128&c.flags)&&function dx(s,a,c){const u=c.directiveStart,f=c.directiveEnd,p=c.index,y=function Sy(){return Ft.lFrame.currentDirectiveIndex}();try{po(p);for(let w=u;w<f;w++){const I=s.data[w],D=a[w];Pl(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&hv(I,D)}}finally{po(-1),Pl(y)}}(s,a,c))}function kg(s,a,c=Wr){const u=a.localNames;if(null!==u){let f=a.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?c(a,s):s[y];s[f++]=w}}}function uv(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Sc(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Sc(s,a,c,u,f,p,y,w,I,D){const R=22+u,B=R+f,z=function ox(s,a){const c=[];for(let u=0;u<a;u++)c.push(u<s?null:Vt);return c}(R,B),ie="function"==typeof D?D():D;return z[1]={type:s,blueprint:z,template:c,queries:null,viewQuery:w,declTNode:a,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ie,incompleteFirstPass:!1}}function fv(s,a,c,u){const f=vv(a);null===c?f.push(u):(f.push(c),s.firstCreatePass&&Gg(s).push(u,f.length-1))}function pv(s,a,c){for(let u in s)if(s.hasOwnProperty(u)){const f=s[u];(c=null===c?{}:c).hasOwnProperty(u)?c[u].push(a,f):c[u]=[a,f]}return c}function Yf(s,a,c,u){let f=!1;if(Al()){const p=function fx(s,a,c){const u=s.directiveRegistry;let f=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];D1(c,y.selectors,!1)&&(f||(f=[]),ca(aa(c,a),s,y.type),je(y)?(Zg(s,c),f.unshift(y)):f.push(y))}return f}(s,a,c),y=null===u?null:{"":-1};if(null!==p){f=!0,Ug(c,s.data.length,p.length);for(let R=0;R<p.length;R++){const B=p[R];B.providersResolver&&B.providersResolver(B)}let w=!1,I=!1,D=Mi(s,a,p.length,null);for(let R=0;R<p.length;R++){const B=p[R];c.mergedAttrs=tc(c.mergedAttrs,B.hostAttrs),mv(s,c,a,D,B),px(D,B,y),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const z=B.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!I&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),I=!0),D++}!function xD(s,a){const u=a.directiveEnd,f=s.data,p=a.attrs,y=[];let w=null,I=null;for(let D=a.directiveStart;D<u;D++){const R=f[D],B=R.inputs,z=null===p||E1(a)?null:hx(B,p);y.push(z),w=pv(B,D,w),I=pv(R.outputs,D,I)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=I}(s,c)}y&&function _x(s,a,c){if(a){const u=s.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new ke(-301,!1);u.push(a[f],p)}}}(c,u,y)}return c.mergedAttrs=tc(c.mergedAttrs,c.attrs),f}function gv(s,a,c,u,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const I=~a.index;(function lx(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=I&&w.push(I),w.push(u,f,y)}}function hv(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Zg(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function px(s,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=s;je(a)&&(c[""]=s)}}function Ug(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function mv(s,a,c,u,f){s.data[u]=f;const p=f.factory||(f.factory=xi(f.type)),y=new ec(p,je(f),dr);s.blueprint[u]=y,c[u]=y,gv(s,a,0,u,Mi(s,c,f.hostVars,Vt),f)}function Vg(s,a,c){const u=Wr(a,s),f=uv(c),p=s[10],y=Ac(s,yu(s,f,null,c.onPush?32:16,u,a,p,p.createRenderer(u,c),null,null,null));s[a.index]=y}function Eo(s,a,c,u,f,p){const y=Wr(s,a);!function jg(s,a,c,u,f,p,y){if(null==p)En(s)?s.removeAttribute(a,f,c):a.removeAttribute(f);else{const w=null==y?Te(p):y(p,u||"",f);En(s)?s.setAttribute(a,f,w,c):c?a.setAttributeNS(c,f,w):a.setAttribute(f,w)}}(a[11],y,p,s.value,c,u,f)}function gx(s,a,c,u,f,p){const y=p[a];if(null!==y){const w=u.setInput;for(let I=0;I<y.length;){const D=y[I++],R=y[I++],B=y[I++];null!==w?u.setInput(c,B,D,R):c[R]=B}}}function hx(s,a){let c=null,u=0;for(;u<a.length;){const f=a[u];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],a[u+1])),u+=2}else u+=2;else u+=4}return c}function yv(s,a,c,u){return new Array(s,!0,!1,a,null,0,u,c,null,null)}function wu(s,a){const c=Ur(a,s);if(Tl(c)){const u=c[1];48&c[2]?Us(u,c,u.template,c[8]):c[5]>0&&Iu(c)}}function Iu(s){for(let u=eg(s);null!==u;u=Tf(u))for(let f=10;f<u.length;f++){const p=u[f];if(512&p[2]){const y=p[1];Us(y,p,y.template,p[8])}else p[5]>0&&Iu(p)}const c=s[1].components;if(null!==c)for(let u=0;u<c.length;u++){const f=Ur(c[u],s);Tl(f)&&f[5]>0&&Iu(f)}}function yx(s,a){const c=Ur(a,s),u=c[1];(function vx(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(u,c),ba(u,c,c[8])}function Ac(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Hg(s){for(;s;){s[2]|=32;const a=gc(s);if(tt(s)&&!a)return s;s=a}return null}function qg(s){!function Mc(s){for(let a=0;a<s.components.length;a++){const c=s.components[a],u=ga(c);if(null!==u){const f=u[1];Qf(f,u,f.template,c)}}}(s[8])}function ti(s,a,c){Xa(0),a(s,c)}const xx=(()=>Promise.resolve(null))();function vv(s){return s[7]||(s[7]=[])}function Gg(s){return s.cleanup||(s.cleanup=[])}function Jg(s,a){const c=s[9],u=c?c.get(nu,null):null;u&&u.handleError(a)}function Eu(s,a,c,u,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],I=a[y],D=s.data[y];null!==D.setInput?D.setInput(I,f,u,w):I[w]=f}}function Ko(s,a,c){const u=_o(a,s);!function f1(s,a,c){En(s)?s.setValue(a,c):a.textContent=c}(s[11],u,c)}function Wf(s,a,c){let u=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?p=w:1==p?f=G(f,w):2==p&&(u=G(u,w+": "+a[++y]+";"))}c?s.styles=u:s.stylesWithoutHost=u,c?s.classes=f:s.classesWithoutHost=f}function Cu(){const s=tr();ia(Be()[1],s)}function no(s){let a=function Px(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const u=[s];for(;a;){let f;if(je(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ke(903,"");f=a.\u0275dir}if(f){if(c){u.push(f);const y=s;y.inputs=Kg(s.inputs),y.declaredInputs=Kg(s.declaredInputs),y.outputs=Kg(s.outputs);const w=f.hostBindings;w&&Dr(s,w);const I=f.viewQuery,D=f.contentQueries;if(I&&ts(s,I),D&&Rv(s,D),$(s.inputs,f.inputs),$(s.declaredInputs,f.declaredInputs),$(s.outputs,f.outputs),je(f)&&f.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===no&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Pv(s){let a=0,c=null;for(let u=s.length-1;u>=0;u--){const f=s[u];f.hostVars=a+=f.hostVars,f.hostAttrs=tc(f.hostAttrs,c=tc(c,f.hostAttrs))}}(u)}function Kg(s){return s===fr?{}:s===jt?[]:s}function ts(s,a){const c=s.viewQuery;s.viewQuery=c?(u,f)=>{a(u,f),c(u,f)}:a}function Rv(s,a){const c=s.contentQueries;s.contentQueries=c?(u,f,p)=>{a(u,f,p),c(u,f,p)}:a}function Dr(s,a){const c=s.hostBindings;s.hostBindings=c?(u,f)=>{a(u,f),c(u,f)}:a}let Du=null;function Co(){if(!Du){const s=lt.Symbol;if(s&&s.iterator)Du=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const u=a[c];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Du=u)}}}return Du}function Au(s){return!!Fv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Co()in s)}function Fv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ro(s,a,c){return s[a]=c}function Sr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Oc(s,a,c,u){const f=Sr(s,a,c);return Sr(s,a+1,u)||f}function Ou(s,a,c,u,f){const p=Oc(s,a,c,u);return Sr(s,a+2,f)||p}function eh(s,a,c,u){const f=Be();return Sr(f,vs(),a)&&(Kt(),Eo(On(),f,s,a,c,u)),eh}function rh(s,a,c,u,f,p,y,w){const I=Be(),D=Kt(),R=s+22,B=D.firstCreatePass?function Uv(s,a,c,u,f,p,y,w,I){const D=a.consts,R=Dc(a,s,4,y||null,li(D,w));Yf(a,c,R,li(D,I)),ia(a,R);const B=R.tViews=Sc(2,R,u,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,R),B.queries=a.queries.embeddedTView(R)),R}(R,D,I,a,c,u,f,p,y):D.data[R];Ei(B,!1);const z=I[11].createComment("");Rf(D,I,z,B),jr(z,I),Ac(I,I[R]=yv(z,I,z,B)),de(B)&&Fg(D,I,B),null!=y&&kg(I,B,w)}function n_(s){return Ho(function dp(){return Ft.lFrame.contextLView}(),22+s)}function ih(s,a,c){const u=Be();return Sr(u,vs(),a)&&function Oi(s,a,c,u,f,p,y,w){const I=Wr(a,c);let R,D=a.inputs;!w&&null!=D&&(R=D[u])?(Eu(s,c,R,u,f),ne(a)&&function sx(s,a){const c=Ur(a,s);16&c[2]||(c[2]|=32)}(c,a.index)):3&a.type&&(u=function Lg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),f=null!=y?y(f,a.value||"",u):f,En(p)?p.setProperty(I,u,f):Qd(u)||(I.setProperty?I.setProperty(u,f):I[u]=f))}(Kt(),On(),u,s,a,u[11],c,!1),ih}function oh(s,a,c,u,f){const y=f?"class":"style";Eu(s,c,a.inputs[y],y,u)}function Ru(s,a,c,u){const f=Be(),p=Kt(),y=22+s,w=f[11],I=f[y]=tg(w,a,function mp(){return Ft.lFrame.currentNamespace}()),D=p.firstCreatePass?function sh(s,a,c,u,f,p,y){const w=a.consts,D=Dc(a,s,2,f,li(w,p));return Yf(a,c,D,li(w,y)),null!==D.attrs&&Wf(D,D.attrs,!1),null!==D.mergedAttrs&&Wf(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(y,p,f,0,a,c,u):p.data[y];Ei(D,!0);const R=D.mergedAttrs;null!==R&&jl(w,I,R);const B=D.classes;null!==B&&dg(w,I,B);const z=D.styles;return null!==z&&Bs(w,I,z),64!=(64&D.flags)&&Rf(p,f,I,D),0===function Dl(){return Ft.lFrame.elementDepthCount}()&&jr(I,f),function Sl(){Ft.lFrame.elementDepthCount++}(),de(D)&&(Fg(p,f,D),lv(p,D,f)),null!==u&&kg(f,D),Ru}function ah(){let s=tr();Ya()?Wa():(s=s.parent,Ei(s,!1));const a=s;!function jd(){Ft.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(ia(c,s),we(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Ry(s){return 0!=(16&s.flags)}(a)&&oh(c,a,Be(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ny(s){return 0!=(32&s.flags)}(a)&&oh(c,a,Be(),a.stylesWithoutHost,!1),ah}function r_(s,a,c,u){return Ru(s,a,c,u),ah(),r_}function i_(s,a,c){const u=Be(),f=Kt(),p=s+22,y=f.firstCreatePass?function Fx(s,a,c,u,f){const p=a.consts,y=li(p,u),w=Dc(a,s,8,"ng-container",y);return null!==y&&Wf(w,y,!0),Yf(a,c,w,li(p,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,f,u,a,c):f.data[p];Ei(y,!0);const w=u[p]=u[11].createComment("");return Rf(f,u,w,y),jr(w,u),de(y)&&(Fg(f,u,y),lv(f,y,u)),null!=c&&kg(u,y),i_}function Nu(){let s=tr();const a=Kt();return Ya()?Wa():(s=s.parent,Ei(s,!1)),a.firstCreatePass&&(ia(a,s),we(s)&&a.queries.elementEnd(s)),Nu}function $v(){return Be()}function Hv(s){return!!s&&"function"==typeof s.then}function kx(s){return!!s&&"function"==typeof s.subscribe}const zv=kx;function rs(s,a,c,u){const f=Be(),p=Kt(),y=tr();return function Zc(s,a,c,u,f,p,y,w){const I=de(u),R=s.firstCreatePass&&Gg(s),B=a[8],z=vv(a);let ie=!0;if(3&u.type||w){const at=Wr(u,a),dt=w?w(at):at,At=z.length,Le=w?xt=>w(Mn(xt[u.index])):u.index;if(En(c)){let xt=null;if(!w&&I&&(xt=function Lx(s,a,c,u){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===u){const w=a[7],I=f[p+2];return w.length>I?w[I]:null}"string"==typeof y&&(p+=2)}return null}(s,a,f,u.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,ie=!1;else{p=ch(u,a,B,p,!1);const rn=c.listen(dt,f,p);z.push(p,rn),R&&R.push(f,Le,At,At+1)}}else p=ch(u,a,B,p,!0),dt.addEventListener(f,p,y),z.push(p),R&&R.push(f,Le,At,y)}else p=ch(u,a,B,p,!1);const Pe=u.outputs;let ze;if(ie&&null!==Pe&&(ze=Pe[f])){const at=ze.length;if(at)for(let dt=0;dt<at;dt+=2){const Dn=a[ze[dt]][ze[dt+1]].subscribe(p),nl=z.length;z.push(p,Dn),R&&R.push(f,u.index,nl,-(nl+1))}}}(p,f,f[11],y,s,a,!!c,u),rs}function Fu(s,a,c,u){try{return!1!==c(u)}catch(f){return Jg(s,f),!1}}function ch(s,a,c,u,f){return function p(y){if(y===Function)return u;Hg(2&s.flags?Ur(s.index,a):a);let I=Fu(a,0,u,y),D=p.__ngNextListenerFn__;for(;D;)I=Fu(a,0,D,y)&&I,D=D.__ngNextListenerFn__;return f&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function qv(s=1){return function gp(s){return(Ft.lFrame.contextLView=function Bl(s,a){for(;s>0;)a=a[A],s--;return a}(s,Ft.lFrame.contextLView))[8]}(s)}function ku(s,a){let c=null;const u=function S1(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(s);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===u?D1(s,p,!0):SI(u,p))return f}else c=f}return c}function $r(s){const a=Be()[16][6];if(!a.projection){const u=a.projection=Ds(s?s.length:1,null),f=u.slice();let p=a.child;for(;null!==p;){const y=s?ku(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:u[y]=p,f[y]=p),p=p.next}}}function Uc(s,a=0,c){const u=Be(),f=Kt(),p=Dc(f,22+s,16,null,c||null);null===p.projection&&(p.projection=a),Wa(),64!=(64&p.flags)&&function ug(s,a,c){w1(a[11],0,a,c,Af(s,c,a),rg(c.parent||a[6],c,a))}(f,u,p)}function s_(s,a,c,u,f){const p=s[c+1],y=null===a;let w=u?to(p):Si(p),I=!1;for(;0!==w&&(!1===I||y);){const R=s[w+1];ph(s[w],a)&&(I=!0,s[w+1]=u?wo(R):Cc(R)),w=u?to(R):Si(R)}I&&(s[c+1]=u?Cc(p):wo(p))}function ph(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&yt(s,a)>=0}function yh(s,a,c){return Zi(s,a,c,!1),yh}function Ea(s,a){return Zi(s,a,null,!0),Ea}function Zi(s,a,c,u){const f=Be(),p=Kt(),y=Ji(2);p.firstUpdatePass&&function Wv(s,a,c,u){const f=s.data;if(null===f[c+1]){const p=f[pr()],y=function bh(s,a){return a>=s.expandoStartIndex}(s,c);(function Xv(s,a){return 0!=(s.flags&(a?16:32))})(p,u)&&null===a&&!y&&(a=!1),a=function wh(s,a,c,u){const f=function Rl(s){const a=Ft.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(c=Ca(c=Ih(null,s,a,c,u),a.attrs,u),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(c=Ih(f,s,a,c,u),null===p){let I=function Vx(s,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Si(u))return s[to(u)]}(s,a,u);void 0!==I&&Array.isArray(I)&&(I=Ih(null,s,a,I[1],u),I=Ca(I,a.attrs,u),function Mr(s,a,c,u){s[to(c?a.classBindings:a.styleBindings)]=u}(s,a,u,I))}else p=function Qn(s,a,c){let u;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)u=Ca(u,s[p].hostAttrs,c);return Ca(u,a.attrs,c)}(s,a,u)}return void 0!==p&&(u?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,u),function Gv(s,a,c,u,f,p){let y=p?a.classBindings:a.styleBindings,w=to(y),I=Si(y);s[u]=c;let R,D=!1;if(Array.isArray(c)){const B=c;R=B[1],(null===R||yt(B,R)>0)&&(D=!0)}else R=c;if(f)if(0!==I){const z=to(s[w+1]);s[u+1]=fu(z,w),0!==z&&(s[z+1]=Hf(s[z+1],u)),s[w+1]=function $f(s,a){return 131071&s|a<<17}(s[w+1],u)}else s[u+1]=fu(w,0),0!==w&&(s[w+1]=Hf(s[w+1],u)),w=u;else s[u+1]=fu(I,0),0===w?w=u:s[I+1]=Hf(s[I+1],u),I=u;D&&(s[u+1]=Cc(s[u+1])),s_(s,R,u,!0),s_(s,R,u,!1),function _h(s,a,c,u,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&yt(p,a)>=0&&(c[u+1]=wo(c[u+1]))}(a,R,s,u,p),y=fu(w,I),p?a.classBindings=y:a.styleBindings=y}(f,p,a,c,y,u)}}(p,s,y,u),a!==Vt&&Sr(f,y,a)&&function xh(s,a,c,u,f,p,y,w){if(!(3&a.type))return;const I=s.data,D=I[w+1];c_(function zf(s){return 1==(1&s)}(D)?Kv(I,a,c,f,Si(D),y):void 0)||(c_(p)||function jf(s){return 2==(2&s)}(D)&&(p=Kv(I,null,c,f,w,y)),function x1(s,a,c,u,f){const p=En(s);if(a)f?p?s.addClass(c,u):c.classList.add(u):p?s.removeClass(c,u):c.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Jo.DashCase;if(null==f)p?s.removeStyle(c,u,y):c.style.removeProperty(u);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),y|=Jo.Important),p?s.setStyle(c,u,f,y):c.style.setProperty(u,f,w?"important":"")}}}(u,y,_o(pr(),c),f,p))}(p,p.data[pr()],f,f[11],s,f[y+1]=function jx(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=O(Rs(s)))),s}(a,c),u,y)}function Ih(s,a,c,u,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=a[w],u=Ca(u,p.hostAttrs,f),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),u}function Ca(s,a,c){const u=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hn(s,y,!!c||a[++p]))}return void 0===s?null:s}function Kv(s,a,c,u,f,p){const y=null===a;let w;for(;f>0;){const I=s[f],D=Array.isArray(I),R=D?I[1]:I,B=null===R;let z=c[f+1];z===Vt&&(z=B?jt:void 0);let ie=B?zn(z,u):R===u?z:void 0;if(D&&!c_(ie)&&(ie=zn(I,u)),c_(ie)&&(w=ie,y))return w;const Pe=s[f+1];f=y?to(Pe):Si(Pe)}if(null!==a){let I=p?a.residualClasses:a.residualStyles;null!=I&&(w=zn(I,u))}return w}function c_(s){return void 0!==s}function e0(s,a=""){const c=Be(),u=Kt(),f=s+22,p=u.firstCreatePass?Dc(u,f,1,a,null):u.data[f],y=c[f]=function d1(s,a){return En(s)?s.createText(a):s.createTextNode(a)}(c[11],a);Rf(u,c,y,p),Ei(p,!1)}function Eh(s){return l_("",s,""),Eh}function l_(s,a,c){const u=Be(),f=function To(s,a,c,u){return Sr(s,vs(),c)?a+Te(c)+u:Vt}(u,s,a,c);return f!==Vt&&Ko(u,pr(),f),l_}function Ch(s,a,c,u,f){const p=Be(),y=function Do(s,a,c,u,f,p){const w=Oc(s,Gi(),c,f);return Ji(2),w?a+Te(c)+u+Te(f)+p:Vt}(p,s,a,c,u,f);return y!==Vt&&Ko(p,pr(),y),Ch}function Th(s,a,c,u,f,p,y){const w=Be(),I=function Pc(s,a,c,u,f,p,y,w){const D=Ou(s,Gi(),c,f,y);return Ji(3),D?a+Te(c)+u+Te(f)+p+Te(y)+w:Vt}(w,s,a,c,u,f,p,y);return I!==Vt&&Ko(w,pr(),I),Th}const Da=void 0;var g0=["en",[["a","p"],["AM","PM"],Da],[["AM","PM"],Da,Da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Da,"{1} 'at' {0}",Da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p0(s){const c=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let $c={};function Sa(s){const a=function y0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=h0(a);if(c)return c;const u=a.split("-")[0];if(c=h0(u),c)return c;if("en"===u)return g0;throw new Error(`Missing locale data for the locale "${s}".`)}function $u(s){return Sa(s)[Et.PluralCase]}function h0(s){return s in $c||($c[s]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[s]),$c[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const Hc="en-US";let b0=Hc;function Oa(s,a,c,u,f){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Oa(s[p],a,c,u,f);else{const p=Kt(),y=Be();let w=wc(s)?s:X(s.provide),I=Z1(s);const D=tr(),R=1048575&D.providerIndexes,B=D.directiveStart,z=D.providerIndexes>>20;if(wc(s)||!s.multi){const ie=new ec(I,f,dr),Pe=zh(w,a,f?R:R+z,B);-1===Pe?(ca(aa(D,y),p,w),I_(p,s,a.length),a.push(w),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),c.push(ie),y.push(ie)):(c[Pe]=ie,y[Pe]=ie)}else{const ie=zh(w,a,R+z,B),Pe=zh(w,a,R,R+z),ze=ie>=0&&c[ie],at=Pe>=0&&c[Pe];if(f&&!at||!f&&!ze){ca(aa(D,y),p,w);const dt=function Gh(s,a,c,u,f){const p=new ec(s,c,dr);return p.multi=[],p.index=a,p.componentProviders=0,B0(p,f,u&&!c),p}(f?bE:vE,c.length,f,u,I);!f&&at&&(c[Pe].providerFactory=dt),I_(p,s,a.length,0),a.push(w),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),c.push(dt),y.push(dt)}else I_(p,s,ie>-1?ie:Pe,B0(c[f?Pe:ie],I,!f&&u));!f&&u&&at&&c[Pe].componentProviders++}}}function I_(s,a,c,u){const f=wc(a),p=function lD(s){return!!s.useClass}(a);if(f||p){const I=(p?X(a.useClass):a).prototype.ngOnDestroy;if(I){const D=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const R=D.indexOf(c);-1===R?D.push(c,[u,I]):D[R+1].push(u,I)}else D.push(c,I)}}}function B0(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function zh(s,a,c,u){for(let f=c;f<u;f++)if(a[f]===s)return f;return-1}function vE(s,a,c,u){return qh(this.multi,[])}function bE(s,a,c,u){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=ws(c,c[1],this.providerFactory.index,u);p=w.slice(0,y),qh(f,p);for(let I=y;I<w.length;I++)p.push(w[I])}else p=[],qh(f,p);return p}function qh(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function Z0(s,a=[]){return c=>{c.providersResolver=(u,f)=>function L0(s,a,c){const u=Kt();if(u.firstCreatePass){const f=je(s);Oa(c,u.data,u.blueprint,f,!0),Oa(a,u.data,u.blueprint,f,!1)}}(u,f?f(s):s,a)}}class wE{resolveComponentFactory(a){throw function U0(s){const a=Error(`No component factory found for ${O(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Hs=(()=>{class s{}return s.NULL=new wE,s})();class so{}class V0{}class Gc{}function xE(){return Jc(tr(),Be())}function Jc(s,a){return new Xu(Wr(s,a))}let Xu=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=xE,s})();function EE(s){return s instanceof Xu?s.nativeElement:s}class j0{}let CE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function $0(){const s=Be(),c=Ur(tr().index,s);return function TE(s){return s[11]}(er(c)?c:s)}(),s})(),DE=(()=>{class s{}return s.\u0275prov=ft({token:s,providedIn:"root",factory:()=>null}),s})();class Jh{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const SE=new Jh("14.0.2"),Qh={};function x_(s,a,c,u,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&u.push(Mn(p)),U(p))for(let w=10;w<p.length;w++){const I=p[w],D=I[1].firstChild;null!==D&&x_(I[1],I,D,u)}const y=c.type;if(8&y)x_(s,a,c.child,u);else if(32&y){const w=ma(c,a);let I;for(;I=w();)u.push(I)}else if(16&y){const w=b1(a,c);if(Array.isArray(w))u.push(...w);else{const I=gc(a[16]);x_(I[1],I,w,u,!0)}}c=f?c.projectionNext:c.next}return u}class ed{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return x_(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(U(a)){const c=a[8],u=c?c.indexOf(this):-1;u>-1&&(Df(a,u),oc(c,u))}this._attachedToViewContainer=!1}g1(this._lView[1],this._lView)}onDestroy(a){fv(this._lView[1],this._lView,null,a)}markForCheck(){Hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function zg(s,a,c){const u=a[10];u.begin&&u.begin();try{Us(s,a,s.template,c)}catch(f){throw Jg(a,f),f}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bI(s,a){Nf(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=a}}class AE extends ed{constructor(a){super(a),this._view=a}detectChanges(){qg(this._view)}checkNoChanges(){}get context(){return null}}class E_ extends Hs{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=on(a);return new C_(c,this.ngModule)}}function ME(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class z0{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){const f=this.injector.get(a,Qh,u);return f!==Qh||c===Qh?f:this.parentInjector.get(a,c,u)}}class C_ extends Gc{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function nD(s){return s.map(tD).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return ME(this.componentDef.inputs)}get outputs(){return ME(this.componentDef.outputs)}create(a,c,u,f){let p=(f=f||this.ngModule)instanceof qt?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new z0(a,p):a,w=y.get(j0,Zd),I=y.get(DE,null),D=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=u?function bu(s,a,c){if(En(s))return s.selectRootElement(a,c===tn.ShadowDom);let u="string"==typeof a?s.querySelector(a):a;return u.textContent="",u}(D,u,this.componentDef.encapsulation):tg(w.createRenderer(null,this.componentDef),R,function H0(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(R)),z=this.componentDef.onPush?288:272,ie=function es(s,a){return{components:[],scheduler:s||u1,clean:xx,playerHandler:a||null,flags:0}}(),Pe=Sc(0,null,null,1,0,null,null,null,null,null),ze=yu(null,Pe,ie,z,null,null,w,D,I,y,null);let at,dt;ra(ze);try{const At=function Mv(s,a,c,u,f,p){const y=c[1];c[22]=s;const I=Dc(y,22,2,"#host",null),D=I.mergedAttrs=a.hostAttrs;null!==D&&(Wf(I,D,!0),null!==s&&(jl(f,s,D),null!==I.classes&&dg(f,s,I.classes),null!==I.styles&&Bs(f,s,I.styles)));const R=u.createRenderer(s,a),B=yu(c,uv(a),null,a.onPush?32:16,c[22],I,u,R,p||null,null,null);return y.firstCreatePass&&(ca(aa(I,c),y,a.type),Zg(y,I),Ug(I,c.length,1)),Ac(c,B),c[22]=B}(B,this.componentDef,ze,w,D);if(B)if(u)jl(D,B,["ng-version",SE.full]);else{const{attrs:Le,classes:xt}=function rD(s){const a=[],c=[];let u=1,f=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===f?""!==p&&a.push(p,s[++u]):8===f&&c.push(p);else{if(!eo(f))break;f=p}u++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Le&&jl(D,B,Le),xt&&xt.length>0&&dg(D,B,xt.join(" "))}if(dt=Cl(Pe,22),void 0!==c){const Le=dt.projection=[];for(let xt=0;xt<this.ngContentSelectors.length;xt++){const rn=c[xt];Le.push(null!=rn?Array.from(rn):null)}}at=function Ov(s,a,c,u,f){const p=c[1],y=function Bg(s,a,c){const u=tr();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),mv(s,u,a,Mi(s,a,1,null),c));const f=ws(a,s,u.directiveStart,u);jr(f,a);const p=Wr(u,a);return p&&jr(p,a),f}(p,c,a);if(u.components.push(y),s[8]=y,null!==f)for(const I of f)I(y,a);if(a.contentQueries){const I=tr();a.contentQueries(1,y,I.directiveStart)}const w=tr();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(po(w.index),gv(c[1],w,0,w.directiveStart,w.directiveEnd,a),hv(a,y)),y}(At,this.componentDef,ze,ie,[Cu]),ba(Pe,ze,null)}finally{Ll()}return new PE(this.componentType,at,Jc(dt,ze),ze,dt)}}class PE extends class IE{}{constructor(a,c,u,f,p){super(),this.location=u,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new AE(f),this.componentType=a}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Yh(s,a){return new G0(s,a??null)}class G0 extends so{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E_(this);const u=Kn(a);this._bootstrapComponents=ks(u.bootstrap),this._r3Injector=ZI(a,c,[{provide:so,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],O(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(a)}get(a,c=vo.THROW_IF_NOT_FOUND,u=Tt.Default){return a===vo||a===so||a===L1?this:this._r3Injector.get(a,c,u)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Wh extends V0{constructor(a){super(),this.moduleType=a}create(a){return new G0(this.moduleType,a)}}class RE extends so{constructor(a,c,u){super(),this.componentFactoryResolver=new E_(this),this.instance=null;const f=new uu([...a,{provide:so,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],c||lu(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Kh(s,a=null,c=null){return new RE(s,a,c).injector}function td(s,a){const c=s[a];return c===Vt?void 0:c}function nd(s,a){const c=Kt();let u;const f=s+22;c.firstCreatePass?(u=function rm(s,a){if(a)for(let c=a.length-1;c>=0;c--){const u=a[c];if(s===u.name)return u}}(a,c.pipeRegistry),c.data[f]=u,u.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,u.onDestroy)):u=c.data[f];const p=u.factory||(u.factory=xi(u.type)),y=Cn(dr);try{const w=L(!1),I=p();return L(w),function Vv(s,a,c,u){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=u}(c,Be(),f,I),I}finally{Cn(y)}}function X0(s,a,c){const u=s+22,f=Be(),p=Ho(f,u);return Qc(f,u)?function Y0(s,a,c,u,f,p){const y=a+c;return Sr(s,y,f)?ro(s,y+1,p?u.call(p,f):u(f)):td(s,y+1)}(f,_r(),a,p.transform,c,p):p.transform(c)}function im(s,a,c,u){const f=s+22,p=Be(),y=Ho(p,f);return Qc(p,f)?function W0(s,a,c,u,f,p,y){const w=a+c;return Oc(s,w,f,p)?ro(s,w+2,y?u.call(y,f,p):u(f,p)):td(s,w+2)}(p,_r(),a,y.transform,c,u,y):y.transform(c,u)}function eb(s,a,c,u,f){const p=s+22,y=Be(),w=Ho(y,p);return Qc(y,p)?function br(s,a,c,u,f,p,y,w){const I=a+c;return Ou(s,I,f,p,y)?ro(s,I+3,w?u.call(w,f,p,y):u(f,p,y)):td(s,I+3)}(y,_r(),a,w.transform,c,u,f,w):w.transform(c,u,f)}function Qc(s,a){return s[1].data[a].pure}function rd(s){return a=>{setTimeout(s,void 0,a)}}const cs=class nb extends t.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let f=a,p=c||(()=>null),y=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=rd(p),f&&(f=rd(f)),y&&(y=rd(y)));const w=super.subscribe({next:f,error:p,complete:y});return a instanceof Y.w0&&a.add(w),w}};function Pa(){return this._results[Co()]()}class T_{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Co(),u=T_.prototype;u[c]||(u[c]=Pa)}get changes(){return this._changes||(this._changes=new cs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const f=gr(a);(this._changesDetected=!function Tp(s,a,c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++){let f=s[u],p=a[u];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(u._results,f,c))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let id=(()=>{class s{}return s.__NG_ELEMENT_ID__=zE,s})();const HE=id,rb=class extends HE{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(a,c){const u=this._declarationTContainer.tViews,f=yu(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),ba(u,f,a),new ed(f)}};function zE(){return D_(tr(),Be())}function D_(s,a){return 4&s.type?new rb(a,s,Jc(s,a)):null}let S_=(()=>{class s{}return s.__NG_ELEMENT_ID__=ib,s})();function ib(){return ab(tr(),Be())}const qE=S_,ob=class extends qE{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const a=rc(this._hostTNode,this._hostLView);if(bp(a)){const c=Vr(a,this._hostLView),u=bs(a);return new Kr(c[1].data[u+8],c)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=sb(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,u){let f,p;"number"==typeof u?f=u:null!=u&&(f=u.index,p=u.injector);const y=a.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(a,c,u,f,p){const y=a&&!function Ts(s){return"function"==typeof s}(a);let w;if(y)w=c;else{const B=c||{};w=B.index,u=B.injector,f=B.projectableNodes,p=B.environmentInjector||B.ngModuleRef}const I=y?a:new C_(on(a)),D=u||this.parentInjector;if(!p&&null==I.ngModule){const z=(y?D:this.parentInjector).get(qt,null);z&&(p=z)}const R=I.create(D,f,void 0,p);return this.insert(R.hostView,w),R}insert(a,c){const u=a._lView,f=u[1];if(function ap(s){return U(s[3])}(u)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const B=u[3],z=new ob(B,B[6],B[3]);z.detach(z.indexOf(a))}}const p=this._adjustIndex(c),y=this._lContainer;!function su(s,a,c,u){const f=10+u,p=c.length;u>0&&(c[f-1][4]=a),u<p-10?(a[4]=c[f],tf(c,10+u,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function II(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=64}(f,u,y,p);const w=ag(p,y),I=u[11],D=Pf(I,y[7]);return null!==D&&function Ls(s,a,c,u,f,p){u[0]=f,u[6]=a,Nf(s,u,c,1,f,p)}(f,y[6],I,u,D,w),a.attachToViewContainerRef(),tf(od(y),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=sb(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=Df(this._lContainer,c);u&&(oc(od(this._lContainer),c),g1(u[1],u))}detach(a){const c=this._adjustIndex(a,-1),u=Df(this._lContainer,c);return u&&null!=oc(od(this._lContainer),c)?new ed(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function sb(s){return s[8]}function od(s){return s[8]||(s[8]=[])}function ab(s,a){let c;const u=a[s.index];if(U(u))c=u;else{let f;if(8&s.type)f=Mn(u);else{const p=a[11];f=p.createComment("");const y=Wr(s,a);Qo(p,Pf(p,y),f,function ng(s,a){return En(s)?s.nextSibling(a):a.nextSibling}(p,y),!1)}a[s.index]=c=yv(u,a,f,s),Ac(a,c)}return new ob(c,s,a)}class lb{constructor(a){this.queryList=a,this.matches=null}clone(){return new lb(this.queryList)}setDirty(){this.queryList.setDirty()}}class A_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<u;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new A_(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==om(a,c).matches&&this.queries[c].setDirty()}}class JE{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class sd{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const f=null!==c?c.length:0,p=this.getByIndex(u).embeddedTView(a,f);p&&(p.indexInDeclarationView=u,null!==c?c.push(p):c=[p])}return null!==c?new sd(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class M_{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new M_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const p=u[f];this.matchTNodeWithReadOption(a,c,QE(c,p)),this.matchTNodeWithReadOption(a,c,pn(c,a,p,!1,!1))}else u===id?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,pn(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Xu||f===S_||f===id&&4&c.type)this.addMatch(c.index,-2);else{const p=pn(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function QE(s,a){const c=s.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function WE(s,a,c,u){return-1===c?function YE(s,a){return 11&s.type?Jc(s,a):4&s.type?D_(s,a):null}(a,s):-2===c?function ub(s,a,c){return c===Xu?Jc(a,s):c===id?D_(a,s):c===S_?ab(a,s):void 0}(s,a,u):ws(s,s[1],c,a)}function ad(s,a,c,u){const f=a[19].queries[u];if(null===f.matches){const p=s.data,y=c.matches,w=[];for(let I=0;I<y.length;I+=2){const D=y[I];w.push(D<0?null:WE(a,p[D],y[I+1],c.metadata.read))}f.matches=w}return f.matches}function db(s,a,c,u){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=ad(s,a,f,c);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)u.push(y[w/2]);else{const D=p[w+1],R=a[-I];for(let B=10;B<R.length;B++){const z=R[B];z[17]===z[3]&&db(z[1],z,D,u)}if(null!==R[9]){const B=R[9];for(let z=0;z<B.length;z++){const ie=B[z];db(ie[1],ie,D,u)}}}}}return u}function KE(s){const a=Be(),c=Kt(),u=$d();Xa(u+1);const f=om(c,u);if(s.dirty&&Vd(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?db(c,a,u,[]):ad(c,a,f,u);s.reset(p,EE),s.notifyOnChanges()}return!0}return!1}function XE(s,a,c){const u=Kt();u.firstCreatePass&&(hb(u,new JE(s,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),gb(u,Be(),a)}function fb(s,a,c,u){const f=Kt();if(f.firstCreatePass){const p=tr();hb(f,new JE(a,c,u),p.index),function mb(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}gb(f,Be(),c)}function _b(){return function pb(s,a){return s[19].queries[a].queryList}(Be(),$d())}function gb(s,a,c){const u=new T_(4==(4&c));fv(s,a,u,u.destroy),null===a[19]&&(a[19]=new A_),a[19].queries.push(new lb(u))}function hb(s,a,c){null===s.queries&&(s.queries=new sd),s.queries.track(new M_(a,c))}function om(s,a){return s.queries.getByIndex(a)}function yb(s,a){return D_(s,a)}function Wc(s){const a=on(s)||Wn(s)||sr(s);return null!==a&&a.standalone}function R_(...s){}const Rb=new mt("Application Initializer");let N_=(()=>{class s{constructor(c){this.appInits=c,this.resolve=R_,this.reject=R_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Hv(p))c.push(p);else if(zv(p)){const y=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});c.push(y)}}Promise.all(c).then(()=>{u()}).catch(f=>{this.reject(f)}),0===c.length&&u(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Gt(Rb,8))},s.\u0275prov=ft({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Nb=new mt("AppId",{providedIn:"root",factory:function Fb(){return`${gm()}${gm()}${gm()}`}});function gm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kb=new mt("Platform Initializer"),yC=new mt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lb=new mt("appBootstrapListener"),vC=new mt("AnimationModuleType");let hm=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=ft({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ud=new mt("LocaleId",{providedIn:"root",factory:()=>qn(ud,Tt.Optional|Tt.SkipSelf)||function Bb(){return typeof $localize<"u"&&$localize.locale||Hc}()}),bC=new mt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wC{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let IC=(()=>{class s{compileModuleSync(c){return new Wh(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),p=ks(Kn(c).declarations).reduce((y,w)=>{const I=on(w);return I&&y.push(new C_(I)),y},[]);return new wC(u,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=ft({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const CC=(()=>Promise.resolve(0))();function mm(s){typeof Zone>"u"?CC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class gi{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cs(!1),this.onMicrotaskEmpty=new cs(!1),this.onStable=new cs(!1),this.onError=new cs(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&c,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function TC(){let s=lt.requestAnimationFrame,a=lt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function AC(s){const a=()=>{!function SC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(lt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,vm(s),s.isCheckStableRunning=!0,ym(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),vm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,f,p,y,w)=>{try{return bm(s),c.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),F_(s)}},onInvoke:(c,u,f,p,y,w,I)=>{try{return bm(s),c.invoke(f,p,y,w,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),F_(s)}},onHasTask:(c,u,f,p)=>{c.hasTask(f,p),u===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,vm(s),ym(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,u,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,DC,R_,R_);try{return p.runTask(y,c,u)}finally{p.cancelTask(y)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const DC={};function ym(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function vm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function bm(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function F_(s){s._nesting--,ym(s)}class Zb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cs,this.onMicrotaskEmpty=new cs,this.onStable=new cs,this.onError=new cs}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,f){return a.apply(c,u)}}const wm=new mt(""),Im=new mt("");let xm,MC=(()=>{class s{constructor(c,u,f){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xm||(function OC(s){xm=s}(f),f.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gi.assertNotInAngularZone(),mm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mm(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,f){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Gt(gi),Gt(Ub),Gt(Im))},s.\u0275prov=ft({token:s,factory:s.\u0275fac}),s})(),Ub=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return xm?.findTestabilityInTree(this,c,u)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=ft({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),zs=null;const Vb=new mt("AllowMultipleToken"),jb=new mt("PlatformOnDestroy");class NC{constructor(a,c){this.name=a,this.token=c}}function Hb(s,a,c=[]){const u=`Platform: ${a}`,f=new mt(u);return(p=[])=>{let y=Cm();if(!y||y.injector.get(Vb,!1)){const w=[...c,...p,{provide:f,useValue:!0}];s?s(w):function FC(s){if(zs&&!zs.get(Vb,!1))throw new ke(400,"");zs=s;const a=s.get(zb);(function $b(s){const a=s.get(kb,null);a&&a.forEach(c=>c())})(s)}(function Em(s=[],a){return vo.create({name:a,providers:[{provide:B1,useValue:"platform"},{provide:jb,useValue:()=>zs=null},...s]})}(w,u))}return function LC(s){const a=Cm();if(!a)throw new ke(401,"");return a}()}}function Cm(){return zs?.get(zb)??null}let zb=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const f=function BC(s,a){let c;return c="noop"===s?new Zb:("zone.js"===s?void 0:s)||new gi(a),c}(u?.ngZone,function qb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:gi,useValue:f}];return f.run(()=>{const y=vo.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),I=w.injector.get(nu,null);if(!I)throw new ke(402,"");return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:R=>{I.handleError(R)}});w.onDestroy(()=>{L_(this._modules,w),D.unsubscribe()})}),function Gb(s,a,c){try{const u=c();return Hv(u)?u.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>s.handleError(u)),u}}(I,f,()=>{const D=w.injector.get(N_);return D.runInitializers(),D.donePromise.then(()=>(function w0(s){E(s,"Expected localeId to be defined"),"string"==typeof s&&(b0=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ud,Hc)||Hc),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,u=[]){const f=Jb({},u);return function PC(s,a,c){const u=new Wh(c);return Promise.resolve(u)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const u=c.injector.get(k_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new ke(403,"");c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._injector.get(jb,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Gt(vo))},s.\u0275prov=ft({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Jb(s,a){return Array.isArray(a)?a.reduce(Jb,s):{...s,...a}}let k_=(()=>{class s{constructor(c,u,f,p){this._zone=c,this._injector=u,this._exceptionHandler=f,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new W.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new W.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{gi.assertNotInAngularZone(),mm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),R.unsubscribe()}});this.isStable=(0,m.T)(y,w.pipe((0,q.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const f=c instanceof Gc;if(!this._initStatus.done)throw!f&&Wc(c),new ke(405,false);let p;p=f?c:this._injector.get(Hs).resolveComponentFactory(c),this.componentTypes.push(p.componentType);const y=function RC(s){return s.isBoundToModule}(p)?void 0:this._injector.get(so),I=p.create(vo.NULL,[],u||p.selector,y),D=I.location.nativeElement,R=I.injector.get(wm,null);return R?.registerApplication(D),I.onDestroy(()=>{this.detachView(I.hostView),L_(this.components,I),R?.unregisterApplication(D)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;L_(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Lb,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>L_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ke(406,false);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Gt(gi),Gt(vo),Gt(nu),Gt(N_))},s.\u0275prov=ft({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function L_(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let Yb=!0,Wb=!1;function UC(){return Wb=!0,Yb}function Kb(){if(Wb)throw new Error("Cannot enable prod mode after platform setup.");Yb=!1}let VC=(()=>{class s{}return s.__NG_ELEMENT_ID__=ew,s})();function ew(s){return function hi(s,a,c){if(ne(s)&&!c){const u=Ur(s.index,a);return new ed(u,u)}return 47&s.type?new ed(a[16],a):null}(tr(),Be(),16==(16&s))}class ow{constructor(){}supports(a){return Au(a)}create(a){return new sw(a)}}const Am=(s,a)=>a;class sw{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Am}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,f=0,p=null;for(;c||u;){const y=!u||c&&c.currentIndex<aw(u,f,p)?c:u,w=aw(y,f,p),I=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const D=w-f,R=I-f;if(D!=R){for(let z=0;z<D;z++){const ie=z<p.length?p[z]:p[z]=0,Pe=ie+z;R<=Pe&&Pe<D&&(p[z]=ie+1)}p[y.previousIndex]=R-D}}w!==I&&a(y,w,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Au(a))throw new ke(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),u=!0),c=c._next}else f=0,function Xf(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Co()]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),u=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new $C(c,u),p,f),a}_verifyReinsertion(a,c,u,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Mm),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mm),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class $C{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HC{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class Mm{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new HC,this.map.set(c,u)),u.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aw(s,a,c){const u=s.previousIndex;if(null===u)return u;let f=0;return c&&u<c.length&&(f=c[u]),u+a+f}class cw{constructor(){}supports(a){return a instanceof Map||Fv(a)}create(){return new zC}}class zC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Fv(a)))throw new ke(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,u);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const u=new qC(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class qC{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U_(){return new Om([new ow])}let Om=(()=>{class s{constructor(c){this.factories=c}static create(c,u){if(null!=u){const f=u.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||U_()),deps:[[s,new cc,new ac]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(null!=u)return u;throw new ke(901,"")}}return s.\u0275prov=ft({token:s,providedIn:"root",factory:U_}),s})();function lw(){return new V_([new cw])}let V_=(()=>{class s{constructor(c){this.factories=c}static create(c,u){if(u){const f=u.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||lw()),deps:[[s,new cc,new ac]]}}find(c){const u=this.factories.find(p=>p.supports(c));if(u)return u;throw new ke(901,"")}}return s.\u0275prov=ft({token:s,providedIn:"root",factory:lw}),s})();const uw=Hb(null,"core",[]);let Pm=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Gt(k_))},s.\u0275mod=ps({type:s}),s.\u0275inj=$e({}),s})();function dw(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2997),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(K){const j={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},M="function"==typeof K?K():K,W=Object.assign({},j,{features:M.features||!!M.logOnly&&{pause:!0,export:!0,test:!0}||j.features},M);if(W.maxAge&&W.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${W.maxAge}`);return W}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(j,M){if(this.action=j,this.timestamp=M,this.type=PERFORM_ACTION,typeof j.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(j){this.timestamp=j,this.type=RESET}}class Rollback{constructor(j){this.timestamp=j,this.type=ROLLBACK}}class Commit{constructor(j){this.timestamp=j,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(j){this.id=j,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(j,M,t=!0){this.start=j,this.end=M,this.active=t,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(j){this.index=j,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(j){this.actionId=j,this.type=JUMP_TO_ACTION}}class ImportState{constructor(j){this.nextLiftedState=j,this.type=IMPORT_STATE}}class LockChanges{constructor(j){this.status=j,this.type=LOCK_CHANGES}}class PauseRecording{constructor(j){this.status=j,this.type=PAUSE_RECORDING}}function difference(K,j){return K.filter(M=>j.indexOf(M)<0)}function unliftState(K){const{computedStates:j,currentStateIndex:M}=K;if(M>=j.length){const{state:Y}=j[j.length-1];return Y}const{state:t}=j[M];return t}function unliftAction(K){return K.actionsById[K.nextActionId-1]}function liftAction(K){return new PerformAction(K,+Date.now())}function sanitizeActions(K,j){return Object.keys(j).reduce((M,t)=>{const Y=Number(t);return M[Y]=sanitizeAction(K,j[Y],Y),M},{})}function sanitizeAction(K,j,M){return{...j,action:K(j.action,M)}}function sanitizeStates(K,j){return j.map((M,t)=>({state:sanitizeState(K,M.state,t),error:M.error}))}function sanitizeState(K,j,M){return K(j,M)}function shouldFilterActions(K){return K.predicate||K.actionsSafelist||K.actionsBlocklist}function filterLiftedState(K,j,M,t){const Y=[],W={},m=[];return K.stagedActionIds.forEach((q,re)=>{const $=K.actionsById[q];!$||re&&isActionFiltered(K.computedStates[re],$,j,M,t)||(W[q]=$,Y.push(q),m.push(K.computedStates[re]))}),{...K,stagedActionIds:Y,actionsById:W,computedStates:m}}function isActionFiltered(K,j,M,t,Y){const W=M&&!M(K,j.action),m=t&&!j.action.type.match(t.map(re=>escapeRegExp(re)).join("|")),q=Y&&j.action.type.match(Y.map(re=>escapeRegExp(re)).join("|"));return W||m||q}function escapeRegExp(K){return K.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(K,j,M,t,Y){if(t)return{state:M,error:"Interrupted by an error up the chain"};let m,W=M;try{W=K(M,j)}catch(q){m=q.toString(),Y.handleError(q)}return{state:W,error:m}}function recomputeStates(K,j,M,t,Y,W,m,q,re){if(j>=K.length&&K.length===W.length)return K;const $=K.slice(0,j),O=W.length-(re?1:0);for(let G=j;G<O;G++){const k=W[G],J=Y[k].action,X=$[G-1],Ie=X?X.state:t,Ee=X?X.error:void 0,Se=m.indexOf(k)>-1?X:computeNextEntry(M,J,Ie,Ee,q);$.push(Se)}return re&&$.push(K[K.length-1]),$}function liftInitialState(K,j){return{monitorState:j(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:K,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(K,j,M,t,Y={}){return W=>(m,q)=>{let{monitorState:re,actionsById:$,nextActionId:O,stagedActionIds:G,skippedActionIds:k,committedState:J,currentStateIndex:X,computedStates:Ie,isLocked:Ee,isPaused:ke}=m||j;function Se(Ke){let Ge=Ke,Ae=G.slice(1,Ge+1);for(let ve=0;ve<Ae.length;ve++){if(Ie[ve+1].error){Ge=ve,Ae=G.slice(1,Ge+1);break}delete $[Ae[ve]]}k=k.filter(ve=>-1===Ae.indexOf(ve)),G=[0,...G.slice(Ge+1)],J=Ie[Ge].state,Ie=Ie.slice(Ge),X=X>Ge?X-Ge:0}function Te(){$={0:liftAction(INIT_ACTION)},O=1,G=[0],k=[],J=Ie[X].state,X=0,Ie=[]}m||($=Object.create($));let Re=0;switch(q.type){case LOCK_CHANGES:Ee=q.status,Re=1/0;break;case PAUSE_RECORDING:ke=q.status,ke?(G=[...G,O],$[O]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),O++,Re=G.length-1,Ie=Ie.concat(Ie[Ie.length-1]),X===G.length-2&&X++,Re=1/0):Te();break;case RESET:$={0:liftAction(INIT_ACTION)},O=1,G=[0],k=[],J=K,X=0,Ie=[];break;case COMMIT:Te();break;case ROLLBACK:$={0:liftAction(INIT_ACTION)},O=1,G=[0],k=[],X=0,Ie=[];break;case TOGGLE_ACTION:{const{id:Ke}=q;k=-1===k.indexOf(Ke)?[Ke,...k]:k.filter(Ae=>Ae!==Ke),Re=G.indexOf(Ke);break}case SET_ACTIONS_ACTIVE:{const{start:Ke,end:Ge,active:Ae}=q,ve=[];for(let Ve=Ke;Ve<Ge;Ve++)ve.push(Ve);k=Ae?difference(k,ve):[...k,...ve],Re=G.indexOf(Ke);break}case JUMP_TO_STATE:X=q.index,Re=1/0;break;case JUMP_TO_ACTION:{const Ke=G.indexOf(q.actionId);-1!==Ke&&(X=Ke),Re=1/0;break}case SWEEP:G=difference(G,k),k=[],X=Math.min(X,G.length-1);break;case PERFORM_ACTION:{if(Ee)return m||j;if(ke||m&&isActionFiltered(m.computedStates[X],q,Y.predicate,Y.actionsSafelist,Y.actionsBlocklist)){const Ge=Ie[Ie.length-1];Ie=[...Ie.slice(0,-1),computeNextEntry(W,q.action,Ge.state,Ge.error,M)],Re=1/0;break}Y.maxAge&&G.length===Y.maxAge&&Se(1),X===G.length-1&&X++;const Ke=O++;$[Ke]=q,G=[...G,Ke],Re=G.length-1;break}case IMPORT_STATE:({monitorState:re,actionsById:$,nextActionId:O,stagedActionIds:G,skippedActionIds:k,committedState:J,currentStateIndex:X,computedStates:Ie,isLocked:Ee,isPaused:ke}=q.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Re=0,Y.maxAge&&G.length>Y.maxAge&&(Ie=recomputeStates(Ie,Re,W,J,$,G,k,M,ke),Se(G.length-Y.maxAge),Re=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ie.filter(Ge=>Ge.error).length>0)Re=0,Y.maxAge&&G.length>Y.maxAge&&(Ie=recomputeStates(Ie,Re,W,J,$,G,k,M,ke),Se(G.length-Y.maxAge),Re=1/0);else{if(!ke&&!Ee){X===G.length-1&&X++;const Ge=O++;$[Ge]=new PerformAction(q,+Date.now()),G=[...G,Ge],Re=G.length-1,Ie=recomputeStates(Ie,Re,W,J,$,G,k,M,ke)}Ie=Ie.map(Ge=>({...Ge,state:W(Ge.state,RECOMPUTE_ACTION)})),X=G.length-1,Y.maxAge&&G.length>Y.maxAge&&Se(G.length-Y.maxAge),Re=1/0}break;default:Re=1/0}return Ie=recomputeStates(Ie,Re,W,J,$,G,k,M,ke),re=t(re,q),{monitorState:re,actionsById:$,nextActionId:O,stagedActionIds:G,skippedActionIds:k,committedState:J,currentStateIndex:X,computedStates:Ie,isLocked:Ee,isPaused:ke}}}let DevtoolsDispatcher=(()=>{class K extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return K.\u0275fac=function(){let j;return function(t){return(j||(j=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(K)))(t||K)}}(),K.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:K,factory:K.\u0275fac}),K})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(K,j,M){this.config=j,this.dispatcher=M,this.devtoolsExtension=K,this.createActionStreams()}notify(K,j){if(this.devtoolsExtension)if(K.type===PERFORM_ACTION){if(j.isLocked||j.isPaused)return;const M=unliftState(j);if(shouldFilterActions(this.config)&&isActionFiltered(M,K,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const t=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,M,j.currentStateIndex):M,Y=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,K,j.nextActionId):K;this.sendToReduxDevtools(()=>this.extensionConnection.send(Y,t))}else{const M={...j,stagedActionIds:j.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,j.actionsById):j.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,j.computedStates):j.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,M,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(K=>{const j=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=j,j.init(),j.subscribe(M=>K.next(M)),j.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const K=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),j=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.START)),M=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.STOP)),t=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(q=>this.unwrapAction(q.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(q=>q.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>q),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(q)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(q))),W=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(q=>this.unwrapAction(q.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),m=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M));this.start$=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>W)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>m))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(K){const j={name:K.name,features:K.features,serialize:K.serialize,autoPause:K.autoPause??!1};return!1!==K.maxAge&&(j.maxAge=K.maxAge),j}sendToReduxDevtools(K){try{K()}catch(j){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",j)}}}return DevtoolsExtension.\u0275fac=function K(j){return new(j||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class K{constructor(M,t,Y,W,m,q,re,$){const O=liftInitialState(re,$.monitor),G=liftReducerWith(re,O,q,$.monitor,$),k=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(t.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),W.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),M,W.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),J=Y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(G)),X=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ie=k.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(J),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Te},[Re,Ke])=>{let Ge=Ke(Te,Re);return Re.type!==PERFORM_ACTION&&shouldFilterActions($)&&(Ge=filterLiftedState(Ge,$.predicate,$.actionsSafelist,$.actionsBlocklist)),W.notify(Re,Ge),{state:Ge,action:Re}},{state:O,action:null})).subscribe(({state:Te,action:Re})=>{X.next(Te),Re.type===PERFORM_ACTION&&m.next(Re.action)}),Ee=W.start$.subscribe(()=>{this.refresh()}),ke=X.asObservable(),Se=ke.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ee,this.stateSubscription=Ie,this.dispatcher=M,this.liftedState=ke,this.state=Se}dispatch(M){this.dispatcher.next(M)}next(M){this.dispatcher.next(M)}error(M){}complete(){}performAction(M){this.dispatch(new PerformAction(M,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(M){this.dispatch(new ToggleAction(M))}jumpToAction(M){this.dispatch(new JumpToAction(M))}jumpToState(M){this.dispatch(new JumpToState(M))}importState(M){this.dispatch(new ImportState(M))}lockChanges(M){this.dispatch(new LockChanges(M))}pauseRecording(M){this.dispatch(new PauseRecording(M))}}return K.\u0275fac=function(M){return new(M||K)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},K.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:K,factory:K.\u0275fac}),K})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(K,j){return Boolean(K)||j.monitor!==noMonitor}function createReduxDevtoolsExtension(){const K="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[K]<"u"?window[K]:null}function createStateObservable(K){return K.state}let StoreDevtoolsModule=(()=>{class K{static instrument(M={}){return{ngModule:K,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:M},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:K}),K.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),K})()},2997:(K,j,M)=>{"use strict";M.d(j,{UO:()=>ue,qg:()=>ht,Y6:()=>ye,mK:()=>Hi,n$:()=>Cn,Y$:()=>ai,FR:()=>tn,yh:()=>fr,CK:()=>Ws,Aw:()=>za,cr:()=>un,wb:()=>gl,qC:()=>Tt,PH:()=>Re,P1:()=>cn});var t=M(4650),Y=M(1135),W=M(8306),m=M(7579),q=M(233),re=M(4004),O=M(4671),G=M(4482),k=M(5403);function X(U,we){return U===we}var Ie=M(5363),Ee=M(1365),ke=M(5026);const Se={};function Re(U,we){if(Se[U]=(Se[U]||0)+1,"function"==typeof we)return Ae(U,(...de)=>({...we(...de),type:U}));switch(we?we._as:"empty"){case"empty":return Ae(U,()=>({type:U}));case"props":return Ae(U,de=>({...de,type:U}));default:throw new Error("Unexpected config.")}}function Ae(U,we){return Object.defineProperty(we,"type",{value:U,writable:!1})}const ht="@ngrx/store/init";let ue=(()=>{class U extends Y.X{constructor(){super({type:ht})}next(ne){if("function"==typeof ne)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ne>"u")throw new TypeError("Actions must be objects");if(typeof ne.type>"u")throw new TypeError("Actions must have a type property");super.next(ne)}complete(){}ngOnDestroy(){super.complete()}}return U.\u0275fac=function(ne){return new(ne||U)},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac}),U})();const be=[ue],fe=new t.OlP("@ngrx/store Internal Root Guard"),Fe=new t.OlP("@ngrx/store Internal Initial State"),ye=new t.OlP("@ngrx/store Initial State"),He=new t.OlP("@ngrx/store Reducer Factory"),Pt=new t.OlP("@ngrx/store Internal Reducer Factory Provider"),he=new t.OlP("@ngrx/store Initial Reducers"),E=new t.OlP("@ngrx/store Internal Initial Reducers"),Q=new t.OlP("@ngrx/store Store Features"),ge=new t.OlP("@ngrx/store Internal Store Reducers"),it=new t.OlP("@ngrx/store Internal Feature Reducers"),ut=new t.OlP("@ngrx/store Internal Feature Configs"),ft=new t.OlP("@ngrx/store Internal Store Features"),Xe=new t.OlP("@ngrx/store Internal Feature Reducers Token"),$e=new t.OlP("@ngrx/store Feature Reducers"),gt=new t.OlP("@ngrx/store User Provided Meta Reducers"),gn=new t.OlP("@ngrx/store Meta Reducers"),xr=new t.OlP("@ngrx/store Internal Resolved Meta Reducers"),yi=new t.OlP("@ngrx/store User Runtime Checks Config"),co=new t.OlP("@ngrx/store Internal User Runtime Checks Config"),Fr=new t.OlP("@ngrx/store Internal Runtime Checks"),lo=new t.OlP("@ngrx/store Check if Action types are unique");function si(U,we={}){const ne=Object.keys(U),de={};for(let tt=0;tt<ne.length;tt++){const Yt=ne[tt];"function"==typeof U[Yt]&&(de[Yt]=U[Yt])}const je=Object.keys(de);return function(Yt,An){Yt=void 0===Yt?we:Yt;let xn=!1;const Zr={};for(let mn=0;mn<je.length;mn++){const Tn=je[mn],yl=Yt[Tn],vl=(0,de[Tn])(yl,An);Zr[Tn]=vl,xn=xn||vl!==yl}return xn?Zr:Yt}}function Tt(...U){return function(we){if(0===U.length)return we;const ne=U[U.length-1];return U.slice(0,-1).reduceRight((je,tt)=>tt(je),ne(we))}}function Bo(U,we){return Array.isArray(we)&&we.length>0&&(U=Tt.apply(null,[...we,U])),(ne,de)=>{const je=U(ne);return(tt,Yt)=>je(tt=void 0===tt?de:tt,Yt)}}class Cn extends W.y{}class Hi extends ue{}const gl="@ngrx/store/update-reducers";let _t=(()=>{class U extends Y.X{constructor(ne,de,je,tt){super(tt(je,de)),this.dispatcher=ne,this.initialState=de,this.reducers=je,this.reducerFactory=tt}get currentReducers(){return this.reducers}addFeature(ne){this.addFeatures([ne])}addFeatures(ne){const de=ne.reduce((je,{reducers:tt,reducerFactory:Yt,metaReducers:An,initialState:xn,key:Zr})=>{const mn="function"==typeof tt?function hn(U){const we=Array.isArray(U)&&U.length>0?Tt(...U):ne=>ne;return(ne,de)=>(ne=we(ne),(je,tt)=>ne(je=void 0===je?de:je,tt))}(An)(tt,xn):Bo(Yt,An)(tt,xn);return je[Zr]=mn,je},{});this.addReducers(de)}removeFeature(ne){this.removeFeatures([ne])}removeFeatures(ne){this.removeReducers(ne.map(de=>de.key))}addReducer(ne,de){this.addReducers({[ne]:de})}addReducers(ne){this.reducers={...this.reducers,...ne},this.updateReducers(Object.keys(ne))}removeReducer(ne){this.removeReducers([ne])}removeReducers(ne){ne.forEach(de=>{this.reducers=function pl(U,we){return Object.keys(U).filter(ne=>ne!==we).reduce((ne,de)=>Object.assign(ne,{[de]:U[de]}),{})}(this.reducers,de)}),this.updateReducers(ne)}updateReducers(ne){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:gl,features:ne})}ngOnDestroy(){this.complete()}}return U.\u0275fac=function(ne){return new(ne||U)(t.LFG(Hi),t.LFG(ye),t.LFG(he),t.LFG(He))},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac}),U})();const kr=[_t,{provide:Cn,useExisting:_t},{provide:Hi,useExisting:ue}];let ai=(()=>{class U extends m.x{ngOnDestroy(){this.complete()}}return U.\u0275fac=function(){let we;return function(de){return(we||(we=t.n5z(U)))(de||U)}}(),U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac}),U})();const ja=[ai];class tn extends W.y{}let lt=(()=>{class U extends Y.X{constructor(ne,de,je,tt){super(tt);const Zr=ne.pipe((0,Ie.Q)(q.N)).pipe((0,Ee.M)(de)).pipe((0,ke.R)(pt,{state:tt}));this.stateSubscription=Zr.subscribe(({state:mn,action:Tn})=>{this.next(mn),je.next(Tn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return U.INIT=ht,U.\u0275fac=function(ne){return new(ne||U)(t.LFG(ue),t.LFG(Cn),t.LFG(ai),t.LFG(ye))},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac}),U})();function pt(U={state:void 0},[we,ne]){const{state:de}=U;return{state:ne(de,we),action:we}}const hl=[lt,{provide:tn,useExisting:lt}];let fr=(()=>{class U extends W.y{constructor(ne,de,je){super(),this.actionsObserver=de,this.reducerManager=je,this.source=ne}select(ne,...de){return vi.call(null,ne,...de)(this)}lift(ne){const de=new U(this,this.actionsObserver,this.reducerManager);return de.operator=ne,de}dispatch(ne){this.actionsObserver.next(ne)}next(ne){this.actionsObserver.next(ne)}error(ne){this.actionsObserver.error(ne)}complete(){this.actionsObserver.complete()}addReducer(ne,de){this.reducerManager.addReducer(ne,de)}removeReducer(ne){this.reducerManager.removeReducer(ne)}}return U.\u0275fac=function(ne){return new(ne||U)(t.LFG(tn),t.LFG(ue),t.LFG(_t))},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac}),U})();const jt=[fr];function vi(U,we,...ne){return function(je){let tt;if("string"==typeof U){const Yt=[we,...ne].filter(Boolean);tt=je.pipe(function $(...U){const we=U.length;if(0===we)throw new Error("list of properties cannot be empty.");return(0,re.U)(ne=>{let de=ne;for(let je=0;je<we;je++){const tt=de?.[U[je]];if(!(typeof tt<"u"))return;de=tt}return de})}(U,...Yt))}else{if("function"!=typeof U)throw new TypeError(`Unexpected type '${typeof U}' in select operator, expected 'string' or 'function'`);tt=je.pipe((0,re.U)(Yt=>U(Yt,we)))}return tt.pipe(function J(U,we=O.y){return U=U??X,(0,G.e)((ne,de)=>{let je,tt=!0;ne.subscribe((0,k.x)(de,Yt=>{const An=we(Yt);(tt||!U(je,An))&&(tt=!1,je=An,de.next(Yt))}))})}())}}const nr="https://ngrx.io/guide/store/configuration/runtime-checks";function Zo(U){return void 0===U}function yn(U){return null===U}function Gr(U){return Array.isArray(U)}function $a(U){return"object"==typeof U&&null!==U}function bi(U){return"function"==typeof U}function on(U,we){return U===we}function Wn(U,we,ne){for(let de=0;de<U.length;de++)if(!ne(U[de],we[de]))return!0;return!1}function Kn(U,we=on,ne=on){let tt,de=null,je=null;return{memoized:function Zr(){if(void 0!==tt)return tt.result;if(!de)return je=U.apply(null,arguments),de=arguments,je;if(!Wn(arguments,de,we))return je;const mn=U.apply(null,arguments);return de=arguments,ne(je,mn)?je:(je=mn,mn)},reset:function Yt(){de=null,je=null},setResult:function An(mn){tt={result:mn}},clearResult:function xn(){tt=void 0}}}function cn(...U){return function Lt(U,we={stateFn:ot}){return function(...ne){let de=ne;if(Array.isArray(de[0])){const[mn,...Tn]=de;de=[...mn,...Tn]}const je=de.slice(0,de.length-1),tt=de[de.length-1],Yt=je.filter(mn=>mn.release&&"function"==typeof mn.release),An=U(function(...mn){return tt.apply(null,mn)}),xn=Kn(function(mn,Tn){return we.stateFn.apply(null,[mn,je,Tn,An])});return Object.assign(xn.memoized,{release:function Zr(){xn.reset(),An.reset(),Yt.forEach(mn=>mn.release())},projector:An.memoized,setResult:xn.setResult,clearResult:xn.clearResult})}}(Kn)(...U)}function ot(U,we,ne,de){if(void 0===ne){const tt=we.map(Yt=>Yt(U));return de.memoized.apply(null,tt)}const je=we.map(tt=>tt(U,ne));return de.memoized.apply(null,[...je,ne])}function dn(U){Object.freeze(U);const we=bi(U);return Object.getOwnPropertyNames(U).forEach(ne=>{if(!ne.startsWith("\u0275")&&function Vo(U,we){return Object.prototype.hasOwnProperty.call(U,we)}(U,ne)&&(!we||"caller"!==ne&&"callee"!==ne&&"arguments"!==ne)){const de=U[ne];($a(de)||bi(de))&&!Object.isFrozen(de)&&dn(de)}}),U}function Jr(U,we=[]){return(Zo(U)||yn(U))&&0===we.length?{path:["root"],value:U}:Object.keys(U).reduce((de,je)=>{if(de)return de;const tt=U[je];return function ps(U){return bi(U)&&U.hasOwnProperty("\u0275cmp")}(tt)?de:!(Zo(tt)||yn(tt)||function uo(U){return"number"==typeof U}(tt)||function ml(U){return"boolean"==typeof U}(tt)||function nn(U){return"string"==typeof U}(tt)||Gr(tt))&&(function Uo(U){if(!function Lr(U){return $a(U)&&!Gr(U)}(U))return!1;const we=Object.getPrototypeOf(U);return we===Object.prototype||null===we}(tt)?Jr(tt,[...we,je]):{path:[...we,je],value:tt})},!1)}function Dt(U,we){if(!1===U)return;const ne=U.path.join("."),de=new Error(`Detected unserializable ${we} at "${ne}". ${nr}#strict${we}serializability`);throw de.value=U.value,de.unserializablePath=ne,de}function fo(U){return(0,t.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...U}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Rt({strictActionSerializability:U,strictStateSerializability:we}){return ne=>U||we?function Qt(U,we){return function(ne,de){we.action(de)&&Dt(Jr(de),"action");const je=U(ne,de);return we.state()&&Dt(Jr(je),"state"),je}}(ne,{action:de=>U&&!Ht(de),state:()=>we}):ne}function A({strictActionImmutability:U,strictStateImmutability:we}){return ne=>U||we?function ci(U,we){return function(ne,de){const je=we.action(de)?dn(de):de,tt=U(ne,je);return we.state()?dn(tt):tt}}(ne,{action:de=>U&&!Ht(de),state:()=>we}):ne}function Ht(U){return U.type.startsWith("@ngrx")}function jo({strictActionWithinNgZone:U}){return we=>U?function Br(U,we){return function(ne,de){if(we.action(de)&&!t.R0b.isInAngularZone())throw new Error(`Action '${de.type}' running outside NgZone. ${nr}#strictactionwithinngzone`);return U(ne,de)}}(we,{action:ne=>U&&!Ht(ne)}):we}function wi(U){return[{provide:co,useValue:U},{provide:yi,useFactory:qi,deps:[co]},{provide:Fr,deps:[yi],useFactory:fo},{provide:gn,multi:!0,deps:[Fr],useFactory:A},{provide:gn,multi:!0,deps:[Fr],useFactory:Rt},{provide:gn,multi:!0,deps:[Fr],useFactory:jo}]}function ar(){return[{provide:lo,multi:!0,deps:[Fr],useFactory:Ha}]}function qi(U){return U}function Ha(U){if(!U.strictActionTypeUniqueness)return;const we=Object.entries(Se).filter(([,ne])=>ne>1).map(([ne])=>ne);if(we.length)throw new Error(`Action types are registered more than once, ${we.map(ne=>`"${ne}"`).join(", ")}. ${nr}#strictactiontypeuniqueness`)}let un=(()=>{class U{constructor(ne,de,je,tt,Yt,An){}}return U.\u0275fac=function(ne){return new(ne||U)(t.LFG(ue),t.LFG(Cn),t.LFG(ai),t.LFG(fr),t.LFG(fe,8),t.LFG(lo,8))},U.\u0275mod=t.oAB({type:U}),U.\u0275inj=t.cJS({}),U})(),Ws=(()=>{class U{constructor(ne,de,je,tt,Yt){this.features=ne,this.featureReducers=de,this.reducerManager=je;const An=ne.map((xn,Zr)=>{const Tn=de.shift()[Zr];return{...xn,reducers:Tn,initialState:Xn(xn.initialState)}});je.addFeatures(An)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return U.\u0275fac=function(ne){return new(ne||U)(t.LFG(ft),t.LFG($e),t.LFG(_t),t.LFG(un),t.LFG(lo,8))},U.\u0275mod=t.oAB({type:U}),U.\u0275inj=t.cJS({}),U})(),za=(()=>{class U{static forRoot(ne,de={}){return{ngModule:un,providers:[{provide:fe,useFactory:rr,deps:[[fr,new t.FiY,new t.tp0]]},{provide:Fe,useValue:de.initialState},{provide:ye,useFactory:Xn,deps:[Fe]},{provide:E,useValue:ne},{provide:ge,useExisting:ne instanceof t.OlP?ne:E},{provide:he,deps:[t.zs3,E,[new t.tBr(ge)]],useFactory:hs},{provide:gt,useValue:de.metaReducers?de.metaReducers:[]},{provide:xr,deps:[gn,gt],useFactory:Ii},{provide:Pt,useValue:de.reducerFactory?de.reducerFactory:si},{provide:He,deps:[Pt,xr],useFactory:Bo},be,kr,ja,hl,jt,wi(de.runtimeChecks),ar()]}}static forFeature(ne,de,je={}){return{ngModule:Ws,providers:[{provide:ut,multi:!0,useValue:ne instanceof Object?{}:je},{provide:Q,multi:!0,useValue:{key:ne instanceof Object?ne.name:ne,reducerFactory:je instanceof t.OlP||!je.reducerFactory?si:je.reducerFactory,metaReducers:je instanceof t.OlP||!je.metaReducers?[]:je.metaReducers,initialState:je instanceof t.OlP||!je.initialState?void 0:je.initialState}},{provide:ft,deps:[t.zs3,ut,Q],useFactory:ms},{provide:it,multi:!0,useValue:ne instanceof Object?ne.reducer:de},{provide:Xe,multi:!0,useExisting:de instanceof t.OlP?de:it},{provide:$e,multi:!0,deps:[t.zs3,it,[new t.tBr(Xe)]],useFactory:$o},ar()]}}}return U.\u0275fac=function(ne){return new(ne||U)},U.\u0275mod=t.oAB({type:U}),U.\u0275inj=t.cJS({}),U})();function hs(U,we){return we instanceof t.OlP?U.get(we):we}function ms(U,we,ne){return ne.map((de,je)=>{if(we[je]instanceof t.OlP){const tt=U.get(we[je]);return{key:de.key,reducerFactory:tt.reducerFactory?tt.reducerFactory:si,metaReducers:tt.metaReducers?tt.metaReducers:[],initialState:tt.initialState}}return de})}function $o(U,we){return we.map(de=>de instanceof t.OlP?U.get(de):de)}function Xn(U){return"function"==typeof U?U():U}function Ii(U,we){return U.concat(we)}function rr(U){if(U)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}}},K=>{K(K.s=5425)}]);