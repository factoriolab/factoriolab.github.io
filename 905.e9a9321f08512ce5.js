"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[905],{4270:(at,K,p)=>{p.d(K,{P:()=>ft});var n=p(5879),Q=p(4221),t=p(9515),O=p(2572),g=p(7398),L=p(1374),I=p(4962),P=p(8345),C=p(8528),U=p(7346),T=p(6814),G=p(6223),ot=p(5219),lt=p(3259),mt=p(707),W=p(4532),pt=p(3965),ct=p(9502),w=p(2927),it=p(4480),rt=p(6804),ut=p(6160),vt=p(315),ht=p(8153),Tt=p(5760),It=p(3689);function Ct(Y,nt){1&Y&&n._UZ(0,"button",26)}function Zt(Y,nt){if(1&Y&&(n.TgZ(0,"span",30),n._uU(1),n.qZA()),2&Y){const h=n.oxw(2).$implicit,x=n.oxw().ngIf;n.xp6(1),n.Oqu(x.data.recipeEntities[h.targetId].name)}}function gt(Y,nt){if(1&Y){const h=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(h);const v=n.oxw().$implicit,b=n.MAs(5),M=n.oxw().ngIf;return n.KtG(b.clickOpen(M.data,"recipe",M.recipeIds,v.targetId))}),n.ALo(1,"translate"),n.TgZ(2,"i",28),n.ALo(3,"iconSmClass"),n.TgZ(4,"span"),n._uU(5),n.qZA()(),n.YNc(6,Zt,2,1,"span",29),n.qZA()}if(2&Y){const h=n.oxw().$implicit,x=n.oxw().ngIf;n.Q6J("pTooltip",n.lcZ(1,5,"objectives.selectARecipe")),n.xp6(2),n.Tol(n.xi3(3,7,h.targetId,"recipe")),n.xp6(3),n.hij("#",h.id,""),n.xp6(1),n.Q6J("ngIf",!x.isMobile)}}function bt(Y,nt){if(1&Y){const h=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(h);const v=n.MAs(4),b=n.oxw().$implicit,M=n.oxw().ngIf;return n.KtG(v.clickOpen(M.data,"item",M.itemIds,b.targetId))}),n.ALo(1,"iconSmClass"),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"lab-picker",11,32),n.NdJ("selectId",function(v){n.CHM(h);const b=n.oxw().$implicit,M=n.oxw(2);return n.KtG(M.setTarget(b.id,v))}),n.ALo(5,"translate"),n.qZA()}if(2&Y){const h=n.oxw().$implicit,x=n.oxw().ngIf;n.Q6J("icon",n.lcZ(1,4,h.targetId))("label",x.isMobile?"":x.data.itemEntities[h.targetId].name)("pTooltip",n.lcZ(2,6,"objectives.selectAnItem")),n.xp6(3),n.Q6J("header",n.lcZ(5,8,"objectives.selectAnItem"))}}function wt(Y,nt){if(1&Y){const h=n.EpF();n.TgZ(0,"p-dropdown",24),n.NdJ("onChange",function(v){n.CHM(h);const b=n.oxw().$implicit,M=n.oxw().ngIf,q=n.MAs(22),F=n.MAs(25),j=n.oxw();return n.KtG(j.changeUnit(b,v.value,M.objectiveRationals,M.itemsState,M.beltSpeed,M.dispRateInfo,M.data,q,F))}),n.ALo(1,"translate"),n.qZA()}if(2&Y){const h=n.oxw().$implicit,x=n.oxw().ngIf;n.Q6J("tooltip",n.lcZ(1,3,"objectives.unitTooltip"))("options",x.rateUnitOptions)("ngModel",h.unit)}}function At(Y,nt){if(1&Y){const h=n.EpF();n.TgZ(0,"div",16)(1,"div",17),n.YNc(2,Ct,1,0,"button",18),n.YNc(3,gt,7,10,"button",19),n.TgZ(4,"lab-picker",11,20),n.NdJ("selectId",function(v){const M=n.CHM(h).$implicit,q=n.oxw(2);return n.KtG(q.setTarget(M.id,v))}),n.ALo(6,"translate"),n.qZA(),n.YNc(7,bt,6,10,"ng-template",null,21,n.W1O),n.TgZ(9,"lab-input-number",22),n.NdJ("setValue",function(v){const M=n.CHM(h).$implicit,q=n.oxw(2);return n.KtG(q.setValue(M.id,v))}),n.ALo(10,"translate"),n.qZA(),n.YNc(11,wt,2,5,"p-dropdown",23),n.TgZ(12,"p-dropdown",24),n.NdJ("onChange",function(v){const M=n.CHM(h).$implicit,q=n.oxw(2);return n.KtG(q.setType(M.id,v.value))}),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"button",25),n.NdJ("click",function(){const b=n.CHM(h).$implicit,M=n.oxw(2);return n.KtG(M.removeObjective(b.id))}),n.ALo(15,"translate"),n.qZA()()()}if(2&Y){const h=nt.$implicit,x=n.MAs(8),v=n.oxw().ngIf,b=n.oxw();n.xp6(2),n.Q6J("ngIf",!v.isMobile),n.xp6(1),n.Q6J("ngIf",h.unit===b.ObjectiveUnit.Machines)("ngIfElse",x),n.xp6(1),n.Q6J("header",n.lcZ(6,12,"objectives.selectARecipe")),n.xp6(5),n.Q6J("pTooltip",n.lcZ(10,14,"objectives.valueTooltip"))("hideButtons",v.isMobile)("value",h.value),n.xp6(2),n.Q6J("ngIf",h.type!==b.ObjectiveType.Maximize),n.xp6(1),n.Q6J("tooltip",n.lcZ(13,16,"objectives.typeTooltip"))("options",b.objectiveTypeOptions)("ngModel",h.type),n.xp6(2),n.Q6J("pTooltip",n.lcZ(15,18,"objectives.removeTooltip"))}}function St(Y,nt){if(1&Y&&n._UZ(0,"p-messages",33),2&Y){const h=n.oxw().ngIf;n.Q6J("value",h.messages)("closable",!1)("escape",!1)}}function Ot(Y,nt){if(1&Y){const h=n.EpF();n.TgZ(0,"p-card",1),n.ALo(1,"translate"),n.TgZ(2,"div",2)(3,"p-orderList",3),n.NdJ("onReorder",function(){const b=n.CHM(h).ngIf,M=n.oxw();return n.KtG(M.setObjectiveOrder(b.objectives))}),n.YNc(4,At,16,20,"ng-template",4),n.qZA(),n.TgZ(5,"div",5)(6,"button",6),n.NdJ("click",function(){const b=n.CHM(h).ngIf,M=n.MAs(16);return n.KtG(M.clickOpen(b.data,"item",b.itemIds))}),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"button",7),n.NdJ("click",function(){const b=n.CHM(h).ngIf,M=n.MAs(19);return n.KtG(M.clickOpen(b.data,"recipe",b.recipeIds))}),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"p-dropdown",8),n.NdJ("onChange",function(v){const M=n.CHM(h).ngIf,q=n.oxw();return n.KtG(q.setDisplayRate(v.value,M.dispRateInfo.option))}),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"p-toggleButton",9),n.NdJ("onChange",function(v){n.CHM(h);const b=n.oxw();let M;return n.KtG(b.setPaused(null!==(M=v.checked)&&void 0!==M&&M))}),n.ALo(13,"translate"),n.qZA()(),n.YNc(14,St,1,3,"p-messages",10),n.qZA(),n.TgZ(15,"lab-picker",11,12),n.NdJ("selectId",function(v){n.CHM(h);const b=n.oxw();return n.KtG(b.addItemObjective(v))}),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"lab-picker",11,13),n.NdJ("selectId",function(v){n.CHM(h);const b=n.oxw();return n.KtG(b.addRecipeObjective(v))}),n.ALo(20,"translate"),n.qZA(),n._UZ(21,"lab-picker",1,14),n.ALo(23,"translate"),n._UZ(24,"lab-picker",1,15),n.ALo(26,"translate"),n.qZA()}if(2&Y){const h=nt.ngIf,x=n.oxw();n.Q6J("header",n.lcZ(1,17,"objectives.title")),n.xp6(3),n.Q6J("value",h.objectives)("dragdrop",!0)("trackBy",x.trackSvc.trackById),n.xp6(3),n.Q6J("label",n.lcZ(7,19,"objectives.addItems")),n.xp6(2),n.Q6J("label",n.lcZ(9,21,"objectives.addMachines")),n.xp6(2),n.Q6J("tooltip",n.lcZ(11,23,"objectives.selectDisplayRate"))("ngModel",h.dispRateInfo.option)("options",x.displayRateOptions),n.xp6(2),n.Q6J("ngModel",h.paused)("onIcon","fa-solid fa-play")("pTooltip",n.lcZ(13,25,"objectives.pauseTooltip")),n.xp6(2),n.Q6J("ngIf",h.messages.length),n.xp6(1),n.Q6J("header",n.lcZ(17,27,"objectives.selectAnItem")),n.xp6(3),n.Q6J("header",n.lcZ(20,29,"objectives.selectARecipe")),n.xp6(3),n.Q6J("header",n.lcZ(23,31,"objectives.selectAnItem")),n.xp6(3),n.Q6J("header",n.lcZ(26,33,"objectives.selectARecipe"))}}let ft=(()=>{var Y;class nt{constructor(){this.store=(0,n.f3M)(Q.yh),this.translateSvc=(0,n.f3M)(t.sK),this.contentSvc=(0,n.f3M)(P._s),this.trackSvc=(0,n.f3M)(P.Ql),this.messages$=(0,O.a)([this.store.select(C.VJ.Di),this.store.select(C.VJ.p5),this.store.select(C.ob.TT),this.store.select(C.lx.lW)]).pipe((0,g.U)(([x,v,b,M])=>this.getMessages(x,v,b,M))),this.vm$=(0,O.a)({objectives:this.store.select(C.VJ.Di).pipe((0,g.U)(x=>[...x])),objectiveRationals:this.store.select(C.VJ.cu),matrixResult:this.store.select(C.VJ.p5),itemsState:this.store.select(C.ob.TT),recipesState:this.store.select(C.lx.lW),itemIds:this.store.select(C.lx.U4),data:this.store.select(C.lx.O8),beltSpeed:this.store.select(C.Zr.oQ),dispRateInfo:this.store.select(C.Zr.Jm),rateUnitOptions:this.store.select(C.Zr.VS),options:this.store.select(C.Zr.FW),recipeIds:this.store.select(C.Zr.eW),paused:this.store.select(C.uP.ly),isMobile:this.contentSvc.isMobile$,messages:this.messages$}),this.objectiveTypeOptions=I.Fh,this.displayRateOptions=I.g6,this.ObjectiveUnit=I.iK,this.ObjectiveType=I.S5}getMessages(x,v,b,M){if(v.resultType===I.k5.Paused)return[{severity:"info",detail:this.translateSvc.instant("objectives.pausedMessage")}];if(v.resultType!==I.k5.Failed)return[];if("unbounded"===v.simplexStatus){const q=x.filter(F=>F.type===I.S5.Maximize);return q.length&&x.every(F=>F.type!==I.S5.Limit)?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorNoLimits",v):q.some(F=>F.unit===I.iK.Machines?M[F.targetId].excluded:b[F.targetId].excluded)?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorMaximizeExcluded",v):this.buildErrorMessages("objectives.errorUnbounded","objectives.errorUnboundedDetail",v)}return"no_feasible"===v.simplexStatus?this.buildErrorMessages("objectives.errorInfeasible","objectives.errorInfeasibleDetail",v):this.buildErrorMessages("objectives.error","objectives.errorDetail",v)}buildErrorMessages(x,v,b){return[{severity:"error",summary:this.translateSvc.instant(x),detail:`${this.translateSvc.instant(v)} ${this.translateSvc.instant("objectives.errorSimplexInfo",{returnCode:b.returnCode??"unknown",simplexStatus:b.simplexStatus??"unknown"})}`}]}setObjectiveOrder(x){this.setOrder(x.map(v=>v.id))}changeUnit(x,v,b,M,q,F,j,X,st){const S=b.find(R=>R.id===x.id);if(null!=S)if(v===I.iK.Machines){if(x.unit!==I.iK.Machines){const R=j.itemRecipeIds[x.targetId],E=Z=>this.convertItemsToMachines(S,Z,M,q,F,j);1===R.length?E(R[0]):(st.selectId.pipe((0,L.P)()).subscribe(Z=>E(Z)),st.clickOpen(j,"recipe",R))}}else if(x.unit===I.iK.Machines){const R=Array.from(j.recipeR[x.targetId].produces),E=Z=>this.convertMachinesToItems(S,Z,v,M,q,F,j);1===R.length?E(R[0]):(X.selectId.pipe((0,L.P)()).subscribe(Z=>E(Z)),X.clickOpen(j,"item",R))}else this.convertItemsToItems(S,x.targetId,v,M,q,F,j)}convertItemsToMachines(x,v,b,M,q,F){if(this.setUnit(x.id,{targetId:v,unit:I.iK.Machines}),x.type===I.S5.Maximize)return;const st=U.zc.objectiveNormalizedRate(x,b,M,q,F).div(F.recipeR[v].output[x.targetId]);this.setValue(x.id,st.toString())}convertMachinesToItems(x,v,b,M,q,F,j){if(this.setUnit(x.id,{targetId:v,unit:b}),x.type===I.S5.Maximize||null==x.recipe)return;const X=U.zc.objectiveNormalizedRate(new I._s({id:"",targetId:v,value:"1",unit:b,type:I.S5.Output}),M,q,F,j),S=x.value.mul(x.recipe.output[v]).div(X);this.setValue(x.id,S.toString())}convertItemsToItems(x,v,b,M,q,F,j){if(this.setUnit(x.id,{targetId:v,unit:b}),x.type===I.S5.Maximize)return;const X=U.zc.objectiveNormalizedRate(x,M,q,F,j),st=U.zc.objectiveNormalizedRate(new I._s({id:"",targetId:v,value:"1",unit:b,type:I.S5.Output}),M,q,F,j),S=X.div(st);this.setValue(x.id,S.toString())}addItemObjective(x){this.addObjective({targetId:x,unit:I.iK.Items})}addRecipeObjective(x){this.addObjective({targetId:x,unit:I.iK.Machines})}removeObjective(x){this.store.dispatch(new C.VJ.uo(x))}setOrder(x){this.store.dispatch(new C.VJ.cy(x))}setTarget(x,v){this.store.dispatch(new C.VJ.yq({id:x,value:v}))}setValue(x,v){this.store.dispatch(new C.VJ._2({id:x,value:v}))}setUnit(x,v){this.store.dispatch(new C.VJ.D1({id:x,value:v}))}setType(x,v){this.store.dispatch(new C.VJ.PE({id:x,value:v}))}addObjective(x){this.store.dispatch(new C.VJ.OV(x))}setDisplayRate(x,v){this.store.dispatch(new C.Zr.MO({value:x,prev:v}))}setPaused(x){this.store.dispatch(new C.uP.W7(x))}}return(Y=nt).\u0275fac=function(x){return new(x||Y)},Y.\u0275cmp=n.Xpm({type:Y,selectors:[["lab-objectives"]],decls:2,vars:3,consts:[[3,"header",4,"ngIf"],[3,"header"],[1,"objectives-content"],[3,"value","dragdrop","trackBy","onReorder"],["pTemplate","item"],[1,"objectives-buttons","d-flex","flex-wrap","mt-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"label","click"],["labDropdownTranslate","","styleClass","h-100",3,"tooltip","ngModel","options","onChange"],["offIcon","fa-solid fa-pause",3,"ngModel","onIcon","pTooltip","onChange"],["styleClass","mt-2 w-100",3,"value","closable","escape",4,"ngIf"],[3,"header","selectId"],["addItemPicker",""],["addRecipePicker",""],["chooseItemPicker",""],["chooseRecipePicker",""],[1,"mb-1"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","class","p-button-outlined border-end-0 cursor-grab","icon","fa-solid fa-grip-lines",4,"ngIf"],["pButton","","pRipple","","labNoDrag","","type","button","class","p-button-outlined lab-button-icon-only text-truncate","tooltipPosition","top",3,"pTooltip","click",4,"ngIf","ngIfElse"],["editRecipePicker",""],["itemButton",""],["labNoDrag","","tooltipPosition","top",3,"pTooltip","hideButtons","value","setValue"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"tooltip","options","ngModel","onChange",4,"ngIf"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"tooltip","options","ngModel","onChange"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark","tooltipPosition","left",1,"p-button-outlined",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","border-end-0","cursor-grab"],["pButton","","pRipple","","labNoDrag","","type","button","tooltipPosition","top",1,"p-button-outlined","lab-button-icon-only","text-truncate",3,"pTooltip","click"],[1,"p-button-icon"],["class","p-button-label",4,"ngIf"],[1,"p-button-label"],["labNoDrag","","pButton","","pRipple","","type","button","tooltipPosition","top",1,"p-button-outlined","text-truncate",3,"icon","label","pTooltip","click"],["editItemPicker",""],["styleClass","mt-2 w-100",3,"value","closable","escape"]],template:function(x,v){1&x&&(n.YNc(0,Ot,27,35,"p-card",0),n.ALo(1,"async")),2&x&&n.Q6J("ngIf",n.lcZ(1,1,v.vm$))},dependencies:[T.O5,G.JJ,G.On,ot.jx,lt.u,mt.Hq,W.Z,pt.Lt,ct.V,w.F,it.H,rt.CO,ut.l,vt.q,ht.l,Tt.r,T.Ov,t.X$,It.y],styles:[".objectives-content[_ngcontent-%COMP%]{max-width:1000px}.objectives-buttons[_ngcontent-%COMP%]{gap:.25rem}.p-inputgroup[_ngcontent-%COMP%]   p-dropdown.icon[_ngcontent-%COMP%]{flex:0 0 36px}@media (min-width: 576px){button.text-truncate[_ngcontent-%COMP%], .p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 25%}}@media (max-width: 575.98px){.p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 15%}}@media (max-width: 575.98px){[_nghost-%COMP%]     button.lab-button-icon-only{justify-content:center;width:2.571rem;padding:.5rem 0}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-icon{margin:0}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-label{flex:0 0 auto;visibility:hidden;width:0}}"],changeDetection:0}),nt})()},3101:(at,K,p)=>{p.d(K,{f:()=>re});var n=p(5879),Q=p(4190),t=p(4221),O=p(9515),g=p(7398),L=p(2572),I=p(1374),P=p(2943),C=p(4962),U=p(8345),T=p(8528),G=p(7346),ot=p(6814),lt=p(6223),mt=p(5389),W=p(5219),pt=p(218),ct=p(3259),w=p(707),it=p(8057),rt=p(7213),ut=p(3965),vt=p(5167),ht=p(3714),Tt=p(1122),It=p(4055),Ct=p(2927),Zt=p(4480),gt=p(7338),bt=p(1764),wt=p(6160),At=p(315),St=p(5333),Ot=p(8153),ft=p(9722),Y=p(3233),nt=p(5760),h=p(3689);function x(s,u){if(1&s&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&s){const a=n.oxw(3);n.xp6(1),n.Oqu(a.state)}}function v(s,u){if(1&s&&(n.TgZ(0,"div",66)(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.YNc(4,x,2,1,"div",19),n.qZA()),2&s){const a=n.oxw(2);n.xp6(2),n.Oqu(n.lcZ(3,2,"settings.savedStates")),n.xp6(2),n.Q6J("ngIf",a.state)}}function b(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",67)(1,"button",68),n.NdJ("click",function(){n.CHM(a);const r=n.MAs(3),m=n.oxw(2);return n.KtG(m.setSearch(r.value))}),n.qZA(),n._UZ(2,"input",69,70),n.TgZ(4,"button",71),n.NdJ("click",function(){n.CHM(a);const r=n.MAs(3),m=n.oxw(2);return n.KtG(m.copySearchToClipboard(r.value))}),n.qZA()()}if(2&s){const a=n.oxw(2);n.xp6(2),n.Q6J("ngModel",a.BrowserUtility.search)}}function M(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",67)(1,"input",72,73),n.NdJ("ngModelChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.editValue=r)})("keydown.enter",function(){n.CHM(a);const r=n.oxw().ngIf,m=n.oxw();return n.KtG(m.clickSaveState(r.data.game))}),n.ALo(3,"translate"),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"button",74),n.NdJ("click",function(){n.CHM(a);const r=n.oxw().ngIf,m=n.oxw();return n.KtG(m.clickSaveState(r.data.game))}),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"button",75),n.NdJ("click",function(){n.CHM(a);const r=n.oxw(2);return n.KtG(r.editState=null)}),n.ALo(8,"translate"),n.qZA()()}if(2&s){const a=n.MAs(2),l=n.oxw(2);n.xp6(1),n.Q6J("autofocus",!0)("placeholder",n.lcZ(3,7,"settings.nameSavedState"))("pTooltip",n.lcZ(4,9,"settings.nameSavedState"))("ngModel",l.editValue),n.xp6(4),n.Q6J("pTooltip",n.lcZ(6,11,"settings.saveState"))("disabled",a.invalid),n.xp6(2),n.Q6J("pTooltip",n.lcZ(8,13,"cancel"))}}function q(s,u){if(1&s){const a=n.EpF();n.ynx(0),n.TgZ(1,"button",81),n.NdJ("click",function(r){n.CHM(a);const m=n.MAs(3);return n.KtG(m.toggle(r))}),n._UZ(2,"p-menu",82,83),n.qZA(),n.BQk()}if(2&s){const a=n.oxw(4);n.xp6(2),n.Q6J("popup",!0)("model",a.editStateMenu)}}function F(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"button",84),n.NdJ("click",function(){n.CHM(a);const r=n.oxw(4);return n.KtG(r.openCreateState())}),n.ALo(1,"translate"),n.qZA()}2&s&&n.Q6J("pTooltip",n.lcZ(1,1,"settings.createSavedState"))}function j(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",77)(1,"p-dropdown",78),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2).ngIf,A=n.oxw();return n.KtG(A.setState(r.value,m.gameStates))}),n.ALo(2,"translate"),n.ALo(3,"translate"),n.qZA(),n.YNc(4,q,4,2,"ng-container",79),n.YNc(5,F,2,3,"ng-template",null,80,n.W1O),n.qZA()}if(2&s){const a=n.MAs(6),l=n.oxw(2).ngIf,r=n.oxw();n.xp6(1),n.Q6J("placeholder",n.lcZ(2,6,"settings.selectSavedState"))("tooltip",n.lcZ(3,8,"settings.selectSavedState"))("ngModel",r.state)("options",l.savedStates),n.xp6(3),n.Q6J("ngIf",r.state)("ngIfElse",a)}}function X(s,u){if(1&s&&n.YNc(0,j,7,10,"div",76),2&s){const a=n.oxw().ngIf,l=n.MAs(10);n.Q6J("ngIf",a.savedStates.length)("ngIfElse",l)}}function st(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"button",85),n.NdJ("click",function(){n.CHM(a);const r=n.oxw(2);return n.KtG(r.openCreateState())}),n.ALo(1,"translate"),n.qZA()}2&s&&n.Q6J("label",n.lcZ(1,1,"settings.createSavedState"))}function S(s,u){if(1&s&&(n.TgZ(0,"div",66)(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA()()),2&s){const a=n.oxw().ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"settings.game")),n.xp6(3),n.Oqu(null==a.modRecord[a.settings.modId]?null:a.modRecord[a.settings.modId].id)}}function R(s,u){if(1&s&&(n.TgZ(0,"small",52),n._uU(1),n.qZA()),2&s){const a=u.$implicit;n.xp6(1),n.hij(" ",a.value," ")}}function E(s,u){if(1&s&&(n.ynx(0),n.YNc(1,R,2,1,"small",86),n.ALo(2,"keyvalue"),n.BQk()),2&s){const a=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,a.data.version))}}function Z(s,u){1&s&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"th"),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&s&&(n.xp6(2),n.Oqu(n.lcZ(3,2,"settings.mod")),n.xp6(3),n.Oqu(n.lcZ(6,4,"settings.version")))}function y(s,u){if(1&s&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA()()),2&s){const a=u.$implicit;n.xp6(2),n.Oqu(a.key),n.xp6(2),n.Oqu(a.value)}}function N(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"button",97),n.NdJ("click",function(){n.CHM(a);const r=n.oxw(3);return n.KtG(r.versionsVisible=!1)}),n.ALo(1,"translate"),n.qZA()}2&s&&n.Q6J("label",n.lcZ(1,1,"ok"))}const D=function(){return{width:"400px",maxHeight:"500px"}},tt=function(){return{"400px":"100vw"}};function _t(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",87)(1,"label",88),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"small",89)(5,"a",90),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"span",77)(9,"p-dropdown",91),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setMod(r.value))}),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"button",92),n.NdJ("click",function(){n.CHM(a);const r=n.oxw(2);return n.KtG(r.versionsVisible=!0)}),n.ALo(12,"translate"),n.TgZ(13,"p-dialog",93),n.NdJ("visibleChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.versionsVisible=r)}),n.ALo(14,"translate"),n.TgZ(15,"p-table",94),n.ALo(16,"keyvalue"),n.YNc(17,Z,7,6,"ng-template",9),n.YNc(18,y,5,2,"ng-template",95),n.qZA(),n.YNc(19,N,2,3,"ng-template",96),n.qZA()()()()}if(2&s){const a=n.oxw().ngIf,l=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,18,"settings.modSet")),n.xp6(4),n.Oqu(n.lcZ(7,20,"settings.requestMod")),n.xp6(3),n.Q6J("filter",!0)("autofocusFilter",!a.isMobile)("tooltip",n.lcZ(10,22,"settings.modSetTooltip"))("ngModel",a.settings.modId)("options",a.modOptions),n.xp6(2),n.Q6J("pTooltip",n.lcZ(12,24,"settings.modVersions")),n.xp6(2),n.Akn(n.DdM(30,D)),n.Q6J("visible",l.versionsVisible)("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("breakpoints",n.DdM(31,tt))("header",n.lcZ(14,26,"settings.modVersions")),n.xp6(2),n.Q6J("value",n.lcZ(16,28,a.data.version))}}function yt(s,u){if(1&s&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&s){n.oxw(2);const a=n.MAs(36);n.xp6(1),n.hij(" ",n.lcZ(2,1,a.label)," ")}}function Jt(s,u){if(1&s&&(n.TgZ(0,"div",66)(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.YNc(4,yt,3,3,"div",19),n.qZA()),2&s){n.oxw();const a=n.MAs(36);n.xp6(2),n.Oqu(n.lcZ(3,2,"settings.factory")),n.xp6(2),n.Q6J("ngIf",a.label)}}function xt(s,u){1&s&&n.GkF(0)}function dt(s,u){1&s&&n.GkF(0)}const Nt=function(s,u,a){return{machineId:s,settings:u,defaults:a}};function Dt(s,u){if(1&s&&n.YNc(0,dt,1,0,"ng-container",98),2&s){const a=u.$implicit;n.oxw();const l=n.MAs(5),r=n.oxw().ngIf;n.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",n.kEZ(2,Nt,a,r.machinesState.entities[a],r.machinesState.entities[""]))}}function Ut(s,u){1&s&&(n.TgZ(0,"div",111),n._UZ(1,"i",112),n.qZA())}function Rt(s,u){if(1&s&&n._UZ(0,"lab-tooltip",116),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Yt(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Rt,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function qt(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-dropdown",110),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(4).ngIf,A=n.oxw();return n.KtG(A.addMachine(r.value,null==m.data.defaults?null:m.data.defaults.machineRankIds))}),n.ALo(1,"translate"),n.YNc(2,Ut,2,0,"ng-template",32),n.YNc(3,Yt,7,7,"ng-template",33),n.qZA()}if(2&s){const a=n.oxw(4).ngIf;n.Q6J("tooltip",n.lcZ(1,2,"settings.addMachineTooltip"))("options",a.machineOptions)}}function Kt(s,u){if(1&s&&n._UZ(0,"button",117),2&s){const a=n.oxw(2).machineId;n.ekj("invisible",""===a)}}function Ft(s,u){if(1&s&&(n.TgZ(0,"div",119)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,2,a.value))}}function Wt(s,u){if(1&s&&n._UZ(0,"lab-tooltip",116),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Ht(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Wt,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function jt(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-dropdown",118),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2).machineId,A=n.oxw(2).ngIf,k=n.oxw();return n.KtG(k.setMachine(m,r.value,null==A.data.defaults?null:A.data.defaults.machineRankIds))}),n.ALo(1,"translate"),n.YNc(2,Ft,3,4,"ng-template",32),n.YNc(3,Ht,7,7,"ng-template",33),n.qZA()}if(2&s){const a=n.oxw(2).machineId,l=n.oxw(2).ngIf;n.Q6J("tooltip",n.lcZ(1,3,"settings.machineTooltip"))("ngModel",a)("options",l.machineOptions)}}function $t(s,u){1&s&&(n.TgZ(0,"span",120),n.ALo(1,"translate"),n._UZ(2,"i",121),n.qZA()),2&s&&n.Q6J("pTooltip",n.lcZ(1,1,"settings.machineDefaults"))}function Gt(s,u){if(1&s&&(n.TgZ(0,"div",119)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,2,a.value))}}function Vt(s,u){if(1&s&&n._UZ(0,"lab-tooltip",122),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function zt(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Vt,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Xt(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-dropdown",118),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2),A=m.machineId,k=m.settings,H=n.oxw(2).ngIf,Mt=n.oxw();return n.KtG(Mt.changeFuel(A,r.value,k,H.settings.fuelRankIds))}),n.ALo(1,"translate"),n.YNc(2,Gt,3,4,"ng-template",32),n.YNc(3,zt,7,7,"ng-template",33),n.qZA()}if(2&s){const a=n.oxw(2).settings;n.Q6J("tooltip",n.lcZ(1,3,"settings.fuelTooltip"))("ngModel",a.fuelId)("options",a.fuelOptions)}}function tn(s,u){if(1&s&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&s){const a=n.oxw(2).$implicit;n.xp6(1),n.hij("+",a.length-1,"")}}function nn(s,u){if(1&s&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.YNc(2,tn,2,1,"span",19),n.qZA()),2&s){const a=n.oxw().$implicit;n.Tol(n.lcZ(1,3,a[0])),n.xp6(2),n.Q6J("ngIf",a.length>1)}}function en(s,u){if(1&s&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&s){const a=n.oxw(8);n.Tol(n.lcZ(1,2,a.ItemId.Module))}}function on(s,u){if(1&s&&(n.TgZ(0,"div",119),n.YNc(1,nn,3,5,"i",127),n.YNc(2,en,2,4,"ng-template",null,128,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(3);n.xp6(1),n.Q6J("ngIf",a&&a.length)("ngIfElse",l)}}function _n(s,u){if(1&s&&n._UZ(0,"lab-tooltip",129),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function an(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,_n,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip","module"!==a.value?l:void 0)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}const Qt=function(){return[]};function sn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-multiSelect",125),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(3),A=m.machineId,k=m.defaults,H=n.oxw(3);return n.KtG(H.setModuleRank(A,r.value,null==k?null:k.moduleRankIds))}),n.ALo(1,"translate"),n.YNc(2,on,4,2,"ng-template",126),n.YNc(3,an,7,7,"ng-template",33),n.qZA()}if(2&s){const a=n.oxw(3).settings;let l;n.Q6J("selectionLimit",2)("tooltip",n.lcZ(1,4,"settings.modifierTooltip"))("ngModel",a.moduleRankIds)("options",null!==(l=a.moduleOptions)&&void 0!==l?l:n.DdM(6,Qt))}}function cn(s,u){if(1&s&&(n.TgZ(0,"div",119)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,2,a.value))}}function ln(s,u){if(1&s&&n._UZ(0,"lab-tooltip",129),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function pn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,ln,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip","module"!==a.value?l:void 0)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function rn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-dropdown",118),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(3).machineId,A=n.oxw(2).ngIf,k=n.oxw();return n.KtG(k.setModuleRank(m,[r.value],null==A.data.defaults?null:A.data.defaults.moduleRankIds))}),n.ALo(1,"translate"),n.YNc(2,cn,3,4,"ng-template",32),n.YNc(3,pn,7,7,"ng-template",33),n.qZA()}if(2&s){const a=n.oxw(3).settings;let l;n.Q6J("tooltip",n.lcZ(1,3,"settings.modifierTooltip"))("ngModel",null==a.moduleRankIds?null:a.moduleRankIds[0])("options",null!==(l=a.moduleOptions)&&void 0!==l?l:n.DdM(5,Qt))}}function gn(s,u){if(1&s&&(n.ynx(0),n.YNc(1,sn,4,7,"p-multiSelect",123),n.YNc(2,rn,4,6,"ng-template",null,124,n.W1O),n.BQk()),2&s){const a=n.MAs(3),l=n.oxw(4).ngIf,r=n.oxw();n.xp6(1),n.Q6J("ngIf",l.data.game!==r.Game.Satisfactory)("ngIfElse",a)}}function dn(s,u){if(1&s){const a=n.EpF();n.ynx(0),n.TgZ(1,"p-inputNumber",130,131),n.NdJ("onBlur",function(){n.CHM(a);const r=n.MAs(2),m=n.oxw(2).machineId,A=n.oxw(2).ngIf,k=n.oxw();let H;return n.KtG(k.setOverclock(m,null!==(H=r.value)&&void 0!==H?H:0,m?A.machinesState.entities[""].overclock:100))}),n.ALo(3,"translate"),n.qZA(),n.BQk()}if(2&s){const a=n.oxw(2).settings;n.xp6(1),n.Q6J("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",n.lcZ(3,7,"settings.overclockTooltip"))("ngModel",a.overclock)}}function mn(s,u){if(1&s&&(n.TgZ(0,"div",119)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,2,a.value))}}function un(s,u){if(1&s&&n._UZ(0,"lab-tooltip",135),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function fn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,un,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function xn(s,u){if(1&s&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&s){const a=n.oxw(2).$implicit;n.xp6(1),n.hij("+",a.length-1,"")}}function vn(s,u){if(1&s&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.YNc(2,xn,2,1,"span",19),n.qZA()),2&s){const a=n.oxw().$implicit;n.Tol(n.lcZ(1,3,a[0])),n.xp6(2),n.Q6J("ngIf",a.length>1)}}function hn(s,u){if(1&s&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&s){const a=n.oxw(9);n.Tol(n.lcZ(1,2,a.ItemId.Module))}}function Tn(s,u){if(1&s&&(n.TgZ(0,"div",119),n.YNc(1,vn,3,5,"i",127),n.YNc(2,hn,2,4,"ng-template",null,128,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(3);n.xp6(1),n.Q6J("ngIf",a&&a.length)("ngIfElse",l)}}function In(s,u){if(1&s&&n._UZ(0,"lab-tooltip",129),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Cn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,In,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip","module"!==a.value?l:void 0)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Zn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-multiSelect",125),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(4),A=m.machineId,k=m.defaults,H=n.oxw(3);return n.KtG(H.changeBeaconModuleRank(A,r.value,k))}),n.ALo(1,"translate"),n.YNc(2,Tn,4,2,"ng-template",126),n.YNc(3,Cn,7,7,"ng-template",33),n.qZA()}if(2&s){const a=n.oxw(4).settings;let l;n.Q6J("selectionLimit",2)("tooltip",n.lcZ(1,4,"settings.beaconModuleTooltip"))("ngModel",a.beaconModuleRankIds)("options",null!==(l=a.beaconModuleOptions)&&void 0!==l?l:n.DdM(6,Qt))}}function bn(s,u){if(1&s){const a=n.EpF();n.ynx(0),n.TgZ(1,"lab-input-number",132),n.NdJ("setValue",function(r){n.CHM(a);const m=n.oxw(3),A=m.machineId,k=m.defaults,H=n.oxw(3);return n.KtG(H.setBeaconCount(A,r,null==k?null:k.beaconCount))}),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"p-dropdown",133),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(3),A=m.machineId,k=m.defaults,H=n.oxw(3);return n.KtG(H.setBeacon(A,r.value,null==k?null:k.beaconId))}),n.ALo(4,"translate"),n.YNc(5,mn,3,4,"ng-template",32),n.YNc(6,fn,7,7,"ng-template",33),n.qZA(),n.YNc(7,Zn,4,7,"p-multiSelect",134),n.BQk()}if(2&s){const a=n.oxw(3).settings,l=n.oxw(2).ngIf;n.xp6(1),n.Q6J("pTooltip",n.lcZ(2,6,"settings.beaconCountTooltip"))("value",a.beaconCount),n.xp6(2),n.Q6J("tooltip",n.lcZ(4,8,"settings.beaconTooltip"))("ngModel",a.beaconId)("options",l.options.beacons),n.xp6(4),n.Q6J("ngIf",a.beaconModuleRankIds)}}function wn(s,u){if(1&s&&(n.ynx(0),n.YNc(1,bn,8,10,"ng-container",19),n.BQk()),2&s){const a=n.oxw(2).settings;n.xp6(1),n.Q6J("ngIf",null!=a.beaconCount)}}function An(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",103),n.YNc(1,qt,4,4,"p-dropdown",104),n.YNc(2,Kt,1,2,"ng-template",null,105,n.W1O),n.YNc(4,jt,4,5,"p-dropdown",106),n.YNc(5,$t,3,3,"ng-template",null,107,n.W1O),n.YNc(7,Xt,4,5,"p-dropdown",108),n.YNc(8,gn,4,2,"ng-container",19),n.YNc(9,dn,4,9,"ng-container",19),n.YNc(10,wn,2,1,"ng-container",19),n.TgZ(11,"button",109),n.NdJ("click",function(){n.CHM(a);const r=n.oxw().machineId,m=n.oxw(2).ngIf,A=n.oxw();return n.KtG(A.removeMachine(r,null==m.data.defaults?null:m.data.defaults.machineRankIds))}),n.ALo(12,"translate"),n.qZA()()}if(2&s){const a=n.MAs(3),l=n.MAs(6),r=n.oxw(),m=r.machineId,A=r.settings,k=n.oxw(2).ngIf,H=n.oxw();n.xp6(1),n.Q6J("ngIf",""===m)("ngIfElse",a),n.xp6(3),n.Q6J("ngIf",m)("ngIfElse",l),n.xp6(3),n.Q6J("ngIf",A.fuelId),n.xp6(1),n.Q6J("ngIf",A.moduleRankIds),n.xp6(1),n.Q6J("ngIf",k.data.game===H.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",k.data.game===H.Game.Factorio),n.xp6(1),n.ekj("invisible",""===m),n.Q6J("pTooltip",n.lcZ(12,11,"settings.removeMachinePreference"))}}function Sn(s,u){1&s&&n.YNc(0,An,13,13,"div",102),2&s&&n.Q6J("ngIf",u.settings)}const Mn=function(s,u){return{machineId:"",settings:s,defaults:u}};function On(s,u){if(1&s){const a=n.EpF();n.ynx(0),n.YNc(1,xt,1,0,"ng-container",98),n.TgZ(2,"p-orderList",99),n.NdJ("onReorder",function(){n.CHM(a);const r=n.oxw().ngIf,m=n.oxw();return n.KtG(m.setMachineRank(r.machineIds,null==r.data.defaults?null:r.data.defaults.machineRankIds))}),n.YNc(3,Dt,1,6,"ng-template",33),n.qZA(),n.YNc(4,Sn,1,1,"ng-template",null,100,n.W1O),n._UZ(6,"div",101),n.BQk()}if(2&s){const a=n.MAs(5),l=n.oxw().ngIf;n.xp6(1),n.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",n.WLB(4,Mn,l.machinesState.entities[""],l.data.defaults)),n.xp6(1),n.Q6J("value",l.machineIds)("dragdrop",!0)}}function Jn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",21)(1,"p-checkbox",43),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.toggleBeaconReceivers(r.checked))}),n.ALo(2,"translate"),n.ALo(3,"translate"),n.qZA()()}if(2&s){const a=n.oxw().ngIf;n.xp6(1),n.Q6J("ngModel",null!=a.settings.beaconReceivers)("binary",!0)("label",n.lcZ(2,4,"settings.estimateBeaconPowerUsage"))("pTooltip",n.lcZ(3,6,"settings.estimateBeaconPowerUsageTooltip"))}}function yn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",21)(1,"label",136),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"lab-input-number",137),n.NdJ("setValue",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setBeaconReceivers(r))}),n.ALo(5,"translate"),n.qZA()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Oqu(n.lcZ(3,3,"settings.averageBeaconReceivers")),n.xp6(2),n.Q6J("pTooltip",n.lcZ(5,5,"settings.averageBeaconReceiversTooltip"))("value",a.settings.beaconReceivers)}}function En(s,u){if(1&s&&(n.TgZ(0,"div",140)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,3,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Pn(s,u){if(1&s&&n._UZ(0,"lab-tooltip",129),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Nn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Pn,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip","module"!==a.value?l:void 0)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Qn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"div",16)(2,"p-dropdown",138),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setProliferatorSpray(r.value))}),n.ALo(3,"translate"),n.YNc(4,En,5,5,"ng-template",32),n.YNc(5,Nn,7,7,"ng-template",33),n.qZA(),n.TgZ(6,"label",139),n._uU(7),n.ALo(8,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Q6J("autoDisplayFirst",!1)("tooltip",n.lcZ(3,5,"settings.proliferatorSelfSprayTooltip"))("ngModel",a.settings.proliferatorSprayId)("options",a.options.proliferatorModules),n.xp6(5),n.Oqu(n.lcZ(8,7,"settings.proliferatorSelfSpray"))}}function Ln(s,u){if(1&s&&(n.TgZ(0,"div",140)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,3,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function kn(s,u){if(1&s&&n._UZ(0,"lab-tooltip",141),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Bn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,kn,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Dn(s,u){if(1&s&&(n.TgZ(0,"div",140)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,3,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Un(s,u){if(1&s&&n._UZ(0,"lab-tooltip",144),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Rn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Un,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Yn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"div",16)(2,"p-dropdown",142),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw().ngIf,A=n.oxw();return n.KtG(A.setPipe(r.value,null==m.data.defaults?null:m.data.defaults.pipeId))}),n.ALo(3,"translate"),n.YNc(4,Dn,5,5,"ng-template",32),n.YNc(5,Rn,7,7,"ng-template",33),n.qZA(),n.TgZ(6,"label",143),n._uU(7),n.ALo(8,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Q6J("tooltip",n.lcZ(3,4,"settings.defaultPipeTooltip"))("ngModel",a.settings.pipeId)("options",a.options.pipes),n.xp6(5),n.Oqu(n.lcZ(8,6,"settings.defaultPipe"))}}function qn(s,u){if(1&s&&(n.TgZ(0,"div",140)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,3,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Kn(s,u){if(1&s&&n._UZ(0,"lab-tooltip",147),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function Fn(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Kn,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Wn(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"div",16)(2,"p-dropdown",145),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw().ngIf,A=n.oxw();return n.KtG(A.setCargoWagon(r.value,null==m.data.defaults?null:m.data.defaults.cargoWagonId))}),n.ALo(3,"translate"),n.YNc(4,qn,5,5,"ng-template",32),n.YNc(5,Fn,7,7,"ng-template",33),n.qZA(),n.TgZ(6,"label",146),n._uU(7),n.ALo(8,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Q6J("tooltip",n.lcZ(3,4,"settings.defaultCargoWagonTooltip"))("ngModel",a.settings.cargoWagonId)("options",a.options.cargoWagons),n.xp6(5),n.Oqu(n.lcZ(8,6,"settings.defaultCargoWagon"))}}function Hn(s,u){if(1&s&&(n.TgZ(0,"div",140)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA()()),2&s){const a=u.$implicit;n.xp6(1),n.Tol(n.lcZ(2,3,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function jn(s,u){if(1&s&&n._UZ(0,"lab-tooltip",150),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function $n(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,jn,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function Lt(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"div",16)(2,"p-dropdown",148),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw().ngIf,A=n.oxw();return n.KtG(A.setFluidWagon(r.value,null==m.data.defaults?null:m.data.defaults.fluidWagonId))}),n.ALo(3,"translate"),n.YNc(4,Hn,5,5,"ng-template",32),n.YNc(5,$n,7,7,"ng-template",33),n.qZA(),n.TgZ(6,"label",149),n._uU(7),n.ALo(8,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Q6J("tooltip",n.lcZ(3,4,"settings.defaultFluidWagonTooltip"))("ngModel",a.settings.fluidWagonId)("options",a.options.fluidWagons),n.xp6(5),n.Oqu(n.lcZ(8,6,"settings.defaultFluidWagon"))}}function Gn(s,u){if(1&s&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&s){const a=n.oxw(4);n.Tol(n.lcZ(1,2,a.ItemId.Module))}}function Vn(s,u){1&s&&(n.TgZ(0,"i",155),n.ALo(1,"iconSmClass"),n.qZA()),2&s&&n.Tol(n.lcZ(1,2,u.$implicit))}function zn(s,u){if(1&s&&(n.TgZ(0,"div",119),n.YNc(1,Gn,2,4,"i",153),n.YNc(2,Vn,2,4,"i",154),n.qZA()),2&s){const a=u.$implicit;n.xp6(1),n.Q6J("ngIf",!(null!=a&&a.length)),n.xp6(1),n.Q6J("ngForOf",a)}}function Xn(s,u){if(1&s&&n._UZ(0,"lab-tooltip",122),2&s){const a=n.oxw().$implicit;n.Q6J("id",a.value)}}function te(s,u){if(1&s&&(n.TgZ(0,"div",113)(1,"i"),n.ALo(2,"iconSmClass"),n.qZA(),n.TgZ(3,"div",114),n._uU(4),n.qZA(),n.YNc(5,Xn,1,1,"ng-template",null,115,n.W1O),n.qZA()),2&s){const a=u.$implicit,l=n.MAs(6);n.Q6J("pTooltip",l)("autoHide",!1),n.xp6(1),n.Tol(n.lcZ(2,5,a.value)),n.xp6(3),n.hij(" ",a.label," ")}}function ne(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"div",16)(2,"p-multiSelect",151),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw().ngIf,A=n.oxw();return n.KtG(A.setFuels(r.value,m.data.defaults&&m.data.defaults.fuelId?[m.data.defaults.fuelId]:[]))}),n.ALo(3,"translate"),n.YNc(4,zn,3,2,"ng-template",126),n.YNc(5,te,7,7,"ng-template",33),n.qZA(),n.TgZ(6,"label",152),n._uU(7),n.ALo(8,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Q6J("tooltip",n.lcZ(3,4,"settings.fuelRankTooltip"))("ngModel",a.settings.fuelRankIds)("options",a.options.fuels),n.xp6(5),n.Oqu(n.lcZ(8,6,"settings.fuelRank"))}}function ee(s,u){if(1&s){const a=n.EpF();n.ynx(0),n.TgZ(1,"div",25)(2,"div",16)(3,"p-inputNumber",156,157),n.NdJ("onBlur",function(){n.CHM(a);const r=n.MAs(4),m=n.oxw(2);let A;return n.KtG(m.setFlowRate(null!==(A=r.value)&&void 0!==A?A:1500))}),n.ALo(5,"translate"),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"label",158),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"small",52)(11,"a",159),n._uU(12,"Wiki"),n.qZA()()()(),n.TgZ(13,"div",15)(14,"div",16)(15,"p-dropdown",160),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setInserterTarget(r.value))}),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"label",161),n._uU(18),n.ALo(19,"translate"),n.qZA()()(),n.BQk()}if(2&s){const a=n.oxw().ngIf,l=n.oxw();n.xp6(3),n.Q6J("suffix"," "+n.lcZ(5,11,"settings.flowRateUnit"))("min",1)("step",100)("showButtons",!0)("pTooltip",n.lcZ(6,13,"settings.pipeFlowRateTooltip"))("ngModel",a.settings.flowRate),n.xp6(5),n.Oqu(n.lcZ(9,15,"settings.pipeFlowRate")),n.xp6(7),n.Q6J("tooltip",n.lcZ(16,17,"settings.inserterTargetTooltip"))("ngModel",a.settings.inserterTarget)("options",l.inserterTargetOptions),n.xp6(3),n.Oqu(n.lcZ(19,19,"settings.inserterTarget"))}}function oe(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",15)(1,"div",16)(2,"p-inputNumber",162,163),n.NdJ("onBlur",function(){n.CHM(a);const r=n.MAs(3),m=n.oxw(2);let A;return n.KtG(m.setMiningBonus((null!==(A=r.value)&&void 0!==A?A:100)-100))}),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"label",164),n._uU(6),n.ALo(7,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf;n.xp6(2),n.Q6J("min",100)("step",10)("showButtons",!0)("pTooltip",n.lcZ(4,6,"settings.miningSpeedTooltip"))("ngModel",a.settings.miningBonus+100),n.xp6(4),n.Oqu(n.lcZ(7,8,"settings.miningSpeed"))}}function _e(s,u){if(1&s&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&s){n.oxw(2);const a=n.MAs(66);n.xp6(1),n.hij(" ",n.lcZ(2,1,a.label)," ")}}function ie(s,u){if(1&s&&(n.TgZ(0,"div",66)(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.YNc(4,_e,3,3,"div",19),n.qZA()),2&s){n.oxw();const a=n.MAs(66);n.xp6(2),n.Oqu(n.lcZ(3,2,"settings.flow")),n.xp6(2),n.Q6J("ngIf",a.label)}}function ae(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"span",16)(2,"p-dropdown",165),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setSankeyAlign(r.value))}),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"label",166),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf,l=n.oxw();n.xp6(2),n.Q6J("tooltip",n.lcZ(3,4,"settings.sankeyAlignTooltip"))("ngModel",a.preferences.sankeyAlign)("options",l.sankeyAlignOptions),n.xp6(3),n.Oqu(n.lcZ(6,6,"settings.sankeyAlign"))}}function se(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"p-accordionTab",45),n.ALo(1,"translate"),n.TgZ(2,"div",14)(3,"div",25)(4,"div",16)(5,"p-inputNumber",167,168),n.NdJ("onBlur",function(){n.CHM(a);const r=n.MAs(6),m=n.oxw(2);let A;return n.KtG(m.setMiningBonus(null!==(A=r.value)&&void 0!==A?A:0))}),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"label",169),n._uU(9),n.ALo(10,"translate"),n.qZA()()(),n.TgZ(11,"div",25)(12,"div",16)(13,"p-dropdown",170),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setResearchSpeed(r.value))}),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"label",171),n._uU(16),n.ALo(17,"translate"),n.qZA()()(),n.TgZ(18,"div",15)(19,"div",16)(20,"p-dropdown",172),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setInserterCapacity(r.value))}),n.ALo(21,"translate"),n.qZA(),n.TgZ(22,"label",173),n._uU(23),n.ALo(24,"translate"),n.qZA()()()()()}if(2&s){const a=n.oxw().ngIf,l=n.oxw();n.Q6J("header",n.lcZ(1,15,"settings.bonuses")),n.xp6(5),n.Q6J("min",0)("step",10)("showButtons",!0)("pTooltip",n.lcZ(7,17,"settings.miningProductivityTooltip"))("ngModel",a.settings.miningBonus),n.xp6(4),n.Oqu(n.lcZ(10,19,"settings.miningProductivity")),n.xp6(4),n.Q6J("pTooltip",n.lcZ(14,21,"settings.researchSpeedTooltip"))("ngModel",a.settings.researchSpeed)("options",l.researchSpeedOptions),n.xp6(3),n.Oqu(n.lcZ(17,23,"settings.researchSpeed")),n.xp6(4),n.Q6J("tooltip",n.lcZ(21,25,"settings.inserterCapacityTooltip"))("ngModel",a.settings.inserterCapacity)("options",l.inserterCapacityOptions),n.xp6(3),n.Oqu(n.lcZ(24,27,"settings.inserterCapacity"))}}function ce(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",25)(1,"span",16)(2,"p-dropdown",174),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw(2);return n.KtG(m.setPowerUnit(r.value))}),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"label",175),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}if(2&s){const a=n.oxw().ngIf,l=n.oxw();n.xp6(2),n.Q6J("tooltip",n.lcZ(3,4,"settings.powerUnitTooltip"))("ngModel",a.preferences.powerUnit)("options",l.powerUnitOptions),n.xp6(3),n.Oqu(n.lcZ(6,6,"settings.powerUnit"))}}const le=function(){return{height:"100%"}},kt=function(s){return{count:s}};function pe(s,u){if(1&s){const a=n.EpF();n.TgZ(0,"div",6)(1,"p-scrollPanel")(2,"p-accordion",7)(3,"p-accordionTab",8),n.YNc(4,v,5,4,"ng-template",9),n.YNc(5,b,5,1,"div",10),n.YNc(6,M,9,15,"div",11),n.YNc(7,X,1,2,"ng-template",null,12,n.W1O),n.YNc(9,st,2,3,"ng-template",null,13,n.W1O),n.qZA(),n.TgZ(11,"p-accordionTab",8),n.YNc(12,S,6,4,"ng-template",9),n.TgZ(13,"div",14)(14,"div",15)(15,"span",16)(16,"p-dropdown",17),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setGame(r.value))}),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"label",18),n._uU(19),n.ALo(20,"translate"),n.qZA(),n.YNc(21,E,3,3,"ng-container",19),n.qZA()(),n.YNc(22,_t,20,32,"div",20),n.qZA()(),n.TgZ(23,"p-accordionTab",8),n.YNc(24,Jt,5,4,"ng-template",9),n.TgZ(25,"div",14)(26,"div",21)(27,"button",22),n.NdJ("click",function(){const m=n.CHM(a).ngIf,A=n.MAs(32);return n.KtG(A.clickOpen(m.data,m.researchedTechnologyIds))}),n.ALo(28,"translate"),n.ALo(29,"translate"),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"lab-tech-picker",23,24),n.NdJ("selectIds",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setResearchedTechnologies(r))}),n.qZA()(),n.TgZ(33,"div",25)(34,"span",16)(35,"p-dropdown",26,27),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setPreset(r.value))}),n.ALo(37,"translate"),n.qZA(),n.TgZ(38,"label",28),n._uU(39),n.ALo(40,"translate"),n.qZA()()(),n.YNc(41,On,7,7,"ng-container",19),n.YNc(42,Jn,4,8,"div",29),n.YNc(43,yn,6,7,"div",29),n.YNc(44,Qn,9,9,"div",30),n.TgZ(45,"div",25)(46,"div",16)(47,"p-dropdown",31),n.NdJ("onChange",function(r){const A=n.CHM(a).ngIf,k=n.oxw();return n.KtG(k.setBelt(r.value,null==A.data.defaults?null:A.data.defaults.beltId))}),n.ALo(48,"translate"),n.YNc(49,Ln,5,5,"ng-template",32),n.YNc(50,Bn,7,7,"ng-template",33),n.qZA(),n.TgZ(51,"label",34),n._uU(52),n.ALo(53,"translate"),n.qZA()()(),n.YNc(54,Yn,9,8,"div",30),n.YNc(55,Wn,9,8,"div",30),n.YNc(56,Lt,9,8,"div",30),n.YNc(57,ne,9,8,"div",30),n.YNc(58,ee,20,21,"ng-container",19),n.YNc(59,oe,8,10,"div",35),n.qZA()(),n.TgZ(60,"p-accordionTab"),n.YNc(61,ie,5,4,"ng-template",9),n.TgZ(62,"div",14)(63,"div",25)(64,"span",16)(65,"p-dropdown",36,37),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setFlowDiagram(r.value))}),n.ALo(67,"translate"),n.qZA(),n.TgZ(68,"label",38),n._uU(69),n.ALo(70,"translate"),n.qZA()()(),n.YNc(71,ae,7,8,"div",30),n.TgZ(72,"div",25)(73,"span",16)(74,"p-dropdown",39),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setLinkSize(r.value))}),n.ALo(75,"translate"),n.qZA(),n.TgZ(76,"label",40),n._uU(77),n.ALo(78,"translate"),n.qZA()()(),n.TgZ(79,"div",25)(80,"span",16)(81,"p-dropdown",41),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setLinkText(r.value))}),n.ALo(82,"translate"),n.qZA(),n.TgZ(83,"label",42),n._uU(84),n.ALo(85,"translate"),n.qZA()()(),n.TgZ(86,"div",21)(87,"p-checkbox",43),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setFlowHideExcluded(r.checked))}),n.ALo(88,"translate"),n.ALo(89,"translate"),n.qZA()()()(),n.YNc(90,se,25,29,"p-accordionTab",44),n.TgZ(91,"p-accordionTab",45),n.ALo(92,"translate"),n.TgZ(93,"div",14)(94,"button",46),n.NdJ("click",function(){n.CHM(a);const r=n.oxw();return n.KtG(r.contentSvc.showColumns$.next())}),n.ALo(95,"translate"),n.qZA(),n.TgZ(96,"div",25)(97,"span",16)(98,"p-dropdown",47),n.NdJ("onChange",function(r){const A=n.CHM(a).ngIf,k=n.oxw();return n.KtG(k.setDisplayRate(r.value,A.settings.displayRate))}),n.ALo(99,"translate"),n.qZA(),n.TgZ(100,"label",48),n._uU(101),n.ALo(102,"translate"),n.qZA()()(),n.YNc(103,ce,7,8,"div",30),n.TgZ(104,"div",25),n._UZ(105,"div",49),n.TgZ(106,"div",16)(107,"p-dropdown",50),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setLanguage(r.value))}),n.ALo(108,"translate"),n.qZA(),n.TgZ(109,"label",51),n._uU(110),n.ALo(111,"translate"),n.qZA(),n.TgZ(112,"small",52)(113,"a",53),n._uU(114),n.ALo(115,"translate"),n.qZA()()()(),n.TgZ(116,"div",25)(117,"div",16)(118,"p-dropdown",54),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setTheme(r.value))}),n.ALo(119,"translate"),n.qZA(),n.TgZ(120,"label",55),n._uU(121),n.ALo(122,"translate"),n.qZA()()(),n.TgZ(123,"div",21)(124,"p-checkbox",56),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setBypassLanding(r.checked))}),n.ALo(125,"translate"),n.qZA()(),n.TgZ(126,"div",21)(127,"p-checkbox",57),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setHideDuplicateIcons(r.checked))}),n.ALo(128,"translate"),n.qZA()(),n.TgZ(129,"div")(130,"p-checkbox",57),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setDisablePaginator(r.checked))}),n.ALo(131,"translate"),n.qZA()()()(),n.TgZ(132,"p-accordionTab",45),n.ALo(133,"translate"),n.TgZ(134,"div",14)(135,"div",25)(136,"span",16)(137,"p-dropdown",58),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setMaximizeType(r.value))}),n.ALo(138,"translate"),n.qZA(),n.TgZ(139,"label",59),n._uU(140),n.ALo(141,"translate"),n.qZA()()(),n.TgZ(142,"div",21)(143,"p-checkbox",43),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setNetProductionOnly(r.checked))}),n.ALo(144,"translate"),n.ALo(145,"translate"),n.qZA()(),n.TgZ(146,"div",21)(147,"p-checkbox",43),n.NdJ("onChange",function(r){n.CHM(a);const m=n.oxw();return n.KtG(m.setSurplusMachinesOutput(r.checked))}),n.ALo(148,"translate"),n.ALo(149,"translate"),n.qZA()(),n.TgZ(150,"div",21)(151,"button",60),n.NdJ("click",function(){const m=n.CHM(a).ngIf,A=n.MAs(155);return n.KtG(A.clickOpen(m.data,"item",m.itemIds,m.excludedItemIds))}),n.ALo(152,"translate"),n.ALo(153,"translate"),n.qZA(),n.TgZ(154,"lab-picker",61,62),n.NdJ("selectIds",function(r){const A=n.CHM(a).ngIf,k=n.oxw();return n.KtG(k.setExcludedItems(r,A.itemsState,A.data))}),n.ALo(156,"translate"),n.qZA()(),n.TgZ(157,"div",21)(158,"button",63),n.NdJ("click",function(){const m=n.CHM(a).ngIf,A=n.MAs(162);return n.KtG(A.clickOpen(m.data,"recipe",m.recipeIds,m.excludedRecipeIds))}),n.ALo(159,"translate"),n.ALo(160,"translate"),n.qZA(),n.TgZ(161,"lab-picker",61,64),n.NdJ("selectIds",function(r){const A=n.CHM(a).ngIf,k=n.oxw();return n.KtG(k.setExcludedRecipes(r,A.recipesState,A.data))}),n.ALo(163,"translate"),n.qZA()(),n.TgZ(164,"button",65),n.NdJ("click",function(){n.CHM(a);const r=n.oxw();return n.KtG(r.contentSvc.showCosts$.next())}),n.ALo(165,"translate"),n.qZA()()()()()()}if(2&s){const a=u.ngIf,l=n.MAs(8),r=n.oxw();n.xp6(1),n.Akn(n.DdM(189,le)),n.xp6(1),n.Q6J("multiple",!0),n.xp6(1),n.Q6J("selected",!0),n.xp6(2),n.Q6J("ngIf",r.BrowserUtility.isStandalone),n.xp6(1),n.Q6J("ngIf",r.editState)("ngIfElse",l),n.xp6(5),n.Q6J("selected",!0),n.xp6(3),n.ekj("pb-3",a.data.game===r.Game.Factorio),n.xp6(2),n.Q6J("tooltip",n.lcZ(17,100,"settings.gameTooltip"))("ngModel",a.data.game)("options",r.gameOptions),n.xp6(3),n.Oqu(n.lcZ(20,102,"settings.game")),n.xp6(2),n.Q6J("ngIf",a.data.game!==r.Game.Factorio),n.xp6(1),n.Q6J("ngIf",a.data.game===r.Game.Factorio),n.xp6(1),n.Q6J("selected",!0),n.xp6(4),n.Q6J("pTooltip",n.lcZ(28,104,"settings.techsTooltip"))("label",a.researchedTechnologyIds?n.xi3(29,106,"settings.techsResearched",n.VKq(190,kt,a.researchedTechnologyIds.length)):n.lcZ(30,109,"settings.allTechsResearched")),n.xp6(8),n.Q6J("tooltip",n.lcZ(37,111,"settings.presetTooltip"))("ngModel",a.settings.preset)("options",a.presetOptions),n.xp6(4),n.Oqu(n.lcZ(40,113,"settings.preset")),n.xp6(2),n.Q6J("ngIf",a.data.game!==r.Game.CaptainOfIndustry),n.xp6(1),n.Q6J("ngIf",a.data.game===r.Game.Factorio),n.xp6(1),n.Q6J("ngIf",a.settings.beaconReceivers),n.xp6(1),n.Q6J("ngIf",a.data.game===r.Game.DysonSphereProgram),n.xp6(3),n.Q6J("tooltip",n.lcZ(48,115,"settings.defaultTransportBeltTooltip"))("ngModel",a.settings.beltId)("options",a.options.belts),n.xp6(5),n.Oqu(n.lcZ(53,117,"settings.defaultTransportBelt")),n.xp6(2),n.Q6J("ngIf",a.data.pipeIds.length>1),n.xp6(1),n.Q6J("ngIf",a.data.cargoWagonIds.length>1),n.xp6(1),n.Q6J("ngIf",a.data.fluidWagonIds.length>1),n.xp6(1),n.Q6J("ngIf",a.data.fuelIds.length&&a.data.game!==r.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",a.data.game===r.Game.Factorio),n.xp6(1),n.Q6J("ngIf",a.data.game===r.Game.DysonSphereProgram),n.xp6(6),n.Q6J("tooltip",n.lcZ(67,119,"settings.flowDiagramTooltip"))("ngModel",a.preferences.flowDiagram)("options",r.flowDiagramOptions),n.xp6(4),n.Oqu(n.lcZ(70,121,"settings.flowDiagram")),n.xp6(2),n.Q6J("ngIf",a.preferences.flowDiagram===r.FlowDiagram.Sankey),n.xp6(3),n.Q6J("tooltip",n.lcZ(75,123,"settings.linkSizeTooltip"))("ngModel",a.preferences.linkSize)("options",a.linkValueOptions),n.xp6(3),n.Oqu(n.lcZ(78,125,"settings.linkSize")),n.xp6(4),n.Q6J("tooltip",n.lcZ(82,127,"settings.linkTextTooltip"))("ngModel",a.preferences.linkText)("options",a.linkValueOptions),n.xp6(3),n.Oqu(n.lcZ(85,129,"settings.linkText")),n.xp6(3),n.Q6J("ngModel",a.preferences.flowHideExcluded)("binary",!0)("label",n.lcZ(88,131,"settings.flowHideExcluded"))("pTooltip",n.lcZ(89,133,"settings.flowHideExcludedTooltip")),n.xp6(3),n.Q6J("ngIf",a.data.game===r.Game.Factorio),n.xp6(1),n.Q6J("header",n.lcZ(92,135,"settings.display")),n.xp6(3),n.Q6J("label",n.lcZ(95,137,"settings.openColumnSettings")),n.xp6(4),n.Q6J("tooltip",n.lcZ(99,139,"settings.displayRateTooltip"))("ngModel",a.settings.displayRate)("options",r.displayRateOptions),n.xp6(3),n.Oqu(n.lcZ(102,141,"settings.displayRate")),n.xp6(2),n.Q6J("ngIf",a.columnsState.power.show),n.xp6(4),n.Q6J("tooltip",n.lcZ(108,143,"settings.languageTooltip"))("ngModel",a.preferences.language)("options",r.languageOptions),n.xp6(3),n.Oqu(n.lcZ(111,145,"settings.language")),n.xp6(4),n.Oqu(n.lcZ(115,147,"settings.helpTranslate")),n.xp6(4),n.Q6J("tooltip",n.lcZ(119,149,"settings.themeTooltip"))("ngModel",a.preferences.theme)("options",r.themeOptions),n.xp6(3),n.Oqu(n.lcZ(122,151,"settings.theme")),n.xp6(3),n.Q6J("binary",!0)("label",n.lcZ(125,153,"settings.bypassLanding"))("ngModel",a.preferences.bypassLanding),n.xp6(3),n.Q6J("ngModel",a.preferences.hideDuplicateIcons)("binary",!0)("label",n.lcZ(128,155,"settings.hideDuplicateIcons")),n.xp6(3),n.Q6J("ngModel",a.preferences.disablePaginator)("binary",!0)("label",n.lcZ(131,157,"settings.disablePaginator")),n.xp6(2),n.Q6J("header",n.lcZ(133,159,"settings.advanced")),n.xp6(5),n.Q6J("tooltip",n.lcZ(138,161,"settings.maximizeTypeTooltip"))("ngModel",a.settings.maximizeType)("options",r.maximizeTypeOptions),n.xp6(3),n.Oqu(n.lcZ(141,163,"settings.maximizeType")),n.xp6(3),n.Q6J("ngModel",a.settings.netProductionOnly)("binary",!0)("label",n.lcZ(144,165,"settings.netProductionOnly"))("pTooltip",n.lcZ(145,167,"settings.netProductionOnlyTooltip")),n.xp6(4),n.Q6J("ngModel",a.settings.surplusMachinesOutput)("binary",!0)("label",n.lcZ(148,169,"settings.surplusMachinesOutput"))("pTooltip",n.lcZ(149,171,"settings.surplusMachinesOutputTooltip")),n.xp6(4),n.Q6J("pTooltip",n.lcZ(152,173,"settings.itemsTooltip"))("label",n.xi3(153,175,"settings.itemsExcluded",n.VKq(192,kt,a.excludedItemIds.length))),n.xp6(3),n.Q6J("header",n.lcZ(156,178,"settings.itemsHeader")),n.xp6(4),n.Q6J("pTooltip",n.lcZ(159,180,"settings.recipesTooltip"))("label",n.xi3(160,182,"settings.recipesExcluded",n.VKq(194,kt,a.excludedRecipeIds.length))),n.xp6(3),n.Q6J("header",n.lcZ(163,185,"settings.recipesHeader")),n.xp6(3),n.Q6J("label",n.lcZ(165,187,"settings.openCosts"))}}let re=(()=>{var s;class u{constructor(){this.contentSvc=(0,n.f3M)(U._s),this.router=(0,n.f3M)(Q.F0),this.store=(0,n.f3M)(t.yh),this.translateSvc=(0,n.f3M)(O.sK),this.routerSvc=(0,n.f3M)(U.cw),this.active=!1,this.hidden=!1,this.machineIds$=this.store.select(T._S.s$).pipe((0,g.U)(l=>[...l.ids])),this.vm$=(0,L.a)({itemsState:this.store.select(T.ob.TT),excludedItemIds:this.store.select(T.ob.a_),recipesState:this.store.select(T.lx.lW),excludedRecipeIds:this.store.select(T.lx.Es),itemIds:this.store.select(T.lx.U4),data:this.store.select(T.lx.O8),machinesState:this.store.select(T._S.s$),machineOptions:this.store.select(T._S.xG),settings:this.store.select(T.Zr.Gw),columnsState:this.store.select(T.Zr.dK),options:this.store.select(T.Zr.FW),modOptions:this.store.select(T.Zr.Ym),presetOptions:this.store.select(T.Zr.CU),linkValueOptions:this.store.select(T.Zr.$l),beltSpeedTxt:this.store.select(T.Zr.dc),dispRateInfo:this.store.select(T.Zr.Jm),researchedTechnologyIds:this.store.select(T.Zr._f),recipeIds:this.store.select(T.Zr.eW),gameStates:this.store.select(T.Zr.Cz),savedStates:this.store.select(T.Zr.D0),preferences:this.store.select(T.uP.eD),modRecord:this.store.select(T.QC.z3),machineIds:this.machineIds$,isMobile:this.contentSvc.isMobile$}),this.state="",this.editValue="",this.editState=null,this.editStateMenu=[{label:this.translateSvc.instant("settings.createSavedState"),icon:"fa-solid fa-plus",command:()=>this.openCreateState()},{label:this.translateSvc.instant("settings.saveSavedState"),icon:"fa-solid fa-floppy-disk",command:()=>this.overwriteState()},{label:this.translateSvc.instant("settings.editSavedState"),icon:"fa-solid fa-pencil",command:()=>this.openEditState()},{label:this.translateSvc.instant("settings.deleteSavedState"),icon:"fa-solid fa-trash",command:()=>this.clickDeleteState()}],this.versionsVisible=!1,this.displayRateOptions=C.g6,this.gameOptions=C.oy,this.inserterCapacityOptions=C.qH,this.inserterTargetOptions=C.SI,this.languageOptions=C.V1,this.powerUnitOptions=C.Gl,this.researchSpeedOptions=C.D,this.themeOptions=C.Jp,this.flowDiagramOptions=C.aZ,this.sankeyAlignOptions=C.Pl,this.maximizeTypeOptions=C.sX,this.FuelType=C.o5,this.Game=C.lA,this.ItemId=C.bN,this.FlowDiagram=C.wq,this.BrowserUtility=G.R7}ngOnInit(){this.store.select(T.Zr.Cz).pipe((0,I.P)()).subscribe(l=>{this.state=(0,P.Hg)(Object.keys(l).find(r=>l[r]===G.R7.search))})}clickResetSettings(){this.contentSvc.confirm({icon:"fa-solid fa-exclamation-triangle",header:this.translateSvc.instant("settings.reset"),message:this.translateSvc.instant("settings.resetWarning"),acceptLabel:this.translateSvc.instant("yes"),rejectLabel:this.translateSvc.instant("cancel"),accept:()=>{localStorage.clear(),this.resetSettings()}})}setSearch(l){const r=this.router.parseUrl(this.router.url);new URLSearchParams(l).forEach((A,k)=>r.queryParams[k]=A),this.router.navigateByUrl(r)}copySearchToClipboard(l){navigator.clipboard.writeText(l)}setState(l,r){const m=r[l];if(m){const A=this.routerSvc.getParams(m);this.state=l,this.router.navigate([],{queryParams:A})}}clickSaveState(l){!this.editValue||!this.editState||(this.saveState(l,this.editValue,G.R7.search),"edit"===this.editState&&this.state&&this.removeState(l,this.state),this.editState=null,this.state=this.editValue)}openCreateState(){this.editValue="",this.editState="create"}overwriteState(){this.store.select(T.Zr.cF).pipe((0,I.P)()).subscribe(l=>{this.saveState(l,this.state,G.R7.search)})}openEditState(){this.editValue=this.state,this.editState="edit"}clickDeleteState(){this.store.select(T.Zr.cF).pipe((0,I.P)()).subscribe(l=>{this.removeState(l,this.state),this.state=""})}setGame(l){this.setMod(C.dL[l].modId)}setExcludedRecipes(l,r,m){const A=[];for(const k of m.recipeIds){const H=l.some(Mt=>Mt===k);if(H!==r[k].excluded){const Mt=(m.defaults?.excludedRecipeIds??[]).some(ge=>ge===k);A.push({id:k,value:H,def:Mt})}}this.setRecipeExcludedBatch(A)}setExcludedItems(l,r,m){const A=[];for(const k of m.itemIds){const H=l.some(Mt=>Mt===k);H!==r[k].excluded&&A.push({id:k,value:H})}this.setItemExcludedBatch(A)}changeFuel(l,r,m,A){const k=G.M6.bestMatch(m.fuelOptions?.map(H=>H.value)??[],A);this.setFuel(l,r,k)}changeBeaconModuleRank(l,r,m){this.setBeaconModuleRank(l,r,""===l?[m.beaconModuleId]:m.beaconModuleRankIds)}toggleBeaconReceivers(l){this.setBeaconReceivers(l?"1":null)}resetSettings(){this.store.dispatch(new T.gV.rc)}saveState(l,r,m){this.store.dispatch(new T.uP.pu({key:l,id:r,value:m}))}removeState(l,r){this.store.dispatch(new T.uP.xm({key:l,id:r}))}setMod(l){this.store.dispatch(new T.Zr.Lr(l))}setResearchedTechnologies(l){this.store.dispatch(new T.Zr.BL(l))}setItemExcludedBatch(l){this.store.dispatch(new T.ob.Z(l))}setRecipeExcludedBatch(l){this.store.dispatch(new T.lx.Z(l))}setNetProductionOnly(l){this.store.dispatch(new T.Zr.pZ(l))}setSurplusMachinesOutput(l){this.store.dispatch(new T.Zr.rn(l))}setPreset(l){this.store.dispatch(new T.Zr.ut(l))}addMachine(l,r){this.store.dispatch(new T._S.OV({value:l,def:r}))}removeMachine(l,r){this.store.dispatch(new T._S.uo({value:l,def:r}))}setMachineRank(l,r){this.store.dispatch(new T._S.Ct({value:l,def:r}))}setMachine(l,r,m){this.store.dispatch(new T._S.CQ({id:l,value:r,def:m}))}setFuel(l,r,m){this.store.dispatch(new T._S.iA({id:l,value:r,def:m}))}setModuleRank(l,r,m){this.store.dispatch(new T._S.fe({id:l,value:r,def:m}))}setOverclock(l,r,m){this.store.dispatch(new T._S.Eb({id:l,value:r,def:m}))}setBeaconCount(l,r,m){this.store.dispatch(new T._S.OE({id:l,value:r,def:m}))}setBeacon(l,r,m){this.store.dispatch(new T._S.nO({id:l,value:r,def:m}))}setBeaconModuleRank(l,r,m){this.store.dispatch(new T._S.OC({id:l,value:r,def:m}))}setBeaconReceivers(l){this.store.dispatch(new T.Zr.qq(l))}setProliferatorSpray(l){this.store.dispatch(new T.Zr.AV(l))}setBelt(l,r){this.store.dispatch(new T.Zr.IC({value:l,def:r}))}setPipe(l,r){this.store.dispatch(new T.Zr.xr({value:l,def:r}))}setCargoWagon(l,r){this.store.dispatch(new T.Zr.pF({value:l,def:r}))}setFluidWagon(l,r){this.store.dispatch(new T.Zr.iy({value:l,def:r}))}setFuels(l,r){this.store.dispatch(new T.Zr.C6({value:l,def:r}))}setFlowRate(l){this.store.dispatch(new T.Zr.pV(l))}setInserterTarget(l){this.store.dispatch(new T.Zr.sS(l))}setMiningBonus(l){this.store.dispatch(new T.Zr.Zf(l))}setResearchSpeed(l){this.store.dispatch(new T.Zr.d0(l))}setInserterCapacity(l){this.store.dispatch(new T.Zr.$(l))}setDisplayRate(l,r){this.store.dispatch(new T.Zr.MO({value:l,prev:r}))}setMaximizeType(l){this.store.dispatch(new T.Zr.RI(l))}setPowerUnit(l){this.store.dispatch(new T.uP.ur(l))}setLanguage(l){this.translateSvc.use(l),this.store.dispatch(new T.uP.qj(l))}setTheme(l){this.store.dispatch(new T.uP.t7(l))}setBypassLanding(l){this.store.dispatch(new T.uP.LX(l))}setHideDuplicateIcons(l){this.store.dispatch(new T.uP.$K(l))}setDisablePaginator(l){this.store.dispatch(new T.uP.F7(l))}setFlowDiagram(l){this.store.dispatch(new T.uP.jH(l))}setSankeyAlign(l){this.store.dispatch(new T.uP.y0(l))}setLinkSize(l){this.store.dispatch(new T.uP.mI(l))}setLinkText(l){this.store.dispatch(new T.uP.Me(l))}setFlowHideExcluded(l){this.store.dispatch(new T.uP.v$(l))}}return(s=u).\u0275fac=function(l){return new(l||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["lab-settings"]],hostVars:4,hostBindings:function(l,r){2&l&&n.ekj("active",r.active)("hidden",r.hidden)},inputs:{active:"active",hidden:"hidden"},decls:12,vars:9,consts:[[1,"p-3"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-trash","tooltipPosition","bottom",1,"p-button-rounded","p-button-text",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-none","d-xl-inline-flex",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-sm-none",3,"click"],["class","flex-grow-1 overflow-hidden",4,"ngIf"],[1,"flex-grow-1","overflow-hidden"],[3,"multiple"],[3,"selected"],["pTemplate","header"],["class","p-inputgroup mb-2",4,"ngIf"],["class","p-inputgroup mb-2",4,"ngIf","ngIfElse"],["selectState",""],["saveCurrentState",""],[1,"p-fluid"],[1,"mt-3"],[1,"p-float-label"],["labDropdownTranslate","","inputId","game",3,"tooltip","ngModel","options","onChange"],["for","game"],[4,"ngIf"],["class","position-relative",4,"ngIf"],[1,"pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-microchip",1,"p-button-rounded","p-button-outlined",3,"pTooltip","label","click"],[3,"selectIds"],["techPicker",""],[1,"mt-3","pb-3"],["labDropdownTranslate","","inputId","preset",3,"tooltip","ngModel","options","onChange"],["presetDropdown",""],["for","preset"],["class","pb-3",4,"ngIf"],["class","mt-3 pb-3",4,"ngIf"],["labDropdownBase","","inputId","default-transport-belt",3,"tooltip","ngModel","options","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["for","default-transport-belt"],["class","mt-3",4,"ngIf"],["labDropdownTranslate","","inputId","flow-diagram",3,"tooltip","ngModel","options","onChange"],["flowDiagramDropdown",""],["for","flow-diagram"],["labDropdownTranslate","","inputId","link-size",3,"tooltip","ngModel","options","onChange"],["for","link-size"],["labDropdownTranslate","","inputId","link-text",3,"tooltip","ngModel","options","onChange"],["for","link-text"],[3,"ngModel","binary","label","pTooltip","onChange"],[3,"header",4,"ngIf"],[3,"header"],["pButton","","pRipple","","type","button","icon","fa-solid fa-table-columns",1,"p-button-rounded","p-button-outlined","mb-2",3,"label","click"],["labDropdownTranslate","","inputId","display-rate",3,"tooltip","ngModel","options","onChange"],["for","display-rate"],[1,"text-end"],["labDropdownTranslate","","inputId","language",3,"tooltip","ngModel","options","onChange"],["for","language"],[1,"position-absolute","end-0","bottom-100","me-1","mb-1"],["href","https://github.com/factoriolab/factoriolab/wiki/Translating-FactorioLab","target","_blank"],["labDropdownTranslate","","inputId","theme",3,"tooltip","ngModel","options","onChange"],["for","theme"],[3,"binary","label","ngModel","onChange"],[3,"ngModel","binary","label","onChange"],["labDropdownTranslate","","inputId","maximize-type",3,"tooltip","ngModel","options","onChange"],["for","maximize-type"],["pButton","","pRipple","","type","button","icon","fa-solid fa-boxes-stacked",1,"p-button-rounded","p-button-outlined",3,"pTooltip","label","click"],[3,"header","selectIds"],["itemsPicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-flask-vial",1,"p-button-rounded","p-button-outlined",3,"pTooltip","label","click"],["recipesPicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-dollar-sign",1,"p-button-rounded","p-button-outlined","mb-4",3,"label","click"],[1,"d-flex","align-items-center","justify-content-between","flex-grow-1"],[1,"p-inputgroup","mb-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square",1,"p-button-outlined",3,"click"],["pInputText","","type","text",3,"ngModel"],["search",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click"],["pInputText","","pAutoFocus","","type","text","tooltipPosition","top","required","",3,"autofocus","placeholder","pTooltip","ngModel","ngModelChange","keydown.enter"],["nameCtrl","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-floppy-disk","tooltipPosition","top",1,"p-button-outlined",3,"pTooltip","disabled","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined",3,"pTooltip","click"],["class","p-inputgroup",4,"ngIf","ngIfElse"],[1,"p-inputgroup"],["tooltipPosition","top",3,"placeholder","tooltip","ngModel","options","onChange"],[4,"ngIf","ngIfElse"],["createStateButton",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined",3,"click"],["appendTo","body",3,"popup","model"],["stateMenu",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-floppy-disk",1,"p-button-outlined","p-button-rounded","w-100",3,"label","click"],["class","position-absolute end-0 bottom-100 me-1 mb-1",4,"ngFor","ngForOf"],[1,"position-relative"],[1,"p-static-label"],[1,"position-absolute","end-0","top-0","me-1","mb-1"],["href","https://github.com/factoriolab/factoriolab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank"],["inputId","mod","styleClass","w-100",3,"filter","autofocusFilter","tooltip","ngModel","options","onChange"],["pButton","","pRipple","","icon","fa-solid fa-info",1,"p-button-outlined",3,"pTooltip","click"],["appendTo","body",3,"visible","modal","dismissableMask","draggable","resizable","breakpoints","header","visibleChange"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value"],["pTemplate","body"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-text",3,"label","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"value","dragdrop","onReorder"],["machineRow",""],[1,"pt-2"],["class","p-inputgroup flex-wrap machine-preference mb-1",4,"ngIf"],[1,"p-inputgroup","flex-wrap","machine-preference","mb-1"],["labDropdownBase","icon",3,"tooltip","options","onChange",4,"ngIf","ngIfElse"],["dragButton",""],["labDropdownBase","icon","labNoDrag","",3,"tooltip","ngModel","options","onChange",4,"ngIf","ngIfElse"],["machineIcon",""],["labDropdownBase","icon","labNoDrag","",3,"tooltip","ngModel","options","onChange",4,"ngIf"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","ms-auto",3,"pTooltip","click"],["labDropdownBase","icon",3,"tooltip","options","onChange"],[1,"d-flex","justify-content-center","align-items-center","h-100","w-100"],[1,"fa-solid","fa-plus"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip","autoHide"],[1,"ms-3","text-truncate"],["tooltip",""],["type","machine",3,"id"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","cursor-grab"],["labDropdownBase","icon","labNoDrag","",3,"tooltip","ngModel","options","onChange"],[1,"d-flex"],[1,"p-inputgroup-addon",3,"pTooltip"],[1,"fa-solid","fa-industry"],["type","fuel",3,"id"],["labNoDrag","","appendTo","body","scrollHeight","40vh","styleClass","icon","panelStyleClass","tooltip","placeholder","unused","tooltipPosition","top",3,"selectionLimit","tooltip","ngModel","options","onChange",4,"ngIf","ngIfElse"],["satisfactoryPurityPicker",""],["labNoDrag","","appendTo","body","scrollHeight","40vh","styleClass","icon","panelStyleClass","tooltip","placeholder","unused","tooltipPosition","top",3,"selectionLimit","tooltip","ngModel","options","onChange"],["pTemplate","selectedItems"],[3,"class",4,"ngIf","ngIfElse"],["noModifiers",""],["type","module",3,"id"],["labNoDrag","","suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel","onBlur"],["overclockInput",""],["labNoDrag","","tooltipPosition","top",3,"pTooltip","value","setValue"],["labDropdownBase","icon","labNoDrag","","tooltipPosition","top",3,"tooltip","ngModel","options","onChange"],["labNoDrag","","appendTo","body","scrollHeight","40vh","styleClass","icon","panelStyleClass","tooltip","placeholder","unused","tooltipPosition","top",3,"selectionLimit","tooltip","ngModel","options","onChange",4,"ngIf"],["type","beacon",3,"id"],["for","beacon-receivers",1,"p-static-label"],["inputId","beacon-receivers",1,"w-100",3,"pTooltip","value","setValue"],["labDropdownBase","","inputId","proliferator-self-spray",3,"autoDisplayFirst","tooltip","ngModel","options","onChange"],["for","proliferator-self-spray"],[1,"d-flex","align-items-center","h-100"],["type","belt",3,"id"],["labDropdownBase","","inputId","default-pipe",3,"tooltip","ngModel","options","onChange"],["for","default-pipe"],["type","pipe",3,"id"],["labDropdownBase","","inputId","default-cargo-wagon",3,"tooltip","ngModel","options","onChange"],["for","default-cargo-wagon"],["type","cargo-wagon",3,"id"],["labDropdownBase","","inputId","default-fluid-wagon",3,"tooltip","ngModel","options","onChange"],["for","default-fluid-wagon"],["type","fluid-wagon",3,"id"],["appendTo","body","scrollHeight","40vh",3,"tooltip","ngModel","options","onChange"],["for","fuel-rank"],[3,"class",4,"ngIf"],["class","mx-2",3,"class",4,"ngFor","ngForOf"],[1,"mx-2"],["inputId","pipe-flow-rate","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"suffix","min","step","showButtons","pTooltip","ngModel","onBlur"],["flowRateInput",""],["for","pipe-flow-rate"],["href","https://wiki.factorio.com/Fluid_system#Pipelines","target","_blank"],["labDropdownTranslate","","inputId","inserter-target",3,"tooltip","ngModel","options","onChange"],["for","inserter-target"],["inputId","mining-speed","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"min","step","showButtons","pTooltip","ngModel","onBlur"],["miningBonusInput",""],["for","mining-speed"],["labDropdownTranslate","","inputId","sankey-align",3,"tooltip","ngModel","options","onChange"],["for","sankey-align"],["inputId","mining-productivity","prefix","+","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"min","step","showButtons","pTooltip","ngModel","onBlur"],["miningProdInput",""],["for","mining-productivity"],["labDropdownTranslate","","inputId","research-speed",3,"pTooltip","ngModel","options","onChange"],["for","research-speed"],["labDropdownTranslate","","inputId","inserter-capacity",3,"tooltip","ngModel","options","onChange"],["for","inserter-capacity"],["labDropdownTranslate","","inputId","power-unit",3,"tooltip","ngModel","options","onChange"],["for","power-unit"]],template:function(l,r){1&l&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"div")(6,"button",2),n.NdJ("click",function(){return r.clickResetSettings()}),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"button",3),n.NdJ("click",function(){return r.contentSvc.toggleSettingsXl()}),n.qZA(),n.TgZ(9,"button",4),n.NdJ("click",function(){return r.contentSvc.toggleSettings()}),n.qZA()()()(),n.YNc(10,pe,166,196,"div",5),n.ALo(11,"async")),2&l&&(n.xp6(3),n.Oqu(n.lcZ(4,3,"settings.header")),n.xp6(3),n.Q6J("pTooltip",n.lcZ(7,5,"settings.reset")),n.xp6(4),n.Q6J("ngIf",n.lcZ(11,7,r.vm$)))},dependencies:[ot.sg,ot.O5,ot.tP,lt.Fj,lt.JJ,lt.Q7,lt.On,mt.UQ,mt.US,W.jx,pt.P,ct.u,w.Hq,it.XZ,rt.V,ut.Lt,vt.Rn,ht.o,Tt.v2,It.NU,Ct.F,Zt.H,gt.P,bt.iA,wt.l,At.q,St.K,Ot.l,ft.P,Y.W,nt.r,ot.Ov,ot.Nd,O.X$,h.y],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:fixed;z-index:4;top:0;left:0;transition:transform .4s cubic-bezier(.05,.74,.2,.99);width:322px;height:100%;background-color:var(--surface-overlay)}@media (max-width: 1199.98px){[_nghost-%COMP%]{transform:translate(-100%)}.active[_nghost-%COMP%]{transform:translate(0)}}@media (min-width: 1200px){.hidden[_nghost-%COMP%]{transform:translate(-100%)}}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-content{overflow-y:scroll}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-bar-x{visibility:hidden}[_nghost-%COMP%]     .p-accordion{width:323px}.p-inputgroup.machine-preference[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%], .p-inputgroup.machine-preference[_ngcontent-%COMP%]   p-multiselect[_ngcontent-%COMP%]{flex-basis:36px;flex-grow:0;flex-shrink:0}"],changeDetection:0}),u})()},561:(at,K,p)=>{p.d(K,{G:()=>de});var n=p(7582),Q=p(6814),t=p(5879),O=p(4190),g=p(8791),L=p(4221),I=p(5619),P=p(2572),C=p(7398),U=p(9397),T=p(1374),G=p(2181),ot=p(9360),lt=p(8251),W=p(4962);let pt=(()=>{var e;class _{static transform(i){return i.itemId??i.recipeObjectiveId??i.recipeId??i.id}transform(i){return _.transform(i)}}return(e=_).\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"stepId",type:e,pure:!0}),_})();var ct=p(8345),w=p(8528),it=p(7346),rt=p(6223),ut=p(5219),vt=p(3259),ht=p(707),Tt=p(8057),It=p(3965),Ct=p(5167),Zt=p(4480),gt=p(1764),bt=p(5779),wt=p(6160),At=p(5333),St=p(3233),Ot=p(9515),ft=p(3689);let Y=(()=>{var e;class _{transform(i){return i}}return(e=_).\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"asStep",type:e,pure:!0}),_})();var nt=p(8056);let h=(()=>{var e;class _{transform(i){return null==i?"":" ".repeat(4-i.length)+i}}return(e=_).\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"leftPad",type:e,pure:!0}),_})();var X,x=p(1012),v=p(7792),b=p(9829),M=p(7361),q=p(7607),F=p(7190),j=p(3636);const st=["stepsTable"];function S(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(4);return t.KtG(c.resetChecked())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.checkedUndoTooltip"))}function R(e,_){if(1&e&&(t.TgZ(0,"th")(1,"div",25),t._UZ(2,"i",26),t.YNc(3,S,2,3,"button",16),t.qZA()()),2&e){const o=t.oxw(2).ngIf;t.xp6(3),t.Q6J("ngIf",o.itemsModified.checked||o.recipesModified.checked)}}function E(e,_){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"options.column.tree")," "))}function Z(e,_){1&e&&t._UZ(0,"p-sortIcon",28)}function y(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(c){return t.CHM(o),t.oxw(3).resetExcluded(),t.KtG(c.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.itemsUndoTooltip"))}function N(e,_){1&e&&t._UZ(0,"p-sortIcon",31)}function D(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(c){return t.CHM(o),t.oxw(4).resetBelts(),t.KtG(c.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.beltsUndoTooltip"))}function tt(e,_){if(1&e&&(t.TgZ(0,"th",29)(1,"div",14)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,N,1,0,"p-sortIcon",30),t.YNc(6,D,2,3,"button",16),t.qZA()()),2&e){const o=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,"options.column.belts")),t.xp6(2),t.Q6J("ngIf",!o.focus),t.xp6(1),t.Q6J("ngIf",o.itemsModified.belts)}}function _t(e,_){1&e&&t._UZ(0,"p-sortIcon",34)}function yt(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(c){return t.CHM(o),t.oxw(4).resetWagons(),t.KtG(c.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.wagonsUndoTooltip"))}function Jt(e,_){if(1&e&&(t.TgZ(0,"th",32)(1,"div",14)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,_t,1,0,"p-sortIcon",33),t.YNc(6,yt,2,3,"button",16),t.qZA()()),2&e){const o=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,o.dispRateInfo.wagonsLabel)),t.xp6(2),t.Q6J("ngIf",!o.focus),t.xp6(1),t.Q6J("ngIf",o.itemsModified.wagons)}}function xt(e,_){1&e&&t._UZ(0,"p-sortIcon",35)}function dt(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(c){return t.CHM(o),t.oxw(3).resetMachines(),t.KtG(c.stopImmediatePropagation())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.machinesUndoTooltip"))}function Nt(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(4);return t.KtG(c.resetBeacons())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.beaconsUndoTooltip"))}function Dt(e,_){if(1&e&&(t.TgZ(0,"th",36)(1,"div",14)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Nt,2,3,"button",16),t.qZA()()),2&e){const o=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"options.column.beacons")),t.xp6(2),t.Q6J("ngIf",o.recipesModified.beacons)}}function Ut(e,_){1&e&&t._UZ(0,"p-sortIcon",39)}function Rt(e,_){if(1&e&&(t.TgZ(0,"th",37)(1,"div",14)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Ut,1,0,"p-sortIcon",38),t.qZA()()),2&e){const o=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"options.column.power")),t.xp6(2),t.Q6J("ngIf",!o.focus)}}function Yt(e,_){1&e&&t._UZ(0,"p-sortIcon",42)}function qt(e,_){if(1&e&&(t.TgZ(0,"th",40)(1,"div",14)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Yt,1,0,"p-sortIcon",41),t.qZA()()),2&e){const o=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,o.dispRateInfo.pollutionLabel)),t.xp6(2),t.Q6J("ngIf",!o.focus)}}function Kt(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"th",11)(1,"button",43),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(2).ngIf,d=t.oxw();return t.KtG(d.export(c.steps,c.itemsState,c.recipesState,c.columnsState,c.data))}),t.ALo(2,"translate"),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("pTooltip",t.lcZ(2,1,"steps.downloadTooltip")))}function Ft(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"th",11)(2,"button",12),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(2);return t.KtG(c.contentSvc.showColumns$.next())}),t.ALo(3,"translate"),t.qZA()(),t.YNc(4,R,4,1,"th",0),t.YNc(5,E,3,3,"th",0),t.TgZ(6,"th",13)(7,"div",14)(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Z,1,0,"p-sortIcon",15),t.YNc(12,y,2,3,"button",16),t.qZA()(),t.YNc(13,tt,7,5,"th",17),t.YNc(14,Jt,7,5,"th",18),t.TgZ(15,"th",19)(16,"div",14)(17,"span"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.YNc(20,xt,1,0,"p-sortIcon",20),t.YNc(21,dt,2,3,"button",16),t.qZA()(),t.YNc(22,Dt,6,4,"th",21),t.YNc(23,Rt,6,4,"th",22),t.YNc(24,qt,6,4,"th",23),t.YNc(25,Kt,3,3,"th",24),t.qZA()}if(2&e){const o=t.oxw().ngIf;t.xp6(2),t.Q6J("pTooltip",t.lcZ(3,15,"steps.openColumnSettings")),t.xp6(2),t.Q6J("ngIf",!o.focus&&o.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",!o.focus&&o.columnsState.tree.show),t.xp6(4),t.Oqu(t.lcZ(10,17,o.dispRateInfo.itemsLabel)),t.xp6(2),t.Q6J("ngIf",!o.focus),t.xp6(1),t.Q6J("ngIf",o.itemsModified.excluded),t.xp6(1),t.Q6J("ngIf",o.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",o.columnsState.wagons.show),t.xp6(4),t.Oqu(t.lcZ(19,19,"options.column.machines")),t.xp6(2),t.Q6J("ngIf",!o.focus),t.xp6(1),t.Q6J("ngIf",o.recipesModified.machines),t.xp6(1),t.Q6J("ngIf",o.columnsState.beacons.show),t.xp6(1),t.Q6J("ngIf",o.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",o.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",o.columnsState.link.show)}}function Wt(e,_){if(1&e&&t._UZ(0,"div",45),2&e){const o=_.$implicit,i=t.oxw().ngIf;t.Q6J("id","step_"+i.id+"_"+o.label)}}function Ht(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"td")(1,"div",52)(2,"p-checkbox",53),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw().ngIf,f=t.oxw(3);return t.KtG(f.changeStepChecked(d,c.checked))}),t.qZA()()()}if(2&e){const o=t.oxw().ngIf;t.xp6(2),t.Q6J("binary",!0)("ngModel",o.checked)}}function jt(e,_){if(1&e&&t._UZ(0,"div",61),2&e){const i=_.last;t.ekj("trail",_.$implicit)("last",i)}}function $t(e,_){if(1&e&&(t.ynx(0),t.YNc(1,jt,1,4,"div",59),t._UZ(2,"div",60),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",i.stepTree[o.id])}}function Gt(e,_){if(1&e&&t._UZ(0,"lab-tooltip",65),2&e){const o=t.oxw(3).ngIf;t.Q6J("id",o.itemId)}}function Vt(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(2).ngIf,d=t.oxw(2).ngIf,f=t.oxw();return t.KtG(f.setItemExcluded(c.itemId,!d.itemsState[c.itemId].excluded))}),t.ALo(1,"iconSmClass"),t._UZ(2,"i",63),t.YNc(3,Gt,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw(2).ngIf,c=t.oxw(2).ngIf;t.ekj("hover-active",c.itemsState[i.itemId].excluded),t.Q6J("icon",t.lcZ(1,5,i.itemId))("pTooltip",o)("autoHide",!1)}}function zt(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw(3).ngIf;t.xp6(1),t.hij("#",o.recipeObjectiveId,"")}}function Xt(e,_){if(1&e&&t._UZ(0,"lab-tooltip",67),2&e){const o=t.oxw(3).ngIf;t.Q6J("id",o.recipeId)}}function tn(e,_){if(1&e&&(t.TgZ(0,"i",66),t.ALo(1,"iconSmClass"),t.YNc(2,zt,2,1,"span",0),t.YNc(3,Xt,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=t.MAs(4),i=t.oxw(2).ngIf;t.Tol(t.xi3(1,5,i.recipeId,"recipe")),t.Q6J("pTooltip",o)("autoHide",!1),t.xp6(2),t.Q6J("ngIf",null!=i.recipeObjectiveId)}}function nn(e,_){if(1&e&&(t.TgZ(0,"td",54)(1,"div",55),t.YNc(2,$t,3,1,"ng-container",0),t.TgZ(3,"div",56),t.YNc(4,Vt,5,7,"button",57),t.YNc(5,tn,5,8,"ng-template",null,58,t.W1O),t.qZA()()()),2&e){const o=t.MAs(6),i=t.oxw().ngIf,c=t.oxw(2).ngIf,d=t.MAs(2);t.xp6(2),t.Q6J("ngIf",!d.sortField&&(null==c.stepTree[i.id]?null:c.stepTree[i.id].length)),t.xp6(2),t.Q6J("ngIf",i.itemId&&null==i.recipeObjectiveId)("ngIfElse",o)}}function en(e,_){if(1&e&&(t.TgZ(0,"span",70),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.hij("(+",t.xi3(2,1,o.surplus,i.columnsState.items.precision),") ")}}function on(e,_){if(1&e&&t._UZ(0,"lab-tooltip",65),2&e){const o=t.oxw(3).ngIf;t.Q6J("id",o.itemId)}}function _n(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(2).ngIf,d=t.oxw(2).ngIf,f=t.oxw();return t.KtG(f.setItemExcluded(c.itemId,!d.itemsState[c.itemId].excluded))}),t.ALo(1,"iconSmClass"),t._UZ(2,"i",63),t.YNc(3,on,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw(2).ngIf,c=t.oxw(2).ngIf;t.ekj("hover-active",c.itemsState[i.itemId].excluded),t.Q6J("icon",t.lcZ(1,5,i.itemId))("pTooltip",o)("autoHide",!1)}}function an(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",68),t.YNc(2,en,3,4,"span",69),t.TgZ(3,"span",70),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",71)(7,"div",14)(8,"span",72),t._uU(9),t.qZA(),t.YNc(10,_n,5,7,"button",73),t.qZA()(),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngIf",o.surplus&&o.surplus.nonzero()),t.xp6(2),t.Oqu(t.xi3(5,4,o.items.sub(o.surplus||c.Rational.zero),i.columnsState.items.precision)),t.xp6(5),t.Oqu(i.data.itemEntities[o.itemId].name),t.xp6(1),t.Q6J("ngIf",!i.preferences.hideDuplicateIcons||!i.columnsState.tree.show)}}function Qt(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function sn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",82),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function cn(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,sn,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function ln(e,_){if(1&e&&t._UZ(0,"lab-tooltip",82),2&e){const o=t.oxw(2).ngIf;t.Q6J("id",o)}}function pn(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",77),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw(4).ngIf,f=t.oxw(2).ngIf,J=t.oxw();return t.KtG(J.setBelt(d.itemId,c.value,f.settings.beltId))}),t.YNc(1,Qt,3,4,"ng-template",78),t.YNc(2,cn,7,7,"ng-template",79),t.YNc(3,ln,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw().ngIf,c=t.oxw(5).ngIf;t.Q6J("pTooltip",o)("autoHide",!1)("ngModel",i)("options",c.options.belts)}}function rn(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function gn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",83),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function dn(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,gn,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function mn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",83),2&e){const o=t.oxw(3).ngIf;t.Q6J("id",o)}}function un(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",77),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw(5).ngIf,f=t.oxw(2).ngIf,J=t.oxw();return t.KtG(J.setBelt(d.itemId,c.value,f.settings.pipeId))}),t.YNc(1,rn,3,4,"ng-template",78),t.YNc(2,dn,7,7,"ng-template",79),t.YNc(3,mn,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw(2).ngIf,c=t.oxw(5).ngIf;t.Q6J("pTooltip",o)("autoHide",!1)("ngModel",i)("options",c.options.pipes)}}function fn(e,_){if(1&e&&t.YNc(0,un,5,4,"p-dropdown",74),2&e){const o=t.oxw().ngIf,i=t.MAs(11),c=t.oxw(5).ngIf;t.Q6J("ngIf",-1!==c.data.pipeIds.indexOf(o)&&c.settings.pipeId)("ngIfElse",i)}}function xn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",83),2&e){const o=t.oxw(2).ngIf;t.Q6J("id",o)}}function vn(e,_){if(1&e&&(t.TgZ(0,"i",66),t.ALo(1,"iconClass"),t.YNc(2,xn,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=t.MAs(3),i=t.oxw().ngIf;t.Tol(t.lcZ(1,4,i)),t.Q6J("pTooltip",o)("autoHide",!1)}}function hn(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",68)(2,"span",70),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",71)(6,"div",14),t.YNc(7,pn,5,4,"p-dropdown",74),t.YNc(8,fn,1,2,"ng-template",null,75,t.W1O),t.YNc(10,vn,4,6,"ng-template",null,76,t.W1O),t.qZA()(),t.BQk()),2&e){const o=_.ngIf,i=t.MAs(9),c=t.oxw(3).ngIf,d=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,c.belts,d.columnsState.belts.precision)),t.xp6(4),t.Q6J("ngIf",-1!==d.data.beltIds.indexOf(o)&&d.settings.beltId)("ngIfElse",i)}}function Tn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,hn,12,6,"ng-container",0),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemsState[o.itemId].beltId)}}function In(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Tn,2,1,"ng-container",50),t.BQk()),2&e){const o=t.oxw().ngIf;t.oxw(2);const i=t.MAs(8);t.xp6(1),t.Q6J("ngIf",o.itemId&&o.belts)("ngIfElse",i)}}function Cn(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function Zn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",85),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function bn(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,Zn,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function wn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",85),2&e){const o=t.oxw(2).ngIf;t.Q6J("id",o)}}function An(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",77),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw(3).ngIf,f=t.oxw(2).ngIf,J=t.oxw();return t.KtG(J.setWagon(d.itemId,c.value,f.settings.cargoWagonId))}),t.YNc(1,Cn,3,4,"ng-template",78),t.YNc(2,bn,7,7,"ng-template",79),t.YNc(3,wn,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw().ngIf,c=t.oxw(4).ngIf;t.Q6J("pTooltip",o)("autoHide",!1)("ngModel",i)("options",c.options.cargoWagons)}}function Sn(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function Mn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",87),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function On(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA()(),t.YNc(5,Mn,1,1,"ng-template",null,64,t.W1O)),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function Jn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",87),2&e){const o=t.oxw(3).ngIf;t.Q6J("id",o)}}function yn(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",77),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw(4).ngIf,f=t.oxw(2).ngIf,J=t.oxw();return t.KtG(J.setWagon(d.itemId,c.value,f.settings.fluidWagonId))}),t.YNc(1,Sn,3,4,"ng-template",78),t.YNc(2,On,7,7,"ng-template",79),t.YNc(3,Jn,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw(2).ngIf,c=t.oxw(4).ngIf;t.Q6J("pTooltip",o)("autoHide",!1)("ngModel",i)("options",c.options.fluidWagons)}}function En(e,_){if(1&e&&t.YNc(0,yn,5,4,"p-dropdown",86),2&e){const o=t.oxw().ngIf,i=t.oxw(4).ngIf;t.Q6J("ngIf",-1!==i.data.fluidWagonIds.indexOf(o)&&i.settings.fluidWagonId)}}function Pn(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",68)(2,"span",70),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",71)(6,"div",14),t.YNc(7,An,5,4,"p-dropdown",74),t.YNc(8,En,1,1,"ng-template",null,84,t.W1O),t.qZA()(),t.BQk()),2&e){const o=_.ngIf,i=t.MAs(9),c=t.oxw(2).ngIf,d=t.oxw(2).ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,c.wagons,d.columnsState.wagons.precision)),t.xp6(4),t.Q6J("ngIf",-1!==d.data.cargoWagonIds.indexOf(o)&&d.settings.cargoWagonId)("ngIfElse",i)}}function Nn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Pn,10,6,"ng-container",50),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.MAs(8);t.xp6(1),t.Q6J("ngIf",o.itemId&&o.wagons&&i.itemsState[o.itemId].wagonId)("ngIfElse",c)}}function Qn(e,_){if(1&e&&(t.TgZ(0,"span",70),t._uU(1),t.ALo(2,"machineRate"),t.qZA()),2&e){const o=t.oxw().ngIf,i=t.oxw().ngIf,c=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,i.machines,c.columnsState.machines.precision,o))}}function Ln(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw(5).ngIf;t.xp6(1),t.hij("#",o.recipeObjectiveId,"")}}function kn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",67),2&e){const o=t.oxw(5).ngIf;t.Q6J("id",o.recipeId)}}function Bn(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(4).ngIf,d=t.oxw(3);return t.KtG(d.addObjective({targetId:c.recipeId,unit:d.ObjectiveUnit.Machines}))}),t.TgZ(1,"span",93),t.ALo(2,"iconSmClass"),t.YNc(3,Ln,2,1,"span",0),t.qZA(),t._UZ(4,"i",94),t.YNc(5,kn,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(6),i=t.oxw(4).ngIf;t.Q6J("pTooltip",o)("autoHide",!1),t.xp6(1),t.Tol(t.xi3(2,5,i.recipeId,"recipe")),t.xp6(2),t.Q6J("ngIf",i.recipeObjectiveId)}}function Dn(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function Un(e,_){if(1&e&&t._UZ(0,"lab-tooltip",95),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function Rn(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,Un,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function Yn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",95),2&e){const o=t.oxw(3).ngIf;t.Q6J("id",o)}}function qn(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-inputNumber",96,97),t.NdJ("onBlur",function(){t.CHM(o);const c=t.MAs(1),d=t.oxw(4).ngIf,f=t.oxw(2).ngIf,J=t.oxw();let B;return t.KtG(J.changeRecipeField(d,null!==(B=c.value)&&void 0!==B?B:0,f.machinesState,f.data,J.RecipeField.Overclock))}),t.ALo(2,"translate"),t.qZA()}if(2&e){const o=t.oxw(4).ngIf;t.Q6J("min",1)("max",250)("step",10)("maxFractionDigits",2)("size",3)("pTooltip",t.lcZ(2,7,"steps.overclockTooltip"))("ngModel",o.recipeSettings.overclock)}}function Kn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",101),2&e){const o=t.oxw(2).ngIf;t.Q6J("id",o)}}function Fn(e,_){if(1&e&&(t.TgZ(0,"div",14)(1,"i",100),t.ALo(2,"iconSmClass"),t.YNc(3,Kn,1,1,"ng-template",null,64,t.W1O),t.qZA()()),2&e){const o=t.MAs(4),i=t.oxw().ngIf;t.xp6(1),t.Tol(t.lcZ(2,4,i)),t.Q6J("pTooltip",o)("autoHide",!1)}}function Wn(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function Hn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",101),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function jn(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,Hn,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function $n(e,_){if(1&e&&t._UZ(0,"lab-tooltip",101),2&e){const o=t.oxw(2).ngIf;t.Q6J("id",o)}}const Lt=function(){return[]};function Gn(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",77),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw(5).ngIf,f=t.oxw(2).ngIf,J=t.oxw();return t.KtG(J.changeRecipeField(d,c.value,f.machinesState,f.data,J.RecipeField.Fuel))}),t.YNc(1,Wn,3,4,"ng-template",78),t.YNc(2,jn,7,7,"ng-template",79),t.YNc(3,$n,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw().ngIf,c=t.oxw(4).ngIf;let d;t.Q6J("pTooltip",o)("autoHide",!1)("ngModel",i)("options",null!==(d=c.recipeSettings.fuelOptions)&&void 0!==d?d:t.DdM(4,Lt))}}function Vn(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Fn,5,6,"div",98),t.YNc(2,Gn,5,5,"ng-template",null,99,t.W1O),t.BQk()),2&e){const o=t.MAs(3),i=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngIf",i.recipe.isBurn)("ngIfElse",o)}}function zn(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function Xn(e,_){if(1&e&&t._UZ(0,"lab-tooltip",104),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function te(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,Xn,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip","module"!==o.value?i:void 0)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function ne(e,_){if(1&e&&t._UZ(0,"lab-tooltip",104),2&e){const o=t.oxw().$implicit;t.Q6J("id",o)}}function ee(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",103),t.NdJ("onChange",function(c){const f=t.CHM(o).index,J=t.oxw(5).ngIf,B=t.oxw(2).ngIf,V=t.oxw();return t.KtG(V.changeRecipeField(J,c.value,B.machinesState,B.data,V.RecipeField.MachineModules,f))}),t.YNc(1,zn,3,4,"ng-template",78),t.YNc(2,te,7,7,"ng-template",79),t.YNc(3,ne,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=_.$implicit,i=_.last,c=t.MAs(4),d=t.oxw(5).ngIf;let f;t.ekj("last",i),t.Q6J("pTooltip","module"!==o?c:void 0)("autoHide",!1)("options",null!==(f=d.recipeSettings.machineModuleOptions)&&void 0!==f?f:t.DdM(6,Lt))("ngModel",o)}}function oe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ee,5,7,"p-dropdown",102),t.BQk()),2&e){const o=_.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}function _e(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"div",14)(1,"span",72),t._uU(2),t.qZA(),t.YNc(3,Bn,7,8,"button",89),t.TgZ(4,"p-dropdown",90),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw(3).ngIf,f=t.oxw(2).ngIf,J=t.oxw();return t.KtG(J.changeRecipeField(d,c.value,f.machinesState,f.data,J.RecipeField.Machine))}),t.ALo(5,"options"),t.YNc(6,Dn,3,4,"ng-template",78),t.YNc(7,Rn,7,7,"ng-template",79),t.YNc(8,Yn,1,1,"ng-template",null,64,t.W1O),t.qZA(),t.YNc(10,qn,3,9,"p-inputNumber",91),t.YNc(11,Vn,4,2,"ng-container",0),t.YNc(12,oe,2,1,"ng-container",0),t.qZA()}if(2&e){const o=t.MAs(9),i=t.oxw(2).ngIf,c=t.oxw().ngIf,d=t.oxw(2).ngIf,f=t.oxw();t.xp6(2),t.Oqu(c.recipe.name),t.xp6(1),t.Q6J("ngIf",!d.preferences.hideDuplicateIcons||null!=c.itemId&&c.itemId!==c.recipeId),t.xp6(1),t.Q6J("pTooltip",o)("autoHide",!1)("options",t.xi3(5,9,c.recipe.producers,d.data.itemEntities))("ngModel",i),t.xp6(6),t.Q6J("ngIf",d.data.game===f.Game.Satisfactory),t.xp6(1),t.Q6J("ngIf",null==c.recipeSettings?null:c.recipeSettings.fuelId),t.xp6(1),t.Q6J("ngIf",null==c.recipeSettings?null:c.recipeSettings.machineModuleIds)}}function ie(e,_){if(1&e&&(t.ynx(0),t.YNc(1,_e,13,12,"div",88),t.BQk()),2&e){const o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.recipeId&&o.recipe&&o.recipeSettings)}}function ae(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",68),t.YNc(2,Qn,3,5,"span",69),t.ALo(3,"machineShowRate"),t.qZA(),t.TgZ(4,"td",71),t.YNc(5,ie,2,1,"ng-container",0),t.ALo(6,"machineShow"),t.qZA(),t.BQk()),2&e){const o=_.ngIf,i=t.oxw().ngIf,c=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",i.machines&&i.machines.nonzero()&&t.xi3(3,2,o,c.data.game)),t.xp6(3),t.Q6J("ngIf",t.xi3(6,5,o,c.data.game))}}function se(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",111),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(4).ngIf,d=t.oxw(3);let f;return t.KtG(d.addBeacon(null!==(f=c.recipeObjectiveId)&&void 0!==f?f:c.recipeId,null!=c.recipeObjectiveId))}),t.qZA()}}function ce(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",112),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().index,d=t.oxw(3).ngIf,f=t.oxw(3);let J;return t.KtG(f.removeBeacon(null!==(J=d.recipeObjectiveId)&&void 0!==J?J:d.recipeId,c,null!=d.recipeObjectiveId))}),t.qZA()}}function le(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"lab-input-number",113),t.NdJ("setValue",function(c){t.CHM(o);const d=t.oxw().index,f=t.oxw(3).ngIf,J=t.oxw(2).ngIf,B=t.oxw();return t.KtG(B.changeRecipeField(f,c,J.machinesState,J.data,B.RecipeField.BeaconCount,d))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const o=t.oxw().$implicit;t.Q6J("pTooltip",t.lcZ(1,3,"steps.beaconEachTooltip"))("value",o.count.toString())("textButtons",!0)}}function kt(e,_){if(1&e&&(t.TgZ(0,"div",47),t.YNc(1,se,1,0,"button",108),t.YNc(2,ce,1,0,"ng-template",null,109,t.W1O),t.YNc(4,le,2,5,"lab-input-number",110),t.qZA()),2&e){const o=_.$implicit,i=_.index,c=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0===i)("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",o.count)}}function pe(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function re(e,_){if(1&e&&t._UZ(0,"lab-tooltip",116),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function s(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,re,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function u(e,_){if(1&e&&t._UZ(0,"lab-tooltip",116),2&e){const o=t.oxw(2).$implicit;t.Q6J("id",o.id)}}function a(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",90),t.NdJ("onChange",function(c){t.CHM(o);const d=t.oxw().index,f=t.oxw(3).ngIf,J=t.oxw(2).ngIf,B=t.oxw();return t.KtG(B.changeRecipeField(f,c.value,J.machinesState,J.data,B.RecipeField.Beacon,d))}),t.YNc(1,pe,3,4,"ng-template",78),t.YNc(2,s,7,7,"ng-template",79),t.YNc(3,u,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=t.MAs(4),i=t.oxw().$implicit,c=t.oxw(5).ngIf;t.Q6J("pTooltip",o)("autoHide",!1)("options",c.options.beacons)("ngModel",i.id)}}function l(e,_){if(1&e&&(t.TgZ(0,"div",47)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA()()),2&e){const o=_.$implicit;t.xp6(1),t.Tol(t.lcZ(2,2,o.value))}}function r(e,_){if(1&e&&t._UZ(0,"lab-tooltip",104),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.value)}}function m(e,_){if(1&e&&(t.TgZ(0,"div",80)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"div",81),t._uU(4),t.qZA(),t.YNc(5,r,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(6);t.Q6J("pTooltip","module"!==o.value?i:void 0)("autoHide",!1),t.xp6(1),t.Tol(t.lcZ(2,5,o.value)),t.xp6(3),t.hij(" ",o.label," ")}}function A(e,_){if(1&e&&t._UZ(0,"lab-tooltip",104),2&e){const o=t.oxw().$implicit;t.Q6J("id",o)}}function k(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"p-dropdown",103),t.NdJ("onChange",function(c){const f=t.CHM(o).index,J=t.oxw().index,B=t.oxw(3).ngIf,V=t.oxw(2).ngIf,et=t.oxw();return t.KtG(et.changeRecipeField(B,c.value,V.machinesState,V.data,et.RecipeField.BeaconModules,J,f))}),t.YNc(1,l,3,4,"ng-template",78),t.YNc(2,m,7,7,"ng-template",79),t.YNc(3,A,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=_.$implicit,i=_.last,c=t.MAs(4),d=t.oxw().$implicit;let f;t.ekj("last",i),t.Q6J("pTooltip","module"!==o?c:void 0)("autoHide",!1)("options",null!==(f=d.moduleOptions)&&void 0!==f?f:t.DdM(6,Lt))("ngModel",o)}}function H(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"lab-input-number",117),t.NdJ("setValue",function(c){t.CHM(o);const d=t.oxw().index,f=t.oxw(3).ngIf,J=t.oxw(2).ngIf,B=t.oxw();return t.KtG(B.changeRecipeField(f,c,J.machinesState,J.data,B.RecipeField.BeaconTotal,d))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const o=t.oxw().$implicit;t.Q6J("pTooltip",t.lcZ(1,3,"steps.beaconTotalTooltip"))("value",o.total.toString())("textButtons",!0)}}function Mt(e,_){if(1&e&&(t.TgZ(0,"div",47),t.YNc(1,a,5,4,"p-dropdown",114),t.YNc(2,k,5,7,"p-dropdown",102),t.YNc(3,H,2,5,"lab-input-number",115),t.qZA()),2&e){const o=_.$implicit;t.xp6(1),t.Q6J("ngIf",o.id),t.xp6(1),t.Q6J("ngForOf",o.moduleIds),t.xp6(1),t.Q6J("ngIf",o.total)}}function ge(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",105),t.YNc(2,kt,5,3,"div",106),t.qZA(),t.TgZ(3,"td",71),t.YNc(4,Mt,4,3,"div",107),t.qZA(),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",o.recipeSettings.beacons)("ngForTrackBy",i.trackSvc.trackByIndex),t.xp6(2),t.Q6J("ngForOf",o.recipeSettings.beacons)}}function xe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ge,5,3,"ng-container",50),t.BQk()),2&e){const o=t.oxw().ngIf;t.oxw(2);const i=t.MAs(8);t.xp6(1),t.Q6J("ngIf",o.recipeId&&o.recipeSettings)("ngIfElse",i)}}function ve(e,_){if(1&e&&(t.TgZ(0,"span",70),t._uU(1),t.ALo(2,"power"),t.qZA()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,o.power,i.columnsState.power.precision,i.effectivePowerUnit))}}function he(e,_){if(1&e&&(t.TgZ(0,"td",118),t.YNc(1,ve,3,5,"span",69),t.qZA()),2&e){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",o.power&&o.power.nonzero())}}function Te(e,_){if(1&e&&(t.TgZ(0,"span",70),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Oqu(t.xi3(2,1,o.pollution,i.columnsState.pollution.precision))}}function Ie(e,_){if(1&e&&(t.TgZ(0,"td",118),t.YNc(1,Te,3,4,"span",69),t.qZA()),2&e){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",o.pollution&&o.pollution.nonzero())}}function Ce(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",122),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(2).ngIf,d=t.oxw(3);return t.KtG(d.resetStep(c))}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"steps.stepUndoTooltip"))}function Ze(e,_){if(1&e&&(t.TgZ(0,"td",11)(1,"div",47)(2,"a",119),t.ALo(3,"stepHref"),t._UZ(4,"button",120),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Ce,2,3,"button",121),t.qZA()()),2&e){const o=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(2),t.Q6J("href",t.Dn7(3,3,o,i.zipPartial,i.data),t.LSH),t.xp6(2),t.Q6J("pTooltip",t.lcZ(5,7,"steps.openNewTabTooltip")),t.xp6(2),t.Q6J("ngIf",o.recipeId&&i.stepsModified.recipes[o.recipeId]||o.itemId&&i.stepsModified.items[o.itemId]||o.recipeObjectiveId&&i.stepsModified.objectives[o.recipeObjectiveId])}}function be(e,_){if(1&e&&(t.TgZ(0,"tr")(1,"td",44),t._UZ(2,"div",45),t.YNc(3,Wt,1,1,"div",46),t.TgZ(4,"div",47),t._UZ(5,"button",48),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,Ht,3,2,"td",0),t.YNc(8,nn,7,3,"td",49),t.YNc(9,an,11,7,"ng-container",50),t.YNc(10,In,2,2,"ng-container",0),t.YNc(11,Nn,2,2,"ng-container",0),t.YNc(12,ae,7,8,"ng-container",50),t.YNc(13,xe,2,2,"ng-container",0),t.YNc(14,he,2,1,"td",51),t.YNc(15,Ie,2,1,"td",51),t.YNc(16,Ze,7,9,"td",24),t.qZA()),2&e){const o=_.ngIf,i=t.oxw().expanded,c=t.oxw().ngIf,d=t.MAs(8);t.xp6(2),t.Q6J("id","step_"+o.id),t.xp6(1),t.Q6J("ngForOf",c.stepDetails[o.id].tabs),t.xp6(2),t.ekj("fa-rotate-90",i),t.Q6J("pTooltip",t.lcZ(6,18,i?"steps.hideDetails":"steps.showDetails"))("pRowToggler",o),t.xp6(2),t.Q6J("ngIf",!c.focus&&c.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",!c.focus&&c.columnsState.tree.show),t.xp6(1),t.Q6J("ngIf",o.itemId&&o.items)("ngIfElse",d),t.xp6(1),t.Q6J("ngIf",c.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",c.columnsState.wagons.show),t.xp6(1),t.Q6J("ngIf",null==o.recipeSettings?null:o.recipeSettings.machineId)("ngIfElse",d),t.xp6(1),t.Q6J("ngIf",c.columnsState.beacons.show),t.xp6(1),t.Q6J("ngIf",c.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",c.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",c.columnsState.link.show)}}function we(e,_){1&e&&(t.YNc(0,be,17,20,"tr",0),t.ALo(1,"asStep")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,_.$implicit))}function Ae(e,_){if(1&e&&(t._UZ(0,"span",132),t.TgZ(1,"span",133),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const o=_.$implicit,i=t.oxw(4);t.Tol(i.stepDetailIcon[o.label]),t.xp6(2),t.Oqu(t.lcZ(3,3,"options.stepDetailTab."+o.label))}}function Se(e,_){1&e&&t.GkF(0)}function Me(e,_){if(1&e&&(t.TgZ(0,"tr",123),t.YNc(1,Se,1,0,"ng-container",136),t.TgZ(2,"td",137),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(4);const o=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.hij(" ",t.lcZ(4,2,"steps.sources")," ")}}function Oe(e,_){1&e&&t.GkF(0)}const Je=function(e,_,o,i,c,d,f,J,B,V,et,z,$){return{items:e,itemId:_,belts:o,beltId:i,wagons:c,wagonId:d,machines:f,machineId:J,recipeId:B,recipeObjectiveId:V,percent:et,percentOnDest:!0,destId:z,inputs:$}};function ye(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Oe,1,0,"ng-container",138),t.BQk()),2&e){const o=t.oxw().$implicit,i=t.oxw(2).ngIf,c=t.oxw(2).ngIf,d=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.rFY(2,Je,[null==i.items?null:i.items.mul(o.value),i.itemId,null==i.belts?null:i.belts.mul(o.value),c.itemsState[i.itemId].beltId,null==i.wagons?null:i.wagons.mul(o.value),c.itemsState[i.itemId].wagonId,o.machines,o.recipeId&&c.recipesState[o.recipeId].machineId,o.recipeId,o.recipeObjectiveId,o.value,i.itemId,o.inputs]))}}function Ee(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ye,2,16,"ng-container",0),t.BQk()),2&e){const o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.itemId)}}function Pe(e,_){1&e&&t.GkF(0)}function Ne(e,_){if(1&e&&(t.TgZ(0,"tr",123),t.YNc(1,Pe,1,0,"ng-container",136),t.TgZ(2,"td",137),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(4);const o=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.hij(" ",t.lcZ(4,2,"steps.destinations")," ")}}function Qe(e,_){1&e&&t.GkF(0)}const Le=function(e,_,o,i,c,d,f,J,B,V,et,z,$,Et){return{items:e,itemId:_,belts:o,beltId:i,wagons:c,wagonId:d,machines:f,machineId:J,recipeId:B,recipeObjectiveId:V,percent:et,destId:z,destRecipeObjectiveId:$,destIsRecipe:!0,outputs:Et}};function ke(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Qe,1,0,"ng-container",138),t.BQk()),2&e){const o=t.oxw().$implicit,i=t.oxw(2).ngIf,c=t.oxw(2).ngIf,d=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.rFY(2,Le,[null==i.items?null:i.items.mul(o.value),i.itemId,null==i.belts?null:i.belts.mul(o.value),c.itemsState[i.itemId].beltId,null==i.wagons?null:i.wagons.mul(o.value),c.itemsState[i.itemId].wagonId,1===c.stepDetails[i.id].outputs.length?null==i.machines?null:i.machines.mul(o.value):null,1===c.stepDetails[i.id].outputs.length?null==i.recipeSettings?null:i.recipeSettings.machineId:null,i.recipeId,i.recipeObjectiveId,o.value,null==c.stepById[o.key]?null:c.stepById[o.key].recipeId,null==c.stepById[o.key]?null:c.stepById[o.key].recipeObjectiveId,""===o.key]))}}function Be(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ke,2,17,"ng-container",0),t.BQk()),2&e){const o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.itemId)}}function De(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Me,5,4,"tr",134),t.YNc(2,Ee,2,1,"ng-container",135),t.YNc(3,Ne,5,4,"tr",134),t.YNc(4,Be,2,1,"ng-container",135),t.ALo(5,"keyvalue"),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.oxw();t.xp6(1),t.Q6J("ngIf",i.stepDetails[o.id].outputs.length),t.xp6(1),t.Q6J("ngForOf",i.stepDetails[o.id].outputs),t.xp6(1),t.Q6J("ngIf",o.parents),t.xp6(1),t.Q6J("ngForOf",t.xi3(5,4,o.parents,c.trackSvc.sortByValue))}}function Ue(e,_){1&e&&t.GkF(0)}function Re(e,_){1&e&&t.GkF(0)}const Ye=function(e,_){return{items:e,itemId:_}};function qe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Re,1,0,"ng-container",138),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw().$implicit,c=t.oxw(4).ngIf;t.oxw(2);const d=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.WLB(2,Ye,o.step.items.mul(o.percent).div(c.recipe.productivity),i.key))}}function Ke(e,_){if(1&e&&(t.ynx(0),t.YNc(1,qe,2,5,"ng-container",0),t.BQk()),2&e){const o=_.ngIf;t.xp6(1),t.Q6J("ngIf",o.step&&o.percent&&o.step.items)}}const Bt=function(e,_){return{step:e,percent:_}};function Fe(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ke,2,1,"ng-container",0),t.BQk()),2&e){const o=_.$implicit,i=t.oxw(4).ngIf,c=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Bt,c.stepByItemEntities[o.key],null==i.outputs?null:i.outputs[o.key]))}}function We(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",123),t.YNc(2,Ue,1,0,"ng-container",136),t.TgZ(3,"td",137),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Fe,2,4,"ng-container",135),t.ALo(7,"keyvalue"),t.BQk()),2&e){const o=t.oxw(3).ngIf;t.oxw(2);const i=t.MAs(10),c=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.hij(" ",t.lcZ(5,3,"steps.depletion")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,o.outputs,c.trackSvc.sortByValue))}}function He(e,_){1&e&&t.GkF(0)}function je(e,_){1&e&&t.GkF(0)}const $e=function(e,_,o,i,c,d,f,J,B,V,et,z,$){return{items:e,itemId:_,belts:o,beltId:i,wagons:c,wagonId:d,machines:f,machineId:J,recipeId:B,recipeObjectiveId:V,percent:et,destId:z,destRecipeObjectiveId:$,destIsRecipe:!0}};function Ge(e,_){if(1&e&&(t.ynx(0),t.YNc(1,je,1,0,"ng-container",138),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw().$implicit,c=t.oxw(4).ngIf,d=t.oxw(2).ngIf,f=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",t.rFY(2,$e,[null==o.step.items?null:o.step.items.mul(o.percent),i.key,null==o.step.belts?null:o.step.belts.mul(o.percent),d.itemsState[o.step.itemId].beltId,null==o.step.wagons?null:o.step.wagons.mul(o.percent),d.itemsState[o.step.itemId].wagonId,null==o.step.machines?null:o.step.machines.mul(o.percent),null==o.step.recipeSettings?null:o.step.recipeSettings.machineId,o.step.recipeId,o.step.recipeObjectiveId,o.percent,c.recipeId,c.recipeObjectiveId]))}}function Ve(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ge,2,16,"ng-container",0),t.BQk()),2&e){const o=_.ngIf;t.xp6(1),t.Q6J("ngIf",o.step.itemId&&o.percent)}}function ze(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ve,2,1,"ng-container",0),t.BQk()),2&e){const o=_.$implicit,i=t.oxw(4).ngIf,c=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Bt,c.stepByItemEntities[o.key],null==c.stepByItemEntities[o.key].parents?null:c.stepByItemEntities[o.key].parents[i.id]))}}function Xe(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",123),t.YNc(2,He,1,0,"ng-container",136),t.TgZ(3,"td",137),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,ze,2,4,"ng-container",135),t.ALo(7,"keyvalue"),t.BQk()),2&e){const o=t.oxw(3).ngIf;t.oxw(2);const i=t.MAs(10),c=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.hij(" ",t.lcZ(5,3,"steps.inputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,o.recipe.in,c.trackSvc.sortByValue))}}function to(e,_){1&e&&t.GkF(0)}function no(e,_){1&e&&t.GkF(0)}function eo(e,_){1&e&&t.GkF(0)}function oo(e,_){1&e&&t.GkF(0)}const _o=function(e,_,o,i,c,d,f,J,B,V,et,z,$){return{items:e,itemId:_,belts:o,beltId:i,wagons:c,wagonId:d,machines:f,machineId:J,recipeId:B,recipeObjectiveId:V,percent:et,percentOnDest:!0,destId:z,destRecipeObjectiveId:$,destIsRecipe:!0}};function io(e,_){if(1&e&&(t.ynx(0),t.YNc(1,oo,1,0,"ng-container",138),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw().$implicit,c=t.oxw(3).ngIf,d=t.oxw(2).ngIf,f=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",t.rFY(2,_o,[null==o.step.items?null:o.step.items.mul(o.percent),i.key,null==o.step.belts?null:o.step.belts.mul(o.percent),d.itemsState[o.step.itemId].beltId,null==o.step.wagons?null:o.step.wagons.mul(o.percent),d.itemsState[o.step.itemId].wagonId,null==o.step.machines?null:o.step.machines.mul(o.percent),null==o.step.recipeSettings?null:o.step.recipeSettings.machineId,o.step.recipeId,o.step.recipeObjectiveId,o.percent,c.recipeId,c.recipeObjectiveId]))}}function ao(e,_){if(1&e&&(t.ynx(0),t.YNc(1,io,2,16,"ng-container",0),t.BQk()),2&e){const o=_.ngIf;t.xp6(1),t.Q6J("ngIf",o.step.itemId&&o.percent)}}function so(e,_){if(1&e&&(t.ynx(0),t.YNc(1,ao,2,1,"ng-container",0),t.BQk()),2&e){const o=_.$implicit,i=t.oxw(3).ngIf,c=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Bt,c.stepByItemEntities[o.key],null==i.outputs?null:i.outputs[o.key]))}}function co(e,_){if(1&e&&(t.ynx(0),t.YNc(1,We,8,8,"ng-container",0),t.YNc(2,Xe,8,8,"ng-container",0),t.ALo(3,"keyvalue"),t.TgZ(4,"tr",123),t.YNc(5,to,1,0,"ng-container",136),t.TgZ(6,"td",137),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"tr",123),t.YNc(10,no,1,0,"ng-container",136),t.TgZ(11,"td",68)(12,"span",70),t._uU(13),t.ALo(14,"rate"),t.qZA()(),t.TgZ(15,"td",71)(16,"div",47),t._UZ(17,"i",139),t.qZA()(),t._UZ(18,"td",126),t.qZA(),t.TgZ(19,"tr",123),t.YNc(20,eo,1,0,"ng-container",136),t.TgZ(21,"td",137),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.YNc(24,so,2,4,"ng-container",135),t.ALo(25,"keyvalue"),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf,c=t.MAs(10),d=t.oxw();t.xp6(1),t.Q6J("ngIf",i.data.game===d.Game.Factorio&&o.recipe.isMining),t.xp6(1),t.Q6J("ngIf",o.recipe&&t.lcZ(3,9,o.recipe.in).length),t.xp6(3),t.Q6J("ngTemplateOutlet",c),t.xp6(2),t.hij(" ",t.lcZ(8,11,"steps.time")," "),t.xp6(3),t.Q6J("ngTemplateOutlet",c),t.xp6(3),t.Oqu(t.xi3(14,13,o.recipe.time,i.columnsState.items.precision)),t.xp6(7),t.Q6J("ngTemplateOutlet",c),t.xp6(2),t.hij(" ",t.lcZ(23,16,"steps.outputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(25,18,o.recipe.out,d.trackSvc.sortByValue))}}function lo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,co,26,21,"ng-container",0),t.BQk()),2&e){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",o.recipe)}}function po(e,_){1&e&&t.GkF(0)}const Pt=function(e,_){return{value:e,itemId:_}};function ro(e,_){if(1&e&&(t.ynx(0),t.YNc(1,po,1,0,"ng-container",138),t.ALo(2,"rate"),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw().$implicit;t.oxw();const c=t.MAs(25),d=t.oxw(2).ngIf,f=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Pt,t.xi3(2,2,o.step.items.mul(o.percent).div(d.machines),f.columnsState.items.precision),i.key))}}function go(e,_){1&e&&t.GkF(0)}function mo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,go,1,0,"ng-container",138),t.ALo(2,"rate"),t.BQk()),2&e){const o=_.ngIf,i=t.oxw(4).ngIf;t.oxw(2);const c=t.MAs(25),d=t.oxw(2).ngIf,f=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Pt,t.xi3(2,2,i.step.belts.mul(i.percent).div(d.machines),f.columnsState.belts.precision),o))}}function uo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,mo,3,8,"ng-container",0),t.BQk()),2&e){const o=t.oxw(4).$implicit,i=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemsState[o.key].beltId)}}function fo(e,_){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,uo,2,1,"ng-container",0),t.qZA()),2&e){const o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.step.belts)}}function xo(e,_){1&e&&t.GkF(0)}function vo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,xo,1,0,"ng-container",138),t.ALo(2,"rate"),t.BQk()),2&e){const o=_.ngIf;t.oxw(6);const i=t.MAs(25);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,Pt,t.xi3(2,2,o.value,1),o.id))}}function ho(e,_){if(1&e&&(t.ynx(0),t.YNc(1,vo,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const o=t.oxw(3).ngIf,i=t.oxw(4).ngIf,c=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,o.step.items.mul(o.percent).div(i.machines).div(c.dispRateInfo.value),c.settings))}}function To(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,ho,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw().$implicit,c=t.oxw(5).ngIf,d=t.oxw();t.xp6(2),t.Q6J("ngIf",c.itemsState[i.key].beltId!==d.ItemId.Pipe&&o.step.items)}}function Io(e,_){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,ro,3,8,"ng-container",0),t.qZA(),t.YNc(3,fo,2,1,"td",0),t.YNc(4,To,3,1,"ng-container",0),t.qZA()),2&e){const o=t.oxw().ngIf,i=t.oxw(6).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngIf",o.step.items),t.xp6(1),t.Q6J("ngIf",i.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",i.data.game===c.Game.Factorio)}}function Co(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Io,5,3,"tr",0),t.BQk()),2&e){const o=_.ngIf;t.xp6(1),t.Q6J("ngIf",o.percent)}}function Zo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Co,2,1,"ng-container",0),t.BQk()),2&e){const o=_.$implicit,i=t.oxw(3).ngIf,c=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,Bt,c.stepByItemEntities[o.key],null==c.stepByItemEntities[o.key].parents?null:c.stepByItemEntities[o.key].parents[i.id]))}}function bo(e,_){if(1&e&&t._UZ(0,"lab-tooltip",67),2&e){const o=t.oxw(4).ngIf;t.Q6J("id",o.recipeId)}}function wo(e,_){if(1&e&&t._UZ(0,"lab-tooltip",95),2&e){const o=t.oxw().ngIf;t.Q6J("id",o)}}function Ao(e,_){if(1&e&&(t.TgZ(0,"div",14)(1,"i",66),t.ALo(2,"iconClass"),t.YNc(3,bo,1,1,"ng-template",null,64,t.W1O),t.qZA(),t.TgZ(5,"i",66),t.ALo(6,"iconClass"),t.YNc(7,wo,1,1,"ng-template",null,64,t.W1O),t.qZA()()),2&e){const o=_.ngIf,i=t.MAs(4),c=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.xi3(2,8,c.recipeId,"recipe")),t.Q6J("pTooltip",i)("autoHide",!1),t.xp6(4),t.Tol(t.lcZ(6,11,o)),t.Q6J("pTooltip",i)("autoHide",!1)}}function So(e,_){1&e&&t.GkF(0)}function Mo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,So,1,0,"ng-container",138),t.ALo(2,"rate"),t.BQk()),2&e){const o=_.ngIf;t.oxw(5);const i=t.MAs(25);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(5,Pt,t.xi3(2,2,o.value,1),o.id))}}function Oo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Mo,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,o,i.settings))}}function Jo(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,Oo,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const o=t.oxw(2).$implicit,i=t.oxw(5).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngIf",i.itemsState[o.key].beltId!==c.ItemId.Pipe)}}function yo(e,_){1&e&&t.GkF(0)}function Eo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,yo,1,0,"ng-container",138),t.ALo(2,"rate"),t.BQk()),2&e){const o=_.ngIf,i=t.oxw(2).ngIf;t.oxw(2);const c=t.MAs(25),d=t.oxw(4).ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Pt,t.xi3(2,2,i.div(d.beltSpeed[o]),d.columnsState.belts.precision),o))}}function Po(e,_){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,Eo,3,8,"ng-container",0),t.qZA()),2&e){const o=t.oxw(2).$implicit,i=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",i.itemsState[o.key].beltId)}}function No(e,_){1&e&&t.GkF(0)}function Qo(e,_){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,Jo,3,1,"ng-container",0),t.YNc(2,Po,2,1,"td",0),t.TgZ(3,"td"),t.YNc(4,No,1,0,"ng-container",138),t.ALo(5,"rate"),t.qZA()()),2&e){const o=_.ngIf,i=t.oxw().$implicit;t.oxw();const c=t.MAs(25),d=t.oxw(4).ngIf,f=t.oxw();t.xp6(1),t.Q6J("ngIf",d.data.game===f.Game.Factorio),t.xp6(1),t.Q6J("ngIf",d.columnsState.belts.show),t.xp6(2),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(7,Pt,t.xi3(5,4,o.mul(d.dispRateInfo.value),d.columnsState.items.precision),i.key))}}function Lo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Qo,6,10,"tr",0),t.BQk()),2&e){const o=_.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngIf",o.value.div(i.recipe.time))}}function ko(e,_){if(1&e&&t._UZ(0,"lab-tooltip",65),2&e){const o=t.oxw().itemId;t.Q6J("id",o)}}function Bo(e,_){if(1&e&&(t.TgZ(0,"div",143)(1,"span",70),t._uU(2),t.qZA(),t.TgZ(3,"i",66),t.ALo(4,"iconClass"),t.YNc(5,ko,1,1,"ng-template",null,64,t.W1O),t.qZA()()),2&e){const o=_.value,i=_.itemId,c=t.MAs(6);t.xp6(2),t.Oqu(o),t.xp6(1),t.Tol(t.lcZ(4,5,i)),t.Q6J("pTooltip",c)("autoHide",!1)}}function Do(e,_){if(1&e&&(t.TgZ(0,"div",14)(1,"table",140),t.YNc(2,Zo,2,4,"ng-container",135),t.ALo(3,"keyvalue"),t.qZA(),t._UZ(4,"i",141),t.TgZ(5,"table",140)(6,"tr")(7,"td",68)(8,"span",70),t._uU(9),t.ALo(10,"rate"),t.qZA()(),t.TgZ(11,"td"),t.YNc(12,Ao,9,13,"div",88),t.qZA()(),t.TgZ(13,"tr")(14,"td",68)(15,"span",70),t._uU(16),t.ALo(17,"rate"),t.qZA()(),t.TgZ(18,"td"),t._UZ(19,"i",139),t.qZA()()(),t._UZ(20,"i",141),t.TgZ(21,"table",140),t.YNc(22,Lo,2,1,"ng-container",135),t.ALo(23,"keyvalue"),t.qZA(),t.YNc(24,Bo,7,7,"ng-template",null,142,t.W1O),t.qZA()),2&e){const o=t.oxw(2).ngIf,i=t.oxw(2).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,5,o.recipe.in,c.trackSvc.sortByValue)),t.xp6(7),t.Oqu(t.xi3(10,8,c.Rational.one,i.columnsState.machines.precision)),t.xp6(3),t.Q6J("ngIf",null==o.recipeSettings?null:o.recipeSettings.machineId),t.xp6(4),t.Oqu(t.xi3(17,11,i.dispRateInfo.value,i.columnsState.machines.precision)),t.xp6(6),t.Q6J("ngForOf",t.xi3(23,14,o.recipe.out,c.trackSvc.sortByValue))}}function Uo(e,_){1&e&&(t.TgZ(0,"div"),t._UZ(1,"small",144),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"steps.inserterCountInfo"),t.oJD))}function Ro(e,_){if(1&e&&(t.TgZ(0,"tr",123),t._UZ(1,"td"),t.TgZ(2,"td",126),t.YNc(3,Do,26,17,"div",88),t.YNc(4,Uo,3,3,"div",0),t.qZA()()),2&e){const o=t.oxw().ngIf,i=t.oxw(2).ngIf,c=t.oxw();t.xp6(3),t.Q6J("ngIf",o.recipeId&&o.recipe&&o.machines),t.xp6(1),t.Q6J("ngIf",i.data.game===c.Game.Factorio)}}function Yo(e,_){if(1&e&&t._UZ(0,"lab-tooltip",67),2&e){const o=t.oxw().$implicit;t.Q6J("id",o)}}function qo(e,_){if(1&e){const o=t.EpF();t.TgZ(0,"button",150),t.NdJ("click",function(){const d=t.CHM(o).$implicit,f=t.oxw(5).ngIf,J=t.oxw();return t.KtG(J.toggleRecipe(d,f.recipesState,f.data))}),t.ALo(1,"iconSmClass"),t._UZ(2,"i",63),t.YNc(3,Yo,1,1,"ng-template",null,64,t.W1O),t.qZA()}if(2&e){const o=_.$implicit,i=t.MAs(4),c=t.oxw(5).ngIf;t.ekj("hover-active",c.recipesState[o].excluded),t.Q6J("icon",t.xi3(1,5,o,"recipe"))("pTooltip",i)("autoHide",!1)}}function Ko(e,_){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"tr",123),t._UZ(2,"td"),t.TgZ(3,"td",126)(4,"div")(5,"div",145),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",146)(9,"small"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"p-checkbox",147),t.NdJ("onChange",function(){const d=t.CHM(o).ngIf,f=t.oxw(4).ngIf,J=t.oxw();return t.KtG(J.toggleRecipes(d.recipeIds,d.allRecipesIncluded,f.data))}),t.ALo(13,"translate"),t.qZA()()()(),t.TgZ(14,"tr",123),t._UZ(15,"td"),t.TgZ(16,"td",126)(17,"div",148),t.YNc(18,qo,5,8,"button",149),t.qZA()()(),t.BQk()}if(2&e){const o=_.ngIf;t.xp6(6),t.hij(" ",t.lcZ(7,6,"steps.includedRecipes")," "),t.xp6(4),t.Oqu(t.lcZ(11,8,"steps.includedRecipesInfo")),t.xp6(2),t.Q6J("ngModel",o.allRecipesIncluded)("binary",!0)("label",t.lcZ(13,10,"picker.includeAll")),t.xp6(6),t.Q6J("ngForOf",o.recipeIds)}}function Fo(e,_){if(1&e&&(t.ynx(0),t.YNc(1,Ko,19,12,"ng-container",0),t.BQk()),2&e){const o=t.oxw().ngIf,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",o.itemId&&i.stepDetails[o.id])}}function Wo(e,_){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"tr",123)(2,"td")(3,"a",124),t._UZ(4,"button",125),t.qZA()(),t.TgZ(5,"td",126)(6,"p-tabMenu",127,128),t.NdJ("activeItemChange",function(c){const f=t.CHM(o).ngIf,J=t.oxw(3);return t.KtG(J.setActiveItem(f,c))}),t.ALo(8,"stepId"),t.YNc(9,Ae,4,5,"ng-template",79),t.qZA()()(),t.ynx(10,129),t.YNc(11,De,6,7,"ng-container",130),t.YNc(12,lo,2,1,"ng-container",130),t.YNc(13,Ro,5,2,"tr",131),t.YNc(14,Fo,2,1,"ng-container",130),t.BQk()()}if(2&e){const o=_.ngIf,i=t.MAs(7),c=t.oxw(2).ngIf,d=t.oxw();t.xp6(3),t.Q6J("relativeTo",d.route)("fragment",o.id),t.xp6(3),t.Q6J("model",c.stepDetails[o.id].tabs)("activeItem",d.activeItem[t.lcZ(8,9,o)]),t.xp6(4),t.Q6J("ngSwitch",null==i.activeItem?null:i.activeItem.label),t.xp6(1),t.Q6J("ngSwitchCase",d.StepDetailTab.Item),t.xp6(1),t.Q6J("ngSwitchCase",d.StepDetailTab.Recipe),t.xp6(1),t.Q6J("ngSwitchCase",d.StepDetailTab.Machine),t.xp6(1),t.Q6J("ngSwitchCase",d.StepDetailTab.Recipes)}}function Ho(e,_){1&e&&(t.YNc(0,Wo,15,11,"ng-container",0),t.ALo(1,"asStep")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,_.$implicit))}function jo(e,_){1&e&&(t.TgZ(0,"tr")(1,"td",126)(2,"div",52)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"steps.emptyMessage")))}function $o(e,_){if(1&e&&t.YNc(0,jo,6,3,"tr",0),2&e){const o=t.oxw().ngIf;t.Q6J("ngIf",o.focus)}}function Go(e,_){1&e&&t._UZ(0,"td",36)}function Vo(e,_){1&e&&t._UZ(0,"td")}function zo(e,_){1&e&&t._UZ(0,"td")}function Xo(e,_){if(1&e&&(t._UZ(0,"td"),t.YNc(1,Vo,1,0,"td",0),t.YNc(2,zo,1,0,"td",0)),2&e){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",!o.focus&&o.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",!o.focus&&o.columnsState.tree.show)}}function t_(e,_){1&e&&t.GkF(0)}function n_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",65),2&e){const o=t.oxw(2).itemId;t.Q6J("id",o)}}function e_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",82),2&e){const o=t.oxw(4).beltId;t.Q6J("id",o)}}function o_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",68)(2,"span",70),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",71)(6,"div",47)(7,"i",66),t.ALo(8,"iconClass"),t.YNc(9,e_,1,1,"ng-template",null,64,t.W1O),t.qZA()()(),t.BQk()),2&e){const o=t.MAs(10),i=t.oxw(3),c=i.belts,d=i.beltId,f=t.oxw().ngIf;t.xp6(3),t.Oqu(t.xi3(4,5,c,f.columnsState.belts.precision)),t.xp6(4),t.Tol(t.lcZ(8,8,d)),t.Q6J("pTooltip",o)("autoHide",!1)}}function __(e,_){if(1&e&&(t.ynx(0),t.YNc(1,o_,11,10,"ng-container",0),t.BQk()),2&e){const o=t.oxw(2),i=o.belts,c=o.beltId;t.xp6(1),t.Q6J("ngIf",i&&c)}}function i_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",85),2&e){const o=t.oxw(5).wagonId;t.Q6J("id",o)}}function a_(e,_){if(1&e&&(t.TgZ(0,"i",66),t.ALo(1,"iconClass"),t.YNc(2,i_,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=t.MAs(3),i=t.oxw(4).wagonId;t.Tol(t.lcZ(1,4,i)),t.Q6J("pTooltip",o)("autoHide",!1)}}function s_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",87),2&e){const o=t.oxw(5).wagonId;t.Q6J("id",o)}}function c_(e,_){if(1&e&&(t.TgZ(0,"i",66),t.ALo(1,"iconClass"),t.YNc(2,s_,1,1,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=t.MAs(3),i=t.oxw(4).wagonId;t.Tol(t.lcZ(1,4,i)),t.Q6J("pTooltip",o)("autoHide",!1)}}function l_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",68)(2,"span",70),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",71)(6,"div",47),t.YNc(7,a_,4,6,"i",154),t.YNc(8,c_,4,6,"ng-template",null,155,t.W1O),t.qZA()(),t.BQk()),2&e){const o=t.MAs(9),i=t.oxw(3),c=i.wagons,d=i.wagonId,f=t.oxw().ngIf;t.xp6(3),t.Oqu(t.xi3(4,3,c,f.columnsState.wagons.precision)),t.xp6(4),t.Q6J("ngIf",-1!==f.data.cargoWagonIds.indexOf(d))("ngIfElse",o)}}function p_(e,_){if(1&e&&(t.ynx(0),t.YNc(1,l_,10,6,"ng-container",0),t.BQk()),2&e){const o=t.oxw(2),i=o.wagons,c=o.wagonId;t.xp6(1),t.Q6J("ngIf",i&&c)}}function r_(e,_){if(1&e&&(t.TgZ(0,"span",70),t._uU(1),t.ALo(2,"machineRate"),t.qZA()),2&e){const o=t.oxw(2),i=o.machines,c=o.machineId,d=t.oxw().ngIf;t.xp6(1),t.Oqu(t.Dn7(2,1,i,d.columnsState.machines.precision,c))}}function g_(e,_){1&e&&(t.TgZ(0,"div",156),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"steps.inputs")," "))}function d_(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw(3).recipeObjectiveId;t.xp6(1),t.hij("#",o,"")}}function m_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",67),2&e){const o=t.oxw(3).recipeId;t.Q6J("id",o)}}function u_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",95),2&e){const o=t.oxw(3).machineId;t.Q6J("id",o)}}function f_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"i",66),t.ALo(2,"iconClass"),t.YNc(3,d_,2,1,"span",0),t.YNc(4,m_,1,1,"ng-template",null,64,t.W1O),t.qZA(),t.TgZ(6,"i",66),t.ALo(7,"iconClass"),t.YNc(8,u_,1,1,"ng-template",null,64,t.W1O),t.qZA(),t.BQk()),2&e){const o=t.MAs(5),i=t.oxw(2),c=i.recipeId,d=i.recipeObjectiveId,f=i.machineId;t.xp6(1),t.Tol(t.xi3(2,9,c,"recipe")),t.Q6J("pTooltip",o)("autoHide",!1),t.xp6(2),t.Q6J("ngIf",d),t.xp6(3),t.Tol(t.lcZ(7,12,f)),t.Q6J("pTooltip",o)("autoHide",!1)}}function x_(e,_){1&e&&(t.TgZ(0,"div",157),t._UZ(1,"i",158),t.qZA(),t.TgZ(2,"div",157),t._UZ(3,"i",158),t.qZA())}function v_(e,_){1&e&&t._UZ(0,"i",161)}function h_(e,_){1&e&&t._UZ(0,"i",161)}function T_(e,_){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw(4).destRecipeObjectiveId;t.xp6(1),t.hij("#",o,"")}}function I_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",162),2&e){const o=t.oxw(4),c=o.destIsRecipe;t.Q6J("id",o.destId)("type",c?"recipe":"item")}}function C_(e,_){if(1&e&&(t.TgZ(0,"i",66),t.ALo(1,"iconClass"),t.YNc(2,T_,2,1,"span",0),t.YNc(3,I_,1,2,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=t.MAs(4),i=t.oxw(3),f=i.destRecipeObjectiveId;t.Tol(t.xi3(1,5,i.destId,i.destIsRecipe?"recipe":"item")),t.Q6J("pTooltip",o)("autoHide",!1),t.xp6(2),t.Q6J("ngIf",f)}}function Z_(e,_){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"steps.outputs")," "))}function b_(e,_){if(1&e&&(t.ynx(0),t.YNc(1,v_,1,0,"i",159),t.TgZ(2,"span",70),t._uU(3),t.ALo(4,"leftPad"),t.ALo(5,"rate"),t.qZA(),t.YNc(6,h_,1,0,"i",159),t.YNc(7,C_,5,8,"i",160),t.YNc(8,Z_,3,3,"span",0),t.BQk()),2&e){const o=t.oxw(2),i=o.percentOnDest,c=o.percent,d=o.destId,f=o.outputs;t.xp6(1),t.Q6J("ngIf",i),t.xp6(2),t.hij("",t.lcZ(4,5,t.xi3(5,7,c,-2)),"%"),t.xp6(3),t.Q6J("ngIf",!i),t.xp6(1),t.Q6J("ngIf",d),t.xp6(1),t.Q6J("ngIf",f)}}function w_(e,_){if(1&e&&(t.ynx(0),t.YNc(1,t_,1,0,"ng-container",136),t.TgZ(2,"td",68)(3,"span",70),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",71)(7,"div",47)(8,"i",66),t.ALo(9,"iconClass"),t.YNc(10,n_,1,1,"ng-template",null,64,t.W1O),t.qZA()()(),t.YNc(12,__,2,1,"ng-container",0),t.YNc(13,p_,2,1,"ng-container",0),t.TgZ(14,"td",68),t.YNc(15,r_,3,5,"span",69),t.ALo(16,"machineShowRate"),t.qZA(),t.TgZ(17,"td",151)(18,"div",14),t.YNc(19,g_,3,3,"div",152),t.YNc(20,f_,10,14,"ng-container",50),t.ALo(21,"machineShow"),t.YNc(22,x_,4,0,"ng-template",null,153,t.W1O),t.YNc(24,b_,9,10,"ng-container",0),t.qZA()(),t.BQk()),2&e){const o=t.MAs(11),i=t.MAs(23),c=t.oxw(),d=c.items,f=c.itemId,J=c.machines,B=c.machineId,V=c.inputs,et=c.percent,z=t.oxw().ngIf,$=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",$),t.xp6(3),t.Oqu(t.xi3(5,13,d,z.columnsState.items.precision)),t.xp6(4),t.Tol(t.lcZ(9,16,f)),t.Q6J("pTooltip",o)("autoHide",!1),t.xp6(4),t.Q6J("ngIf",z.columnsState.belts.show),t.xp6(1),t.Q6J("ngIf",z.columnsState.wagons.show),t.xp6(2),t.Q6J("ngIf",J&&J.nonzero()&&t.xi3(16,18,B,z.data.game)),t.xp6(4),t.Q6J("ngIf",V),t.xp6(1),t.Q6J("ngIf",t.xi3(21,21,B,z.data.game))("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",et)}}function A_(e,_){if(1&e&&(t.TgZ(0,"tr",123),t.YNc(1,w_,25,24,"ng-container",0),t.qZA()),2&e){const o=_.itemId;t.xp6(1),t.Q6J("ngIf",o)}}function S_(e,_){1&e&&t._UZ(0,"td")}function M_(e,_){1&e&&t._UZ(0,"td")}function O_(e,_){1&e&&t.GkF(0)}function J_(e,_){1&e&&t.GkF(0)}function y_(e,_){1&e&&t.GkF(0)}function E_(e,_){1&e&&t.GkF(0)}function P_(e,_){if(1&e&&(t.TgZ(0,"td",165)(1,"span",70),t._uU(2),t.ALo(3,"power"),t.qZA()()),2&e){const o=t.oxw(3).ngIf;t.xp6(2),t.Oqu(t.Dn7(3,1,o.totals.power,o.columnsState.power.precision,o.effectivePowerUnit))}}function N_(e,_){if(1&e&&(t.TgZ(0,"td",165)(1,"span",70),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const o=t.oxw(3).ngIf;t.xp6(2),t.Oqu(t.xi3(3,1,o.totals.pollution,o.columnsState.pollution.precision))}}function Q_(e,_){1&e&&t._UZ(0,"td")}const L_=function(e,_){return{columnSettings:e,totals:_,type:"belt"}},k_=function(e,_){return{columnSettings:e,totals:_}},B_=function(e,_,o){return{columnSettings:e,totals:_,modulesTotals:o,type:"machine"}},D_=function(e,_,o){return{columnSettings:e,totals:_,modulesTotals:o,type:"beacon"}};function U_(e,_){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.YNc(2,S_,1,0,"td",0),t.YNc(3,M_,1,0,"td",0),t.TgZ(4,"td",36),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,O_,1,0,"ng-container",138),t.YNc(8,J_,1,0,"ng-container",138),t.YNc(9,y_,1,0,"ng-container",138),t.YNc(10,E_,1,0,"ng-container",138),t.YNc(11,P_,4,5,"td",164),t.YNc(12,N_,4,4,"td",164),t.YNc(13,Q_,1,0,"td",0),t.qZA()),2&e){t.oxw();const o=t.MAs(2),i=t.oxw().ngIf;t.xp6(2),t.Q6J("ngIf",i.columnsState.checkbox.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.tree.show),t.xp6(2),t.hij(" ",t.lcZ(6,14,"steps.total")," "),t.xp6(2),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(16,L_,i.columnsState.belts,i.totals.belts)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(19,k_,i.columnsState.wagons,i.totals.wagons)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.kEZ(22,B_,i.columnsState.machines,i.totals.machines,i.totals.machineModules)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.kEZ(26,D_,i.columnsState.beacons,i.totals.beacons,i.totals.beaconModules)),t.xp6(1),t.Q6J("ngIf",i.columnsState.power.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.pollution.show),t.xp6(1),t.Q6J("ngIf",i.columnsState.link.show)}}function R_(e,_){if(1&e&&(t.TgZ(0,"div",172)(1,"span",70),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const o=_.$implicit,i=t.oxw(2).columnSettings;t.xp6(2),t.Oqu(t.xi3(3,1,o.value,i.precision))}}function Y_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",162),2&e){const o=t.oxw().$implicit,i=t.oxw(2).type;t.Q6J("id",o.key)("type",i)}}function q_(e,_){if(1&e&&(t.TgZ(0,"i",173),t.ALo(1,"iconClass"),t.YNc(2,Y_,1,2,"ng-template",null,64,t.W1O),t.qZA()),2&e){const o=_.$implicit,i=t.MAs(3);t.Tol(t.xi3(1,4,o.key,"item")),t.Q6J("pTooltip",i)("autoHide",!1)}}function K_(e,_){if(1&e&&t._UZ(0,"lab-tooltip",104),2&e){const o=t.oxw().$implicit;t.Q6J("id",o.key)}}function F_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"div",172)(2,"span",70),t._uU(3),t.qZA()(),t.TgZ(4,"i",173),t.ALo(5,"iconClass"),t.YNc(6,K_,1,1,"ng-template",null,64,t.W1O),t.qZA(),t.BQk()),2&e){const o=_.$implicit,i=t.MAs(7);t.xp6(3),t.Oqu(o.value),t.xp6(1),t.Tol(t.xi3(5,5,o.key,"item")),t.Q6J("pTooltip","module"!==o.key?i:void 0)("autoHide",!1)}}function W_(e,_){if(1&e&&(t.ynx(0),t.TgZ(1,"td",166),t.YNc(2,R_,4,4,"div",167),t.ALo(3,"keyvalue"),t.qZA(),t.TgZ(4,"td",168)(5,"div",47)(6,"div",169),t.YNc(7,q_,4,7,"i",170),t.ALo(8,"keyvalue"),t.qZA(),t.TgZ(9,"div",171),t.YNc(10,F_,8,8,"ng-container",135),t.ALo(11,"keyvalue"),t.qZA()()(),t.BQk()),2&e){const o=t.oxw(),i=o.totals,c=o.modulesTotals,d=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,3,i,d.trackSvc.sortByValue)),t.xp6(5),t.Q6J("ngForOf",t.xi3(8,6,i,d.trackSvc.sortByValue)),t.xp6(3),t.Q6J("ngForOf",t.xi3(11,9,c,d.trackSvc.sortByValue))}}function H_(e,_){1&e&&t.YNc(0,W_,12,12,"ng-container",0),2&e&&t.Q6J("ngIf",_.columnSettings.show)}function j_(e,_){if(1&e&&(t.YNc(0,U_,14,30,"tr",0),t.YNc(1,H_,1,1,"ng-template",null,163,t.W1O)),2&e){const o=t.oxw().ngIf;t.Q6J("ngIf",!o.focus)}}const $_=function(){return[25,50,100,1e3]};function G_(e,_){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"p-table",1,2),t.NdJ("rowsChange",function(c){t.CHM(o);const d=t.oxw();return t.KtG(d.setRows(c))})("sortFunction",function(c){t.CHM(o);const d=t.oxw();return t.KtG(d.sortSteps$.next(c))}),t.YNc(3,Ft,26,21,"ng-template",3),t.YNc(4,we,2,3,"ng-template",4),t.YNc(5,Ho,2,3,"ng-template",5),t.YNc(6,$o,1,1,"ng-template",6),t.YNc(7,Go,1,0,"ng-template",null,7,t.W1O),t.YNc(9,Xo,3,2,"ng-template",null,8,t.W1O),t.YNc(11,A_,2,1,"ng-template",null,9,t.W1O),t.YNc(13,j_,3,1,"ng-template",10),t.qZA(),t.BQk()}if(2&e){const o=_.ngIf,i=t.oxw();t.xp6(1),t.Q6J("rowTrackBy",i.trackSvc.trackStep)("value",o.steps)("customSort",!0)("rowExpandMode",o.focus?"single":"multiple")("defaultSortOrder",-1)("paginator",!o.focus&&!o.preferences.disablePaginator)("rows",o.preferences.rows)("rowsPerPageOptions",t.DdM(9,$_))("showCurrentPageReport",!0)}}let de=((X=class{constructor(){this.document=(0,t.f3M)(Q.K0),this.route=(0,t.f3M)(O.gz),this.ref=(0,t.f3M)(t.sBO),this.contentSvc=(0,t.f3M)(ct._s),this.trackSvc=(0,t.f3M)(ct.Ql),this.store=(0,t.f3M)(L.yh),this.exportSvc=(0,t.f3M)(ct.Ty),this.routerSvc=(0,t.f3M)(ct.cw),this.focus$=new I.X(!1),this.selectedId$=new I.X(null),this.steps$=(0,P.a)({focus:this.focus$,selectedId:this.selectedId$,steps:this.store.select(w.VJ.It)}).pipe((0,C.U)(({focus:_,selectedId:o,steps:i})=>_?i.filter(c=>c.id===o):i)),this.vm$=(0,P.a)({focus:this.focus$,machinesState:this.store.select(w._S.s$),itemsState:this.store.select(w.ob.TT),itemsModified:this.store.select(w.ob.n9),stepsModified:this.store.select(w.VJ.YA),totals:this.store.select(w.VJ.j_),steps:this.steps$,stepDetails:this.store.select(w.VJ.fs),stepById:this.store.select(w.VJ.Zb),stepByItemEntities:this.store.select(w.VJ.n_),stepTree:this.store.select(w.VJ._H),effectivePowerUnit:this.store.select(w.VJ.Um),recipesState:this.store.select(w.lx.lW),recipesModified:this.store.select(w.VJ.Ue),data:this.store.select(w.lx.O8),columnsState:this.store.select(w.Zr.dK),settings:this.store.select(w.Zr.Gw),dispRateInfo:this.store.select(w.Zr.Jm),options:this.store.select(w.Zr.FW),beltSpeed:this.store.select(w.Zr.oQ),beltSpeedTxt:this.store.select(w.Zr.dc),preferences:this.store.select(w.uP.eD),zipPartial:this.routerSvc.zipConfig$}).pipe((0,U.b)(_=>{_.steps=[..._.steps],this.setActiveItems(_.steps,_.stepDetails),_.focus&&this.stepsTable?.toggleRow(_.steps[0])})),this.sortSteps$=new I.X(null),this.activeItem={},this.stepDetailIcon=W.gN,this.ItemId=W.bN,this.StepDetailTab=W.Ar,this.Game=W.lA,this.RecipeField=W.jw,this.EnergyType=W.pV,this.ObjectiveUnit=W.iK,this.Rational=W.uG}set focus(_){this.focus$.next(_)}set selectedId(_){this.selectedId$.next(_)}ngOnInit(){this.route.fragment.pipe((0,T.P)(),(0,G.h)(_=>null!=_)).subscribe(_=>{this.fragmentId=_}),(0,P.a)([this.sortSteps$.pipe((0,ot.e)((e,_)=>{let o,i=!1;e.subscribe((0,lt.x)(_,c=>{const d=o;o=c,i&&_.next([d,c]),i=!0}))})),this.store.select(w.VJ.It)]).pipe((0,g.t)(this)).subscribe(([[_,o],i])=>{this.sortSteps(_,o,i)})}ngAfterViewInit(){try{if(this.fragmentId){const[_,o,i]=this.fragmentId.split("_");(0,P.a)([this.store.select(w.VJ.It),this.store.select(w.VJ.fs)]).pipe((0,T.P)()).subscribe(([c,d])=>{const f=c.find(J=>J.id===o);f&&d[f.id].tabs.length&&this.stepsTable&&(this.stepsTable.toggleRow(f),setTimeout(()=>{if(i){const B=this.document.querySelector("#"+this.fragmentId);B&&B.click()}else this.document.querySelector("#"+this.fragmentId)?.scrollIntoView()},10))})}}catch{}}sortSteps(_,o,i){if(null==o||null==o.order||null==o.field)return;const c=o.order,d=o.field;if(null!=_&&_.field===d&&_.order!==c&&-1===c&&null!=this.stepsTable)return o.data?.sort((f,J)=>i.indexOf(f)-i.indexOf(J)),this.stepsTable.sortOrder=0,this.stepsTable.sortField="",this.stepsTable.reset(),this.sortSteps$.next(null);o.data?.sort((f,J)=>(f[d]??W.uG.zero).sub(J[d]??W.uG.zero).toNumber()*c)}setActiveItems(_,o){_.forEach(i=>{const c=pt.transform(i),d=this.activeItem[c],f=o[i.id];if(null!=f)if(null==d)this.activeItem[c]=f.tabs[0];else{const J=f.tabs.find(B=>B.label===d.label);this.activeItem[c]=null==J?f.tabs[0]:J}})}setActiveItem(_,o){const i=pt.transform(_);this.activeItem[i]=o}resetStep(_){_.itemId&&this.resetItem(_.itemId),_.recipeObjectiveId?this.resetRecipeObjective(_.recipeObjectiveId):_.recipeId&&this.resetRecipe(_.recipeId)}export(_,o,i,c,d){this.exportSvc.stepsToCsv(_,c,o,i,d)}toggleRecipes(_,o,i){const c=_.map(d=>({id:d,value:o,def:(i.defaults?.excludedRecipeIds??[]).includes(d)}));this.setRecipeExcludedBatch(c)}toggleRecipe(_,o,i){const c=!o[_].excluded,d=(i.defaults?.excludedRecipeIds??[]).some(f=>f===_);this.setRecipeExcluded(_,c,d)}changeRecipeField(_,o,i,c,d,f,J){if(null==_.recipeId)return;const B=_.recipeObjectiveId??_.recipeId,V=null!=_.recipeObjectiveId,et=_.recipeSettings;if(et?.machineId){const z=i.entities[et.machineId];switch(d){case W.jw.Machine:"string"==typeof o&&null!=i.ids&&this.setMachine(_.recipeObjectiveId??_.recipeId,o,it.M6.bestMatch(c.recipeEntities[_.recipeId].producers,i.ids),null!=_.recipeObjectiveId);break;case W.jw.Fuel:"string"==typeof o&&this.setFuel(_.recipeObjectiveId??_.recipeId,o,z.fuelId,null!=_.recipeObjectiveId);break;case W.jw.MachineModules:if(null!=z.moduleRankIds&&null!=c&&"string"==typeof o&&null!=f&&null!=et.machineModuleIds){const Et=et.machineModuleIds.length,me=it.M6.moduleOptions(c.machineEntities[et.machineId],_.recipeId,c),ue=it.M6.defaultModules(me,z.moduleRankIds,Et),fe=this.generateModules(f,o,et.machineModuleIds);this.setMachineModules(B,fe,ue,V)}break;case W.jw.BeaconCount:"string"==typeof o&&null!=f&&this.setBeaconCount(B,f,o,z.beaconCount,V);break;case W.jw.Beacon:"string"==typeof o&&null!=f&&this.setBeacon(B,f,o,z.beaconId,V);break;case W.jw.BeaconModules:if(null!=z.beaconModuleRankIds&&"string"==typeof o&&null!=f&&null!=J){const $=et.beacons?.[f];if(null!=$?.id&&null!=$?.moduleIds){const me=$.moduleIds.length,ue=it.M6.moduleOptions(c.beaconEntities[$.id],_.recipeId,c),fe=it.M6.defaultModules(ue,z.beaconModuleRankIds,me),V_=this.generateModules(J,o,$.moduleIds);this.setBeaconModules(B,f,V_,fe,V)}}break;case W.jw.BeaconTotal:"string"==typeof o&&null!=f&&this.setBeaconTotal(B,f,o,V);break;case W.jw.Overclock:if("number"==typeof o){const $=z.overclock,Et=Math.max(1,Math.min(250,o));this.setOverclock(B,Et,$,V)}}}}generateModules(_,o,i){const c=[...i];for(let d=_;d<c.length;d++)c[d]=o;return c}changeStepChecked(_,o){null!=_.itemId?this.setItemChecked(_.itemId,o):null!=_.recipeObjectiveId?this.setRecipeChecked(_.recipeObjectiveId,o,!0):null!=_.recipeId&&this.setRecipeChecked(_.recipeId,o)}setRows(_){this.store.dispatch(new w.uP.PS(_))}setItemExcluded(_,o){this.store.dispatch(new w.ob.aF({id:_,value:o}))}setItemChecked(_,o){this.store.dispatch(new w.ob.dR({id:_,value:o}))}setBelt(_,o,i){this.store.dispatch(new w.ob.IC({id:_,value:o,def:i}))}setWagon(_,o,i){this.store.dispatch(new w.ob.tb({id:_,value:o,def:i}))}setRecipeExcluded(_,o,i){this.store.dispatch(new w.lx.aF({id:_,value:o,def:i}))}setRecipeExcludedBatch(_){this.store.dispatch(new w.lx.Z(_))}addObjective(_){this.store.dispatch(new w.VJ.OV(_))}setMachine(_,o,i,c=!1){this.store.dispatch(new(c?w.VJ.CQ:w.lx.CQ)({id:_,value:o,def:i}))}setFuel(_,o,i,c=!1){this.store.dispatch(new(c?w.VJ.iA:w.lx.iA)({id:_,value:o,def:i}))}setMachineModules(_,o,i,c=!1){this.store.dispatch(new(c?w.VJ.m1:w.lx.m1)({id:_,value:o,def:i}))}addBeacon(_,o=!1){this.store.dispatch(new(o?w.VJ.o4:w.lx.o4)(_))}removeBeacon(_,o,i=!1){this.store.dispatch(new(i?w.VJ.U7:w.lx.U7)({id:_,value:o}))}setBeaconCount(_,o,i,c,d=!1){this.store.dispatch(new(d?w.VJ.OE:w.lx.OE)({id:_,index:o,value:i,def:c}))}setBeacon(_,o,i,c,d=!1){this.store.dispatch(new(d?w.VJ.nO:w.lx.nO)({id:_,index:o,value:i,def:c}))}setBeaconModules(_,o,i,c,d=!1){this.store.dispatch(new(d?w.VJ.Hg:w.lx.Hg)({id:_,index:o,value:i,def:c}))}setBeaconTotal(_,o,i,c=!1){this.store.dispatch(new(c?w.VJ.K7:w.lx.K7)({id:_,index:o,value:i}))}setOverclock(_,o,i,c=!1){this.store.dispatch(new(c?w.VJ.Eb:w.lx.Eb)({id:_,value:o,def:i}))}setRecipeChecked(_,o,i=!1){this.store.dispatch(new(i?w.VJ.dR:w.lx.dR)({id:_,value:o}))}resetItem(_){this.store.dispatch(new w.ob.bj(_))}resetRecipe(_){this.store.dispatch(new w.lx.in(_))}resetRecipeObjective(_){this.store.dispatch(new w.VJ.Hv(_))}resetChecked(){this.store.dispatch(new w.ob.JH)}resetExcluded(){this.store.dispatch(new w.ob.y9)}resetBelts(){this.store.dispatch(new w.ob.t_)}resetWagons(){this.store.dispatch(new w.ob.Cw)}resetMachines(){this.store.dispatch(new w.lx.B_)}resetBeacons(){this.store.dispatch(new w.lx.t8)}}).\u0275fac=function(_){return new(_||X)},X.\u0275cmp=t.Xpm({type:X,selectors:[["lab-steps"]],viewQuery:function(_,o){if(1&_&&t.Gf(st,5),2&_){let i;t.iGM(i=t.CRH())&&(o.stepsTable=i.first)}},inputs:{focus:"focus",selectedId:"selectedId"},decls:2,vars:3,consts:[[4,"ngIf"],["dataKey","id","styleClass","p-datatable-sm",3,"rowTrackBy","value","customSort","rowExpandMode","defaultSortOrder","paginator","rows","rowsPerPageOptions","showCurrentPageReport","rowsChange","sortFunction"],["stepsTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["emptyCol2",""],["leftPad",""],["detailRow",""],["pTemplate","footer"],[1,"w-0","px-1"],["pButton","","pRipple","","type","button","icon","fa-solid fa-table-columns",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],["colspan","2","pSortableColumn","items"],[1,"d-flex","align-items-center"],["field","items",4,"ngIf"],["pButton","","pRipple","","type","button","class","ms-2 p-button-text p-button-rounded","icon","fa-solid fa-rotate-left",3,"pTooltip","click",4,"ngIf"],["colspan","2","pSortableColumn","belts",4,"ngIf"],["colspan","2","pSortableColumn","wagons",4,"ngIf"],["colspan","2","pSortableColumn","machines"],["field","machines",4,"ngIf"],["colspan","2",4,"ngIf"],["pSortableColumn","power",4,"ngIf"],["pSortableColumn","pollution",4,"ngIf"],["class","w-0 px-1",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fa-solid","fa-square-check"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"ms-2","p-button-text","p-button-rounded",3,"pTooltip","click"],["field","items"],["colspan","2","pSortableColumn","belts"],["field","belts",4,"ngIf"],["field","belts"],["colspan","2","pSortableColumn","wagons"],["field","wagons",4,"ngIf"],["field","wagons"],["field","machines"],["colspan","2"],["pSortableColumn","power"],["field","power",4,"ngIf"],["field","power"],["pSortableColumn","pollution"],["field","pollution",4,"ngIf"],["field","pollution"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-arrow-down","data-test","lab-list-export","tooltipPosition","left",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],[1,"w-0","px-1","position-relative"],[1,"fragment",3,"id"],["class","fragment",3,"id",4,"ngFor","ngForOf"],[1,"d-flex"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-right",1,"p-button-text","p-button-rounded","transition-ease",3,"pTooltip","pRowToggler"],["class","overflow-hidden px-1 py-0",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","text-end",4,"ngIf"],[1,"d-flex","justify-content-center"],[3,"binary","ngModel","onChange"],[1,"overflow-hidden","px-1","py-0"],[1,"d-flex","align-items-center","links"],[1,"icon"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"hover-active","icon","pTooltip","autoHide","click",4,"ngIf","ngIfElse"],["recipeIcon",""],["class","connect",3,"trail","last",4,"ngFor","ngForOf"],[1,"indent"],[1,"connect"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"icon","pTooltip","autoHide","click"],[1,"hover-icon","fa-solid","fa-eye-slash"],["tooltip",""],[3,"id"],[3,"pTooltip","autoHide"],["type","recipe",3,"id"],[1,"w-0","text-end"],["class","monospace",4,"ngIf"],[1,"monospace"],[1,"ps-0"],[1,"find-text"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"hover-active","icon","pTooltip","autoHide","click",4,"ngIf"],["labDropdownBase","icon",3,"pTooltip","autoHide","ngModel","options","onChange",4,"ngIf","ngIfElse"],["pipesDropdown",""],["pipeIcon",""],["labDropdownBase","icon",3,"pTooltip","autoHide","ngModel","options","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip","autoHide"],[1,"ms-3","text-truncate"],["type","belt",3,"id"],["type","pipe",3,"id"],["fluidWagonsDropdown",""],["type","cargo-wagon",3,"id"],["labDropdownBase","icon",3,"pTooltip","autoHide","ngModel","options","onChange",4,"ngIf"],["type","fluid-wagon",3,"id"],["class","d-flex align-items-center",4,"ngIf"],["pButton","","pRipple","","type","button","class","hover-action p-button-text",3,"pTooltip","autoHide","click",4,"ngIf"],["labDropdownBase","icon",3,"pTooltip","autoHide","options","ngModel","onChange"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel","onBlur",4,"ngIf"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"pTooltip","autoHide","click"],[1,"p-button-icon"],[1,"hover-icon","fa-solid","fa-circle-plus"],["type","machine",3,"id"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel","onBlur"],["overclockInput",""],["class","d-flex align-items-center",4,"ngIf","ngIfElse"],["fuelSelect",""],[1,"padded",3,"pTooltip","autoHide"],["type","fuel",3,"id"],["labDropdownBase","icon","class","module-dropdown","tooltipPosition","top",3,"last","pTooltip","autoHide","options","ngModel","onChange",4,"ngFor","ngForOf"],["labDropdownBase","icon","tooltipPosition","top",1,"module-dropdown",3,"pTooltip","autoHide","options","ngModel","onChange"],["type","module",3,"id"],[1,"w-0","pe-0"],["class","d-flex",4,"ngFor","ngForOf","ngForTrackBy"],["class","d-flex",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded","icon","fa-solid fa-plus",3,"click",4,"ngIf","ngIfElse"],["deleteBeaconBtn",""],["tooltipPosition","left","class","text-end","width","2.5rem",3,"pTooltip","value","textButtons","setValue",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-text","p-button-rounded",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-text","p-button-rounded",3,"click"],["tooltipPosition","left","width","2.5rem",1,"text-end",3,"pTooltip","value","textButtons","setValue"],["labDropdownBase","icon",3,"pTooltip","autoHide","options","ngModel","onChange",4,"ngIf"],["class","text-end","width","3rem",3,"pTooltip","value","textButtons","setValue",4,"ngIf"],["type","beacon",3,"id"],["width","3rem",1,"text-end",3,"pTooltip","value","textButtons","setValue"],[1,"text-end"],["target","_blank",1,"text-decoration-none",3,"href"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded","icon","fa-solid fa-rotate-left","tooltipPosition","left",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip","click"],[1,"detail"],["routerLink",".","queryParamsHandling","preserve",1,"text-decoration-none",3,"relativeTo","fragment"],["pButton","","pRipple","","type","button","icon","fa-solid fa-link",1,"p-button-text","p-button-rounded"],["colspan","100"],[3,"model","activeItem","activeItemChange"],["expandTabMenu",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","detail",4,"ngSwitchCase"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],["class","detail",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],["colspan","100",1,"fw-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"lab-icon","time"],[1,"mw-0"],[1,"fa-solid","fa-arrow-right","mx-3"],["machineValueCell",""],[1,"d-flex","align-items-center","justify-content-end"],[3,"innerHTML"],[1,"fw-bold"],[1,"mb-2"],[3,"ngModel","binary","label","onChange"],[1,"d-flex","flex-wrap"],["pButton","","pRipple","","type","button","class","p-button-text hover-action me-2",3,"hover-active","icon","pTooltip","autoHide","click",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button",1,"p-button-text","hover-action","me-2",3,"icon","pTooltip","autoHide","click"],["colspan","100",1,"p-0"],["class","position-absolute",4,"ngIf"],["machineFill",""],[3,"class","pTooltip","autoHide",4,"ngIf","ngIfElse"],["fluidWagonIcon",""],[1,"position-absolute"],[1,"d-flex","invisible"],[1,"lab-icon"],["class","m-1 p-2 fa-solid fa-arrow-right",4,"ngIf"],[3,"class","pTooltip","autoHide",4,"ngIf"],[1,"m-1","p-2","fa-solid","fa-arrow-right"],[3,"id","type"],["totalCell",""],["class","text-end inherit",4,"ngIf"],[1,"text-end","inherit"],[1,"w-0","text-end","inherit"],["class","py-2 icon-height",4,"ngFor","ngForOf"],[1,"ps-0","inherit"],[1,"d-flex","flex-column","justify-content-center"],["class","d-block",3,"class","pTooltip","autoHide",4,"ngFor","ngForOf"],[1,"modules-column"],[1,"py-2","icon-height"],[1,"d-block",3,"pTooltip","autoHide"]],template:function(_,o){1&_&&(t.YNc(0,G_,14,10,"ng-container",0),t.ALo(1,"async")),2&_&&t.Q6J("ngIf",t.lcZ(1,1,o.vm$))},dependencies:[Q.sg,Q.O5,Q.tP,Q.RF,Q.n9,rt.JJ,rt.On,ut.jx,O.rH,vt.u,ht.Hq,Tt.XZ,It.Lt,Ct.Rn,Zt.H,gt.iA,gt.lQ,gt.jB,gt.fz,bt.d,wt.l,At.K,St.W,Q.Ov,Q.Nd,Ot.X$,ft.Y,ft.y,Y,nt.Z,h,x.d,v.o,b.N,M.f,q.N,F.d,j.i,pt],styles:[".links[_ngcontent-%COMP%]{height:50px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{position:relative;height:100vh;margin-left:16px}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%], .links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-left:2px dotted var(--text-color-secondary)}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){margin-bottom:50vh;height:50vh}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:24px}@media (max-width: 1199.98px){.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{margin-left:8px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:16px}}.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;border-top:2px dotted var(--text-color-secondary);width:8px}.links[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px}[_nghost-%COMP%]     .p-dropdown:not(:hover):not(:focus):not(.ng-invalid), [_nghost-%COMP%]     .p-inputtext:not(:hover):not(:focus):not(.ng-invalid){border-color:transparent;background-color:transparent}[_nghost-%COMP%]     .module-dropdown:not(.last){margin-right:-.5rem}[_nghost-%COMP%]     .module-dropdown:not(.last) .p-dropdown{border-right-color:transparent;border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown .lab-icon.sm{opacity:.3}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown:not(.last) .p-dropdown{border-top-color:var(--primary-color);border-bottom-color:var(--primary-color)}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown.last .p-dropdown{border-color:var(--primary-color);border-left-color:transparent}tr.detail[_ngcontent-%COMP%]{background-color:var(--surface-ground)}[_nghost-%COMP%]     tr.detail .p-tabmenu .p-tabmenu-nav .p-tabmenuitem:not(.p-highlight) .p-menuitem-link{background-color:transparent}.icon-height[_ngcontent-%COMP%]{height:32px;margin-top:1px;margin-bottom:1px}.modules-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;margin:auto}.fragment[_ngcontent-%COMP%]{position:absolute;top:-10rem;visibility:hidden}"],changeDetection:0}),X);de=(0,n.gn)([(0,g.c)()],de)},9722:(at,K,p)=>{p.d(K,{P:()=>st});var n=p(5879),Q=p(4221),t=p(9515),O=p(5219),g=p(5619),L=p(7328),I=p(2572),P=p(7398),C=p(4962),U=p(8345),T=p(8528),G=p(6814),ot=p(6223),lt=p(3259),mt=p(707),W=p(8057),pt=p(7213),ct=p(6218),w=p(3714),it=p(4480),rt=p(7338),ut=p(5333),vt=p(3689);function ht(S,R){if(1&S){const E=n.EpF();n.TgZ(0,"div",17)(1,"span",3),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"button",18),n.NdJ("click",function(){n.CHM(E);const y=n.oxw(2);return n.KtG(y.copyScriptToClipboard())}),n.ALo(5,"translate"),n.qZA(),n._UZ(6,"a",19),n.ALo(7,"translate"),n.qZA()}2&S&&(n.xp6(2),n.Oqu(n.lcZ(3,3,"techPicker.exportFromFactorio")),n.xp6(2),n.Q6J("label",n.lcZ(5,5,"techPicker.exportCopyScript")),n.xp6(2),n.Q6J("label",n.lcZ(7,7,"techPicker.exportUseMod")))}function Tt(S,R){if(1&S){const E=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){n.CHM(E);const y=n.oxw().ngIf,N=n.oxw();return n.KtG(N.importTechs(y.data))}),n.ALo(1,"translate"),n.qZA()}2&S&&n.Q6J("label",n.lcZ(1,1,"ok"))}function It(S,R){1&S&&(n.TgZ(0,"i"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&S&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"none")))}function Ct(S,R){1&S&&n.GkF(0)}const Zt=function(S){return{id:S,class:"p-button-text"}};function gt(S,R){if(1&S&&(n.ynx(0),n.YNc(1,Ct,1,0,"ng-container",26),n.BQk()),2&S){const E=R.$implicit;n.oxw();const Z=n.MAs(20);n.xp6(1),n.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",n.VKq(2,Zt,E))}}function bt(S,R){1&S&&(n.TgZ(0,"i"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&S&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"none")))}function wt(S,R){1&S&&n.GkF(0)}const At=function(S){return{id:S,class:"p-button-danger"}};function St(S,R){if(1&S&&(n.ynx(0),n.YNc(1,wt,1,0,"ng-container",26),n.BQk()),2&S){const E=R.$implicit;n.oxw();const Z=n.MAs(20);n.xp6(1),n.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",n.VKq(2,At,E))}}function Ot(S,R){1&S&&(n.TgZ(0,"i"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&S&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"none")))}function ft(S,R){1&S&&n.GkF(0)}const Y=function(S){return{id:S,class:"p-button-success"}};function nt(S,R){if(1&S&&(n.ynx(0),n.YNc(1,ft,1,0,"ng-container",26),n.BQk()),2&S){const E=R.$implicit;n.oxw();const Z=n.MAs(20);n.xp6(1),n.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",n.VKq(2,Y,E))}}function h(S,R){if(1&S&&n._UZ(0,"lab-tooltip",29),2&S){const E=n.oxw().id;n.Q6J("id",E)}}function x(S,R){if(1&S){const E=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){const N=n.CHM(E).id,D=n.oxw(2).ngIf,tt=n.oxw();return n.KtG(tt.clickId(N,D.selection,D.data))}),n.ALo(1,"iconSmClass"),n.YNc(2,h,1,1,"ng-template",null,28,n.W1O),n.qZA()}if(2&S){const E=R.id,Z=R.class,y=n.MAs(3),N=n.oxw(2).ngIf;n.Tol(Z),n.ekj("hover-active",-1===(null==N.selection?null:N.selection.indexOf(E))),n.Q6J("label",N.showTechLabels&&(null==N.data.itemEntities[E]?null:N.data.itemEntities[E].name)||"")("icon",n.lcZ(1,8,E))("pTooltip",y)("autoHide",!1)}}const v=function(){return{height:"calc(80vh - 165px)",minHeight:"363px"}};function b(S,R){if(1&S&&(n.TgZ(0,"p-scrollPanel")(1,"h3"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",21),n.YNc(5,It,3,3,"i",22),n.YNc(6,gt,2,4,"ng-container",23),n.qZA(),n.TgZ(7,"h3"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",24),n.YNc(11,bt,3,3,"i",22),n.YNc(12,St,2,4,"ng-container",23),n.qZA(),n.TgZ(13,"h3"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",24),n.YNc(17,Ot,3,3,"i",22),n.YNc(18,nt,2,4,"ng-container",23),n.qZA(),n.YNc(19,x,4,10,"ng-template",null,25,n.W1O),n.qZA()),2&S){const E=n.oxw().ngIf;n.Akn(n.DdM(17,v)),n.xp6(2),n.Oqu(n.lcZ(3,11,"techPicker.available")),n.xp6(3),n.Q6J("ngIf",0===E.status.available.length),n.xp6(1),n.Q6J("ngForOf",E.status.available),n.xp6(2),n.Oqu(n.lcZ(9,13,"techPicker.locked")),n.xp6(3),n.Q6J("ngIf",0===E.status.locked.length),n.xp6(1),n.Q6J("ngForOf",E.status.locked),n.xp6(2),n.Oqu(n.lcZ(15,15,"techPicker.researched")),n.xp6(3),n.Q6J("ngIf",0===E.status.researched.length),n.xp6(1),n.Q6J("ngForOf",E.status.researched)}}const M=function(){return{minHeight:"528px",height:"80vh",width:"50vw"}},q=function(){return{"768px":"80vw","576px":"100vw"}},F=function(){return{width:"30vw"}},j=function(){return{"768px":"50vw","576px":"90vw"}};function X(S,R){if(1&S){const E=n.EpF();n.TgZ(0,"p-dialog",1),n.NdJ("visibleChange",function(y){n.CHM(E);const N=n.oxw();return n.KtG(N.visible=y)})("onHide",function(){const N=n.CHM(E).ngIf,D=n.oxw();return n.KtG(D.onHide(N.selection,N.data))}),n.ALo(1,"translate"),n.TgZ(2,"div",2)(3,"span",3),n._UZ(4,"i",4),n.qZA(),n.TgZ(5,"input",5),n.NdJ("ngModelChange",function(y){n.CHM(E);const N=n.oxw();return n.KtG(N.filter=y)})("input",function(){n.CHM(E);const y=n.oxw();return n.KtG(y.filter$.next(y.filter))}),n.qZA(),n.TgZ(6,"span",6)(7,"p-checkbox",7),n.NdJ("ngModelChange",function(y){n.CHM(E);const N=n.oxw();return n.KtG(N.allSelected=y)})("onChange",function(y){const D=n.CHM(E).ngIf,tt=n.oxw();return n.KtG(tt.selectAll(y.checked,D.data))}),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"span",6)(10,"p-checkbox",8),n.NdJ("onChange",function(y){n.CHM(E);const N=n.oxw();return n.KtG(N.setShowTechLabels(y.checked))}),n.ALo(11,"translate"),n.qZA()(),n.TgZ(12,"button",9),n.NdJ("click",function(){n.CHM(E);const y=n.MAs(23),N=n.oxw();return n.KtG(N.openImport(y))}),n.ALo(13,"translate"),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"p-dialog",10),n.NdJ("visibleChange",function(y){n.CHM(E);const N=n.oxw();return n.KtG(N.importVisible=y)}),n.ALo(16,"translate"),n.TgZ(17,"div",11),n.YNc(18,ht,8,9,"div",12),n.TgZ(19,"div"),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.TgZ(22,"textarea",13,14),n.NdJ("ngModelChange",function(y){n.CHM(E);const N=n.oxw();return n.KtG(N.importValue=y)})("keydown.enter",function(){n.CHM(E);const y=n.oxw();return n.KtG(y.importVisible=!1)}),n.qZA()(),n.YNc(24,Tt,2,3,"ng-template",15),n.qZA()(),n.YNc(25,b,21,18,"p-scrollPanel",16),n.qZA()}if(2&S){const E=R.ngIf,Z=n.oxw();n.Akn(n.DdM(45,M)),n.Q6J("visible",Z.visible)("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("header",n.lcZ(1,31,"techPicker.header"))("breakpoints",n.DdM(46,q)),n.xp6(5),n.Q6J("ngModel",Z.filter),n.xp6(2),n.Q6J("binary",!0)("label",n.lcZ(8,33,"techPicker.unlockAll"))("ngModel",Z.allSelected),n.xp6(3),n.Q6J("binary",!0)("label",n.lcZ(11,35,"techPicker.showLabels"))("ngModel",E.showTechLabels),n.xp6(2),n.Q6J("label",n.lcZ(13,37,"techPicker.import"))("pTooltip",n.lcZ(14,39,"techPicker.importTooltip")),n.xp6(3),n.Akn(n.DdM(47,F)),n.Q6J("visible",Z.importVisible)("modal",!0)("dismissableMask",!0)("draggable",!0)("resizable",!1)("breakpoints",n.DdM(48,j))("header",n.lcZ(16,41,"techPicker.importHeader")),n.xp6(3),n.Q6J("ngIf",E.data.game===Z.Game.Factorio),n.xp6(2),n.Oqu(n.lcZ(21,43,"techPicker.importInstructions")),n.xp6(2),n.Q6J("ngModel",Z.importValue),n.xp6(3),n.Q6J("ngIf",Z.visible)}}let st=(()=>{var S;class R{constructor(){this.ref=(0,n.f3M)(n.sBO),this.filterSvc=(0,n.f3M)(O.iZ),this.translateSvc=(0,n.f3M)(t.sK),this.store=(0,n.f3M)(Q.yh),this.contentSvc=(0,n.f3M)(U._s),this.selectIds=new n.vpe,this.filter="",this.filter$=new g.X(this.filter),this.allSelected=!1,this.data$=new L.t(1),this.selection$=new L.t(1),this.status$=(0,I.a)([this.selection$,this.data$,this.filter$]).pipe((0,P.U)(([Z,y,N])=>{let D=y.technologyIds;if(N){const xt=D.map(dt=>y.itemEntities[dt]);D=this.filterSvc.filter(xt,["name"],N,"contains").map(dt=>dt.id),Z=Z.filter(dt=>D.includes(dt))}const tt=new Set(Z),_t=Z,yt=[],Jt=[];for(const xt of D)if(!tt.has(xt)){const dt=y.technologyEntities[xt];null==dt.prerequisites||dt.prerequisites.every(Nt=>tt.has(Nt))?yt.push(xt):Jt.push(xt)}return{available:yt,locked:Jt,researched:_t}})),this.visible=!1,this.importVisible=!1,this.importValue="",this.Game=C.lA,this.vm$=(0,I.a)({selection:this.selection$,status:this.status$,data:this.data$,showTechLabels:this.store.select(T.uP.Qe)})}clickOpen(Z,y){this.data$.next(Z),y=[...y??Z.technologyIds],this.selection$.next(y),this.allSelected=y.length===Z.technologyIds.length,this.visible=!0,this.ref.markForCheck()}selectAll(Z,y){this.selection$.next(Z?[...y.technologyIds]:[])}openImport(Z){this.importVisible=!0,setTimeout(()=>Z.focus())}copyScriptToClipboard(){window.navigator.clipboard.writeText('/c local list = {}\nfor _, tech in pairs(game.player.force.technologies) do \n    if tech.researched then\n    list[#list+1] = tech.name\n  end\nend\ngame.write_file("techs.txt", serpent.block(list) .. "\n", true)'),this.contentSvc.showToast$.next({severity:"success",detail:this.translateSvc.instant("techPicker.exportScriptCopied"),life:1e5,contentStyleClass:"detail-only"})}importTechs(Z){const y=this.importValue.split(",").map(D=>D.trim()).map(D=>{if(!D)return"";const tt=`${D}-technology`;return Z.technologyIds.includes(tt)?tt:Z.technologyIds.includes(D)?D:""}).filter(D=>!!D),N=new Set(y);this.addPrerequisites(N,Z),this.selection$.next(Array.from(N)),this.allSelected=N.size===Z.technologyIds.length,this.importValue="",this.importVisible=!1}clickId(Z,y,N){const D=new Set(y);if(D.has(Z)){let tt;D.delete(Z);do{tt=new Set;for(const _t of D)N.technologyEntities[_t].prerequisites?.some(Jt=>!D.has(Jt))&&tt.add(_t);tt.forEach(_t=>D.delete(_t))}while(tt.size)}else D.add(Z),this.addPrerequisites(D,N);this.selection$.next(Array.from(D)),this.allSelected=D.size===N.technologyIds.length}addPrerequisites(Z,y){let N;do{N=new Set;for(const D of Z)y.technologyEntities[D].prerequisites?.filter(_t=>!Z.has(_t)).forEach(_t=>N.add(_t));N.forEach(D=>Z.add(D))}while(N.size)}onHide(Z,y){if(Z.length===y.technologyIds.length)this.selectIds.emit(null);else{const N=Z.filter(D=>!Z.some(tt=>{const _t=y.technologyEntities[tt];return _t.prerequisites&&-1!==_t.prerequisites.indexOf(D)}));this.selectIds.emit(N)}}setShowTechLabels(Z){this.store.dispatch(new T.uP.ax(Z))}}return(S=R).\u0275fac=function(Z){return new(Z||S)},S.\u0275cmp=n.Xpm({type:S,selectors:[["lab-tech-picker"]],outputs:{selectIds:"selectIds"},decls:2,vars:3,consts:[["styleClass","picker-dialog","appendTo","body",3,"visible","modal","dismissableMask","draggable","resizable","header","style","breakpoints","visibleChange","onHide",4,"ngIf"],["styleClass","picker-dialog","appendTo","body",3,"visible","modal","dismissableMask","draggable","resizable","header","breakpoints","visibleChange","onHide"],[1,"d-flex","w-100","my-1","p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-magnifying-glass"],["pInputText","","type","text",1,"w-100",3,"ngModel","ngModelChange","input"],[1,"p-inputgroup-addon","flex-shrink-0"],["labelStyleClass","text-nowrap",3,"binary","label","ngModel","ngModelChange","onChange"],["labelStyleClass","text-nowrap",3,"binary","label","ngModel","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-import",1,"flex-shrink-0",3,"label","pTooltip","click"],["appendTo","body",3,"visible","modal","dismissableMask","draggable","resizable","breakpoints","header","visibleChange"],[1,"d-flex","flex-column"],["class","p-inputgroup mb-3",4,"ngIf"],["rows","10","pInputTextarea","",1,"mt-2","w-100",3,"ngModel","ngModelChange","keydown.enter"],["importInput",""],["pTemplate","footer"],[3,"style",4,"ngIf"],[1,"p-inputgroup","mb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"label","click"],["href","https://mods.factorio.com/mod/export-researched-technologies","target","_blank","pButton","","pRipple","","icon","fa-solid fa-link",1,"text-decoration-none","p-inputgroup-addon","p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-text",3,"label","click"],[1,"d-flex","flex-wrap"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","invert"],["techButton",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pButton","","pRipple","","type","button","tooltipPosition","bottom",1,"me-1","mb-1",3,"label","icon","pTooltip","autoHide","click"],["tooltip",""],["type","technology",3,"id"]],template:function(Z,y){1&Z&&(n.YNc(0,X,26,49,"p-dialog",0),n.ALo(1,"async")),2&Z&&n.Q6J("ngIf",n.lcZ(1,1,y.vm$))},dependencies:[G.sg,G.O5,G.tP,ot.Fj,ot.JJ,ot.On,O.jx,lt.u,mt.Hq,W.XZ,pt.V,ct.g,w.o,it.H,rt.P,ut.K,G.Ov,t.X$,vt.y],styles:[".picker-dialog .p-dialog-header{padding:.75rem 1rem}  .picker-dialog .p-dialog-content{padding:0 1rem 1rem}  .picker-dialog .p-tabview-panels{padding:0}  .picker-dialog .p-scrollpanel-content{padding-top:.5rem;padding-left:1px}  .picker-dialog .p-tabview-nav-link{max-width:10rem}  .picker-dialog p-scrollpanel .p-button-label{margin-left:1rem}"],changeDetection:0}),R})()},3233:(at,K,p)=>{p.d(K,{W:()=>I});var L,n=p(7582),Q=p(5879),t=p(8791),O=p(3965),g=p(8345);let I=((L=class{constructor(){this.contentSvc=(0,Q.f3M)(g._s),this.pDropdown=(0,Q.f3M)(O.Lt,{self:!0})}ngOnInit(){this.pDropdown.appendTo="body",this.pDropdown.filter=!0,this.pDropdown.scrollHeight="40vh",this.pDropdown.panelStyleClass="tooltip",this.labDropdownBase&&(this.pDropdown.styleClass=this.labDropdownBase),this.contentSvc.isMobile$.pipe((0,t.t)(this)).subscribe(C=>this.pDropdown.autofocusFilter=!C)}ngOnChanges(){this.pDropdown.styleClass=this.labDropdownBase?this.labDropdownBase:""}}).\u0275fac=function(C){return new(C||L)},L.\u0275dir=Q.lG2({type:L,selectors:[["","labDropdownBase",""]],inputs:{labDropdownBase:"labDropdownBase"},features:[Q.TTD]}),L);I=(0,n.gn)([(0,t.c)()],I)},5760:(at,K,p)=>{p.d(K,{r:()=>Q});var n=p(5879);let Q=(()=>{var t;class O{onMousedown(L){L.stopPropagation()}onTouchStart(L){L.stopPropagation()}}return(t=O).\u0275fac=function(L){return new(L||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","labNoDrag",""]],hostBindings:function(L,I){1&L&&n.NdJ("mousedown",function(C){return I.onMousedown(C)})("touchstart",function(C){return I.onTouchStart(C)})}}),O})()},6538:(at,K,p)=>{p.d(K,{S:()=>ct});var n=p(6814),Q=p(6223),t=p(1254),O=p(5879);p(4270),p(3101),p(561),p(9722),p(3233),p(8056),p(1012),p(7792),p(9829),p(7361),p(7607),p(7190),p(3636);let ct=(()=>{var w;class it{}return(w=it).\u0275fac=function(ut){return new(ut||w)},w.\u0275mod=O.oAB({type:w}),w.\u0275inj=O.cJS({imports:[n.ez,Q.u5,t.o,Q.u5]}),it})()},9905:(at,K,p)=>{p.r(K),p.d(K,{MainModule:()=>nt});var n=p(6814),Q=p(1254),t=p(6538),O=p(4190),g=p(5879),L=p(4221),I=p(2572),P=p(7398),C=p(4962),U=p(8345),T=p(8528),G=p(5219),ot=p(707),lt=p(4532),mt=p(7213),W=p(7680),pt=p(4480),ct=p(5779),w=p(6471),it=p(4270),rt=p(3101),ut=p(9515);function vt(h,x){if(1&h&&(g._UZ(0,"span",13),g.TgZ(1,"span",14),g._uU(2),g.ALo(3,"translate"),g.qZA()),2&h){const v=x.$implicit;g.Tol(v.icon),g.xp6(2),g.Oqu(g.lcZ(3,3,v.label))}}const ht=function(h,x){return{time:h,cost:x}};function Tt(h,x){if(1&h&&(g.TgZ(0,"div"),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&h){const v=g.oxw(4).ngIf;g.xp6(1),g.hij(" ",g.xi3(2,1,"app.simplexSolved",g.WLB(4,ht,v.result.time,null==v.result.cost?null:v.result.cost.toPrecision(2)))," ")}}function It(h,x){if(1&h&&(g.TgZ(0,"div"),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&h){const v=g.oxw(4).ngIf;g.xp6(1),g.hij(" ",g.lcZ(2,1,"options.simplexResultType."+v.result.resultType)," ")}}function Ct(h,x){if(1&h&&(g.TgZ(0,"div",15),g.YNc(1,Tt,3,7,"div",2),g.YNc(2,It,3,3,"ng-template",null,16,g.W1O),g.TgZ(4,"span"),g._uU(5),g.qZA()()),2&h){const v=g.MAs(3),b=g.oxw(3).ngIf,M=g.oxw();g.xp6(1),g.Q6J("ngIf",b.result.resultType===M.MatrixResultType.Solved)("ngIfElse",v),g.xp6(4),g.Oqu(M.contentSvc.version)}}function Zt(h,x){if(1&h&&(g.ynx(0),g._UZ(1,"lab-objectives"),g.TgZ(2,"p-card",9),g.ALo(3,"translate"),g.TgZ(4,"p-tabMenu",10),g.YNc(5,vt,4,5,"ng-template",11),g.qZA(),g._UZ(6,"router-outlet"),g.YNc(7,Ct,6,3,"ng-template",12),g.qZA(),g.BQk()),2&h){const v=g.oxw(3);g.xp6(2),g.Q6J("header",g.lcZ(3,2,"app.factory")),g.xp6(2),g.Q6J("model",v.tabItems)}}function gt(h,x){1&h&&(g.TgZ(0,"div",17),g._UZ(1,"p-progressSpinner"),g.qZA())}function bt(h,x){if(1&h){const v=g.EpF();g.ynx(0),g._UZ(1,"lab-settings",4),g.TgZ(2,"div",5),g.NdJ("click",function(){g.CHM(v);const M=g.oxw(2);return g.KtG(M.contentSvc.toggleSettings())}),g.qZA(),g.TgZ(3,"div",6)(4,"main",7),g.YNc(5,Zt,8,4,"ng-container",2),g.YNc(6,gt,2,0,"ng-template",null,8,g.W1O),g.qZA()(),g.BQk()}if(2&h){const v=g.MAs(7),b=g.oxw().ngIf;g.xp6(1),g.Q6J("active",b.settingsActive)("hidden",b.settingsXlHidden),g.xp6(1),g.ekj("active",b.settingsActive),g.xp6(1),g.ekj("settings-xl-hidden",b.settingsXlHidden),g.xp6(2),g.Q6J("ngIf",null!=b.mod)("ngIfElse",v)}}function wt(h,x){1&h&&(g.TgZ(0,"div",24),g._UZ(1,"i",25),g.TgZ(2,"span"),g._uU(3),g.ALo(4,"translate"),g.qZA()()),2&h&&(g.xp6(3),g.Oqu(g.lcZ(4,1,"app.error")))}function At(h,x){if(1&h){const v=g.EpF();g.TgZ(0,"p-dialog",18),g.YNc(1,wt,5,3,"ng-template",19),g.TgZ(2,"div",20)(3,"div"),g._uU(4),g.ALo(5,"translate"),g.qZA(),g.TgZ(6,"div",21),g._uU(7),g.qZA(),g.TgZ(8,"div",22)(9,"button",23),g.NdJ("click",function(){g.CHM(v);const M=g.oxw().ngIf,q=g.oxw();return g.KtG(q.reset(M.game))}),g.ALo(10,"translate"),g.qZA()()()()}if(2&h){const v=g.oxw().ngIf,b=g.oxw();g.Q6J("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),g.xp6(4),g.Oqu(g.lcZ(5,10,"app.errorDetail")),g.xp6(3),g.Oqu(v.errorMsg),g.xp6(2),g.Q6J("label",g.lcZ(10,12,"reset"))("loading",b.isResetting)}}function St(h,x){if(1&h&&(g.ynx(0),g._UZ(1,"lab-header",1),g.YNc(2,bt,8,8,"ng-container",2),g.YNc(3,At,11,14,"ng-template",null,3,g.W1O),g.BQk()),2&h){const v=x.ngIf,b=g.MAs(4);g.xp6(1),g.Q6J("sticky",v.scrollTop>16)("settingsXlHidden",v.settingsXlHidden),g.xp6(1),g.Q6J("ngIf",null==v.errorMsg)("ngIfElse",b)}}const Y=O.Bz.forChild([{path:"",component:(()=>{var h;class x{constructor(){this.contentSvc=(0,g.f3M)(U._s),this.ngZone=(0,g.f3M)(g.R0b),this.ref=(0,g.f3M)(g.sBO),this.router=(0,g.f3M)(O.F0),this.store=(0,g.f3M)(L.yh),this.errorSvc=(0,g.f3M)(U.T_),this.vm$=(0,I.a)([this.store.select(T.Zr.cF),this.store.select(T.Zr.IK),this.store.select(T.VJ.p5),this.contentSvc.settingsActive$,this.contentSvc.settingsXlHidden$,this.contentSvc.scrollTop$,this.errorSvc.message$]).pipe((0,P.U)(([b,M,q,F,j,X,st])=>({game:b,mod:M,result:q,settingsActive:F,settingsXlHidden:j,scrollTop:X,errorMsg:st}))),this.isResetting=!1,this.tabItems=[{label:"app.list",icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:"app.flow",icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:"app.data",icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}],this.Game=C.lA,this.ItemId=C.bN,this.MatrixResultType=C.k5}ngAfterViewInit(){this.errorSvc.message$.subscribe(()=>this.ref.detectChanges())}reset(b){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message$.next(null),this.router.navigateByUrl(C.dL[b].route),this.store.dispatch(new T.gV.rc),this.isResetting=!1})},10)}}return(h=x).\u0275fac=function(b){return new(b||h)},h.\u0275cmp=g.Xpm({type:h,selectors:[["lab-main"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"sticky","settingsXlHidden"],[4,"ngIf","ngIfElse"],["errorDialog",""],[3,"active","hidden"],[1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-sm-4","py-4"],["loading",""],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","item"],["pTemplate","footer"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],[1,"d-flex","align-items-center","justify-content-between"],["notSolved",""],[1,"d-flex","flex-column","align-items-center","mt-5"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",3,"label","loading","click"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(b,M){1&b&&(g.YNc(0,St,5,4,"ng-container",0),g.ALo(1,"async")),2&b&&g.Q6J("ngIf",g.lcZ(1,1,M.vm$))},dependencies:[n.O5,G.jx,O.lC,ot.Hq,lt.Z,mt.V,W.G,pt.H,ct.d,w.G,it.P,rt.f,n.Ov,ut.X$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}main[_ngcontent-%COMP%]{overflow-x:hidden}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;z-index:3;top:0;left:0;width:100%;height:100%;background-color:var(--maskbg)}}"],changeDetection:0}),x})(),children:[{path:"list",loadComponent:()=>p.e(694).then(p.bind(p,694)).then(h=>h.ListComponent)},{path:"flow",loadComponent:()=>p.e(779).then(p.bind(p,1779)).then(h=>h.FlowComponent)},{path:"data",loadChildren:()=>p.e(661).then(p.bind(p,2661)).then(h=>h.DataModule)}]}]);let nt=(()=>{var h;class x{}return(h=x).\u0275fac=function(b){return new(b||h)},h.\u0275mod=g.oAB({type:h}),h.\u0275inj=g.cJS({imports:[n.ez,Q.o,t.S,Y]}),x})()},8056:(at,K,p)=>{p.d(K,{Z:()=>t});var n=p(4962),Q=p(5879);let t=(()=>{var O;class g{transform(I,P){if(null!=I){const C=n.Tv[P.inserterTarget][P.inserterCapacity]?.find(U=>U.value.gt(I)||U.id===n.bN.StackInserter);return null==C?null:{id:C.id,value:I.div(C.value)}}return null}}return(O=g).\u0275fac=function(I){return new(I||O)},O.\u0275pipe=Q.Yjl({name:"inserterSpeed",type:O,pure:!0}),g})()},1012:(at,K,p)=>{p.d(K,{d:()=>O});var n=p(4962),Q=p(7190),t=p(5879);let O=(()=>{var g;class L{transform(P,C,U){return U===n.bN.Pumpjack?`${Q.d.transform(P.mul(n.uG.hundred),null!=C?Math.max(C-2,0):C)}%`:Q.d.transform(P,C)}}return(g=L).\u0275fac=function(P){return new(P||g)},g.\u0275pipe=t.Yjl({name:"machineRate",type:g,pure:!0}),L})()},7792:(at,K,p)=>{p.d(K,{o:()=>t});var n=p(4962),Q=p(5879);let t=(()=>{var O;class g{transform(I,P){return P!==n.lA.CaptainOfIndustry||I!==n.bN.MineControlTower}}return(O=g).\u0275fac=function(I){return new(I||O)},O.\u0275pipe=Q.Yjl({name:"machineShowRate",type:O,pure:!0}),g})()},9829:(at,K,p)=>{p.d(K,{N:()=>t});var n=p(4962),Q=p(5879);let t=(()=>{var O;class g{transform(I,P){return null!=I&&(P!==n.lA.DysonSphereProgram||I!==n.bN.MiningDrill)}}return(O=g).\u0275fac=function(I){return new(I||O)},O.\u0275pipe=Q.Yjl({name:"machineShow",type:O,pure:!0}),g})()},7361:(at,K,p)=>{p.d(K,{f:()=>t});var n=p(4962),Q=p(5879);let t=(()=>{var O;class g{transform(I,P,C=!1){if(null==I)return[];const U=I.map(T=>({label:P[T].name,value:T}));return C&&U.unshift({label:"None",value:n.bN.Module}),U}}return(O=g).\u0275fac=function(I){return new(I||O)},O.\u0275pipe=Q.Yjl({name:"options",type:O,pure:!0}),g})()},7607:(at,K,p)=>{p.d(K,{N:()=>O});var n=p(4962),Q=p(7190),t=p(5879);let O=(()=>{var g;class L{transform(P,C,U){switch(U){case n.dx.GW:return`${Q.d.transform(P.div(n.uG.million),C)} GW`;case n.dx.MW:return`${Q.d.transform(P.div(n.uG.thousand),C)} MW`;default:return`${Q.d.transform(P,C)} kW`}}}return(g=L).\u0275fac=function(P){return new(P||g)},g.\u0275pipe=t.Yjl({name:"power",type:g,pure:!0}),L})()},7190:(at,K,p)=>{p.d(K,{d:()=>t});var n=p(4962),Q=p(5879);let t=(()=>{var O;class g{static transform(I,P){if(null==P)return I.toFraction();if(-2===P)return Math.round(I.mul(n.uG.hundred).toNumber()).toString();let U=I.toPrecision(P).toString();if(P>0){const T=n.uG.from([1,Math.pow(10,P)]);I.gt(n.uG.zero)&&I.lt(T)&&(U=`<${U}`);const G=U.split(".");if(!(G.length>1))return I.isInteger()?U+" ".repeat(P+1):U+"."+"0".repeat(P);if(G[1].length<P)return U+"0".repeat(P-G[1].length)}return U}transform(I,P){return g.transform(I,P)}}return(O=g).\u0275fac=function(I){return new(I||O)},O.\u0275pipe=Q.Yjl({name:"rate",type:O,pure:!0}),g})()},3636:(at,K,p)=>{p.d(K,{i:()=>t});var n=p(5879),Q=p(8345);let t=(()=>{var O;class g{constructor(){this.routerSvc=(0,n.f3M)(Q.cw)}transform(I,P,C){let U=I;if(U.recipeId){const T=C.recipeR[U.recipeId];T.isTechnology&&T.productivity&&I.items&&(U={...I,items:I.items.div(T.productivity)})}return this.routerSvc.stepHref(U,P,C.hash)}}return(O=g).\u0275fac=function(I){return new(I||O)},O.\u0275pipe=n.Yjl({name:"stepHref",type:O,pure:!0}),g})()}}]);