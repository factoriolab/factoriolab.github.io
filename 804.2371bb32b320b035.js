"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[804],{6804:(mn,m,i)=>{i.r(m),i.d(m,{RecipeComponent:()=>rn});var g=i(6814),f=i(2572),T=i(7398),A=i(1254),C=i(601),s=i(8528),I=i(7927),n=i(5879),u=i(4190),d=i(9515),h=i(4221),v=i(3338),E=i(8345),x=i(6223),O=i(2655),b=i(707),R=i(8057),q=i(4480),L=i(6160),Z=i(3689);function J(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.category")),n.xp6(3),n.Q6J("routerLink","/data/categories/"+t.obj.category),n.xp6(1),n.Q6J("label",t.category.name)("icon",n.xi3(7,6,t.obj.category,"category"))}}function M(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(o.obj.in[t])}}function U(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,M,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.ingredients")),n.xp6(3),n.Q6J("ngForOf",t.ingredientIds)}}function Q(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(null==o.obj.catalyst?null:o.obj.catalyst[t])}}function y(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,Q,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.catalysts")),n.xp6(3),n.Q6J("ngForOf",t.catalystIds)}}function P(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA(),n.TgZ(4,"span",16),n._uU(5),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(3).ngIf;n.xp6(1),n.Q6J("routerLink","/data/items/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,4,t)),n.xp6(3),n.Oqu(o.obj.out[t])}}function D(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,P,6,6,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.products")),n.xp6(3),n.Q6J("ngForOf",t.productIds)}}function N(e,_){if(1&e&&(n.TgZ(0,"div")(1,"a",14),n._UZ(2,"button",15),n.ALo(3,"iconSmClass"),n.qZA()()),2&e){const t=_.$implicit,o=n.oxw(2).ngIf;n.xp6(1),n.Q6J("routerLink","/data/machines/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(3,3,t))}}function Y(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.unlockedBy")),n.xp6(3),n.Q6J("routerLink","/data/technologies/"+t.obj.unlockedBy),n.xp6(1),n.Q6J("label",t.data.recipeEntities[t.obj.unlockedBy].name)("icon",n.xi3(7,6,t.obj.unlockedBy,"recipe"))}}function B(e,_){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"p-checkbox",17),n.NdJ("ngModelChange",function(c){n.CHM(t);const a=n.oxw(3);return n.KtG(a.trueValue=c)}),n.qZA()()()}if(2&e){const t=n.oxw(3);n.xp6(2),n.Oqu(n.lcZ(3,4,"data.mining")),n.xp6(3),n.Q6J("ngModel",t.trueValue)("binary",!0)("disabled",!0)}}function j(e,_){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"p-checkbox",17),n.NdJ("ngModelChange",function(c){n.CHM(t);const a=n.oxw(3);return n.KtG(a.trueValue=c)}),n.qZA()()()}if(2&e){const t=n.oxw(3);n.xp6(2),n.Oqu(n.lcZ(3,4,"data.technology")),n.xp6(3),n.Q6J("ngModel",t.trueValue)("binary",!0)("disabled",!0)}}function S(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"a",14),n._UZ(6,"button",15),n.ALo(7,"iconSmClass"),n.qZA()()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,4,"data.rocketPart")),n.xp6(3),n.Q6J("routerLink","/data/items/"+t.obj.part),n.xp6(1),n.Q6J("label",t.data.itemEntities[t.obj.part].name)("icon",n.lcZ(7,6,t.obj.part))}}function k(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA()()),2&e){const t=n.oxw(2).ngIf,o=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"data.energyConsumption")),n.xp6(3),n.Oqu(o.displaySvc.power(t.obj.usage))}}function w(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=_.ngIf,o=n.oxw(2).ngIf;n.Q6J("routerLink","/data/machines/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function K(e,_){if(1&e&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit;n.Tol(n.lcZ(1,2,t))}}function W(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,o=n.oxw(3).ngIf;n.Q6J("routerLink","/data/modules/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function F(e,_){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,K,2,4,"i",18),n.YNc(2,W,3,5,"ng-template",null,19,n.W1O),n.qZA()),2&e){const t=_.$implicit,o=n.MAs(3);n.xp6(1),n.Q6J("ngIf","module"===t)("ngIfElse",o)}}function $(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,F,4,2,"div",7),n.qZA()()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.modules")),n.xp6(3),n.Q6J("ngForOf",t.recipeSettings.machineModuleIds)}}function H(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,o=n.oxw(4).ngIf;n.Q6J("routerLink","/data/beacons/"+t.id),n.xp6(1),n.Q6J("label",o.data.itemEntities[t.id].name)("icon",n.lcZ(2,3,t.id))}}function G(e,_){if(1&e&&(n.TgZ(0,"i"),n.ALo(1,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit;n.Tol(n.lcZ(1,2,t))}}function V(e,_){if(1&e&&(n.TgZ(0,"a",14),n._UZ(1,"button",15),n.ALo(2,"iconSmClass"),n.qZA()),2&e){const t=n.oxw().$implicit,o=n.oxw(5).ngIf;n.Q6J("routerLink","/data/modules/"+t),n.xp6(1),n.Q6J("label",o.data.itemEntities[t].name)("icon",n.lcZ(2,3,t))}}function z(e,_){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,G,2,4,"i",18),n.YNc(2,V,3,5,"ng-template",null,19,n.W1O),n.qZA()),2&e){const t=_.$implicit,o=n.MAs(3);n.xp6(1),n.Q6J("ngIf","module"===t)("ngIfElse",o)}}function X(e,_){if(1&e&&(n.ynx(0),n.TgZ(1,"div"),n.YNc(2,H,3,5,"a",13),n.TgZ(3,"span",16),n._uU(4),n.qZA()(),n.YNc(5,z,4,2,"div",7),n.BQk()),2&e){const t=_.$implicit;n.xp6(2),n.Q6J("ngIf",t.id),n.xp6(2),n.Oqu(t.count),n.xp6(1),n.Q6J("ngForOf",t.moduleIds)}}function nn(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n.YNc(5,X,6,3,"ng-container",7),n.qZA()()),2&e){const t=n.oxw(3).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.beacons")),n.xp6(3),n.Q6J("ngForOf",t.recipeSettings.beacons)}}function tn(e,_){if(1&e&&(n.ynx(0),n.YNc(1,nn,6,4,"tr",7),n.BQk()),2&e){const t=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngForOf",t.recipeSettings.beacons)}}function en(e,_){if(1&e&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n._UZ(6,"td"),n.qZA()),2&e){const t=n.oxw(2).ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.overclock")),n.xp6(3),n.hij("",t.recipeSettings.overclock,"%")}}function on(e,_){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"th"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"td")(5,"lab-input-number",20),n.NdJ("setValue",function(c){n.CHM(t);const a=n.oxw(2).ngIf,l=n.oxw();return n.KtG(l.setRecipeCost(a.id,c))}),n.qZA()()()}if(2&e){const t=_.ngIf;n.xp6(2),n.Oqu(n.lcZ(3,2,"data.cost")),n.xp6(3),n.Q6J("value",t.toString())}}function _n(e,_){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"table",4)(2,"tr")(3,"th",5)(4,"h3"),n._uU(5),n.qZA()()(),n.TgZ(6,"tr")(7,"td",5)(8,"i",6),n.ALo(9,"iconClass"),n.qZA()()(),n.YNc(10,J,8,9,"tr",0),n.TgZ(11,"tr")(12,"th"),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA()(),n.YNc(17,U,6,4,"tr",0),n.YNc(18,y,6,4,"tr",0),n.YNc(19,D,6,4,"tr",0),n.TgZ(20,"tr")(21,"th"),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.TgZ(24,"td"),n.YNc(25,N,4,5,"div",7),n.qZA()(),n.YNc(26,Y,8,9,"tr",0),n.YNc(27,B,6,6,"tr",0),n.YNc(28,j,6,6,"tr",0),n.YNc(29,S,8,8,"tr",0),n.YNc(30,k,6,4,"tr",0),n.TgZ(31,"tr")(32,"th",8)(33,"div",9),n._UZ(34,"button",10),n.TgZ(35,"h3"),n._uU(36),n.ALo(37,"translate"),n.qZA(),n.TgZ(38,"button",11),n.NdJ("click",function(){n.CHM(t);const c=n.oxw().ngIf,a=n.oxw();return n.KtG(a.resetRecipe(c.id))}),n.qZA()()()(),n.TgZ(39,"tr")(40,"th"),n._uU(41),n.ALo(42,"translate"),n.qZA(),n.TgZ(43,"td")(44,"p-checkbox",12),n.NdJ("onChange",function(){n.CHM(t);const c=n.oxw().ngIf,a=n.oxw();return n.KtG(a.toggleRecipe(c.id,c.recipeSettings,c.data))}),n.qZA()()(),n.TgZ(45,"tr")(46,"th"),n._uU(47),n.ALo(48,"translate"),n.qZA(),n.TgZ(49,"td")(50,"p-checkbox",12),n.NdJ("onChange",function(c){n.CHM(t);const a=n.oxw().ngIf,l=n.oxw();return n.KtG(l.setRecipeChecked(a.id,c.checked))}),n.qZA()()(),n.TgZ(51,"tr")(52,"th"),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"td"),n.YNc(56,w,3,5,"a",13),n.qZA()(),n.YNc(57,$,6,4,"tr",0),n.YNc(58,tn,2,1,"ng-container",0),n.YNc(59,en,7,4,"tr",0),n.YNc(60,on,6,4,"tr",0),n.qZA(),n.BQk()}if(2&e){const t=n.oxw().ngIf,o=n.oxw();n.xp6(5),n.Oqu(t.obj.name),n.xp6(3),n.Tol(n.xi3(9,31,t.id,"recipe")),n.xp6(2),n.Q6J("ngIf",t.category),n.xp6(3),n.Oqu(n.lcZ(14,34,"data.time")),n.xp6(3),n.Oqu(t.obj.time),n.xp6(1),n.Q6J("ngIf",t.ingredientIds.length),n.xp6(1),n.Q6J("ngIf",t.catalystIds.length),n.xp6(1),n.Q6J("ngIf",t.productIds.length),n.xp6(3),n.Oqu(n.lcZ(23,36,"data.producers")),n.xp6(3),n.Q6J("ngForOf",t.obj.producers),n.xp6(1),n.Q6J("ngIf",t.obj.unlockedBy),n.xp6(1),n.Q6J("ngIf",t.obj.isMining),n.xp6(1),n.Q6J("ngIf",t.obj.isTechnology),n.xp6(1),n.Q6J("ngIf",t.obj.part),n.xp6(1),n.Q6J("ngIf",t.obj.usage),n.xp6(6),n.Oqu(n.lcZ(37,38,"data.recipeSettings")),n.xp6(2),n.ekj("invisible",!t.recipeSettingsRaw),n.xp6(3),n.Oqu(n.lcZ(42,40,"data.excluded")),n.xp6(3),n.Q6J("ngModel",t.recipeSettings.excluded)("binary",!0),n.xp6(3),n.Oqu(n.lcZ(48,42,"data.checked")),n.xp6(3),n.Q6J("ngModel",t.recipeSettings.checked)("binary",!0),n.xp6(3),n.Oqu(n.lcZ(54,44,"data.machine")),n.xp6(3),n.Q6J("ngIf",t.recipeSettings.machineId),n.xp6(1),n.Q6J("ngIf",null==t.recipeSettings.machineModuleIds?null:t.recipeSettings.machineModuleIds.length),n.xp6(1),n.Q6J("ngIf",t.data.game===o.Game.Factorio),n.xp6(1),n.Q6J("ngIf",t.data.game===o.Game.Satisfactory),n.xp6(1),n.Q6J("ngIf",null==t.recipeR?null:t.recipeR.cost)}}function cn(e,_){1&e&&(n.TgZ(0,"div",21),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"data.notFound")))}function an(e,_){if(1&e&&(n.ynx(0),n._UZ(1,"p-breadcrumb",1),n.YNc(2,_n,61,46,"ng-container",2),n.YNc(3,cn,3,3,"ng-template",null,3,n.W1O),n.BQk()),2&e){const t=_.ngIf,o=n.MAs(4);n.xp6(1),n.Q6J("home",t.home)("model",t.breadcrumb),n.xp6(1),n.Q6J("ngIf",t.obj)("ngIfElse",o)}}let rn=(()=>{class e extends I.J{constructor(t,o,c,a,l){super(t,o),this.store=c,this.dataRouteSvc=a,this.displaySvc=l,this.vm$=(0,f.a)([this.id$,this.parent$,this.dataRouteSvc.home$,this.store.select(s.lx.IB),this.store.select(s.lx.lW),this.store.select(s.lx.O8)]).pipe((0,T.U)(([r,pn,sn,ln,gn,p])=>({id:r,obj:p.recipeEntities[r],recipeR:p.recipeR[r],category:p.categoryEntities[p.recipeEntities[r]?.category??""],breadcrumb:[pn,{label:p.recipeEntities[r]?.name}],ingredientIds:Object.keys(p.recipeEntities[r]?.in??{}),catalystIds:Object.keys(p.recipeEntities[r]?.catalyst??{}),productIds:Object.keys(p.recipeEntities[r]?.out??{}),recipeSettingsRaw:ln[r],recipeSettings:gn[r],home:sn,data:p}))),this.trueValue=!0,this.Game=C.lA}toggleRecipe(t,o,c){const a=!o.excluded,l=(c.defaults?.excludedRecipeIds??[]).some(r=>r===t);this.setRecipeExcluded(t,a,l)}setRecipeExcluded(t,o,c){this.store.dispatch(new s.lx.aF({id:t,value:o,def:c}))}setRecipeChecked(t,o){this.store.dispatch(new s.lx.dR({id:t,value:o}))}setRecipeCost(t,o){this.store.dispatch(new s.lx.aq({id:t,value:o}))}resetRecipe(t){this.store.dispatch(new s.lx.in(t))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.gz),n.Y36(d.sK),n.Y36(h.yh),n.Y36(v.s),n.Y36(E.G9))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"home","model"],[4,"ngIf","ngIfElse"],["notFound",""],[1,"properties","mb-4"],["colspan","2",1,"text-center"],[1,"lg"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],[3,"ngModel","binary","onChange"],["queryParamsHandling","preserve",3,"routerLink",4,"ngIf"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled","ngModelChange"],[3,"class",4,"ngIf","ngIfElse"],["moduleButton",""],[3,"value","setValue"],[1,"my-5","p-error"]],template:function(t,o){1&t&&(n.YNc(0,an,5,4,"ng-container",0),n.ALo(1,"async")),2&t&&n.Q6J("ngIf",n.lcZ(1,1,o.vm$))},dependencies:[g.ez,g.sg,g.O5,g.Ov,A.o,x.JJ,x.On,O.a,u.rH,b.Hq,R.XZ,q.H,L.l,d.X$,Z.Y,Z.y],changeDetection:0}),e})()}}]);