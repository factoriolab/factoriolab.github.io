import{a as G}from"./chunk-QDRJUJZO.js";import{a as J,b as K,d as X,e as Y}from"./chunk-Z2EVLKY2.js";import{a as ie}from"./chunk-J3TQVKDO.js";import{a as ee,b as te}from"./chunk-E2LCHONE.js";import{b as Z}from"./chunk-CKVNK6TM.js";import"./chunk-JUF2XAGK.js";import{a as Q,b as W}from"./chunk-ZRFPTSRT.js";import{e as U,f as z,h as A}from"./chunk-XMS2QGS2.js";import"./chunk-VUGLQQQX.js";import{f as D,g as N}from"./chunk-DL6SABIV.js";import{t as H}from"./chunk-JR4OZW53.js";import"./chunk-4JHZ4AP3.js";import{$ as E,Ab as c,Ba as f,Bb as I,Ea as m,Ga as w,Ia as B,Ja as C,Jc as O,Ka as L,La as b,Lb as y,Ma as v,Na as h,Nc as q,Oa as n,Pa as o,Qa as u,T as F,Ua as k,Va as R,Wa as r,Wc as T,_ as g,ba as j,eb as _,fb as s,gb as V,oc as P,pb as $,qa as i,za as M,zb as p}from"./chunk-YDUZY7N5.js";import"./chunk-TWZW5B45.js";var ne=(e,l)=>l.id;function ae(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td")(5,"a",9),u(6,"button",10),p(7,"iconSmClass"),o()()()),e&2){let t=r(),a=r();i(2),s(c(3,4,"data.category")),i(3),m("routerLink",a.dataRoute()+"categories/"+t.category),i(),m("label",l.name)("icon",I(7,6,t.category,"category"))}}function oe(e,l){if(e&1&&(n(0,"div")(1,"a",9),u(2,"button",10),p(3,"iconSmClass"),o(),n(4,"span",11),_(5),o()()),e&2){let t=l.$implicit,a=r(2),d=r();i(),m("routerLink",d.dataRoute()+"items/"+t),i(),m("label",d.data().itemEntities[t].name)("icon",c(3,4,t)),i(3),s(a.in[t])}}function le(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,oe,6,6,"div",null,b),o()()),e&2){let t=r(2);i(2),s(c(3,1,"data.ingredients")),i(3),h(t.info().ingredientIds)}}function de(e,l){if(e&1&&(n(0,"div")(1,"a",9),u(2,"button",10),p(3,"iconSmClass"),o(),n(4,"span",11),_(5),o()()),e&2){let t=l.$implicit,a=r(2),d=r();i(),m("routerLink",d.dataRoute()+"items/"+t),i(),m("label",d.data().itemEntities[t].name)("icon",c(3,4,t)),i(3),s(a.catalyst==null?null:a.catalyst[t])}}function re(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,de,6,6,"div",null,b),o()()),e&2){let t=r(2);i(2),s(c(3,1,"data.catalysts")),i(3),h(t.info().catalystIds)}}function pe(e,l){if(e&1&&(n(0,"div")(1,"a",9),u(2,"button",10),p(3,"iconSmClass"),o(),n(4,"span",11),_(5),p(6,"round"),o()()),e&2){let t=l.$implicit,a=r(2),d=r();i(),m("routerLink",d.dataRoute()+"items/"+t),i(),m("label",d.data().itemEntities[t].name)("icon",c(3,4,t)),i(3),s(c(6,6,a.out[t]))}}function ce(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,pe,7,8,"div",null,b),o()()),e&2){let t=r(2);i(2),s(c(3,1,"data.products")),i(3),h(t.info().productIds)}}function me(e,l){if(e&1&&(n(0,"div")(1,"a",9),u(2,"button",10),p(3,"iconSmClass"),o()()),e&2){let t=l.$implicit,a=r(3);i(),m("routerLink",a.dataRoute()+"machines/"+t),i(),m("label",a.data().itemEntities[t].name)("icon",c(3,3,t))}}function _e(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,me,4,5,"div",null,b),o()()),e&2){let t=r();i(2),s(c(3,1,"data.producers")),i(3),h(t.producers)}}function se(e,l){if(e&1&&(n(0,"div")(1,"a",9),u(2,"button",10),p(3,"iconSmClass"),o()()),e&2){let t=l.$implicit,a=r(3);i(),m("routerLink",a.dataRoute()+"locations/"+t),i(),m("label",a.data().locationEntities[t].name)("icon",I(3,3,t,"location"))}}function Ce(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,se,4,6,"div",null,b),o()()),e&2){let t=r();i(2),s(c(3,1,"data.locations")),i(3),h(t.locations)}}function ue(e,l){if(e&1&&(n(0,"div")(1,"a",9),u(2,"button",10),p(3,"iconSmClass"),o()()),e&2){let t=l.$implicit,a=r(3);i(),m("routerLink",a.dataRoute()+"technologies/"+t),i(),m("label",a.data().itemEntities[t].name)("icon",I(3,3,t,"item"))}}function xe(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,ue,4,6,"div",null,b),o()()),e&2){let t=r(2);i(2),s(c(3,1,"data.unlockedBy")),i(3),h(t.unlockedBy())}}function fe(e,l){e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),u(5,"p-checkbox",12),o()()),e&2&&(i(2),s(c(3,4,"data.mining")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function ve(e,l){e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),u(5,"p-checkbox",12),o()()),e&2&&(i(2),s(c(3,4,"data.technology")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function he(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td")(5,"a",9),u(6,"button",10),p(7,"iconSmClass"),o()()()),e&2){let t=r(),a=r();i(2),s(c(3,4,"data.rocketPart")),i(3),m("routerLink",a.dataRoute()+"items/"+t.part),i(),m("label",a.data().itemEntities[t.part].name)("icon",c(7,6,t.part))}}function Se(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),_(5),p(6,"usage"),o()()),e&2){let t=r();i(2),s(c(3,2,"data.energyConsumption")),i(3),s(c(6,4,t.usage))}}function be(e,l){if(e&1&&(n(0,"a",9),u(1,"button",10),p(2,"iconSmClass"),o()),e&2){let t=l,a=r(3);m("routerLink",a.dataRoute()+"machines/"+t),i(),m("label",a.data().itemEntities[t].name)("icon",c(2,3,t))}}function ye(e,l){if(e&1&&(u(0,"i"),p(1,"iconSmClass")),e&2){let t=r();B(c(1,2,t))}}function ge(e,l){if(e&1&&(n(0,"a",9),u(1,"button",10),p(2,"iconSmClass"),o()),e&2){let t=r(),a=r(5);m("routerLink",a.dataRoute()+"modules/"+t),i(),m("label",a.data().itemEntities[t].name)("icon",c(2,3,t))}}function Ee(e,l){e&1&&(n(0,"div"),f(1,ye,2,4,"i",14)(2,ge,3,5,"a",9),o()),e&2&&(i(),C(l==="module"?1:2))}function Re(e,l){if(e&1&&f(0,Ee,3,1,"div"),e&2){let t,a=l.$implicit;C((t=a.id)?0:-1,t)}}function Ie(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,Re,1,1,null,null,ne),o()()),e&2){let t=r();i(2),s(c(3,1,"data.modules")),i(3),h(t.modules)}}function Be(e,l){if(e&1&&(n(0,"a",9),u(1,"button",10),p(2,"iconSmClass"),o()),e&2){let t=r().$implicit,a=r(4);m("routerLink",a.dataRoute()+"beacons/"+t.id),i(),m("label",a.data().itemEntities[t.id].name)("icon",c(2,3,t.id))}}function ke(e,l){if(e&1&&(u(0,"i"),p(1,"iconSmClass")),e&2){let t=r();B(c(1,2,t))}}function Te(e,l){if(e&1&&(n(0,"a",9),u(1,"button",10),p(2,"iconSmClass"),o()),e&2){let t=r(),a=r(6);m("routerLink",a.dataRoute()+"/modules/"+t),i(),m("label",a.data().itemEntities[t].name)("icon",c(2,3,t))}}function Fe(e,l){e&1&&(n(0,"div"),f(1,ke,2,4,"i",14)(2,Te,3,5,"a",9),o()),e&2&&(i(),C(l==="module"?1:2))}function je(e,l){if(e&1&&f(0,Fe,3,1,"div"),e&2){let t,a=l.$implicit;C((t=a.id)?0:-1,t)}}function Me(e,l){if(e&1&&(n(0,"div"),f(1,Be,3,5,"a",9),n(2,"span",11),_(3),o()(),v(4,je,1,1,null,null,ne)),e&2){let t=l.$implicit;i(),C(t.id?1:-1),i(2),s(t.count),i(),h(t.modules)}}function we(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),v(5,Me,6,2,null,null,L),o()()),e&2){let t=r();i(2),s(c(3,1,"data.beacons")),i(3),h(t.beacons)}}function Le(e,l){if(e&1&&(n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td"),_(5),o()()),e&2){let t=r();i(2),s(c(3,2,"data.overclock")),i(3),V("",t.overclock,"%")}}function Ve(e,l){if(e&1){let t=k();n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td")(5,"p-checkbox",13),R("onChange",function(d){g(t);let x=r(2);return E(x.changeExcluded(d.checked))}),o()()(),n(6,"tr")(7,"th"),_(8),p(9,"translate"),o(),n(10,"td")(11,"p-checkbox",13),R("onChange",function(d){g(t);let x=r(2);return E(x.changeChecked(d.checked))}),o()()(),n(12,"tr")(13,"th"),_(14),p(15,"translate"),o(),n(16,"td"),f(17,be,3,5,"a",9),o()(),f(18,Ie,7,3,"tr")(19,we,7,3,"tr")(20,Le,6,4,"tr")}if(e&2){let t,a=l,d=r(2);i(2),s(c(3,11,"data.excluded")),i(3),m("ngModel",d.settings().excludedRecipeIds.has(d.id()))("binary",!0),i(3),s(c(9,13,"data.checked")),i(3),m("ngModel",d.settings().checkedRecipeIds.has(d.id()))("binary",!0),i(3),s(c(15,15,"data.machine")),i(3),C((t=a.machineId)?17:-1,t),i(),C(a.modules!=null&&a.modules.length?18:-1),i(),C(d.data().flags.has("beacons")?19:-1),i(),C(d.data().flags.has("overclock")?20:-1)}}function $e(e,l){if(e&1){let t=k();n(0,"tr")(1,"th"),_(2),p(3,"translate"),o(),n(4,"td")(5,"lab-input-number",15),R("setValue",function(d){g(t);let x=r(2);return E(x.recipesSvc.updateEntityField(x.id(),"cost",d))}),o()()()}e&2&&(i(2),s(c(3,2,"data.cost")),i(3),m("value",l))}function Pe(e,l){if(e&1){let t=k();n(0,"table",1)(1,"tr")(2,"th",3)(3,"h3"),_(4),o()()(),n(5,"tr")(6,"td",3),u(7,"i",4),p(8,"iconClass"),o()(),f(9,ae,8,9,"tr"),n(10,"tr")(11,"th"),_(12),p(13,"translate"),o(),n(14,"td"),_(15),o()(),f(16,le,7,3,"tr")(17,re,7,3,"tr")(18,ce,7,3,"tr")(19,_e,7,3,"tr")(20,Ce,7,3,"tr")(21,xe,7,3,"tr")(22,fe,6,6,"tr")(23,ve,6,6,"tr")(24,he,8,8,"tr")(25,Se,7,6,"tr"),n(26,"tr")(27,"th",5)(28,"div",6),u(29,"button",7),n(30,"h3"),_(31),p(32,"translate"),o(),n(33,"button",8),R("click",function(){g(t);let d=r();return E(d.recipesSvc.resetId(d.id()))}),o()()()(),f(34,Ve,21,17)(35,$e,6,4,"tr"),o()}if(e&2){let t,a,d,x=l,S=r();i(4),s(x.name),i(3),B(I(8,21,S.id(),"recipe")),i(2),C((t=S.info().category)?9:-1,t),i(3),s(c(13,24,"data.time")),i(3),s(x.time),i(),C(S.info().ingredientIds.length?16:-1),i(),C(S.info().catalystIds.length?17:-1),i(),C(S.info().productIds.length?18:-1),i(),C(x.flags.has("hideProducer")?-1:19),i(),C(x.locations?20:-1),i(),C(x.flags.has("locked")?21:-1),i(),C(x.flags.has("mining")?22:-1),i(),C(x.flags.has("technology")?23:-1),i(),C(x.part?24:-1),i(),C(x.usage?25:-1),i(6),s(c(32,26,"data.recipeSettings")),i(2),w("invisible",!S.recipesStateRaw()[S.id()]),i(),C((a=S.recipeSettings())?34:-1,a),i(),C((d=(d=S.recipeR())==null?null:d.cost)?35:-1,d)}}function De(e,l){e&1&&(n(0,"div",2),_(1),p(2,"translate"),o()),e&2&&(i(),s(c(2,1,"data.notFound")))}var dt=(()=>{class e extends ie{constructor(){super(...arguments),this.recipesStateRaw=this.recipesSvc.state,this.recipesState=this.recipesSvc.settings,this.settings=this.settingsSvc.settings,this.rational=O,this.obj=y(()=>this.data().recipeEntities[this.id()]),this.breadcrumb=y(()=>[this.parent()??{},{label:this.obj()?.name}]),this.info=y(()=>{let t=this.id(),a=this.data(),d=a.recipeEntities[t];return{category:a.categoryEntities[q(d?.category,"")],ingredientIds:Object.keys(d?.in??{}),catalystIds:Object.keys(d?.catalyst??{}),productIds:Object.keys(d?.out??{})}}),this.recipeSettings=y(()=>this.recipesState()[this.id()]),this.recipeR=y(()=>this.data().adjustedRecipe[this.id()]),this.unlockedBy=y(()=>{let t=this.id(),a=this.data();return a.technologyIds.filter(d=>a.technologyEntities[d].unlockedRecipes?.includes(t))})}changeExcluded(t){let a=T(this.id(),t,this.settings().excludedRecipeIds);this.settingsSvc.updateField("excludedRecipeIds",a,this.settings().defaultExcludedRecipeIds)}changeChecked(t){let a=T(this.id(),t,this.settings().checkedRecipeIds);this.settingsSvc.apply({checkedRecipeIds:a})}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=j(e)))(d||e)}})()}static{this.\u0275cmp=F({type:e,selectors:[["ng-component"]],standalone:!0,features:[M,$],decls:3,vars:3,consts:[[3,"home","model"],[1,"properties","mb-4"],[1,"my-5","p-error"],["colspan","2",1,"text-center"],[1,"lg"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled"],[3,"onChange","ngModel","binary"],[3,"class"],[3,"setValue","value"]],template:function(a,d){if(a&1&&(u(0,"p-breadcrumb",0),f(1,Pe,36,28,"table",1)(2,De,3,3,"div",2)),a&2){let x;m("home",d.home())("model",d.breadcrumb()),i(),C((x=d.obj())?1:2,x)}},dependencies:[A,U,z,te,ee,P,N,D,K,J,Z,Q,W,G,X,H,Y],encapsulation:2,changeDetection:0})}}return e})();export{dt as RecipeComponent};
